/*!
 * Copyright (c) 2015-2018, NVIDIA CORPORATION.  All rights reserved.       
 *                                                                           
 * NVIDIA CORPORATION and its licensors retain all intellectual property     
 * and proprietary rights in and to this software, related documentation     
 * and any modifications thereto.  Any use, reproduction, disclosure or      
 * distribution of this software and related documentation without an express
 * license agreement from NVIDIA CORPORATION is strictly prohibited.
 */
webpackJsonp([4],[function(e,t,n){"use strict";n(328);var r=n(187);n(327),n(282),n(343),r.ngMainModule.run(["appService",function(e){e.main()}])},,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ngUserProfileModule=void 0;var r=n(1),i=n(53),o=(n(4),angular.module("main.userProfile",[r.ngMainCommonModule.name,i.ngRewardsModule.name,"main.share.common","ngResource","ui.router","pascalprecht.translate","ngSanitize","ngEventAggregator","nvCroppieModule","main.preferences"]));o.constant("SWEEPSTAKE_EVENTS",{TOKENS_ENTERED_CHANGED:"TOKENS_ENTERED_CHANGED"}),o.constant("SWEEPSTAKE_DIALOG_STATES",{GIVEAWAY_DETAILS:"GIVEAWAY_DETAILS",OFFICIAL_RULES:"OFFICIAL_RULES",INFO_NOT_AVAILABLE:"INFO_NOT_AVAILABLE",EDIT_STAKES:"EDIT_STAKES",REVIEW_STAKES:"REVIEW_STAKES",OVERLAY_LOADING:"OVERLAY_LOADING",OVERLAY_SUCCESS:"OVERLAY_SUCCESS",OVERLAY_ERROR:"OVERLAY_ERROR"}).constant("ANALYTICS_STATE",{ANALYTICS_PROGRESS:0,ANALYTICS_SUCCESS:1,ANALYTICS_EMPTY_STATE:2,ANALYTICS_ERROR_STATE:3}).constant("PROFILE_EVENTS",{BADGES_UPDATED:"main.profile.badgesUpdated",MISSIONS_REFRESHED:"main.profile.missions.refreshed",ACTIVITY_LOG_REFRESHED:"main.profile.activity.log.refreshed",CURRENT_GIVEAWAY_REFRESHED:"main.profile.current.giveaway.refreshed",XP_LEVEL_REFRESHED:"main.profile.xp.level.refreshed",ALL_USER_ACHIEVEMENTS_REFRESHED:"main.profile.achievements.refreshed",GIVEAWAY_ENTRY_DETAILS_REFRESHED:"main.profile.giveaway.entry.details.refreshed"}).constant("IMAGE_UPDATE_STATE",{NOT_CHNAGED:"profile.image.not.changed",AVATAR_UPDATE_STARTED:"profile.avatar.update.started",AVATAR_UPDATE_SUCCESSFULL:"profile.avatar.update.successfull",AVATAR_UPDATE_FAILED:"profile.avatar.update.failed",AVATAR_UPDATE_STALE:"profile.avatar.stale",COVER_UPDATE_STARTED:"profile.cover.update.started",COVER_UPDATE_SUCCESSFULL:"profile.cover.update.successfull",COVER_UPDATE_FAILED:"profile.cover.update.failed",COVER_UPDATE_STALE:"profile.cover.stale"}).constant("MISSION_TYPE",{FEATURED_MISSION:"FEATURED_MISSION",REGULAR_MISSION:"REGULAR_MISSION",TOKEN_MISSION:"TOKEN_MISSION"}).constant("MISSION_CONSTANTS",{TRUE:1,FALSE:0}).constant("LEVELS",{SILVER:1,GOLD:2,TITANIUM:3,MAX_LEVEL:3}),t.ngUserProfileModule=o},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvOverlay=void 0;var r=n(1),i=r.ngMainCommonModule.directive("nvOverlay",[function(){function e(e,t){function n(){t.empty(),t.remove(),t=null}if(e.nvPosition){var r={},i=e.nvPosition.split(" ");angular.forEach(i,function(e){switch(e){case"bottom":r.top="auto",r.bottom=0;break;case"right":r.left="auto"}}),t.css(r)}e.$on("$destroy",n),t.on("$destroy",function(){e.$destroy()})}return{restrict:"E",transclude:!0,scope:{nvPosition:"@"},template:"<ng-transclude flex layout layout-fill></ng-transclude>",link:e}}]);t.nvOverlay=i},,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ngGalleryModule=void 0;var r=n(10),i=angular.module("main.gallery",["main.common",r.ngUpdatesModule.name]);i.constant("GAME_FILE_TYPE",{IMAGE:"screenshot",VIDEO:"video"}).constant("SHOWCASE_ORIGIN",{YOUTUBE:"youtube"}),t.ngGalleryModule=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ngGfnModule=void 0;var r=n(24),i=angular.module("main.gfn",["main.common",r.ngMainConstantsModule.name,"ngResource","ngSanitize","ngMaterial","pascalprecht.translate","angular-carousel","ngEventAggregator","ui.router"]);angular.module("main").requires.push("main.gfn"),t.ngGfnModule=i},,,,,,,function(e,t,n){e.exports=n.p+"Game-Controller.png"},,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.nvImageFallback=void 0;var o=n(3),a=i(o),l=n(1);n(15);var s=n(755),c=r(s),u=l.ngMainCommonModule.directive("nvImageFallback",["$log","$compile","$window","$timeout",function(e,t,n,r){return{restrict:"A",link:function(i,o,l){function s(e,t){return n.getComputedStyle(e[0]).getPropertyValue(t)}function u(){E=t(c.default)(i),0!==b&&0!==y&&(E.css("height",b),E.css("width",y)),v?o.addClass("common-image-fallback-hide"):E.addClass("common-image-fallback-hide"),o.after(E)}function d(){E||u(),E.removeClass("common-image-fallback-hide"),E.find("nv-overlay").addClass("common-image-fallback-hide")}function f(){v=!1,r.cancel(S),o.removeClass("common-image-fallback-hide"),E&&(E.remove(),E=null)}function m(){v=!1,r.cancel(S),g.error("The fallback image "+o.attr("src")+" could not be loaded."),d(),h&&(o.off("error",m),o.off("load",f),o.empty(),o.remove(),o=null)}function p(){r.cancel(S),E&&(E.remove(),E=null),o&&(o.off("error",m),o.off("load",f),o.empty(),o.remove(),o=null)}var g=e.getInstance("main.common/nvImageFallback"),v=!0,h=!("nvImageWillChange"in l),b=s(o,"height");b="auto"===b||"0px"===b?0:b;var y=s(o,"width");y="auto"===y||"0px"===y?0:y;var E,S,_=500;"nv-no-loading-indicator"===l.nvImageFallback?v=!1:"nv-we-chat-qr-code"===l.nvImageFallback?(v=!1,l.$set("src","QRCodeOfGFE.png")):"nv-default-game-art"===l.nvImageFallback&&(v=!1,l.$set("src","DefaultGameArt.png")),v&&(S=r(function(){E||u()},_)),a.isUndefined(l.ngSrc)&&(o.addClass("common-image-fallback-hide"),d()),o.on("error",m),o.on("load",f),i.$on("$destroy",p)}}}]);t.nvImageFallback=u},,,,,,function(e,t,n){e.exports=n.p+"nv-custom-icons.eot"},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ngRewardsModule=void 0;var r=n(1),i=n(24),o=n(26),a=angular.module("main.rewards",[r.ngMainCommonModule.name,i.ngMainConstantsModule.name,o.ngTelemetryModule.name,"ngResource","pascalprecht.translate","ngSanitize"]);angular.module("main.rewards").constant("REWARDS_CONSTANTS",{ERROR_ICON:"error",REWARD_ICON:"card_giftcard",OFFLINE_ICON:"cloud_off",UNIFIED_REDEMPTION_ID:"217888212124697514",REWARDS_COUPONS:{CODE_LENGTH:29,CODE_LENGTH_NO_DASHES:24,CODE_DASH_LOCATIONS:{FIRST:4,SECOND:9,THIRD:14,FOURTH:19,FIFTH:24}},VALIDATION_ERRORS:{COUPONS:{NOT_FOUND:"coupons.not_found",REGIONAL_RESTRICTION:"coupons.region_restricted",HARDWARE_RESTRICTION:"coupons.hardware_restricted",NOT_ACTIVATED:"coupons.not_activated",NOT_ACTIVE:"coupons.not_active",EXPIRED:"coupons.expired",DISABLED:"coupons.disabled",REDEEMED:"coupons.already_redeemed",OUT_OF_STOCK:"coupons.out_of_stock",ALREADY_OWNED:"coupons.package_already_owned",PACKAGE_FETCH_FAILURE:"cms.package_fetch_failure",RESTRICTION:"coupons.restriction",AGE_RESTRICTION:"coupons.age_restricted",USER_RESTRICTION:"coupons.user_restricted"},PACKAGES:{MAXIMUM_OWNERSHIP_GENERIC:"packages.maximum_ownership_reached",MAXIMUM_OWNERSHIP_HARDWARE:"packages.maximum_ownership_on_hardware_reached",MAXIMUM_OWNERSHIP_USER:"packages.maximum_ownership_on_user_reached",OUT_OF_STOCK:"packages.out_of_stock",RESTRICTION:"packages.restriction",REGIONAL_RESTRICTION:"packages.region_restricted",HARDWARE_RESTRICTION:"packages.hardware_restricted",CLIENT_MESSAGE_OVERRIDE_GENERIC:"packages.client_message_override",CLIENT_MESSAGE_OVERRIDE_ONE:"packages.client_message_override_one",CLIENT_MESSAGE_OVERRIDE_TWO:"packages.client_message_override_two",CLIENT_MESSAGE_OVERRIDE_THREE:"packages.client_message_override_three",AGE_RESTRICTION:"packages.age_restricted",USER_RESTRICTION:"packages.user_restricted"}},REDEMPTION_STATES:{AVAILABLE:"AVAILABLE",LOCKED:"LOCKED",UNREDEEMED:"UNREDEEMED",UNCLAIMABLE:"UNCLAIMABLE",CLAIMABLE:"CLAIMABLE",REDEEMED:"REDEEMED",REDEEMING:"REDEEMING",EXPIRED:"EXPIRED"},PORTAL_WINDOW_WIDTH:"1000",PORTAL_WINDOW_HEIGHT:"700",MIN_SUPPORTED_DRIVER:417.01,LIMIT_TO_FILTER:{ITEMS_AT_ONCE:5,INTERVAL_LENGTH:100},REWARD_PACKAGE_TYPES:{BUNDLE:"BUNDLE",SWEEPSTAKE:"SWEEPSTAKE",MULTI_SELECT_BUNDLE:"MULTISELECTBUNDLE"}}),angular.module("main.rewards").constant("REWARDS_CAMPAIGN_STATUS",{SUCCESS:"SUCCESS",FAILURE:"FAILURE"}),angular.module("main.rewards").constant("REWARDS_ASSET_DIMENSIONS",{CARD:"360x154",DIALOG_IMAGE:"320x497",LARGE_NOTIFICATION:"456x253",SMALL_NOTIFICATION:"178x100"}),angular.module("main.rewards").constant("REWARDS_ENTITLEMENT_TYPES",{COUPON:"COUPON",AVAILABLE_REWARD:"AVAILABLE_REWARD",REDEEMED_REWARD:"REDEEMED_REWARD"}),angular.module("main.rewards").constant("PORTAL_EVENT_CATEGORIES",{ACCOUNT:"ACCOUNT",TERMS_AND_CONDITIONS:"TnC",PRODUCTS:"PRODUCTS",REDEEM:"REDEEM"}),angular.module("main.rewards").constant("PORTAL_EVENT_TYPES",{INITIALIZE:"INITIALIZE",PROGRESS:"PROGRESS",SUCCESS:"SUCCESS",FAILURE:"FAILURE"}),angular.module("main.rewards").constant("REWARDS_GFWSL_CAMPAIGNS",{ACHIEVEMENTS:"GFE_AFFINITY_GPU_ACHIEVEMENT",SWEEPSTAKES:"GFE_AFFINITY_GPU_SIGN"}),angular.module("main.rewards").constant("REWARDS_EVENTS",{PREPARE_EXTERNAL_PAGE_STATE:"main.rewards.dialogLoading",GET_REDEMPTION_URL_FAILED:"main.rewards.getRedemptionUrlFailed",REDEMPTION_HISTORY:{PORTAL_URL_READY:"main.rewards.redemptionHistory.portalUrlReady",HANDLE_OFFLINE_STATE:"main.rewards.redemptionHistory.handleOfflineState",HANDLE_PROVIDER_SERVICE_FAILED:"main.rewards.redemptionHistory.handleProviderServiceFailed"},FEATURE_STATUS_UPDATED:"main.rewards.featureStatusUpdated",FEATURE_NOT_SUPPORTED:"main.rewards.featureNotSupported",NEW_REWARD_FOUND:"main.rewards.newRewardFound",REWARD_REDEEM_CLICKED:"main.rewards.rewardRedeemClicked",COUPON_INPUT:{CLEAR_CODE:"main.rewards.couponInput.clearCouponCode",INVALIDATE_CODE:"main.rewards.couponInput.invalidateCode",FOCUS:"main.rewards.couponInput.focus",BLUR:"main.rewards.couponInput.blur",SAVE_CARET:"main.rewards.couponInput.saveCaret",RESTORE_CARET:"main.rewards.couponInput.restoreCaret"},BACKEND_REWARDS_FETCHED:"main.rewards.update",REWARDS_UPDATED:"main.rewards.onUpdated",RESET_SCROLL_POSITION:"main.rewards.resetScrollPosition",REWARD_NOTIFICATION_CLICKED:"main.rewards.rewardNotificationClicked"}).constant("REWARDS_SOCKET_EVENTS",{REWARDS_UPDATE_FROM_NODE:"/Rewards/v.1.0/refresh"}),t.ngRewardsModule=a},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){t=e.exports=n(6)(),t.push([e.id,"@font-face{font-weight:400;font-style:normal;font-family:nvCustomIcons;src:url("+n(48)+'#iefix) format("embedded-opentype"),url('+n(48)+"),url("+n(87)+') format("woff"),url('+n(86)+") format(\"truetype\")}.nv-custom-icons{font-family:nvCustomIcons}.icon-NVcheck:before{content:'\\e930'}.icon-battery-charging:before{content:'\\e936'}.icon-account-circle:before{content:'\\e938'}.icon-alert-circle_reg:before{content:'\\e939'}.icon-alert-circle_sm:before{content:'\\e93a'}.icon-notoptimized_reg:before{content:'\\e93b'}.icon-notoptimized_sm:before{content:'\\e93c'}.icon-optimized_reg:before{content:'\\e93e'}.icon-optimized_sm:before{content:'\\e93f'}.icon-play-circle-outline:before{content:'\\e940'}.icon-play-circle:before{content:'\\e941'}.icon-profile_generic:before{content:'\\e942'}.icon-share:before{content:'\\e943'}.icon-onbattery:before{content:'\\e902'}.icon-pluggedin:before{content:'\\e934'}.icon-monitor:before{content:'\\e901'}.icon-GFE-logo_outline_update:before{content:'\\e920'}.icon-quality-high:before{content:'\\e931'}.icon-detailed_view:before{content:'\\e932'}.icon-detailed_view2:before{content:'\\e933'}.icon-guage:before{content:'\\e92f'}.icon-home:before{content:'\\e92d'}.icon-package-down:before{content:'\\e92e'}.icon-notoptimized:before{content:'\\e92c'}.icon-maximize_mode:before{content:'\\e929'}.icon-minimize_mode:before{content:'\\e92a'}.icon-window_mode:before{content:'\\e92b'}.icon-GFE-logo:before{content:'\\e91f'}.icon-folder-browsing:before{content:'\\e91e'}.icon-imgur-logo:before{content:'\\e914'}.icon-youtube-logo:before{content:'\\e90d'}.icon-alert:before{content:'\\e900'}.icon-bell:before{content:'\\e903'}.icon-chevron-down:before{content:'\\e904'}.icon-chevron-up:before{content:'\\e905'}.icon-content-paste:before{content:'\\e906'}.icon-delete:before{content:'\\e907'}.icon-download:before{content:'\\e908'}.icon-eye-off:before{content:'\\e909'}.icon-eye:before{content:'\\e90a'}.icon-file-document:before{content:'\\e90b'}.icon-folder:before{content:'\\e90c'}.icon-google-circles-communities:before{content:'\\e90e'}.icon-heart:before{content:'\\e90f'}.icon-help-circle:before{content:'\\e910'}.icon-menu-down:before{content:'\\e911'}.icon-menu-up:before{content:'\\e912'}.icon-message-text:before{content:'\\e913'}.icon-pause:before{content:'\\e915'}.icon-play:before{content:'\\e916'}.icon-settings:before{content:'\\e917'}.icon-shopping:before{content:'\\e918'}.icon-speedometer:before{content:'\\e919'}.icon-GFE_logo_outline:before{content:'\\e920'}.icon-launch:before{content:'\\e921'}.icon-close:before{content:'\\e922'}.icon-star-circle:before{content:'\\e91a'}.icon-tag:before{content:'\\e91b'}.icon-wrench:before{content:'\\e91c'}.icon-check:before{content:'\\e91d'}.icon-dots-vertical:before{content:'\\e923'}.icon-filter-variant:before{content:'\\e924'}.icon-send-feedback:before{content:'\\e925'}.icon-sort-variant:before{content:'\\e926'}.icon-star:before{content:'\\e927'}.icon-view-module:before{content:'\\e928'}.icon-batteryboost:before{content:'\\e935'}.icon-desktop:before{content:'\\e937'}.icon-gamestream:before{content:'\\e945'}.icon-arrow-left:before{content:'\\e947'}.icon-edit:before{content:'\\e949'}.icon-emptycheckbox:before{content:'\\e94a'}.icon-gpu:before{content:'\\e94d'}.icon-share_camera:before{content:'\\e94e'}.icon-freestyle:before{content:'\\e976'}.icon-memory:before{content:'\\e94f'}.icon-nvlogo:before{content:'\\e951'}.icon-ram:before{content:'\\e952'}.icon-selectcheckbox:before{content:'\\e953'}.icon-shield:before{content:'\\e95b'}.icon-shieldTV:before{content:'\\e95c'}.icon-tablet:before{content:'\\e95d'}.icon-twitch-logo:before{content:'\\e95e'}.icon-VR:before{content:'\\e963'}.icon-rewards:before{content:'\\e93d'}.icon-quiet-mode:before{content:'\\e944'}.icon-controller-generic-single:before{content:'\\e948'}.icon-highlight:before{content:'\\e95f'}.icon-alert-bang:before{content:'\\e950'}.icon-desktop-mac:before{content:'\\e954'}.icon-ethernet:before{content:'\\e955'}.icon-game-controller:before{content:'\\e956'}.icon-game-library:before{content:'\\e957'}.icon-isp:before{content:'\\e958'}.icon-server:before{content:'\\e959'}.icon-wifi:before{content:'\\e95a'}.icon-ranking-gold:before{content:'\\e961'}.icon-ranking-silver:before{content:'\\e962'}.icon-ranking-titanium:before{content:'\\e964'}.icon-ranking-token:before{content:'\\e965'}.icon-ranking-XP:before{content:'\\e966'}.icon-info:before{content:'\\e968'}.icon-level-bg:before{content:'\\e969'}",""])},,,,,function(e,t,n){e.exports=n.p+"nv-custom-icons.ttf"},function(e,t,n){e.exports=n.p+"nv-custom-icons.woff"},,,,,,,,,,function(e,t,n){e.exports=n.p+"toolbar-divider-vertical.png"},,,,,,,,,,,,,,function(e,t,n){var r=n(81);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},,function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.framerateLimiterService=void 0;var i=n(3),o=r(i),a=n(1);n(11),n(176),n(177);var l=a.ngMainCommonModule.service("framerateLimiterService",["$log","framerateLimiterEndpoints","$q","jarvisService","dbCacheService","DB_NAMES","framerateLimiter2Endpoints","COMMON_EVENTS","eventAggregator","BB2_SUPPORT_EVENTS","BB2_STATE_EVENTS","BB2_SOCKET_EVENTS","BB2_SERVICE_EVENTS","socketService",function(e,t,n,r,i,a,l,s,c,u,d,f,m,p){function g(e){return V=e.data,e.data}function v(e){return B=e.data,e.data}function h(){if(o.isNull(P)){V=null;var e=t.support();return P=e.then(g).catch(function(e){return W.error("failed to framerate Limiter support info",e),n.reject(e)})}return P}function b(){if(o.isNull(k)){B=null;var e=t.state();return k=e.then(v).catch(function(e){return W.error("failed to framerate Limiter state info",e),n.reject(e)})}return k}function y(){return V?n.when(V):h()}function E(){return B?n.when(B):b()}function S(e,t){var n,o;B&&(!e&&B.enabled&&(n=r.getLoggedInUser(),n&&(o=i.getCachedUserItem(n.userId,a.VIEW_STORE,a.VIEW_STATE),o.userTabSelectionList=[],o.persist_())),B.enabled=e,B.value=t)}function _(e,r){return t.setState({},{enabled:e,value:r}).then(function(t){return S(e,r),t}).catch(function(e){return W.error("failed framerate Limiter SetState info",e),n.reject(e)})}function w(e){W.info("processBB2SupportInfo response:",e?e.data:"  failed to get response");var t=!1;return(z&&e&&e.data&&z.criteria.overallState!==e.data.criteria.overallState||!z&&e&&e.data)&&(t=!0),z=e.data,t&&c.trigger(u.CHANGED,e.data),e.data}function A(e){W.info("processBB2StateInfo response:",e);var t=!1;return e&&e.data&&$&&e.data.enabled!==$.enabled&&(t=!0),$=e.data,t&&c.trigger(d.CHANGED,e.data),e.data}function T(){if(o.isNull(G)){var e=l.support();return G=e.then(w).catch(function(e){return W.error("failed to framerate Limiter support info for bb2",e),n.reject(e)})}return G}function I(){if(o.isNull(F)){var e=l.state();return F=e.then(A).catch(function(e){return W.error("failed to framerate Limiter state info for bb2",e),n.reject(e)})}return F}function C(){return z?n.when(z):T()}function x(){return $?n.when($):I()}function D(e){var t,n;$&&(!e&&$.enabled&&(t=r.getLoggedInUser(),t&&(n=i.getCachedUserItem(t.userId,a.VIEW_STORE,a.VIEW_STATE),n.userTabSelectionList=[],n.persist_())),$.enabled=e)}function M(e){return l.setState({},{enabled:e}).then(function(t){return D(e),t}).catch(function(e){return W.error("failed framerate Limiter SetState info for bb2",e),n.reject(e)})}function O(){W.info("onLanguageUpdated called"),G=null,F=null,$=null,z=null,T(),I()}function R(){W.info("refresh BB2 state"),G=null,F=null,I(),T()}function N(e){A({data:e})}function L(){c.on(s.LOCALE_CHANGED,O),c.on(s.WINDOW_FOCUS,R),c.on(m.STATE_UPDATE,N),p.register(f.STATE_UPDATE,m.STATE_UPDATE)}var P=null,k=null,G=null,F=null,U=this,V=null,B=null,z=null,$=null,W=e.getInstance("main.common/framerateLimiterService");U.getStateInfo=E,U.getSupportInfo=y,U.setStateInfo=_,U.getBB2StateInfo=x,U.getBB2SupportInfo=C,U.setBB2StateInfo=M,U.initialize=L}]);t.framerateLimiterService=l},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvSelectMenu=void 0;var i=n(1),o=n(767),a=r(o),l=i.ngMainCommonModule.directive("nvSelectMenu",["$mdMenu",function(e){return{restrict:"E",scope:{nvMdIcon:"@",nvLabel:"@",nvPositionMode:"@",nvFiltered:"=",nvCustomIcon:"@"},transclude:!0,template:a.default,link:function(t,n,r){function i(){e.hide()}function o(){a.off("mouseleave",i),a=null,n.empty(),n.remove(),n=null}var a=angular.element(n.find("md-menu-content"));a.on("mouseleave",i),t.$on("$destroy",o),n.on("$destroy",function(){t.$destroy()})}}}]);t.nvSelectMenu=l},,,,,,,function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.rewardsService=void 0;var o=n(27),a=i(o),l=n(12),s=i(l),c=n(53),u=n(3),d=r(u);n(52),n(162),n(13),n(29),n(390),n(23),n(17),n(63),n(297),n(123);var f=n(980),m=i(f),p=n(979),g=i(p),v=c.ngRewardsModule.service("rewardsService",["$log","gfwslEndpoints","$q","REWARDS_CONSTANTS","jarvisService","gfeService","eventAggregator","COMMON_EVENTS","signPayloadService","hardwareService","REWARDS_EVENTS","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","NOTIFICATION_EVENTS","GFECLIENT_CONFIG","socketService","REWARDS_SOCKET_EVENTS","$state","GPU_HARDWARE_SIGNATURE_DEFAULTS","localeService","COMMON_DYNAMIC_REDIRECT","windowSpawnService","NOTIFICATION_CATEGORY","$timeout","gfeSearchService","USER_PROFILE_TAB_NAMES","USER_PROFILE_EVENTS","$window","cevoService","TELEMETRY_AFFINITY_ACTION","TELEMETRY_SCREENS","TELEMETRY_STATUS","TELEMETRY_AFFINITY_ELEMENT","REWARDS_CAMPAIGN_STATUS","REWARDS_ASSET_DIMENSIONS","REWARDS_ENTITLEMENT_TYPES","REWARDS_GFWSL_CAMPAIGNS","$filter",function(e,t,n,r,i,o,l,c,u,f,p,v,h,b,y,E,S,_,w,A,T,I,C,x,D,M,O,R,N,L,P,k,G,F,U,V,B,z){function $(e){ot=e}function W(e){l.trigger(p.REWARD_NOTIFICATION_CLICKED,e)}function H(e){if(e&&0!==e.length){var t=[],n=new Date;d.forEach(e,function(e){var r=e.campaign.rules.end_date?new Date(e.campaign.rules.end_date):new Date(864e13);if(r>n){var i=Le.getFormattedImageUrl(e.campaign.imageLink,U.SMALL_NOTIFICATION),o=Le.getFormattedImageUrl(e.campaign.imageLink,U.LARGE_NOTIFICATION),a={artWork:i,artWorkHighRes:o,callbackData:e.campaign.uuid,callbackFunction:ct,heading:{text:e.campaign.title},description:{text:e.campaign.tagline},firstNotificationHighResolution:!0,type:C.REWARDS};t.push(a)}}),l.trigger(b.REMOVE_NOTIFICATION,nt),nt=t,l.trigger(b.NEW_NOTIFICATION,{notifications:t})}}function j(){Re=i.getLoggedInUser(),ke.userId=Re&&Re.userId}function q(e){e?(j(),Ee()):(Re=void 0,et=null,Pe.overallState=!1,ke={userId:"",delegateToken:""})}function Y(e){Be.debug("got gfwsl sys params",e),Fe.cID=e.cID,Fe.sM=e.sM,Fe.IsB=e.IsB,Fe.dIDa=e.dIDa,Fe.dFma=e.dFma,Fe.osC=e.osC,Fe.osB=e.osB,Fe.is6=e.is6,Fe.GFPV=e.GFPV,Fe.IsQ=e.IsQ,Fe.iLp=e.iLp,Fe.isSLI=e.isSLI,Fe.cSR=e.cSR,Be.info("Telemetry for RDS: ",$e),$e.gx_telemetry.deviceId=v.deviceId,$e.gx_telemetry.gpuDeviceId=e.dIDa,Le.getRewardsSupported()?Ee():Be.info("Rewards not supported due to min driver requirement")}function K(e){Be.debug("got gfwsl locale params",e),Fe.lg=e.lg,Fe.gLg=e.gLg,Le.rewardsFaqUrl=T.BASE_URL+A.getCurrentLocaleWithUnderscore()+"&page="+T.FAQ_REDEEM,et=null,Ee()}function Q(e){Be.debug("got gfwsl consent params",e.uCst),ke.uCst=e.uCst,Ee()}function Z(e){Be.debug("got gfwsl geolocal params",e),Fe.go=e.go,Ee()}function X(){if(Ue.clientVersion&&Ue.driverVersion){var e=u.formatPayloadRequest(Ue);return e?f.getSignedGpuId(e).then(function(e){Be.info("NvAPI returns device info",e.data.deviceInfo);var t=u.formatSignedPayload(e.data);return Ve={chId:t.deviceChipsetId,grId:t.deviceRevision,diCe:t.hashedEcid,eSgn:t.signedPayload,uVsn:t.ucodeVersion},n.when(Ve)}).catch(function(e){return Be.error("ECID call failed, using fallback values"),Ve={chId:w.DEVICE_CHIPSET_ID,grId:w.DEVICE_REVISION,diCe:w.HASHED_ECID,eSgn:w.SIGNED_PAYLOAD,uVsn:w.UCODE_VERSION},n.when(Ve)}):(Be.error("Ecid Request Object got invalid signed payload, using default ECID values"),Ve={chId:w.DEVICE_CHIPSET_ID,grId:w.DEVICE_REVISION,diCe:w.HASHED_ECID,eSgn:w.SIGNED_PAYLOAD,uVsn:w.UCODE_VERSION},n.when(Ve))}return Be.error("ECID validation failed due to improper hardware information"),Ve={chId:w.DEVICE_CHIPSET_ID,grId:w.DEVICE_REVISION,diCe:w.HASHED_ECID,eSgn:w.SIGNED_PAYLOAD,uVsn:w.UCODE_VERSION},n.when(Ve)}function J(e,t){var i=r.UNIFIED_REDEMPTION_ID;e&&(i=y.jarvis.cevoClientId);var o=n.defer();return Ye=o.promise,ne(i).then(function(e){var n=t&&t.vrfyRspPyldDecoded&&t.vrfyRspPyldDecoded.value.SgnGpuIdAlgo?t.vrfyRspPyldDecoded.value.SgnGpuIdAlgo.value:"1";n=parseInt(n),Be.info("Algo is ",n),Ue={signAlgo:n,key:t.ecnon_egpk&&t.ecnon_egpk.value,clientVersion:Fe.gcV,driverVersion:Fe.GFPV},Ue.nonce=t.ecnon_egcv.value.substring(0,16)+e.delegateToken.substring(0,16),X().then(function(){o.resolve()})}).catch(function(e){Be.error("Catch block for jarvis delegate token fetch"),t.overallState=!1,o.reject(e)}),Ye}function ee(e){Pe=angular.merge({},Pe,e)}function te(){return Ke||(Be.debug("Resetting Rewards Session"),Pe.overallState=!1,et=null,Ye=null,qe=Le.initGfwslSession()),qe}function ne(e){return j(),Le.getDelegateToken(e)}function re(){var e="_egcV="+(0,s.default)({_egcV:Fe.gcV,aiD:it});return t.rewards.getRewardsSession({},e).then(function(e){if(se(e))return Pe.ecnon_egcv.value=e.data.html.body.sessionState.nonce.value,ee(e.data.html.body.sessionState),n.when(Pe);var t="Invalid GFWSL response for getRewardsSessionJt";return Be.error(t),n.reject(t)})}function ie(){var e=(0,s.default)({_ecnon_GfV:Pe.ecnon_egcv.value+"~!~"+Fe.gcV,aiD:it,_theSysJson:Fe}),r=Te(e,Pe),i="_ecnon_GfV="+encodeURIComponent(R.btoa(r));return t.rewards.verifyRewardsSession({},i).then(function(e){if(se(e)){var t=e.data.html.body.sessionState,r=t.vrfyRspPyld.value;if(Ie(t,r))return ee(e.data.html.body.sessionState),ee(xe(r)),n.when(Pe);var i="JWS verification failed for vrfyGfeWebSsnJt";return Be.error(i),n.reject(i)}var o="Invalid GFWSL response for verifyRewardsSessionJt";return Be.error(o),n.reject(o)}).catch(function(e){return Be.error("Catch block for vrfyGfeWebSsnJt entered"),Pe.overallState=!1,n.reject(e)})}function oe(){if(Pe&&Pe.overallState&&Pe.gfeEtaExpire&&Pe.gfeEtaExpire.value){var e=new Date,t=new Date(Pe.gfeEtaExpire.value);return e.setSeconds(e.getSeconds()+30),e<t}return!1}function ae(){He||Ke||oe()||te()}function le(e){var t=(0,a.default)({},e);t&&t.type&&t.message&&(d.isEmpty(t.deltas)||d.forEach(t.deltas,function(e,n,r){t.message+=", "+e.error}),v.push(t.type,{couponCode:t.couponCode||"",campaignName:t.campaignName||"",gpuDeviceId:Fe.dIDa&&Fe.dIDa.toString()||"",lcid:parseInt(Fe.lg,10)||0,errorMessage:t.message||""}))}function se(e){return e&&e.data&&e.data.html&&e.data.html.body}function ce(e){var t=se(e)&&e.data.html.body.sessionState&&e.data.html.body.sessionState.errorDetails&&e.data.html.body.sessionState.errorDetails.message||e&&e.data||"";return(0,s.default)(t)}function ue(){var e=(0,s.default)({_vrsCmpgnStsPyldJson:{_ecnon_GfV:Pe.ecnon_egcv.value,aiD:it,_theSysJson:Fe,_thePiJson:{uID:ke.userId,jTK:ke.delegateToken,uCst:ke.uCst},_VrsHashDiceGpuAchJson:Ve,_rdsPt:$e}}),r=Te(e,Pe),i="_ecnon_GfV="+encodeURIComponent(R.btoa(r));return t.rewards.getRedemptionHistory({},i).then(function(e){if(se(e)){var t=e.data.html.body.sessionState,r=e.data.html.body.CampaignStatus;if(Ie(t,r)){ee(e.data.html.body.sessionState);var i=xe(r);return J(!1,Pe).catch(function(e){Be.error("Single use values promise failed after Redemption History"),le({type:ze.REWARDS_REDEMPTION_HISTORY_FETCH_FAILED_LOCAL,message:e&&e.status&&e.status.toString()})}),n.when(i.vrsCampaignStatus.rewards)}var o="JWS verification failed for Redemption History";return Be.error(o),n.reject(o)}var a={data:"Invalid GFWSL response for Redemption History"};return Be.error(a.data),n.reject(a)}).catch(function(e){return Be.error("GFWSL Redemption History call failed"),le({type:ze.REWARDS_REDEMPTION_HISTORY_FETCH_FAILED_GFWSL,message:ce(e)}),te(),n.reject(e)})}function de(e){return e&&e.toUpperCase()||void 0}function fe(e){var t={redeemed:[],available:[],locked:[],expired:[],unknown:[]};return e.forEach(function(e){switch(e.state=de(e.state),e.status=de(e.status),e.campaign.type=de(e.campaign.type),e.status){case r.REDEMPTION_STATES.REDEEMED:t.redeemed.push(e);break;case r.REDEMPTION_STATES.AVAILABLE:t.available.push(e);break;case r.REDEMPTION_STATES.LOCKED:t.locked.push(e);break;case r.REDEMPTION_STATES.EXPIRED:t.expired.push(e);break;default:t.unknown.push(e)}}),t}function me(e){Be.info("rewards socket update from node:",e),"FINISHED"===e.status&&(et=null,Ee())}function pe(e){D.checkSearchAvailability().then(function(t){if(t){var n={},r="l10n.rewards",i=["nvRewardCard","nvRewardsCenter"],o=D.getDirectivel10nTags("nvRewardsCenter");o.push("l10n.checkCouponRetailer"),o.push("l10n.gfeGiveaway"),n["l10n.redeem"]={description:o};var a=[r,"l10n.redeem","l10n.availableTill"];d.forEach(e.available,function(e){n[e.campaign.title]={description:a}}),d.forEach(e.locked,function(e){n[e.campaign.title]={description:a}});var l=[r,"l10n.redeemed","l10n.redeemedOn","l10n.details"];d.forEach(e.redeemed,function(e){n[e.campaign.title]={description:l}}),D.buildStateIndex("main.auth.rewards",n,{ignoredDirectives:i})}})}function ge(e,r,i){var o={};switch(r){case V.COUPON:o={CPN:e};break;case V.AVAILABLE_REWARD:o={cmID:e};break;case V.REDEEMED_REWARD:o={rID:e}}var a=(0,s.default)({_vrsCmpgnRdmPyldJson:{_ecnon_GfV:Pe.ecnon_egcv.value,aiD:it,_theSysJson:Fe,_thePiJson:{uID:ke.userId,jTK:ke.delegateToken,uCst:ke.uCst},_theVrsRwdJson:o,_RdmHashDiceGpuJson:Ve}}),l=Te(a,Pe),c="_ecnon_GfV="+encodeURIComponent(R.btoa(l));return t.rewards.redeemReward({},c).then(function(e){if(se(e)){var t=e.data.html.body.sessionState,r=e.data.html.body.CampaignRedeem;if(Ie(t,r)){ee(e.data.html.body.sessionState),J(!1,Pe);var o=xe(r).vrsCampaignRedeem[0],a=de(o.status);return a===F.FAILURE?(le({type:i.redeemFailureEvent,message:o.error.code,campaignName:o.campaign.uuid}),n.reject(o.error)):n.when(o)}var l="JWS verification failed for Redeem";return Be.error(l),n.reject(l)}var s={data:"Invalid GFWSL response for Redeem"};return Be.error(s.data),n.reject(s)})}function ve(){return tt?n.resolve(tt):(Be.info("reward is enabled"),tt=!0,l.trigger(p.FEATURE_STATUS_UPDATED,tt),n.resolve(tt))}function he(){Be.debug("Waiting on Rewards dependencies onlineState, jarvisUser, minDriverVersion, IP, Locale, Geo",o.onlineState&&o.onlineState.online,!angular.isUndefined(Re),Le.getRewardsSupported(),Fe.lg,Fe.go)}function be(){Re&&He&&!je&&(je=x(function(){j(),Re&&He&&(We.reject("Rewards service init timed out, dependencies unmet"),he(),je=null)},3e4))}function ye(){je&&(x.cancel(je),je=null)}function Ee(){return Be.info("Received event to validate rewards status and session"),Ke?void Be.info("Session refresh already in progress, no action needed"):(j(),be(),void(o.onlineState&&o.onlineState.online&&Re&&Le.getRewardsSupported()&&Fe.lg&&Fe.go?ve().then(function(e){oe()?(Be.info("Valid GFWSL session exists"),et?Be.info("Rewards refresh not required"):(ke.delegateToken||(Be.debug("Jarvis delegate needs update, refreshing single use values"),J(!1,Pe)),Be.info("No cached rewards available, starting fetch"),Le.getRedemptionHistory())):(te(),Le.getRedemptionHistory()),We.resolve()}).catch(function(e){Be.info("Rewards not supported, will not initialize session"),We.reject(e)}).finally(function(){He=null,ye()}):he()))}function Se(e){var r=n.defer();return t.profile.targetGfeAchievements({gfwslParams:{cmID:e}}).then(function(e){if(se(e)){var t=JSON.parse(e.data.html.body.sessionState.overallState);r.resolve(t)}else{var n="Invalid response for GFWSL targetGfeAchievements";Be.error(n),r.reject(n)}}).catch(function(e){r.reject(e)}),r.promise}function _e(){return we().then(function(e){return Ae(e).then(function(e){return J(!0,e).then(function(){return De(e)})})})}function we(){var e="_egcV="+(0,s.default)({_egcV:Fe.gcV,aiD:it});return t.profile.getProfileSession({},e).then(function(e){if(se(e)){var t=e.data.html.body.sessionState;return t.ecnon_egcv=t.nonce,n.when(t)}var r="Invalid GFWSL response for getRewardsSessionJt";return Be.error(r),n.reject(r)})}function Ae(e){var r=(0,s.default)({_ecnon_GfV:e.ecnon_egcv.value+"~!~"+Fe.gcV,aiD:it,_theSysJson:Fe}),i=Te(r,e),o="_ecnon_GfV="+encodeURIComponent(R.btoa(i));return t.profile.verifyProfileSession({},o).then(function(t){if(se(t)){var r=t.data.html.body.sessionState,i=r.vrfyRspPyld.value,o=Ie(r,i);if(o){e=angular.merge({},e,r);var a=xe(i);return n.when(angular.merge({},e,a))}var l="JWS verification failed for vrfyGfeWebSsnJt";return Be.error(l),n.reject(l)}var s="Invalid GFWSL response for vrfyGfeWebSsnJt";return Be.error(s),n.reject(s)}).catch(function(e){return Be.error("Catch block for vrfyGfeWebSsnJt entered"),n.reject(e)})}function Te(e,t){var n=(0,s.default)({typ:"JWT",alg:st}),r={_pyld:e},i=t.ecnon_egcv.value+"."+it;return Le.jwsLib.sign(st,n,r,i)}function Ie(e,t){var n=Ce(t),r=e.ecnon_egcv.value+"."+it;return Le.jwsLib.verify(n,r,[st])}function Ce(e){return R.atob(decodeURIComponent(e))}function xe(e){var t=Le.jwsLib.parse(Ce(e)),n=JSON.parse(t.payloadPP);return JSON.parse(n)}function De(e){var r=(0,s.default)({_tgrGpuAchPyldJson:{_ecnon_GfV:e.ecnon_egcv.value,aiD:it,_theSysJson:Fe,_thePiJson:{uID:ke.userId,jTK:ke.delegateToken,uCst:ke.uCst},_TgrHashDiceGpuAchJson:Ve}}),i=Te(r,e),o="_ecnon_GfV="+encodeURIComponent(R.btoa(i));return t.profile.triggerGpuAchievement({},o).catch(function(e){return Be.error("Catch block for triggerGpuAchievementJt entered"),n.reject(e)})}function Me(e){return Se(B.SWEEPSTAKES).then(function(t){
return t?we().then(function(t){return Ae(t).then(function(t){return J(!0,t).then(function(){return Oe(t,e)})})}):n.reject({success:!1,errorMessage:z("translate")("l10n.tokensMinGpu")})})}function Oe(e,r){var i=(0,s.default)({_swpPyldJson:{_ecnon_GfV:e.ecnon_egcv.value,aiD:it,_theSysJson:Fe,_thePiJson:{uID:ke.userId,jTK:ke.delegateToken,uCst:ke.uCst},_theClmSwpJson:{gID:r.id.toString(),gTi:r.title,gTn:r.deltaTokens},_ClmHsahDiceRwdJson:Ve}}),o=Te(i,e),a="_ecnon_GfV="+encodeURIComponent(R.btoa(o));return t.profile.attemptSweepstakeEntry({},a).then(function(e){if(se(e)){var t=e.data.html.body.sessionState,r=e.data.html.body.GfeProfileSweepsEntry;if(Ie(t,r)){var i=xe(r),o=i.cevoGfeProfileSweepsEntry;return o.success?n.when({success:!0,updatedStampMicro:o.updatedStampMicro,tokens:o.tokens,tokenBalance:o.tokenBalance,giveawayTokens:o.giveawayTokens}):n.when({success:!1,errorMessage:o.error,errorDetails:o.errorDetails})}var a={data:"validation failed on GFWSL sweepstake entry endpoint"};return Be.error(a.data),n.reject({success:!1,errorDetails:a.data})}var l={data:"Invalid GFWSL response for sweepstake entry endpoint"};return Be.error(l.data),n.reject({success:!1,errorDetails:l.data})}).catch(function(e){var t={data:"Invalid GFWSL response for sweepstake entry endpoint"};return Be.error("Catch block for trySweepstakeEntryJt entered"),n.reject({success:!1,errorDetails:t.data})})}var Re,Ne,Le=this,Pe={ecnon_egcv:{}},ke={userId:"",delegateToken:"",uCst:["-1","-1","-1"]},Ge=[],Fe={gcV:o.version},Ue={},Ve={},Be=e.getInstance("main.rewards/rewardsService"),ze=h,$e={gx_telemetry:{deviceId:"",sessionId:"",gpuDeviceId:"",clientVer:Fe.gcV},rdsRlm:y.rds.portalRealm},We=null,He=null,je=null,qe=null,Ye=null,Ke=!1,Qe=!1,Ze=null,Xe=null,Je=null,et=null,tt=!1,nt=[],rt=y.userAgent+"/"+o.version,it=null,ot=!1,at=!1,lt=null,st="HS512";Le.jwsLib=m.default.jws.JWS;try{it=g.default.sha256().update(rt).digest("hex")}catch(e){Be.error("Failed to generate md5 hash for gfe user agent",e),it=rt}Le.getFormattedImageUrl=function(e,t){return e+"-"+t+".png"},Le.getRewardsTabSelected=function(){return at||_.is("main.auth.rewards")},Le.setRewardsTabSelected=function(e){at=e};var ct=function(e){ot?l.trigger(O.VIEW_PROFILE_PAGE,{tabName:M.REWARDS_TAB,rewardsPackageId:e,callback:W.bind(null,e)}):"main.auth.rewards"===_.current.name?W(e):_.go("main.auth.rewards",{rewardPackageId:e})};Le.getRedeemRequestData=function(){return{sysInfo:Fe,gfwslInfo:Ge}},Le.getDelegateToken=function(e){return i.getDelegateToken(e).then(function(e){return ke.delegateToken=e.data.delegateToken,n.when(ke)})},Le.initGfwslSession=function(){if(!Ke){var e=n.defer();qe=e.promise,Ke=!0,Pe&&Pe.overallState?(Be.info("Rewards session exists, verifying"),ie().then(function(){J(!1,Pe).then(function(){e.resolve(),Ke=!1}).catch(function(t){Be.error("Single use values promise failed while validating session"),e.reject(t),Ke=!1})}).catch(function(e){Be.error("current rewards session invalid, retrying with new session"),Ke=!1,te()})):(Be.info("Creating a new Session for Rewards"),re().then(function(t){ie().then(function(t){J(!1,Pe).then(function(){e.resolve(),Ke=!1}).catch(function(t){Be.error("Single use values promise failed while creating new session"),e.reject(t),Ke=!1})}).catch(function(t){Be.error("GFWSL verfySession failed for new getSession"),e.reject(t),Ke=!1})}).catch(function(t){Be.error("GFWSL getSession failed"),e.reject(t),Ke=!1}))}return qe},Le.getRedemptionHistory=function(){if(He)return He.then(function(){return Le.getRedemptionHistory()});if(Qe)return Ze;if(et)return n.when(et);Qe=!0;var e=n.defer(),t=n.defer();return Ze=e.promise,Xe=t.promise,Ne=v.startLoad(h.REWARDS_REDEMPTION_HISTORY_FETCH_RESPONSE_TIME),ae(),n.all([qe,Ye,Je,lt]).then(function(){ue().then(function(n){v.endLoad(h.REWARDS_REDEMPTION_HISTORY_FETCH_RESPONSE_TIME,Ne,{couponCode:"",campaignName:"",gpuDeviceId:Fe.dIDa&&Fe.dIDa.toString()||"",lcid:parseInt(Fe.lg,10)||0}),et=fe(n),e.resolve(et),t.resolve(),l.trigger(p.REWARDS_UPDATED,et),H(et.available.filter(function(e){return!e.state||e.state!==r.REDEMPTION_STATES.CLAIMABLE}))}).catch(function(n){Be.error("Failed to get Rewards History from GFWSL"),e.reject(n),t.resolve()}).finally(function(){Qe=!1,Ze=null,Xe=null})}).catch(function(n){Be.error("One or more promises rejected for Redemption History"),e.reject(n),t.resolve(),Qe=!1,Ze=null,Xe=null}),Ze},Le.clearCachedRewards=function(){et=null},Le.initialize=function(){return y.forceDisableFeatures&&y.forceDisableFeatures.rewards?void Be.info("Rewards feature has been force disabled"):(l.on(c.LOGIN_STATUS_CHANGE,q),l.on(c.GFWSL_SYS_PARAMS_UPDATED,Y),l.on(c.GFWSL_LOCALE_PARAMS_UPDATED,K),l.on(c.GFWSL_GEOLOCAL_PARAMS_UPDATED,Z),l.on(c.GFWSL_CONSENT_PARAMS_UPDATED,Q),l.on(c.ONLINE,Ee),l.on(c.USER_PROFILE_STATUS_UPDATED,$),E.register(S.REWARDS_UPDATE_FROM_NODE,p.BACKEND_REWARDS_FETCHED),l.on(p.BACKEND_REWARDS_FETCHED,me),j(),$e.gx_telemetry.sessionId=v.sessionId,We=n.defer(),He=We.promise,void l.on(p.REWARDS_UPDATED,pe))},Le.redeemEntitlement=function(e,t){if(Qe)return Ze.then(function(){return Be.debug("Finished rewards check before calling redeem"),Le.redeemEntitlement(e,t)});var r={responseTimeEvent:"",responseTimePayload:{couponCode:"",campaignName:"",gpuDeviceId:Fe.dIDa&&Fe.dIDa.toString()||"",lcid:parseInt(Fe.lg,10)||0},redeemFailureEvent:"",gfwslFailureEvent:""};return t===V.COUPON?(r.responseTimeEvent=h.REWARDS_REDEEM_CODE_VERIFICATION_RESPONSE_TIME,r.redeemFailureEvent=h.REWARDS_REDEEM_CODE_VERIFICATION_FAILED_RDS,r.gfwslFailureEvent=h.REWARDS_REDEEM_CODE_VERIFICATION_FAILED_GFWSL,r.responseTimePayload.couponCode=e):(r.responseTimeEvent=h.REWARDS_CLAIM_ENTITLEMENT_RESPONSE_TIME,r.redeemFailureEvent=h.REWARDS_CLAIM_ENTITLEMENT_FAILED_RDS,r.gfwslFailureEvent=h.REWARDS_CLAIM_ENTITLEMENT_FAILED_GFWSL),ae(),n.all([He,qe,Ye,Je,lt]).then(function(){var i=v.startLoad(r.responseTimeEvent);return ge(e,t,r).then(function(e){return r.responseTimePayload.campaignName=e.campaign.uuid||"",v.endLoad(r.responseTimeEvent,i,r.responseTimePayload),et=null,n.when(e)})}).catch(function(e){return Be.error("Catch block for Redeem entered"),(!e||e&&!e.type)&&le({type:r.gfwslFailureEvent,message:ce(e),couponCode:r.responseTimePayload.couponCode}),te(),n.reject(e)})},Le.getRewardsSupported=function(){return Fe.GFPV&&parseFloat(Fe.GFPV,10)>r.MIN_SUPPORTED_DRIVER},Le.getRewardsEnabled=function(){return He?He.then(function(){return Le.getRewardsEnabled()}):ve()},Le.openLearnMoreWindow=function(e){v.push(h.REWARDS_LEARN_MORE),e?I.openDefaultBrowser(e):I.openDefaultBrowser(Le.rewardsFaqUrl)},Le.openRedeemUrl=function(){var e=T.BASE_URL+A.getCurrentLocaleWithUnderscore()+"&page="+T.NVIDIA_REDEEM;I.openDefaultBrowser(e)},Le.triggerGpuAchievement=function(){if(Je)return Je;var e=n.defer();Je=e.promise,ae(),n.all([He,qe,Ye,Xe,lt]).then(function(){return Se(B.ACHIEVEMENTS).then(function(t){t?_e().then(function(){var t="GPU achievement trigger success";Be.info(t,"now trigger cevo refresh"),N.refresh(),v.push(h.USER_TRIGGER_GPU_ACHIEVEMENT_SUCCESS,{action:L.UNLOCKED,useCase:G.ACHIEVEMENT,status:k.SUCCESS,currentScreen:P.SCREEN_ACHIEVEMENTS,additionalMessage:t}),te().finally(function(){e.resolve(),Je=null})}).catch(function(t){var n=t&&(0,s.default)(t).substr(0,1024)||"Failed to trigger GPU Achievement";v.push(h.USER_TRIGGER_GPU_ACHIEVEMENT_FAILURE,{action:L.UNLOCKED,useCase:G.ACHIEVEMENT,status:k.FAILURE,currentScreen:P.SCREEN_ACHIEVEMENTS,additionalMessage:n}),te().finally(function(){e.resolve(),Je=null})}):e.resolve()}).catch(function(){e.resolve(),Je=null}),Je})},Le.trySweepstakeEntry=function(e){if(lt)return lt;var t=n.defer();return lt=t.promise,n.all([He,qe,Ye,Xe,Je]).finally(function(){var n=void 0;Me(e).then(function(e){n=e}).catch(function(e){n=e}).finally(function(){t.resolve(n),lt=null,Pe.overallState=!1})}),lt}}]);t.rewardsService=v},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.updatesService=void 0;var o=n(3),a=i(o),l=n(10);n(646),n(117),n(51),n(116),n(138),n(23),n(17),n(625),n(506),n(123);var s=n(194),c=r(s),u=(n(507),l.ngUpdatesModule.service("updatesService",["$log","$filter","TASK_STATUS","updatesInstallerDialogService","INSTALLER_PAGE","eventAggregator","INSTALLER_EVENTS","$q","driversEndpoints","UPDATE_EVENTS","UPDATE_SOCKET_EVENTS","socketService","UPDATE_REFRESH_STATUS","INSTALLER_FORM_EVENT","rollbackService","downloadsEndpoints","DOWNLOAD_PROGRESS_STATUS","DOWNLOAD_SOCKET_EVENTS","installersEndpoints","INSTALLER_SOCKET_EVENTS","hardwareService","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","gfwslDriverInformationService","INSTALLER_ERROR_CODE","COMMON_EVENTS","nodeService","SOCKETIO_EVENTS","PREFETCH_EVENTS","$rootScope","$compile","cefService","$mdDialog","gfeSearchService","gfwslEndpoints","CRD_GFWSL_CAMPAIGNS","gfeService","DRIVERTYPE","CRD_STATE_EVENT",function(e,t,n,r,i,o,l,s,u,d,f,m,p,g,v,h,b,y,E,S,_,w,A,T,I,C,x,D,M,O,R,N,L,P,k,G,F,U,V){function B(e){z(e),e.status===n.TASK_RUNNING?Ge.info("DOWNLOAD_PROGRESS_STATUS - ",e.status,"%Complete",e.percentComplete," tmRem",e.timeRemaining," dwndSpd",e.downloadSpeed," taskId ",e.taskId,"byteDn",e.bytesDone):Ge.info("DOWNLOAD_PROGRESS_STATUS - ",e),e.status===n.TASK_PAUSED_UNABLE_TO_REACH_SERVER||e.status===n.TASK_FAILED_UNABLE_TO_REACH_SERVER||e.status===n.TASK_CHECK_SUM_ERROR||e.status===n.TASK_DISK_WRITE_FAIL||e.status===n.TASK_SIGNATURE_VERIFICATION_FAILS?(o.trigger(b.FAILED,e),e.status===n.TASK_PAUSED_UNABLE_TO_REACH_SERVER||e.status===n.TASK_FAILED_UNABLE_TO_REACH_SERVER?w.push(A.UPDATES_DOWNLOAD_DRIVER_UNABLE_TO_REACH_SERVER):w.push(A.UPDATES_DOWNLOAD_DRIVER_FAILED,e.version)):e.status===n.TASK_COMPLETED&&w.push(A.UPDATES_DOWNLOAD_DRIVER_SUCCESS)}function z(e){if(e)switch(e.status){case n.TASK_PAUSED:case n.TASK_PAUSED_UNABLE_TO_REACH_SERVER:N.taskbarProgress("percentage",Math.round(e.percentComplete)),N.taskbarProgress("pause");break;case n.TASK_RUNNING:case n.TASK_RETRY:e.percentComplete&&N.taskbarProgress("percentage",Math.round(e.percentComplete));break;case n.TASK_FAILED_UNABLE_TO_REACH_SERVER:case n.TASK_CHECK_SUM_ERROR:case n.TASK_DISK_WRITE_FAIL:case n.TASK_SIGNATURE_VERIFICATION_FAILS:case n.TASK_DOWNLOAD_ERROR:case n.TASK_COMPLETED:N.taskbarProgress("complete")}}function $(){Ge.info("onSocketConnect has been called"),we&&we[0]&&we[0].downloadStatus&&we[0].downloadStatus.status===n.TASK_RUNNING?(Ge.info("get download status after re-connect for Updates List"),te(we[0])):Te&&Te.downloadStatus&&Te.downloadStatus.status===n.TASK_RUNNING&&(Ge.info("get download status after re-connect for installed Driver"),te(Te))}function W(){var e;for(e in Ce)Ce[e]()}function H(){Se.scanCompleted=!0,de(),W()}function j(e){if(e===I.NV_INSTALLER_UAC_CANCELED||e===I.NV_PACKAGE_EXTRACTION_UAC_CANCELED)r.cancel();else{var n={form:i.NVIFORM_INSTALL_START_FAILED,method:g.SHOW_FORM,constraintFailText:[],bullets:[],errorCode:e};switch(e){case I.NV_INSTALLER_ALREADY_RUNNING:n.constraintFailText[0]=t("translate")("l10n.otherInstallationRunning");break;case I.NV_EXTRACTION_MEMORY:n.constraintFailText[0]=t("translate")("l10n.insufficientMemory");break;case I.NV_EXTRACTION_NOT_ENOUGH_SPACE_OR_CORRUPT:n.constraintFailText[0]=t("translate")("l10n.extractionErrorHeader"),n.bullets[0]=t("translate")("l10n.extractionErrorNotEnoughSpace"),n.bullets[1]=t("translate")("l10n.extractionErrorCorrupt");break;default:n.constraintFailText[0]=t("translate")("l10n.anErrorOccured")}r.showInstallerForm(n)}}function q(){Ge.info("query installer about last state "),E.start({},{driverLocation:"",isCustom:!1,resumeInstall:!1,fromLastState:!0}).then(function(){Ge.info("got response about about last state ")}).catch(function(e){Ge.error("failed to query last installation state error code:",e.data," status:",e.status," params:",e.config.data,e)})}function Y(){Ge.info("installer and UI are now disconnected")}function K(){Ge.info("Connection error during installation.")}function Q(){Ge.info("unsubScribeDriverInstallationNotification() called"),o.off(l.INSTALL_FORM,ve),o.off(l.INSTALL_CANCEL,Q),o.off(l.INSTALL_DONE,X),o.off(D.CONNECT,q),o.off(D.DISCONNECT,Y),o.off(D.ERROR,K),x.setReconnectionToDefault()}function Z(){Ge.info("subScribeDriverInstallationNotification() called"),o.on(l.INSTALL_FORM,ve),o.on(l.INSTALL_CANCEL,Q),o.on(l.INSTALL_DONE,X),o.on(D.CONNECT,q),o.on(D.DISCONNECT,Y),o.on(D.ERROR,K),x.setReconnectionToInfinity()}function X(){se(),Q()}function J(e,t,n){Z(),r.showInstallationForm(e,t,n),Se.invokeInstallation(e,t,n)}function ee(e){return e.releaseDateTime="",e.downloadURL="",e.name=e.isCRD===U.CRD?t("translate")("l10n.fallbackGeforeceCrdDriverName"):t("translate")("l10n.fallbackGeforceDriverName"),T.getDriverInformation(e.version,e.isCRD).then(function(t){return t&&t.DriverAttributes&&(e.name=t.DriverAttributes.Name,e.releaseDateTime=t.DriverAttributes.ReleaseDateTime,e.downloadURL=t.DriverAttributes.DownloadURL,e.isCRD=t.DriverAttributes.IsCRD||0),e.installDate=v.getInstallDate(e),e}).catch(function(t){return Ge.error("getDriverInformation failed with error: ",t+" for driver version:"+e.version),e})}function te(e){return h.getStatus({version:e.version,url:e.downloadURL}).then(function(t){return e.downloadStatus=t.data,Ge.info("download getStatus for version: ",e.version," ",t),z(t.data),e}).catch(function(t){return Ge.error("download getStatus failed: ",t.data," status: ",t.status),e})}function ne(e){try{return JSON.parse(e)}catch(t){return Ge.error("Json parsing exception for ",e),null}}function re(){if(Me&&Me.content.gfeLoadUrl){var e=Me.content.gfeLoadUrl;e=e.replace(/\\/g,"");var t=e.split("{");if(2!==t.length)return Ge.error("Cannot request for article as gfeloadUrl is incorrect ",Me.content.gfeLoadUrl),s.reject();t[1]="{"+t[1];var n=ne(t[1]);return n?Se.getDriverArticle(t[0],n,Me.content.driverVersion).then(function(e){if(w.push(A.UPDATES_GRD_ARTICLE_SUCCESS),e&&e.data&&e.data.gfcontent){Ge.debug("get driver article returns content");var t={},n=e.data.gfcontent;return t.title=n.title,t.subTitle=n.author_date?n.author_date.by_on_date:null,t.body=n.body,t.style="article-content",t}return Ge.debug("get driver article returns null content"),null}).catch(function(e){return w.push(A.UPDATES_GRD_ARTICLE_FAILURE,e&&e.status&&e.status.toString()||""),s.reject(e)}):(Ge.error("Cannot request for article as gfeloadUrl has incorrect json ",Me.content.gfeLoadUrl),s.reject())}return Ge.error("article url empty for ",Me.content.gfeLoadUrl),s.reject("no article url")}function ie(e,t){if(e&&e.gfeLoadUrl){var n=e.gfeLoadUrl;n=n.replace(/\\/g,"");var r=n.split("{");if(2!==r.length)return Ge.error("Cannot request for article as gfeloadUrl is incorrect ",e.gfeLoadUrl),s.reject();r[1]="{"+r[1];var i=ne(r[1]);i&&Se.getDriverArticle(r[0],i,t).then(function(e){if(e.data&&e.data.gfcontent){var t,n=e.data.gfcontent.body,r=O.$new(),i=R(n)(r),a=i.find("img"),l=i.find("link"),s=[],c=[];for(t=0;t<a.length;t++)s.push(a[t].src);for(t=0;t<l.length;t++)"stylesheet"===l[t].rel&&c.push(l[t].href);c.length>0&&o.trigger(M.PRELOAD_STYLES,c),s.length>0&&o.trigger(M.PREFETCH_RESOURCES,s),i.empty(),i.remove(),i=null,r.$destroy()}})}}function oe(e,t){Se.getDriverInformation(e,t).then(function(t){var n,r,i=[];t&&t.DriverAttributes&&(n=t.DriverAttributes.highlightGfeNg,r=t.DriverAttributes.bannerGfeNg),r&&r.forEach(function(e){i.push(e.image)}),n&&n.tiles&&n.tiles.forEach(function(t){i.push(t.coverImage),ie(t,e)}),i.length&&o.trigger(M.PREFETCH_RESOURCES,i)})}function ae(){return Ae=_.getSystemInfo().then(function(e){if(Ge.info("getSystemInfo() returns installedDriver version ",e.DriverVersion),a.isNull(e)||a.isEmpty(e.DriverVersion))return s.reject("getSystemInfo() return empty installed driver version");var t={taskId:0,bytesDone:0,totalBytes:0,status:-1,timeRemaining:0,downloadSpeed:0,downloadedLocation:""};return Te={version:e.DriverVersion,downloadStatus:t,isCRD:e.DriverType?JSON.parse(e.DriverType):U.GRD},Te.installDate=v.getInstallDate(Te),Te}).catch(function(e){return Ge.error("error getting installed driver version:data",e.data," status:",e.status),s.reject(e.data)}).then(ee).then(te).finally(function(){Ae=void 0}),Ae.then(function(e){oe(e.version,e.isCRD)}),Ae}function le(e){var t,n=[];return angular.forEach(e,function(e){var r={},i={taskId:0,bytesDone:0,totalBytes:0,status:-1,timeRemaining:0,downloadSpeed:0,downloadedLocation:"",failureCount:0};r.name=e.name,r.version=e.version,r.releaseDateTime=e.releaseDateTime,r.isBeta=e.isBeta,r.downloadStatus=i,r.downloadURL=e.downloadURL,r.isCRD=e.driverType,n.push(r),we=n,t=h.getStatus({version:e.version,url:r.downloadURL}).then(function(e){return r.downloadStatus=e.data,z(r.downloadStatus),we}).catch(function(e){return Ge.error("download getStatus failed: ",e.data," status: ",e.status),we})}),t}function se(){we=void 0,Ie=null,Ae=null,Se.driverInstalled=!0,Te=null,_e=null,de()}function ce(e){Ge.info("sysinfo updated",e);var t=a.isUndefined(e.DriverType)?void 0:JSON.parse(e.DriverType);if(Te&&(e.DriverVersion!==Te.version||t!==Te.isCRD)||!Te&&e.DriverVersion){var n=!Te||t!==Te.isCRD;Ae=null,Te=null,_e=null,we=void 0,Ie=null,he().finally(function(){Se.getInstalledDriver().then(function(e){v.newDriverInstallComplete(e)}),n?Se.checkForUpdates():Se.getUpdateDetails(),o.trigger(d.INSTALLED_DRIVER_UPDATE)})}}function ue(){var e=_.getLaunchTimeSystemInfo().then(function(e){if(Ge.info("getLaunchTimeSystemInfo() returns installedDriver version ",e.DriverVersion),a.isNull(e)||a.isEmpty(e.DriverVersion))return s.reject("getLaunchTimeSystemInfo() return empty installed driver version");var t={taskId:0,bytesDone:0,totalBytes:0,status:-1,timeRemaining:0,downloadSpeed:0,downloadedLocation:""};return Te={version:e.DriverVersion,downloadStatus:t,isCRD:e.DriverType?JSON.parse(e.DriverType):U.GRD}}).catch(function(e){return Ge.error("error init installed driver version:data",e.data," status:",e.status),s.reject(e.data)}).then(ee).then(te);e.then(function(e){oe(e.version,e.isCRD)})}function de(){P.checkSearchAvailability().then(function(e){if(e){var t={},n=[],r=[],i=[],o=P.getDirectivel10nTags("nvUpdatesDriver"),l={},c={};a.forEach(P.getDirectivel10nTags("nvDriverItem"),function(e){i.push(e)}),r.push(Se.getUpdateDetails().then(function(e){c[0]=!0,l[0]=e}).catch(function(){c[0]=!1})),r.push(Se.getInstalledDriver().then(function(e){c[1]=!0,l[1]=e}).catch(function(){c[1]=!1})),s.all(r).then(function(e){if(c[0]&&a.forEach(l[0],function(e){if(e&&e.version&&e.name){Ge.info("Adding docs for driver version "+e.version);var r=e.name,o=a.clone(i);o.push(e.version),t[r]={description:o},n.push(e)}else Ge.error("getUpdateDetails returned empty data or version")}),c[1]){o.push("l10n.currentlyInstalled");var r=l[1];if(r&&r.version&&r.name){Ge.info("Adding docs for driver version "+r.version);var s=r.name,u=a.clone(i);u.push(r.version),t[s]={description:u},n.push(r)}else Ge.error("getInstalledDriver returned empty data or version")}t["l10n.updates"]={description:o},fe(t,n)})}})}function fe(e,t){var n=["l10n.highlights"];a.forEach(P.getDirectivel10nTags("nvHighlightTile"),function(e){n.push(e)});var r=[],i=[];a.each(t,function(e){r.push(Se.getDriverInformation(e.version,e.isCRD).then(function(t){i.push({name:e.name,data:t})}).catch(function(){Ge.error("getDriverInformation failed on ",e.version)}))}),s.all(r).then(function(t){var r=["nvDriverItem","nvHighlightTile","nvUpdatesDriver"];a.each(i,function(t){var r=t.data;r&&r.DriverAttributes&&r.DriverAttributes.highlightGfeNg&&(e[t.name].description.push(r.DriverAttributes.ReleaseNotesAbstract||""),a.forEach(r.DriverAttributes.highlightGfeNg.tiles,function(t){if(t&&t.name){var r=[t.description||""];r.push.apply(r,n),e[t.name]={description:r}}}))}),P.buildStateIndex("main.auth.updates",e,{ignoredDirectives:r})})}function me(){ke=!0}function pe(){ke=!1}function ge(){return k.hasHardwareInfo()?s.when(!0):_.getSystemInfo().then(function(e){return Ge.info("update hardware info"),k.updateHardwareInfo(e),!0})}function ve(e){e.method!==g.SHOW_PROGRESS&&Ge.info("UpdatesService - received event from installer",e),Se.showNextInstallerForm(e)}function he(){return a.isNull(Oe)&&(Oe=u.getDriverTypePreference().then(function(e){if(e&&e.data){Ge.info("getDriverType status:",e),Oe=null;var t=e.data.driverType;return t!==Ne&&(Ne=t,o.trigger(C.DRIVER_PREFERENCE_UPDATED,Ne)),e.data.driverType}return s.reject("getDriverType response is null")}).catch(function(e){return Ge.error("failed to getDriverType",e),Oe=null,s.reject(e)})),Oe}function be(e){return e&&e.data&&e.data.html&&e.data.html.body}function ye(){if(!Le){Le=!0;var e={};e.GFPV=k.getParams().GFPV||"0.00",e.isSLI=k.getParams().isSLI||"0",e.cmID=G.CRD,k.profile.targetGfeAchievements({gfwslParams:e}).then(function(e){var t="",n=!1;if(be(e)&&Array.isArray(e.data.html.body.Achievements)){var r=a.findWhere(e.data.html.body.Achievements,{ID:G.CRD});if(r){var i=JSON.parse(r.overallState);n=!0,Pe=i,o.trigger(V.CRD_STATE_UPDATED,Pe),Ge.info("CRD feature state ",i)}else t="CRD id not found in Achievements"}else t="Invalid response for GFWSL targetGfeAchievements";n||(Ge.error(t),Pe=void 0,o.trigger(V.CRD_STATE_UPDATED,!1))}).catch(function(e){Pe=void 0,o.trigger(V.CRD_STATE_UPDATED,!1)}).finally(function(){Le=!1})}}function Ee(){Ge.info("onRefreshCRDFeatureState begin",ke),ke===!0&&ge().then(function(e){k.getParams().dIDa&&k.getParams().go?(Ge.info("refresh CRD feature capability"),Le=!1,Pe=void 0,ye()):Ge.info("no dIDa or GO params found in hardware info")})}var Se=this;Se.timer=void 0,Se.scanCompleted=!0,Se.manualCheckForUpdate=!1;var _e,we,Ae,Te,Ie,Ce=[],xe=null,De=null,Me={},Oe=null,Re=null,Ne=void 0,Le=!1,Pe=void 0,ke=!0,Ge=e.getInstance("main.updates/updatesService");Se.startDownload=function(e,t,n){return Ge.info("start download for version",e," url ",t,"downloadType",n),h.start({version:e,url:t,downloadType:n})},Se.pauseDownload=function(e){return Ge.info("pause download for taskid",e),h.pause({taskId:e})},Se.resumeDownload=function(e){return Ge.info("resume download for taskid",e),h.resume({taskId:e}).then(function(e){return z(e.data),e})},Se.stopDownload=function(e){return Ge.info("stop download for taskid",e),h.stop({taskId:e}).then(function(e){return N.taskbarProgress("complete"),e})},Se.setUpdatesListener=function(e){Ce.push(e)},Se.removeUpdatesListener=function(e){var t=Ce.indexOf(e);t>-1&&Ce.splice(t,1)},Se.canCheckForUpdate=function(){var e=!0;return Se.scanCompleted&&we&&we.forEach(function(t){t.downloadStatus.status!==n.TASK_PAUSED&&t.downloadStatus.status!==n.TASK_RUNNING&&t.downloadStatus.status!==n.TASK_RETRY||(e=!1)}),e},Se.checkForUpdates=function(e){!e||Se.canCheckForUpdate()?(Se.manualCheckForUpdate=e,Ge.info("driver update scan starting.."),u.refresh().then(function(){}).catch(function(e){Ge.error("UpdateService - start scan failed",e),o.trigger(d.SCAN_FAILED,{})})):Ge.info("driver download is initiated or scan is already in progress..")},Se.showNextInstallerForm=function(e){if(e.method===g.SHOW_FORM)switch(e.form){case i.NVIFORM_INSTALL_INITIAL:case i.NVIFORM_INSTALL_CHECKING:case i.NVIFORM_EULA:case i.NVIFORM_PRE_INSTALL_CHECK:case i.NVIFORM_INSTALL_CHECK_WARNINGS:r.showInstallerForm(e);break;case i.NVIFORM_INSTALL_REMOVE_PROGRESS:r.showInstallerForm(e);break;case i.NVIFORM_INSTALL_PROGRESS:r.showInstallerForm(e);break;case i.NVIFORM_INSTALL_FINISHED:case i.NVIFORM_INSTALL_FINISHED_NO_SUMMARY:w.push(A.UPDATES_INSTALL_DRIVER_SUCCEEDED),r.showInstallerForm(e);break;case i.NVIFORM_INSTALL_FAILED:r.showInstallerForm(e);break;case i.NVIFORM_INSTALL_REBOOT:r.showInstallerForm(e);break;case i.NVIFORM_INSTALL_START_FAILED:j(e.errorCode);break;case i.NVIFORM_INSTALL_CHECK_WAIT:r.showInstallerForm(e);break;case i.NVIPROP_CUSTOM_INSTALL:r.showInstallerForm(e);break;case i.NVIFORM_INSTALL_REMOVE_REBOOT:r.showInstallerForm(e);break;case i.NVIFORM_INSTALL_CHECK_FAILED:r.showInstallerForm(e);break;default:r.showInstallerForm(e)}else r.showInstallerForm(e);return!0},Se.invokeInstallation=function(e,t,n){Ge.info("start installation",e.version,e.name,t,n);var r=n?"":e.downloadStatus.extractedPath?e.downloadStatus.extractedPath:e.downloadStatus.downloadedLocation;E.start({},{driverLocation:r,isCustom:t,resumeInstall:n,isPfw:!e.downloadStatus.extractedPath,pfwLocation:e.downloadStatus.downloadedLocation}).then(function(){Ge.info("successfully start installation ",e.name)}).catch(function(e){Ge.error("failed to start installation error code:",e.data," status:",e.status," params:",e.config.data,e)})},Se.beginInstallation=function(e,t,n){te(e).finally(function(){J(e,t,n)})},Se.showArticle=function(e,t){Me={content:e,driverVersion:t},L.show({controller:"ArticleInformationController",controllerAs:"vm",template:c.default,disableParentScroll:!1,locals:{getArticleCallback:re},bindToController:!0})},Se.getUpdates=function(){return Ge.info("getUpdates called"),_e=u.get().then(function(e){return Ie=e.data,Ge.info("UpdatesService - got update response",Ie),Ie.updates?le(Ie.updates):s.reject("no updates available")}).catch(function(e){return Ge.error("error getting driver updates:data ",e.data," status:",e.status),s.reject(e.data)}).finally(function(){_e=void 0}),_e.then(function(e){e&&e.forEach(function(e){oe(e.version,e.isCRD)})}),_e},Se.getUpdateDetails=function(){return _e?_e:we?s.when(we):Ie?s.reject("no updates available"):(Ge.info("getUpdates called in updatedetails"),Se.getUpdates())},Se.getInstalledDriver=function(){return Ae?Ae:Te?s.when(Te):(Ge.info("getInstalledDriver called"),ae())},Se.initialize=function(){Ge.info("updatesService.intiialize called"),F.onlineState&&(ke=F.onlineState.online),o.on(C.ONLINE,me),o.on(C.OFFLINE,pe),o.on(C.GFWSL_LOCALE_PARAMS_UPDATED,Ee),o.on(C.GFWSL_GEOLOCAL_PARAMS_UPDATED,Ee),o.on(C.GFWSL_SYS_PARAMS_UPDATED,Ee),o.on(D.CONNECT,$),he().finally(function(){ue(),Se.getUpdateDetails(),T.initialize(),o.on(C.SYSTEMINFO_UPDATED,ce),m.register(f.UPDATESCAN_UPDATE,d.SCAN_UPDATE),m.register(y.DOWNLOAD_PROGRESS_STATUS,b.PROGRESS),m.register(S.INSTALLER_SHOW_FORM,l.INSTALL_FORM),m.register(S.INSTALLER_PROGRESS_UPDATE,l.INSTALL_FORM),o.on(C.LOCALE_CHANGED,se),r.unsubScribeDriverInstallationNotificationRegister(Q)})},o.on(l.INSTALL_DONE,se),o.on(d.SCAN_UPDATE,function(e){Ge.info("UpdatesService - got socket event  SCAN_UPDATE - ",e),e===p.STARTED?o.trigger(d.SCAN_STARTED):e===p.FINISHED?(o.trigger(d.SCAN_FINISHED),Se.manualCheckForUpdate=!1):e===p.FAILED&&(o.trigger(d.SCAN_FAILED),Se.manualCheckForUpdate=!1)}),o.on(d.SCAN_STARTED,function(e){Ge.info("UpdatesService - SCAN_STARTED"),xe=Date.now(),Se.scanCompleted=!1}),o.on(d.SCAN_FINISHED,function(e){De=Date.now(),Ge.info("Time taken to scan updates(ms):",De-xe),Ge.info("UpdatesService - SCAN_FINISHED"),we=void 0,Ie=null,Se.getUpdates(),H()}),o.on(d.SCAN_FAILED,function(e){Ge.error("UpdatesService - SCAN_FAILED"),Se.manualCheckForUpdate=!1,we=void 0,Ie=null,w.push(A.UPDATES_CHECK_FOR_DRIVER_UPDATES_FAILED),Se.getUpdates(),H()}),Se.downloadTaskStatusUpdated=function(e){var t=!1,n=null;a.isUndefined(we)||we.forEach(function(n){n.downloadStatus.taskId===e.taskId&&(n.downloadStatus=e,t=!0)}),!t&&Te&&Te.downloadStatus&&Te.downloadStatus.taskId===e.taskId&&(Te.downloadStatus=e,t=!0),t&&B(e),v.getRollbackList().then(function(r){n=a.find(r,function(t){return t&&t.downloadStatus&&t.downloadStatus.taskId===e.taskId}),n&&(n.downloadStatus=e,t||B(e))})},o.on(b.PROGRESS,Se.downloadTaskStatusUpdated),Se.sendResponseToInstaller=function(e){Ge.debug("UpdateService:sendResponseToInstaller - send response to installer ",e),E.changeState({},e).then(function(){Ge.info("UpdateService - successfully sent response to installer")}).catch(function(e){Ge.error("UpdateService - installersEndpoints.changeStatus failed",e)})},Se.setDriverTypePreference=function(e){return a.isNull(Re)||u.setDriverTypePreference.cancel(Re),Re=u.setDriverTypePreference({},{driverType:e}).then(function(t){return Re=null,Ge.info("setDriverType status:",t),Ne=e,Ie=null,we=void 0,o.trigger(C.DRIVER_PREFERENCE_UPDATED,Ne),t.status}).catch(function(e){return Re=null,Ge.error("failed to setDriverType",e),s.reject(e)})},Se.getDriverTypePreference=function(){return a.isUndefined(Ne)?Oe?Oe:he():s.when(Ne)},Se.isCRDFeatureSupported=function(){angular.isDefined(Pe)?(Ge.info("isCRDFeatureSupported returned cached info",Pe),o.trigger(V.CRD_STATE_UPDATED,Pe)):(Ge.info("isCRDFeatureSupported begin"),ye())},Se.serverWarning=!1,Se.getServerWarn=function(){return Se.serverWarning},Se.setServerWarn=function(e){Se.serverWarning=e===!0},Se.getDriverInformation=function(e,t){return T.getDriverInformation(e,t)},Se.getInstallationDriverData=function(e,t){return Se.getDriverTypePreference().then(function(n){return Ge.info("getDriverTypePreference is",n),T.getInstallationDriverData(n,e,t)}).catch(function(n){return Ge.error("getDriverTypePreference failed with error: ",n),T.getInstallationDriverData(U.GRD,e,t)})},r.setSendResponseToInstallerRegister(Se.sendResponseToInstaller),r.setInvokeInstallationCallbackRegister(Se.invokeInstallation),Se.getDriverArticle=T.getArticleInformation}]));t.updatesService=u},,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvNoContentFallback=void 0;var i=n(1),o=n(762),a=r(o),l=i.ngMainCommonModule.component("nvNoContentFallback",{bindings:{nvTip:"@",nvImageSrc:"@"},transclude:!0,template:a.default});t.nvNoContentFallback=l},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.userGamesService=void 0;var i=n(3),o=r(i),a=n(14);n(13),n(47),n(64),n(37),n(123);var l=a.ngGamesModule.service("userGamesService",["eventAggregator","GAME_EVENTS","gamesService","$log","dbCacheService","DB_NAMES","gfeSearchService","COMMON_EVENTS",function(e,t,n,r,i,a,l,s){function c(){return v.debug("updateUserGames"),n.getCachedGames().then(function(e){var t=o.map(e,function(e){return e.id.toString()});v.info("Games count in userGamesSet and newUserGamesSet is: ",p.length," and ",t.length);var n=o.difference(t,p);o.each(n,function(e){m[e]=o.defaults(m[e]||{},{id:e,gameId:parseInt(e),favorite:!1,hidden:!1})}),m.persist_(),p=t}).catch(function(e){v.error("updateUserGames error")}).finally(function(){v.info("trigger usergamesupdated"),u(),g||(m.observe_(e.trigger.bind(null,t.USERGAMES_UPDATED)),g=!0)})}function u(){l.checkSearchAvailability().then(function(e){if(e){var t={},r=f.getUserGames();if(r&&r.length){var i=["l10n.games"];o.forEach(r,function(e){var r=n.getSystemGame(e.gameId);r&&r.displayName&&(t[r.displayName]={description:i,param:e.id})})}l.buildStateIndex("main.auth.home.gamesAndFriends.gameDetails",t,{customStopWords:[]})}})}var d,f=this,m={},p=[],g=!1,v=r.getInstance("main.games/userGamesService");f.getUserGames=function(){return o.map(p,function(e){return o.clone(m[e])})},f.getUserGame=function(e){var t=o.findWhere(f.getUserGames(),{id:e});return t?o.clone(t):(v.error("getUserGame failed",e),{})},f.updateFavoriteHiddenState=function(n,r,i){n&&(m[n]=m[n]||{},m[n].favorite=r,m[n].hidden=i,m.persist_(),e.trigger(t.USERGAME_UPDATED,m[n]))},f.initialize=function(n){v.info("initialize user games"),p=[],m=i.getCachedUserItem(n.userId,a.JARVIS_GFE_STORE,a.JARVIS_GAME_LIST),m.sync_().then(function(){d||(d=!0,e.on(t.GAMELIST_UPDATED,c)),c()}),e.on(s.LOCALE_CHANGED,u)},f.getInitializedOnce=function(){return g}}]);t.userGamesService=l},,,,,,,function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.nvTelemetry=void 0;var i=n(3),o=r(i),a=n(26);n(17);var l=a.ngTelemetryModule.directive("nvTelemetry",["telemetryService",function(e){
return{restrict:"A",priority:1,link:function(t,n,r,i,a){function l(t){if(!t.defaultPrevented){var r=!0;if("nv-inline-dropdown"===c&&n[0].attributes.class.nodeValue.indexOf("open")===-1&&(r=!1,t.preventDefault()),"nv-accordion-pane"===c){if("a"===t.target.tagName.toLowerCase())return;n[0].attributes.class.nodeValue.indexOf("collapsed")!==-1&&(r=!1,t.preventDefault())}r&&(e.push(d.tarconID,d.url,d.eventMetaData),"a"!==c&&t.preventDefault())}}function s(){f(),n.off("click",l),n.remove(),n=null}var c=n[0].tagName.toLowerCase(),u=o.propertyOf(r)("nvTelemetry"),d=u&&"string"==typeof u&&JSON.parse(u),f=r.$observe("nvTelemetry",function(e){d=JSON.parse(e)});n.on("click",l),t.$on("$destroy",s)}}}]);!function(e){angular.forEach(e,function(e){a.ngTelemetryModule.directive(e,["telemetryService",function(e){return{restrict:"E",link:function(e,t,n,r,i){if(!n.hasOwnProperty("nvTelemetry")){var o={};angular.forEach(n,function(e,t){"string"==typeof e&&(o[t]=e)})}}}}])})}(["a","button","img"]),t.nvTelemetry=l},,function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".crimson md-backdrop{background-color:#0e0e0e;opacity:.8}::selection{background:#478b06}.crimson-dialog-container-tall{height:538px}.crimson-dialog{min-width:408px;max-width:528px;max-height:538px;overflow-x:hidden;border-radius:0}.crimson-dialog.honeycomb-tall{min-height:406px;max-height:538px;width:408px;background-image:url("+n(148)+");background-size:100%}.crimson-dialog.honeycomb-tall-max{min-height:406px;max-height:594px;width:408px;background-image:url("+n(146)+");background-size:100%}.crimson-dialog.honeycomb-square{height:467px;width:528px;background-image:url("+n(147)+");background-size:100%}.crimson-dialog.feature-error-dialog{width:480px!important;height:152px!important}.crimson-dialog.feature-error-dialog h1{font-family:Roboto;font-size:12px!important;opacity:.75}.crimson-dialog.feature-error-dialog p{font-family:Roboto-Light;font-size:11px!important;opacity:.45}.common-window .feature-error-dialog .md-primary.md-hue-2.foreground{color:#fff!important}.crimson-dialog.honeycomb-tall-max md-dialog-content{padding-top:0}.crimson-dialog.honeycomb-square md-dialog-content,.crimson-dialog.honeycomb-tall md-dialog-content{padding-top:24px}.crimson-dialog .dialog-service-dialog-contents-title{margin:24px 24px 0;font-size:20px;font-weight:300;color:rgba(255,255,255,.9)}.crimson-dialog .dialog-service-dialog-contents-subtitle h2{margin:8px 0 0 24px;font-size:10px;font-weight:400}.crimson-dialog md-dialog-content .last-dialog-child,.crimson-dialog md-dialog-content ng-form:last-child,.crimson-dialog md-dialog-content:last-child{margin-bottom:0}.crimson-dialog .dialog-service-dialog-contents-subtitle a:link{color:#76b900;text-decoration:none}.crimson-dialog .dialog-service-dialog-contents-subtitle a:hover{color:#76b900;border:1px #76b900;border-bottom-style:dotted}.crimson-dialog .dialog-service-dialog-contents-subtitle a:active{color:rgba(118,185,0,.65);border:1px rgba(118,185,0,.65);border-bottom-style:dotted}.crimson-dialog error-div{height:48px;line-height:48px;margin-top:12px;padding-left:24px;padding-right:24px;font-size:10px;font-weight:400;color:#fff;color:rgba(255,255,255,.6);background-color:#303030}.crimson-dialog error-div span{display:inline-block;vertical-align:middle;line-height:normal}.crimson-dialog md-dialog-content{font-size:12px;font-weight:400;color:#fff;color:rgba(255,255,255,.6);padding:24px;width:initial}.crimson-dialog md-dialog-content p:first-child{margin-top:0}.crimson-dialog .md-actions{padding:0}.crimson-dialog .md-actions button:first-child{margin-right:8px}.crimson-dialog waiting-overlay{position:absolute;background-color:rgba(14,14,14,.7);z-index:5}.crimson-dialog-progress-bar{height:5px;position:absolute;width:100%}.crimson-dialog .dialog-service-dialog-contents-image{width:245px;height:317px}.crimson-dialog .dialog-email-verification{position:absolute;left:0;top:0;padding:24px;height:100%;width:100%;box-sizing:border-box}.crimson-dialog .dialog-email-verification-email{margin-top:136px;margin-bottom:112px}.crimson-dialog .dialog-logo img{margin-top:104px;margin-bottom:12px}.crimson-dialog .dialog-progress md-progress-circular{margin-top:128px;margin-bottom:36px}.common-window .dialog-service-container-size a,.crimson-dialog md-dialog-content[nv-dialog-html] a{color:#76b900;opacity:1;text-decoration:none}.common-window .dialog-service-container-size a:focus::after,.common-window .dialog-service-container-size a:hover,.common-window .dialog-service-container-size a[selected],.crimson-dialog md-dialog-content[nv-dialog-html] a:focus::after,.crimson-dialog md-dialog-content[nv-dialog-html] a:hover,.crimson-dialog md-dialog-content[nv-dialog-html] a[selected]{cursor:pointer;color:#76b900;border-bottom:1px dotted;text-decoration:none}.common-window .dialog-service-container-size a:focus::after,.common-window .dialog-service-container-size a:hover::after,.common-window .dialog-service-container-size a[selected]::after,.crimson-dialog md-dialog-content[nv-dialog-html] a:focus::after,.crimson-dialog md-dialog-content[nv-dialog-html] a:hover::after,.crimson-dialog md-dialog-content[nv-dialog-html] a[selected]::after{color:#fff;opacity:.75;content:'\\e921';padding-right:3px;font-size:11px;padding-left:2px;vertical-align:middle;line-height:11px;display:inline-block;font-family:nvCustomIcons}.crimson .md-datepicker-container .md-datepicker-button,.crimson-dialog md-dialog-content[nv-dialog-html] .expandedInfo .crimson-dialog.article-content .expandedInfo,.crimson-dialog md-dialog-content[nv-dialog-html] .return-to-top,.crimson-dialog md-dialog-content[nv-dialog-html] .toc,.crimson-dialog.article-content .return-to-top,.crimson-dialog.article-content .toc{display:none}.crimson-dialog md-dialog-content[nv-dialog-html],.crimson-dialog md-dialog-content[nv-license-agreement],.crimson-dialog md-dialog-content[nv-open-source-licenses]{margin:24px 0;padding:0 24px}.crimson-dialog.feedback-dialog .dialog-service-dialog-contents-title{font-size:12px;text-transform:uppercase}.crimson-dialog .dialog-service-dialog-contents-title .feature-error-dialog{font-size:12px!important}.common-window .feature-error-dialog md-dialog-content{overflow-y:hidden!important;margin-top:-12px!important}.crimson-dialog.article-content md-dialog-content{overflow-x:hidden;margin:0 0 5px;padding:0}.crimson-dialog.article-content{background-image:none;max-height:80vh;min-height:250px;min-width:678px;max-width:678px;transition:all;transform:translate(0,0) scale(1);animation-delay:0s;transition-delay:0s}.crimson-dialog.article-content .dialog-service-dialog-contents-sub-title{font-size:12px;margin-left:24px;margin-bottom:24px;color:rgba(255,255,255,.45);font-weight:lighter;margin-top:0}.crimson-dialog.article-content .dialog-service-dialog-contents-title{font-size:20px;margin-left:24px;color:rgba(255,255,255,.9);font-weight:300;height:100%;line-height:normal}.crimson-dialog .scroll-overlay-top-gradient{height:30px;margin-left:24px;margin-right:24px;background:linear-gradient(#1c1c1c,rgba(28,28,28,0));top:0}.crimson-dialog .scroll-overlay-bottom-gradient{height:30px;margin-left:24px;margin-right:24px;background:linear-gradient(rgba(28,28,28,0),#1c1c1c);bottom:24px;top:auto}.crimson-dialog .dialog-service-dialog-contents-close-button{float:right}.crimson-dialog .dialog-service-dialog-contents-back-button{float:left}.crimson-dialog .dialog-service-dialog-contents-back-button.md-icon-button,.crimson-dialog .dialog-service-dialog-contents-close-button.md-icon-button{margin-top:10px;margin-right:8px}.crimson-dialog .dialog-service-dialog-contents-back-button md-icon:hover,.crimson-dialog .dialog-service-dialog-contents-close-button md-icon:hover{color:rgba(255,255,255,.9)}.crimson-dialog .dialog-service-dialog-contents-footer{min-height:0}.crimson .md-label{color:#fff;color:rgba(255,255,255,.45)}.crimson md-input-container{position:relative;padding:0;transition:height .25s;min-height:initial}.crimson md-input-container .md-input,.crimson md-input-container md-select{font-size:12px;font-weight:400;text-shadow:none;margin-top:16px;margin-bottom:8px}.crimson md-input-container label{font-size:12px;font-weight:400;text-shadow:none;bottom:inherit}.crimson md-input-container.md-input-focused label:not(.md-no-float),.crimson md-input-container.md-input-has-value label:not(.md-no-float){transform:perspective(1px) translate3d(0,8px,0) scale(.9)}.crimson .md-datepicker-container [ng-message],.crimson md-input-container [data-ng-message],.crimson md-input-container [ng-message],.crimson md-input-container [x-ng-message],.crimson md-input-container data-ng-message,.crimson md-input-container ng-message,.crimsong md-input-container x-ng-message{font-size:11px;padding-top:0}.crimson md-input-container .md-errors-spacer{min-height:0}.crimson md-input-container [ng-message-exp] div,.crimson md-input-container [ng-message] div,.crimson md-input-container [ng-messages] div{color:gray;color:rbga(255,255,255,.45)}.crimson md-input-container.md-default-theme:not(.md-input-invalid).md-input-focused label:not(.md-no-float),.crimson md-input-container:not(.md-input-invalid).md-input-focused label:not(.md-no-float){color:#76b900}.crimson md-input-container.md-default-theme:not(.md-input-invalid).md-input-focused .md-input,.crimson md-input-container:not(.md-input-invalid).md-input-focused .md-input{border-color:#76b900}.crimson .md-datepicker-input-container.md-datepicker-invalid,.crimson .md-default-theme .md-datepicker-input-container.md-datepicker-invalid,.crimson md-input-container.md-input-invalid .md-input{border-color:#b5291c}.crimson md-input-container.md-input-invalid [ng-message-exp] div:not(.md-char-counter),.crimson md-input-container.md-input-invalid [ng-message] div:not(.md-char-counter),.crimson md-input-container.md-input-invalid [ng-messages] div:not(.md-char-counter){color:#b5291c}.crimson md-input-container.md-default-theme.md-input-invalid label,.crimson md-input-container.md-input-invalid label{color:gray;color:rgba(255,255,255,.45)}.crimson md-checkbox{margin-bottom:0}.crimson md-checkbox div{line-height:20px}.crimson .md-datepicker-container{min-height:initial}.crimson md-datepicker{padding-right:0;min-height:32px;margin:16px 0 0}.crimson .md-datepicker-input{font-size:12px;font-weight:400;text-shadow:none;color:#fff;color:rgba(255,255,255,.45)}.crimson .md-datepicker-container .md-datepicker-triangle-button{right:4px}.crimson .md-datepicker-input-container{margin-left:0}.crimson .md-datepicker-container [ng-message],.crimson .md-datepicker-container [ng-messages]{color:#b5291c}.crimson .md-datepicker-container .md-errors-spacer{min-height:0}.crimson-dialog md-input-container+md-input-container{margin-top:12px}.crimson .md-datepicker-container+md-checkbox,.crimson md-input-container+md-checkbox{margin-top:32px}.crimson md-checkbox+.md-datepicker-container{margin-top:20px}.crimson md-checkbox+md-checkbox{margin-top:24px}.crimson .md-button:not(.md-icon-button):not(.md-fab),.crimson md-menu-item>.md-button{font-size:12px;font-weight:500;height:36px;min-width:64px;padding-left:16px;padding-right:16px;border-radius:0}.crimson-dialog .dialog-service-dialog-contents-subtitle{margin:8px 0 0 24px}",""])},,function(e,t,n){e.exports=n.p+"dialogbox-honeycomb-max.png"},function(e,t,n){e.exports=n.p+"dialogbox-honeycomb-square.png"},function(e,t,n){e.exports=n.p+"dialogbox-honeycomb-tall.png"},,,,,,,,,function(e,t,n){var r=n(144);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvBindHtmlCompile=void 0;var r=n(1),i=r.ngMainCommonModule.directive("nvBindHtmlCompile",["$compile",function(e){return{restrict:"A",link:function(t,n,r){var i,o=angular.element("<placeholder></placeholder>");n.append(o),r.$observe("nvBindHtmlCompile",function(n){n&&(i=e(n)(t),o.replaceWith(i),o=i)})}}}]);t.nvBindHtmlCompile=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvFallbackSrc=void 0;var r=n(1),i=r.ngMainCommonModule.directive("nvFallbackSrc",function(){var e={link:function(e,t,n){function r(){n.nvFallbackSrc!=angular.element(this).attr("src")&&angular.element(this).attr("src",n.nvFallbackSrc)}function i(){t.off("error",r)}t.on("error",r),e.$on("$destroy",i)}};return e});t.nvFallbackSrc=i},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvInputDirective=void 0;var r=n(1),i=r.ngMainCommonModule.directive("nvInput",[function(){return{restrict:"A",require:["^^form","ngModel"],compile:function(e){var t=e.attr("name");return e.attr("spellcheck",!1),function(e,n,r,i){var o=i[0],a=i[1];a.$options={updateOn:"blur"},n.bind("focus",function(){o[t].$setUntouched(),e.$digest()})}}}}]);t.nvInputDirective=i},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ngMainModule=void 0;var r=n(24),i=n(1),o=n(9),a=n(14),l=n(10),s=n(4),c=n(53),u=n(26),d=n(190),f=n(8),m=n(136),p=angular.module("main",[r.ngMainConstantsModule.name,i.ngMainCommonModule.name,"main.common.config",o.ngOobeModule.name,a.ngGamesModule.name,l.ngUpdatesModule.name,s.ngPreferencesModule.name,c.ngRewardsModule.name,u.ngTelemetryModule.name,d.ngSearchModule.name,f.ngUserProfileModule.name,m.ngGfnCloudGamesModule.name,"ngMaterial","ngResource","pascalprecht.translate","ui.router","ui.layout","ngAnimate","bm.uiTour"]);t.ngMainModule=p},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.notificationsService=void 0;var i=n(229),o=n(3),a=r(o);n(52),n(23);var l=i.ngNotificationsModule.service("notificationsService",["$log","NOTIFICATION_EVENTS","eventAggregator",function(e,t,n){function r(){n.trigger(t.NEW_NOTIFICATION,{notifications:s}),s=[]}function i(e){s.push.apply(s,e),c&&r()}function o(){c=!0,a.isEmpty(s)||r()}var l=this,s=(e.getInstance("main.notifications/notificationsService"),[]),c=!1;l.initialize=function(){n.on(t.REQUEST_NOTIFICATION,i),n.on(t.VIEWSTATE_INITIALIZED,o)}}]);t.notificationsService=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeGamesService=void 0;var r=n(9);n(135),n(47);var i=r.ngOobeModule.service("oobeGamesService",["$log","gamesService","userGamesService","jarvisService","eventAggregator","GAME_EVENTS","OOBE_SCAN_STATE","OOBE_EVENTS","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","oobeTelemetryService",function(e,t,n,r,i,o,a,l,s,c,u){function d(){var e=t.getGamesCount();T.info("scan games done",e,w),A=a.FINISHED,i.trigger(l.SCAN_FINISHED,e),b(),s.endLoad(c.OOBE_SCANGAME_DURATION,_),C&&t.handleOobeAutoOptimizeSelection(w)}function f(){T.info("scan games finished"),d()}function m(){T.error("scan games failed"),t.getCachedGames().finally(d)}function p(){var e=t.getGamesCount();T.info("game list updated ",e),i.trigger(l.GAMELIST_UPDATED,e)}function g(e){T.info("scan progress updated ",e),i.trigger(l.SCAN_PROGRESS,e)}function v(){T.debug("register game scan events"),i.on(o.SCAN_FINISHED,f),i.on(o.SCAN_FAILED,m),i.on(o.GAMELIST_UPDATED,p),i.on(o.GAMELIST_CREATED,p),i.on(o.SCAN_PROGRESS,g)}function h(){i.on(l.OOBE_DONE,S)}function b(){T.debug("unregister game scan events"),i.off(o.SCAN_FINISHED,f),i.off(o.SCAN_FAILED,m),i.off(o.GAMELIST_UPDATED,p),i.off(o.GAMELIST_CREATED,p),i.off(o.SCAN_PROGRESS,g)}function y(){i.off(l.OOBE_DONE,S)}function E(){var e;T.info("scanGames - notify ootb started"),t.ootbStarted(),v(),h(),I=!0,t.initialize(!0).then(function(){T.info("scanGames -start local scan"),t.scanLocalGames(!0)}).catch(function(){T.info("scanGames -initialize failed"),m()}),e=r.getLoggedInUser(),n.initialize(e)}function S(){C=!0,A===a.FINISHED&&t.handleOobeAutoOptimizeSelection(w),y()}var _,w,A,T=e.getInstance("main.oobe/oobeGamesService"),I=!1,C=!1,x=this;x.startScan=function(e){_=s.startLoad(c.OOBE_SCANGAME_DURATION),T.info("start OOBE scan",e),A=a.SCANNING,x.setAutoOptimizeGames(e),E()},x.getScanState=function(){return A},x.getGamesCount=function(){return t.getGamesCount()},x.initializeGames=function(e){I?T.info("games already initialized"):(T.info("start initializing games"),I=!0,t.initialize(!1)),n.initialize(e)},x.setAutoOptimizeGames=function(e){u.changeSetting("APPLICATION_SETTING_AUTO_OPTIMIZE_NEW_GAMES",e),w=e}}]);t.oobeGamesService=i},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvAccordionPane=t.nvAccordion=void 0;var r=n(1);n(330);var i=r.ngMainCommonModule.directive("nvAccordion",["ACCORDION_MODES",function(e){return{restrict:"E",transclude:!0,scope:{nvAccordionMode:"@"},template:'<div flex layout="column" ng-transclude></div>',controller:"AccordionController",link:function(t,n,r,i,o){n.attr("layout","column"),r.nvAccordionMode===e.ONLY_ONE?n.addClass("common-accordion-only-one"):r.nvAccordionMode===e.ALWAYS_ONE?n.addClass("common-accordion-always-one"):n.addClass("common-accordion-multiple"),n.addClass("common-accordion")}}}]),o=r.ngMainCommonModule.directive("nvAccordionPane",["$compile",function(e){return{restrict:"E",require:"^nvAccordion",transclude:!0,scope:{nvStartExpanded:"@",nvOnExpand:"&",nvOnExpandOne:"&",nvOnCollapse:"&"},template:'<div ng-transclude flex layout="column"></div>',link:function(t,n,r,i){function o(e){var t,n;for(t in e.path){if(n=angular.element(e.path[t]),n.attr("ng-click"))return;if("nv-accordion-pane-header"===n[0].localName)break}i.onClick(c)}function a(){g(),i.removePane(u),s=null,m=null,p=null,f.off("click",o),f=null,l=null,d.empty(),d.remove(),d=null,c=null,u=null}var l,s,c,u,d=n,f=n.find("nv-accordion-pane-header"),m=n.find("nv-accordion-pane-content");u={onExpand:function(e){e?(d.removeClass("collapsed"),t.nvOnExpand({index:c})):(d.addClass("collapsed"),t.nvOnCollapse({index:c}))},isExpanded:function(){return!d.hasClass("collapsed")}},d.attr("flex",""),d.attr("layout","column"),l=f.wrap("<nv-accordion-pane-header-wrapper></nv-accordion-pane-header-wrapper>"),f.on("click",o);var p=l.append(e('<md-icon md-font-set="material-icons" class="md-18">keyboard_arrow_down</md-icon>')(t));s=m.wrap("<nv-accordion-pane-content-wrapper flex></nv-accordion-pane-content-wrapper"),c=i.addPane(u),u.onExpand("true"===t.nvStartExpanded);var g=r.$observe("nvStartExpanded",function(e){u.onExpand("true"===e)});t.$on("$destroy",a),n.on("$destroy",function(){t.$destroy()})}}}]);t.nvAccordion=i,t.nvAccordionPane=o},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.cevoService=void 0;var i=n(27),o=r(i),a=n(12),l=r(a),s=n(1);n(203);var c=n(239),u=r(c),d=s.ngMainCommonModule.service("cevoService",["$log","$q","$state","eventAggregator","cevoEndpoint","gfeGeolocationService","gfeService","jarvisService","localeService","telemetryService","gamesService","COMMON_EVENTS","DB_NAMES","GFECLIENT_CONFIG","IMAGE_UPDATE_STATE","NOTIFICATION_CATEGORY","NOTIFICATION_EVENTS","PREFETCH_EVENTS","TELEMETRY_AFFINITY_ACTION","TELEMETRY_AFFINITY_API_NAME","TELEMETRY_AFFINITY_ELEMENT","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_ORIGINAL_SERVICE_NAME","USER_PROFILE_EVENTS","PROFILE_EVENTS","MISSION_CONSTANTS","MISSION_TYPE","USER_PROFILE_TAB_NAMES","USER_PROFILE_DIALOG_NAMES","USER_PROFILE_ERRORS","LEVELS","httpTelemetryService",function(e,t,n,r,i,a,s,c,d,f,m,p,g,v,h,b,y,E,S,w,A,T,I,C,x,D,M,O,R,N,L,P){function k(){return{extendedProfile:null,activityLog:null,currentGiveaway:null,userMissions:null,userAchievements:null,giveawayEntryDetails:{},xpLevel:null}}function G(){return{achievements:!1,activityLog:!1,featuredReward:!1,missions:!1,profileStatus:!1}}function F(e,t,n,r){var i="",o=r?r:I.CEVO,a=t&&t.config&&t.config.url?t.config.url:"",c=t&&t.status?t.status:0;t&&t.data&&(t.status<200||t.status>=300)&&(i=(0,l.default)(t.data)),P.sendSdkHttpTelemetry(c>0,s.onlineState.online,v.cevo.server,n,c,a,i,o,e)}function U(e){if(!_.isEmpty(e)&&_.isObject(e)){var t=[],n=null;for(var i in e)try{n=e[i].file.url,t.push(n)}catch(e){re.error("failed to extract asset url for key - "+i,e.message)}t.length&&r.trigger(E.PREFETCH_RESOURCES,t)}}function V(e){return _.isEmpty(e)?void re.info("no notifications to show"):(re.info("showing ",e.length," notification(s)"),void r.trigger(y.REQUEST_NOTIFICATION,e))}function B(e,n,r,i){if(i&&!ne.getFeatureEnabled(i)){re.info("rejecting request for",i);var o=new W(N.REQUEST_REJECTED);return t.reject(o)}if(n)return n.promise;if(r)e=null,n=null;else if(e)return t.resolve(e);return null}function z(e){ue=k(),e?ne.initializeSession():(se=null,ie.token=null,ie.expires=null,oe=!1,Ae={},we=G(),r.off(p.LOGIN_STATUS_CHANGE,z))}function $(e){return e||(se||(se=c.getLoggedInUser()),e=se.userId),e}function W(e,t,n){function r(e){return _.isString(e)?e:(0,l.default)(e)}this.errorType=n||N.API_ERROR,this.error=e,this.details=t||"",this.toString=function(){return this.errorType.concat(",",this.error,",",r(this.details))}}function H(e,t,n){if(e instanceof W)return e;var r="";try{r=e.data.errors}catch(t){re.error("got an exception while getting error",t.message,e)}return new W(t,r,n)}function j(e){return parseInt(e)+ae+_e}function q(e,t,n,r){re.info("notification clicked",e),ne.gotoUserProfile(t,n,void 0,r)}function Y(e){ne.gotoUserProfile(e.tabName,e.dialogParams,e.rewardsPackageId,e.callback)}function K(e){e&&r.trigger(C.OPEN_DIALOG,e)}function Q(e){var t=void 0;try{t=e.assets.notification.file.url}catch(e){t="#",re.error("failed to extract notification image - ",e.message)}return{artWork:t,artWorkHighRes:"#",callbackData:"mission-"+e.id,callbackFunction:function(t){var n={id:e.id,name:R.MISSION_DETAILS_DIALOG};q(t,O.DEFAULT_TAB,n,K.bind(null,n))},clickToRemove:!0,heading:{text:"l10n.missionAvailable"},description:{text:e.name},telemetryDescription:e.name,type:e.missionType===M.FEATURED_MISSION?b.AFFINITY_ANNOUNCEMENT_FEATURED_MISSION:b.AFFINITY_ANNOUNCEMENT_MISSION}}function Z(e){return e.featured===D.TRUE?M.FEATURED_MISSION:e.tokens!=D.FALSE?M.TOKEN_MISSION:M.REGULAR_MISSION}function X(e){var t=void 0;try{t=e.xplevel.assets.notification.file.url}catch(e){t="#",re.error("failed to extract notification image - ",e.message)}return[{artWork:t,artWorkHighRes:"#",callbackData:"level-"+e.xplevel.level,callbackFunction:function(e){q(e,O.REWARDS_TAB)},clickToRemove:!0,heading:{text:"l10n.leveledUpTitle",values:{levelName:e.xplevel.name}},description:{text:"l10n.leveledUpDescription"},telemetryDescription:e.xplevel.name,type:b.PROFILE_LEVEL_UP}]}function J(e){var t=void 0;try{t=e[0].assets.notification.file.url}catch(e){t="#"}return[{artWork:t,artWorkHighRes:"#",callbackData:"giveaway-"+e[0].id,callbackFunction:function(t){var n={id:e[0].id,name:R.SWEEPSTAKES_DIALOG};q(t,void 0,n,K.bind(null,n))},clickToRemove:!0,heading:{text:"l10n.newRewardAvailable"},description:{text:"l10n.newRewardAvailableDescription",values:{rewardName:e[0].title}},telemetryDescription:e[0].title,type:b.AFFINITY_ANNOUNCEMENT_SWEEPSTAKE}]}function ee(e){return _.chain(e).filter(function(e){return e.isUnlocked}).map(function(e){var t=void 0;try{t=e.assets.notification.file.url}catch(e){t="#",re.error("failed to extract notification image - ",e.message)}return{artWork:t,artWorkHighRes:"#",callbackData:"badge-"+e.tag,callbackFunction:function(t){var n={id:e.tag,name:R.BADGES_DIALOG};q(t,void 0,n,K.bind(null,n))},clickToRemove:!0,heading:{text:"l10n.achievementUnlocked",values:{achievementName:e.title}},description:{text:"l10n.achievementUnlockedDescription"},telemetryDescription:e.title,type:b.PROFILE_ACHIEVEMENT_UNLOCKED}}).value()}function te(e){var t=[];e.forEach(function(e){var n={artWork:e.usernotification.assets.notification.file.url,artWorkHighRes:"#",callbackData:"notification-"+e.id,callbackFunction:function(){q(e,O.DEFAULT_TAB),ne.markNotificationRead(e)},clickToRemove:!0,heading:{text:e.usernotification.title},description:{text:e.usernotification.body},telemetryDescription:"notification-"+e.id,type:b.AFFINITY_XP_FOR_SWEEPSTAKE};t.push(n)}),V(t)}var ne=this,re=e.getInstance("main.common/cevoService"),ie={token:null,expires:null},oe=!1,ae=0,le={},se=c.getLoggedInUser(),ce=u.default,ue=k(),de=null,fe=null,me=null,pe=null,ge=null,ve=null,he=null,be={},ye=null,Ee=!1,Se=!1,_e=5e3,we=G(),Ae={};ne.getUserAvatar=function(e){var n=new Date,r=t.defer();return ne.callSessionApi(i.avatar.get,{id:e,locale:d.getCurrentLocale().code}).then(function(e){n=new Date-n,le.avatar=e.data.data.last_modified_stampMicro,e.data.data.avatars.length>0?r.resolve(e.data.data.avatars):r.reject("NOT AVAILABLE"),F(w.GET_AVATAR,e,n)}).catch(function(e){n=new Date-n,re.error("getUserAvatar failed with error",e),"NOT AVAILABLE"!==e&&F(w.GET_AVATAR,e,n),r.reject(e)}),r.promise},ne.saveUserAvatar=function(e,n){var o=new Date,a=t.defer();return r.trigger(h.AVATAR_UPDATE_STARTED),Ee=!0,ne.callSessionApi(i.avatar.upload,{},{user_id:e,locale:d.getCurrentLocale().code,image:n}).then(function(e){o=new Date-o,re.info("saveUserAvatar success!"),le.avatar=e.data.data.last_modified_stampMicro,ne.refresh(),r.trigger(h.AVATAR_UPDATE_SUCCESSFULL),a.resolve(e.data.data.avatar),F(w.UPLOAD_AVATAR,e,o)}).catch(function(e){o=new Date-o,re.error("saveUserAvatar failed with error",e),r.trigger(h.AVATAR_UPDATE_FAILED,{error:e,userId:se.userId}),F(w.UPLOAD_AVATAR,e,o),a.reject(e)}).finally(function(){Ee=!1}),a.promise},ne.getAvatarUploadInProgress=function(){return Ee},ne.saveUserAvatarUrl=function(e,n){var r=new Date,o=t.defer();return ne.callSessionApi(i.avatar.saveUrl,{},{user_id:e,locale:d.getCurrentLocale().code,url:n,height:500,width:500}).then(function(e){r=new Date-r,re.info("saveUserAvatarUrl success!",e),ne.refresh(),o.resolve(e.data.data.avatar),F(w.UPLOAD_AVATAR,e,r)}).catch(function(e){r=new Date-r,re.error("saveUserAvatarUrl failed with error",e),F(w.UPLOAD_AVATAR,e,r),o.reject(e)}),o.promise},ne.getUserCover=function(e){e=$(e);var n=new Date,o=t.defer();return ne.callSessionApi(i.cover.get,{id:e,locale:d.getCurrentLocale().code}).then(function(e){n=new Date-n,le.cover=e.data.data.last_modified_stampMicro,ye=e.data.data.covers,e.data.data.covers.length>0?(r.trigger(E.PREFETCH_RESOURCES,[e.data.data.covers[0].file.url]),o.resolve(e.data.data.covers)):o.reject("NOT AVAILABLE"),F(w.GET_COVER,e,n)}).catch(function(e){re.error("getUserCover failed with error",e),n=new Date-n,"NOT AVAILABLE"!==e&&F(w.GET_COVER,e,n),o.reject(e)}),o.promise},ne.saveUserCover=function(e,n){var o=new Date,a=t.defer();return r.trigger(h.COVER_UPDATE_STARTED),Se=!0,ne.callSessionApi(i.cover.upload,{},{user_id:e,locale:d.getCurrentLocale().code,image:n}).then(function(e){o=new Date-o,re.info("saveUserCover success!"),ye=e.data.data.cover,le.cover=e.data.data.last_modified_stampMicro,ne.refresh(),r.trigger(h.COVER_UPDATE_SUCCESSFULL),a.resolve(e.data.data.cover),F(w.UPLOAD_COVER,e,o)}).catch(function(e){o=new Date-o,re.error("saveUserCover failed with error",e),r.trigger(h.COVER_UPDATE_FAILED,{error:e,userId:se.userId}),F(w.UPLOAD_COVER,e,o),a.reject(e)}).finally(function(){Se=!1}),a.promise},ne.getCoverUploadInProgress=function(){return Se},ne.deleteUserCover=function(e){r.trigger(h.COVER_UPDATE_STARTED);var n=t.defer();if(ye&&ye.length){var o=new Date;ne.callSessionApi(i.cover.remove,{locale:d.getCurrentLocale().code,id:ye[0].id}).then(function(e){o=new Date-o,re.info("cover delete success",e),ne.refresh(),le.cover=e.data.data.last_modified_stampMicro,ye=[],r.trigger(h.COVER_UPDATE_SUCCESSFULL),n.resolve(e),F(w.DELETE_COVER_IMAGE,e,o)}).catch(function(e){o=new Date-o,re.error("cover delete failed",e),r.trigger(h.COVER_UPDATE_FAILED),F(w.DELETE_COVER_IMAGE,e,o),n.reject(e)})}else r.trigger(h.COVER_UPDATE_SUCCESSFULL),n.resolve();return n.promise},ne.getUserImages=function(e){e=$(e);var n=new Date,r=t.defer();return ne.callSessionApi(i.images.get,{id:e,locale:d.getCurrentLocale().code}).then(function(e){n=new Date-n,e.data.data.images.length>0?r.resolve(e.data.data.images):r.reject("NOT AVAILABLE")}).catch(function(e){re.error("getUserImages failed with error",e),n=new Date-n,r.reject(e)}),r.promise},ne.saveUserImage=function(e,n,r){var o=new Date,a=t.defer();return ne.callSessionApi(i.images.upload,{},{user_id:e,locale:d.getCurrentLocale().code,tag:r,image:n}).then(function(e){re.info("saveUserImage success!"),o=new Date-o,a.resolve(e.data.data.image)}).catch(function(e){re.error("saveUserImage failed with error",e),o=new Date-o,a.reject(e)}),a.promise},ne.hasSession=function(){return!!(ie.token&&ie.expires>Date.now())},ne.getUserData=function(e){var n=void 0;switch(e){case g.AVATAR:n=ne.getUserAvatar(se.userId);break;case g.COVER:n=ne.getUserCover(se.userId);break;case g.MY_RIG:n=ne.getUserImages(se.userId);break;default:return re.error("Undefined block key received."),t.reject("Undefined block key received.")}return n.then(function(e){var t={ts:e[0].stampMicro,url:e[0].file.url};return t}).catch(function(e){return{}})},ne.saveUserData=function(e,n){var r=void 0,i=void 0,o=S.UPLOADED;if(0!==n.url.indexOf("http")&&0!==n.url.indexOf("data")&&n.url!=ce)return t.reject("Un-supported data format received.");switch(e){case g.AVATAR:i=A.AVATAR_IMAGE,r=0===n.url.indexOf("http")?ne.saveUserAvatarUrl(se.userId,n.url):ne.saveUserAvatar(se.userId,n.url);break;case g.COVER:n.url===ce?(i=A.COVER_IMAGE,o=S.USE_DEFAULT,r=ne.deleteUserCover(se.userId)):(i=A.COVER_IMAGE,r=ne.saveUserCover(se.userId,n.url));break;case g.MY_RIG:i=A.RIG_IMAGE,r=ne.saveUserImage(se.userId,n.url,g.MY_RIG);break;default:return re.error("Undefined block key received."),t.reject("Undefined block key received.")}return r.then(function(e){var t={};return t=n.url===ce?{ts:e?e.data.data.last_modified_stampMicro:null,url:n.url}:{ts:e[0].stampMicro,url:e[0].file.url},i!==A.RIG_IMAGE&&f.push(T.USER_CUSTOMIZE_PROFILE,{customizedResource:i,action:o,description:t&&t.url||""}),t})},ne.getUserMissions=function(e){var n=B(ue.userMissions,fe,e,"missions");if(n)return n;fe=t.defer();var o=new Date,a=null;return ne.callSessionApi(i.mission.userMission,{id:se.userId,locale:d.getCurrentLocale().code}).then(function(e){o=new Date-o;var t=null,n=[],i={featuredMissions:[],repeatableMissions:[],timelessMissions:[]};le.missions=e.data.data.last_modified_stampMicro;try{e.data.data.missions.forEach(function(e){e.endStampMicro&&(e.endStampAdjusted=j(e.endStampMicro)),e.cta&&e.cta.endStampMicro&&(e.cta.endStampAdjusted=j(e.cta.endStampMicro)),e.cta&&e.cta.startStampMicro&&(e.cta.startStampAdjusted=j(e.cta.startStampMicro)),e.featured=+e.featured,e.tokens=+e.tokens,e.missionType=Z(e),e.missionType===M.FEATURED_MISSION?(i.featuredMissions.push(e),t=Q(e),n.push(t)):e.repeatable==D.TRUE?i.repeatableMissions.push(e):i.timelessMissions.push(e),U(e.assets)}),V(n),ue.userMissions=i,fe.resolve(ue.userMissions),r.trigger(x.MISSIONS_REFRESHED,ue.userMissions),F(w.GET_USER_MISSIONS,e,o)}catch(t){re.error("getUserMissions exception",t.message,e),a=new W(N.MISSIONS_FAILED,t.message,N.API_EXCEPTION),fe.reject(a)}}).catch(function(e){o=new Date-o,F(w.GET_USER_MISSIONS,e,o),a=H(e,N.MISSIONS_FAILED),fe.reject(a)}).finally(function(){fe=null}),fe.promise},ne.getExtendedProfile=function(e){var n=B(ue.extendedProfile,me,e);if(n)return n;me=t.defer();var o=new Date,a=null;return se=c.getLoggedInUser(),ne.callSessionApi(i.profile.getExtended,{id:se.userId,locale:d.getCurrentLocale().code}).then(function(e){o=new Date-o,le.extendedprofile=e.data.data.last_modified_stampMicro;try{if(_.isEmpty(e.data.data.profile))throw{message:"Got empty response"};var t=e.data.data.profile;if(t.xp=+t.xp,t.rewardTokens=+t.rewardTokens,t.xplevel.level=+t.xplevel.level,t.xplevel.lbound=+t.xplevel.lbound,t.xplevel.ubound=+t.xplevel.ubound,t.xplevel.level>1){U(t.xplevel.assets);var n=X(t);V(n)}ue.extendedProfile=t,me.resolve(t),r.trigger(C.EXTENDED_PROFILE_REFRESH,t)}catch(t){re.error("getExtendedProfile exception",t.message,e),a=new W(N.EXTENDED_PROFILE_FAILED,t.message,N.API_EXCEPTION),
me.reject(a)}F(w.GET_EXTENDED_PROFILE,e,o)}).catch(function(e){o=new Date-o,re.error("getExtendedProfile failed with",e),F(w.GET_EXTENDED_PROFILE,e,o),a=H(e,N.EXTENDED_PROFILE_FAILED),me.reject(a)}).finally(function(){me=null}),me.promise},ne.getActivityLog=function(e){var n=B(ue.activityLog,pe,e,"activityLog");if(n)return n;pe=t.defer();var o=new Date;return ne.callSessionApi(i.profile.activityLog,{id:se.userId,locale:d.getCurrentLocale()}).then(function(e){o=new Date-o,le.activitylog=e.data.data.last_modified_stampMicro,ue.activityLog=e,pe.resolve(e),r.trigger(x.ACTIVITY_LOG_REFRESHED,e),F(w.GET_ACTIVITY_LOG,e,o)}).catch(function(e){o=new Date-o,F(w.GET_ACTIVITY_LOG,e,o);var t=H(e,N.ACTIVITY_LOG_FAILED);pe.reject(t)}).finally(function(){pe=null}),pe.promise},ne.getXpLevel=function(e){var n=B(ue.xpLevel,he,e);if(n)return n;var o={locale:d.getCurrentLocale()};he=t.defer();var a=new Date;return ne.callSessionApi(i.profile.xpLevels,o).then(function(e){a=new Date-a,le.xplevel=e.data.data.last_modified_stampMicro,ue.xpLevel=e,he.resolve(e),r.trigger(x.XP_LEVEL_REFRESHED,e),F(w.GET_XP_LEVELS,e,a)}).catch(function(e){a=new Date-a,re.error("getXpLevelError failed with",e),F(w.GET_XP_LEVELS,e,a);var t=H(e,N.XP_LEVELS_FAILED);he.reject(t)}).finally(function(){he=null}),he.promise},ne.getLevelDetails=function(e){var t=null;switch(+e){case L.SILVER:t={name:"l10n.silver",icon:"icon-ranking-silver"};break;case L.GOLD:t={name:"l10n.gold",icon:"icon-ranking-gold"};break;case L.TITANIUM:t={name:"l10n.titanium",icon:"icon-ranking-titanium"}}return t},ne.getCurrentGiveaway=function(e){var n=B(ue.currentGiveaway,ge,e,"featuredReward");if(n)return n;var o=new Date,a=null;return ge=t.defer(),ne.callSessionApi(i.giveaways.current,{locale:d.getCurrentLocale().code}).then(function(e){o=new Date-o,le.giveawaydetails=e.data.data.last_modified_stampMicro;try{if(_.isEmpty(e.data.data.giveaways))throw{errorType:N.CURRENT_GIVEAWAY_EXPIRED,message:"Got empty response"};ue.currentGiveaway=e.data.data.giveaways;var t=j(ue.currentGiveaway[0].drawStampMicro),n=j(ue.currentGiveaway[0].endStampMicro);ue.currentGiveaway[0].drawStampAdjusted=t,ue.currentGiveaway[0].endStampAdjusted=n,U(ue.currentGiveaway[0].assets);var i=J(ue.currentGiveaway);V(i),ge.resolve(ue.currentGiveaway),r.trigger(x.CURRENT_GIVEAWAY_REFRESHED,ue.currentGiveaway)}catch(t){re.error("getCurrentGiveaway exception",t.message,e);var l=t.errorType||N.API_EXCEPTION;a=new W(N.CURRENT_GIVEAWAY_FAILED,t.message,l),ge.reject(a)}F(w.GET_CURRENT_GIVE_AWAY,e,o)}).catch(function(e){o=new Date-o,re.error("getCurrentGiveaway failed with",e),F(w.GET_CURRENT_GIVE_AWAY,e,o),a=H(e,N.CURRENT_GIVEAWAY_FAILED),ge.reject(a)}).finally(function(){ge=null}),ge.promise},ne.getGiveawayEntryDetails=function(e,n){var o=B(ue.giveawayEntryDetails[e],be[e],n,"featuredReward");if(o)return o;var a=new Date,l=null;return be[e]=t.defer(),ne.callSessionApi(i.giveaways.get,{id:se.userId,giveaway_id:e}).then(function(t){a=new Date-a,le.usergiveaway=t.data.data.last_modified_stampMicro;try{if(_.isEmpty(t.data.data[0]))throw{message:"Got empty response"};t.data.data[0].tokens=+t.data.data[0].tokens,ue.giveawayEntryDetails[e]=t.data.data[0],be[e].resolve(t.data.data[0]),r.trigger(x.GIVEAWAY_ENTRY_DETAILS_REFRESHED,t.data.data[0])}catch(n){re.error("getGiveawayEntryDetails exception",n.message,t),l=new W(N.GIVEAWAY_ENTRY_DETAILS_FAILED,n.message,N.API_EXCEPTION),be[e].reject(l)}F(w.GET_GIVEAWAY_ENTRY_DETAILS,t,a)}).catch(function(t){a=new Date-a,re.error("get giveaway entry details failure",t),F(w.GET_GIVEAWAY_ENTRY_DETAILS,t,a),l=H(t,N.GIVEAWAY_ENTRY_DETAILS_FAILED),be[e].reject(l)}).finally(function(){be[e]=null})},ne.addTokensToGiveaway=function(e,t){var n=new Date;return ne.callSessionApi(i.giveaways.addTokens,{},{id:se.userId,giveaway_id:e,tokens:t}).then(function(e){return n=new Date-n,ne.refresh(),F(w.ADD_TOKENS_TO_GIVEAWAY,e,n),e}).catch(function(e){n=new Date-n,F(w.ADD_TOKENS_TO_GIVEAWAY,e,n)})},ne.getCurrentGiveawayId=function(){return ue.currentGiveaway[0].id},ne.getAllUserAchievements=function(e){var n=B(ue.userAchievements,ve,e,"achievements");if(n)return n;ve=t.defer();var o=new Date;return ne.callSessionApi(i.achievements.getAllUserAchievements,{locale:d.getCurrentLocale().code}).then(function(e){le.achievements=e.data.data.last_modified_stampMicro,o=new Date-o;try{var t=ee(e.data.data.achievements);V(t),ue.userAchievements=e.data.data.achievements,r.trigger(x.ALL_USER_ACHIEVEMENTS_REFRESHED,e.data.data.achievements),ve.resolve(e.data.data.achievements)}catch(t){re.error("getAllUserAchievements exception",t.message,e)}F(w.GET_ALL_USER_ACHIEVEMENTS,e,o)}).catch(function(e){o=new Date-o,F(w.GET_ALL_USER_ACHIEVEMENTS,e,o);var t=H(e,N.ACHIEVEMENTS_FAILED);ve.reject(t)}).finally(function(){ve=null}),ve.promise},ne.setBadges=function(e){var n=new Date;return ne.callSessionApi(i.achievements.setBadges,{locale:d.getCurrentLocale().code},{badges:e}).then(function(e){return n=new Date-n,ne.refresh(),F(w.SET_BADGES,e,n),e.data.data.achievements}).catch(function(e){return n=new Date-n,F(w.SET_BADGES,e,n),t.reject(e)})},ne.setAchievementsTitle=function(e){var n=new Date;return ne.callSessionApi(i.achievements.setAchievementsTitle,{locale:d.getCurrentLocale().code},{achievement_id:e}).then(function(e){return n=new Date-n,ne.refresh(),F(w.SET_ACHIEVEMENTS_TITLE,e,n),e.data}).catch(function(e){return n=new Date-n,F(w.SET_ACHIEVEMENTS_TITLE,e,n),t.reject(e)})},ne.getUserNotifications=function(){return ne.callSessionApi(i.notification.get,{locale:d.getCurrentLocale().code}).then(function(e){return re.info("success getting user notification count: ",e.data.data.user_notifications.length),te(e.data.data.user_notifications),e.data.data}).catch(function(e){re.error("failed to get user notification Error: ",e)})},ne.markNotificationRead=function(e){return ne.callSessionApi(i.notification.markRead,{},{id:e.id}).then(function(t){re.info("successfully marked notification as read",e)}).catch(function(e){re.error("failed to mark the notification as read. Error: ",e)})},ne.refresh=function(){var e=new Date;ne.callSessionApi(i.refresh.get).then(function(t){e=new Date-e;var n=t.data.data.stamps;n.avatar&&le.avatar<n.avatar.stampMicro&&r.trigger(h.AVATAR_UPDATE_STALE,{userId:$()}),n.cover&&le.cover<n.cover.stampMicro&&r.trigger(h.COVER_UPDATE_STALE,{userId:$()}),(n.missions&&le.missions<n.missions.stampMicro||n.global_missions&&le.missions<n.global_missions.stampMicro)&&ne.getUserMissions(!0),n.extendedprofile&&le.extendedprofile<n.extendedprofile.stampMicro&&ne.getExtendedProfile(!0),n.activitylog&&le.activitylog<n.activitylog.stampMicro&&ne.getActivityLog(!0),n.global_xplevel&&le.xplevel<n.global_xplevel.stampMicro&&ne.getXpLevel(!0),n.global_giveawaydetails&&le.giveawaydetails<n.global_giveawaydetails.stampMicro?ne.getCurrentGiveaway(!0).then(function(){ne.getGiveawayEntryDetails(ne.getCurrentGiveawayId(),!0)}):n.usergiveaway&&le.usergiveaway<n.usergiveaway.stampMicro&&ne.getGiveawayEntryDetails(ne.getCurrentGiveawayId(),!0),n.achievements&&le.achievements<n.achievements.stampMicro&&ne.getAllUserAchievements(!0),ne.getUserNotifications(),F(w.GET_REFRESH_INFORMATION,t,e)}).catch(function(t){e=new Date-e,F(w.GET_REFRESH_INFORMATION,t,e)})},ne.getFeatureEnabled=function(e){return e in we&&we[e]},ne.gotoUserProfile=function(e,t,i,o){"main.auth.userProfile"!==n.current.name?n.go("main.auth.userProfile",{startWithTab:e||O.DEFAULT_TAB,showDialog:t,rewardPackageId:i}):r.trigger(C.SWITCH_TAB,{destination:e,callback:o})},ne.callSessionApi=function(e,n,r){n=n||{};var i=void 0;return i=ne.hasSession()||!s.onlineState.online&&"GET"===e.config.method?t.resolve():ne.initializeSession(),i.then(function(){return angular.extend(n,{sessionToken:ie.token}),e(n,r)})},ne.initializeSession=function(){var e=null;if(oe===!1)return e=new W(N.SESSION_INIT_FAILED,"user profile is disabled"),t.reject(e);if(!c.hasSession())return e=new W(N.SESSION_INIT_FAILED,"user not logged in"),t.reject(e);if(se=c.getLoggedInUser(),ne.hasSession())return t.resolve(ie);if(_.isNull(de)){de=t.defer();var n=v.jarvis.cevoClientId,r=new Date,l="";c.getDelegateToken(n).then(function(n){r=new Date-r,re.info("Jarvis cevo delegate token successfull");var l=n.data;F(w.GET_JARVIS_DELEGATE_TOKEN_AFFINITY,n,r,I.JARVIS);var c=!1,u={};t.all([m.isAutoOptimizeEnabled(),a.getGeolocation()]).then(function(e){c=e[0],u={countryCode:e[1].countryCode,country:e[1].country,state:e[1].state}}).finally(function(){var t=new Date;i.session.create({delegateToken:l.delegateToken},{metadata:{autooptimize:c,clientversion:s.version,region:u}}).then(function(e){re.info("cevo session initialized successfull",e);var n=(new Date).getTime(),r=e.data.data.stampMicro;return ae=n-r,ae=1e3*Math.round(ae/1e3),t=new Date-t,ie.token=e.data.data.token.token,ie.expires=1e3*e.data.data.token.expires,F(w.CREATE_CEVO_SESSION,e,t),e.data.data.supportValue?(we=(0,o.default)(we,e.data.data.supportValue),re.info("overriding feature toggle on session init:",e.data.data.supportValue)):(we=(0,o.default)(we,Ae),re.info("feature toggles set to ",we)),de.resolve(ie)}).catch(function(n){return t=new Date-t,re.error("failed to initialize cevo session",n),F(w.CREATE_CEVO_SESSION,n,t),e=H(n,N.SESSION_INIT_FAILED),de.reject(e)}).finally(function(){de=null})})}).catch(function(t){r=new Date-r,re.error("failed to get cevo delegateToken",t),F(w.GET_JARVIS_DELEGATE_TOKEN_AFFINITY,t,r,I.JARVIS),l=t&&t.data||"",e=new W(N.SESSION_INIT_FAILED,l),de.reject(e),de=null})}return de.promise},ne.initialize=function(e){oe=!0,Ae=e,r.on(p.LOGIN_STATUS_CHANGE,z),r.on(C.VIEW_PROFILE_PAGE,Y),ne.initializeSession().then(function(){ne.getUserMissions(),ne.getExtendedProfile(),ne.getActivityLog(),ne.getXpLevel(),ne.getCurrentGiveaway().then(function(){ne.getGiveawayEntryDetails(ne.getCurrentGiveawayId())}),ne.getAllUserAchievements(),ne.getUserNotifications()})}}]);t.cevoService=d},,,,,function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.gfeTargetService=void 0;var o=n(12),a=i(o),l=n(27),s=i(l),c=n(3),u=r(c),d=n(45);n(13),n(17),n(204);var f=d.ngMainUtilsModule.service("gfeTargetService",["$log","jarvisService","eventAggregator","COMMON_EVENTS","telemetryService","targetService","GFECLIENT_CONFIG","$q","dbCacheService","DB_NAMES","$filter","SERVICE_HOSTNAMES","HTTP_STATUS_CODES","ADOBE_TARGET_ERROR_MSGS","TELEMETRY_ORIGINAL_SERVICE_NAME","TELEMETRY_ADOBE_TARGET_API_URL","EXPERIENCE_TYPE","VARIANT_TYPE","socketService","AB_HUB_SOCKET_EVENTS","AB_HUB_MESSAGE_TYPES","abHubEndpoints","gfeService","gxTargetEndpoints","httpTelemetryService",function(e,t,n,r,i,o,l,c,d,f,m,p,g,v,h,b,y,E,S,_,w,A,T,I,C){function x(){var e=t.getLoggedInUser();e&&e.userId?(Y.userId=e.userId,B=d.getCachedUserItem(e.userId,f.JARVIS_GFE_STORE,f.USER_AB_STATE)):B=null,$=[],W=null,U.setMboxThirdPartyId(e&&e.userId)}function D(){j=c.defer(),q=j.promise}function M(e){V.info("AB Context updated",e),e.messageType===w.SYNC&&(K=e.experiments,i.syncExperienceControlInfo(K))}function O(e){V.info("Ab Hub client status",H),H=e,H&&(D(),j.resolve())}function R(e){var t=P(K,e),n=c.defer();if(t)n.resolve(t);else{var r=L(B,e),i=L(z,e);c.all([r,i]).then(function(r){var i=r[0],o=r[1];if(i){var a=B.activeExperiments;t=P(a,e)}else if(o){var l=z.activeExperiments;t=P(l,e)}n.resolve(t)})}return n.promise}function N(e){var t=(0,s.default)({},X);t.activity.id=e,k("remove",w.DELETE,t)}function L(e,t){var n=c.defer();return e?e.sync_().then(function(){var r=e.activeExperiments,i=P(r,t);n.resolve(!!i)}).catch(function(){V.error("Failed to sync db while finding experiment"),n.resolve(!1)}):n.resolve(!1),n.promise}function P(e,t){return u.find(e,function(e){return e.activity.id==t})}function k(e,t,n){H||(V.info("AB Hub not ready, checking status"),A.status().then(function(e){V.info("AB Hub Ready status",e),H=!0,j.resolve(H)}).catch(function(e){V.error("AB Hub status API failed",e),j.reject(e)})),q.then(function(){u.isEmpty(Y.userId)&&x();var r={activity:n.activity,variant:n.result};V.info("Going to call ab hub endpoint",e,t,n),A[e]({},{messageType:t,userId:Y.userId,clientName:Y.clientName,clientVer:Y.clientVer,experiments:[r]})}).catch(function(e){V.error("Failed to call Ab hub endpoint",e)})}function G(e,t){C.sendSdkHttpTelemetry(t,T.onlineState.online,p.ADOBE_TARGET,e.duration,e.status,b.GET_VARIANT,e.response,h.ADOBE,e.serviceUseCase)}function F(e,t){var n=u.find($,function(t){return t.activity.id===e});u.isUndefined(n)&&(n=(0,s.default)({},Z),n.activity.id=e,n.activity.name=e,n.result.data=t,n.result.name=e,$.push(n),k("add",w.ADD,n))}var U=this,V=e.getInstance("main.utils/GfeTargetService"),B=null,z=null,$=[],W=null,H=!1,j=null,q=null,Y={userId:"",clientName:l.windowName,clientVer:T.version},K=[],Q={},Z={activity:{id:"",name:"",type:y.BETA},result:{data:{},name:"",type:E.CONTROL,status:!1}},X={activity:{id:"",name:"",type:""},result:{data:{},name:"",type:y.FR,status:!1}};U.initialize=function(){o.setExperimentMbox(l.windowName),x(),n.on(r.LOGIN_STATUS_CHANGE,x),z=d.getCachedGlobalItem(f.GLOBAL_STORE,f.GLOBAL_AB_STATE),Q=l.experienceControlQa||{},o.setQaConfig(Q),D(),S.register(_.AB_CONTEXT_UPDATED,r.AB_CONTEXT_UPDATED),n.on(r.AB_CONTEXT_UPDATED,M),S.register(_.AB_HUB_STATUS_UPDATED,r.AB_HUB_STATUS_UPDATED),n.on(r.AB_HUB_STATUS_UPDATED,O)},U.setMboxThirdPartyId=function(e){var t=e?e:i.deviceId?i.deviceId:i.sessionId;o.setMboxThirdPartyId(t)},U.getVariant=function(e,t){var n=c.defer(),r=e.activityId,i=Date.now();return o.getVariant(e).then(function(e){var o=e.activity,l=(0,s.default)({},e.variant);if(e.result=l,delete e.variant,o&&o.id&&o.name&&l&&l.name){if(e.disableContext?V.info("Telemetry context disabled for activity id: ",r):k("add",w.ADD,e),t){V.info("Tracking success telemetry for activity id: ",r);var c={serviceUseCase:t,duration:Date.now()-i,response:(0,a.default)(e).slice(0,1024),status:g.SUCCESS};G(c,!0)}n.resolve(l.data)}else V.info("No telemetry for legacy config experiments"),n.resolve(e)}).catch(function(e){if(e)if(e.apiFailure){if(t){V.info("Tracking failure telemetry for activity id: ",r);var o={serviceUseCase:t};e.status===v.TIMEOUT?(o.networkErrorCode=g.TIMEOUT,G(o,!1)):(o.response=(0,a.default)(e).slice(0,1024),o.duration=Date.now()-i,o.status=g.SERVER_ERROR,G(o,!0))}R(r).then(function(t){t?(V.info("api failure for get variant, resolving saved experiment data",e),n.resolve(t.variant.data)):(V.info("api failure for get variant, no saved data found"),n.reject(e))})}else N(r),n.reject(e)}),n.promise},U.trackConversion=o.trackConversion,U.getActiveExperiments=function(){var e=[],t=c.defer();return e=e.concat($,K),B?B.sync_().then(function(){e=e.concat(B.activeExperiments),z.sync_().then(function(){e=e.concat(z.activeExperiments),t.resolve(e)}).catch(function(){V.error("Failed to sync global Db for active experiments"),t.resolve(e)})}).catch(function(){V.error("Failed to sync user Db for active experiments"),t.resolve(e)}):z.sync_().then(function(){e=e.concat(z.activeExperiments),t.resolve(e)}).catch(function(){V.error("Failed to sync global Db for active experiments"),t.resolve(e)}),t.promise},U.getBetaVariant=function(e){var n=c.defer(),r=null;return r=u.isNull(W)?t.getUserData(l.jarvis.commonClientId,f.BETA_FEATURES).then(function(e){W=e}).catch(function(){W={}}):c.resolve(),r.then(function(){var t=u.findWhere(W.features,{name:e});if(u.isUndefined(t)){var r=(0,s.default)({},Z);r.activity.id=e,k("remove",w.DELETE,r)}else F(e,t);n.resolve(t)}),n.promise},U.getFeature=function(e){var t=e.activityId,n={clientParams:e};if(!u.isEmpty(Q)&&Q[t]){var r=Q[t];if(r.resolve)return V.debug("Resolving fake response for",t,r),c.resolve(r.resolve.result);if(r.reject)return V.debug("Rejecting with fake payload for",t,r),c.reject(r.reject)}return I.getFeature(n).then(function(e){V.info("GX Target Feature",n.clientParams.cvName,e);var t=null;if(e&&e.data.cloudVariables.length>0){t=e.data.cloudVariables[0];var r=e.data.cloudVariables[0].metadata;if(!r||r&&!r.disableContext)k("add",w.ADD,t);else{var i=e.data.cloudVariables[0].activity.id;V.info("Telemetry context disabled for activity id : ",i);var o=e.data.cloudVariables[0].name;V.info("Telemetry context disabled for cvName : ",o)}}else N(n.clientParams.cvName),V.info("No telemetry for legacy config experiments");return t}).catch(function(e){return V.error("failed to get feature from gx target",e),{}})}}]);t.gfeTargetService=f},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.mediaDialogService=void 0;var i=n(1),o=n(757),a=r(o);n(368),n(15),n(164),n(396);var l=i.ngMainCommonModule.service("mediaDialogService",["$mdDialog","$rootElement",function(e,t){var n=this,r={},i=function(){function e(e){t[e]=function(r){return r?(n[e]=r,t):n[e]}}var t=this,n={};e("event"),e("toolbarHtml"),e("image"),e("video")};n.show=function(r){var i=e.show({template:a.default,controller:"MediaDialogController",controllerAs:"mediaDialog",parent:t.find("nv-window"),targetEvent:r.event()});return n.setDialogModel(r),i},n.close=function(t){e.cancel()},n.setDialogModel=function(e){r=e},n.getDialogModel=function(){return r},n.customPreset=function(){return new i}}]);t.mediaDialogService=l},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nodeService=void 0;var r=n(45);n(18),n(22),n(17);var i=r.ngMainUtilsModule.service("nodeService",["$log","cefService","dialogService","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","eventAggregator","SOCKETIO_EVENTS","socketService","GFECLIENT_CONFIG","FATAL_ERRORS",function(e,t,n,r,i,o,a,l,s,c){function u(e,o){t.enableCloseButton(!0),r.push(i.GFE_NODE_FAILURE,e,{anonymize:!0}),h.info("display oops message with error:",e);var a=o===c.socketReconnnectFail?"l10n.errorRestartApplication":"l10n.errorRestartPC";n.show("nv-dialog-message",{title:"l10n.nvidiaGfeTitle",titleStyle:{"font-size":"14px"},text:a,errorCode:o,button1:{text:"l10n.close",action:function(){t.windowClose()}}})}function d(){l.setReconnectionAttempts(1/0)}function f(){l.setReconnectionAttempts(b.reconnectionAttempts)}function m(e){h.info("Successful reconnection attempt number: ",e),l.setReconnectionAttempts(b.reconnectionAttempts)}function p(e){h.info("socket event reconnecting attempt number: ",e)}function g(){h.info("socket event reconnect_failed"),u("socket event reconnect_failed",c.socketReconnnectFail)}function v(){h.info("registering event listeners"),o.on(a.RECONNECT,m),o.on(a.RECONNECTING,p),o.on(a.RECONNECT_FAILED,g)}var h=e.getInstance("main.utils/nodeService"),b=angular.merge({},s.nodeService);return{initialize:v,showErrorMessage:u,setReconnectionToInfinity:d,setReconnectionToDefault:f}}]);t.nodeService=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvSelectMenuItem=void 0;var i=n(1),o=n(766),a=r(o);n(388);var l=i.ngMainCommonModule.directive("nvSelectMenuItem",[function(){return{restrict:"E",scope:{nvAction:"&",nvSelectedTest:"&",nvDisabled:"=ngDisabled",nvTelemetry:"@"},transclude:!0,template:a.default,controller:"SelectMenuItemController",controllerAs:"selectMenuItem",link:function(e,t){function n(){t.empty(),t.remove(),t=null}e.$on("$destroy",n),t.on("$destroy",function(){e.$destroy()})}}}]);t.nvSelectMenuItem=l},,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvOptimizedIcon=void 0;var i=n(14),o=n(822),a=r(o);n(486);var l=i.ngGamesModule.directive("nvOptimizedIcon",function(){return{restrict:"E",scope:{nvSystemGame:"="},transclude:!0,template:a.default,controller:"OptimizedIconController",controllerAs:"optimizedIcon",bindToController:!0,link:function(e,t){function n(){t.empty(),t.remove(),t=null}e.$on("$destroy",n),t.on("$destroy",function(){e.$destroy()})}}});t.nvOptimizedIcon=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPlayGame=void 0;var i=n(1),o=n(823),a=r(o);n(487);var l=i.ngMainCommonModule.directive("nvPlayGame",[function(){return{restrict:"E",scope:{nvSystemGame:"&",nvTelemetry:"@",nvLocal:"@"},template:a.default,controller:"PlayGameController",controllerAs:"vm",bindToController:!0,link:function(e,t){function n(){t.empty(),t.remove(),t=null}e.$on("$destroy",n),t.on("$destroy",function(){e.$destroy()})}}}]);t.nvPlayGame=l},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ngNotificationsModule=void 0;var r=n(24),i=n(26),o=angular.module("main.notifications",["main.common",r.ngMainConstantsModule.name,"ngResource","pascalprecht.translate","ngSanitize",i.ngTelemetryModule.name]);angular.module("main").requires.push("main.notifications"),o.constant("NOTIFICATION_TYPE",{NEW_REWARD:0,NEW_FRIEND_REQUEST:1}),t.ngNotificationsModule=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.redeemRewardController=void 0;var i=n(53);n(122),n(17),n(15);var o=n(733),a=r(o),l=i.ngRewardsModule.controller("RedeemRewardController",["$log","$mdDialog","REWARDS_CONSTANTS","$sce","$timeout","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","$document","rewardsService","$filter","REWARDS_ASSET_DIMENSIONS",function(e,t,n,r,i,o,l,s,c,u,d){function f(e){b.dialogRequestInProgress=e}function m(){b.rewardPackage&&b.rewardPackage.assets&&b.rewardPackage.assets.information&&b.rewardPackage.assets.information.more_information&&(_=b.rewardPackage.assets.information.more_information.url,y.debug("Got Learn More URL from RDS",_))}function p(e){b.errorMessage=e.message||u("translate")("l10n.unableToProcessRedemption"),b.codeValidationErrorIcon=S.BLOCK}function g(){b.isDialogStateCouponValidation()?o.push(l.REDEEM_CODE_FAILED_CLOSE):o.push(l.REWARDS_REDEMPTION_PORTAL_CLOSE,{couponCode:b.code||""})}function v(){var e=Math.floor(Math.random()*A.length);w=(A[e]*T[e]+I[e])/C[e]-x[e],b.mathQuestion=u("translate")("l10n.mathQuestion",{mulA:A[e],mulB:T[e],add:I[e],div:C[e],sub:x[e]})}function h(){b.dialogState=E.COUPON_VALIDATION,b.nvRedemptionError?(b.dialogImage=a.default,b.dialogTitle=u("translate")("l10n.redeem"),b.rewardPackage=b.nvRedemptionError.rewardPackage,m(),p(b.nvRedemptionError)):b.nvRedemptionPortalIframeUrl?(b.dialogState=E.EXTERNAL_PAGE,f(!0),b.externalUrl=r.trustAsResourceUrl(b.nvRedemptionPortalIframeUrl),i(function(){s.ready(function(){f(!1)})},0),y.debug("Portal rendered in-app with url",b.externalUrl)):b.perkDetails?(b.dialogImage=c.getFormattedImageUrl(b.perkDetails.campaign.imageLink,d.DIALOG_IMAGE),b.dialogTitle=b.perkDetails.campaign.title,b.perkLevel=b.perkDetails.campaign.rules.perkLevel,b.perkDetailsHeader=b.perkDetails.campaign.tagline,b.perkDetailsDescription=b.perkDetails.campaign.description):b.sweepDetails?(b.dialogImage=c.getFormattedImageUrl(b.sweepDetail.campaign.imageLink,d.DIALOG_IMAGE),b.answerInput="",b.answerInputPlaceholder=u("translate")("l10n.answer"),b.answerInvalid=!1,v()):y.error("Rewards Dialog initialised incorrectly")}var b=this,y=e.getInstance("main.rewards/RedeemRewardController"),E={COUPON_VALIDATION:"VALIDATE_COUPON_CODE",EXTERNAL_PAGE:"SHOW_EXTERNAL_PAGE"},S={WARNING:"warning",BLOCK:"block"},_=c.rewardsFaqUrl,w=null,A=[228,86,228,86,31,51,48,60,15,92,92,92,84,18],T=[21,16,16,21,15,12,72,24,12,86,86,21,17,47],I=[10824,124,10824,114,111,24,36,348,135,44,56,48,12,22],C=[12,12,12,12,12,12,12,12,15,12,24,20,20,14],x=[112,24,24,24,21,17,189,42,10,52,131,19,31,14];b.isDialogStateCouponValidation=function(){return b.dialogState===E.COUPON_VALIDATION},b.isDialogStateExternalPage=function(){return b.dialogState===E.EXTERNAL_PAGE},b.onLearnMoreClicked=function(){c.openLearnMoreWindow(_)},b.closeDialog=function(){g(),t.cancel()},b.tryAgain=function(){g(),t.hide()},b.validateAnswer=function(){b.answerInvalid=!1,b.answerInput=b.answerInput.replace(/\D/g,"")},b.submitAnswer=function(){parseInt(b.answerInput)===w?t.hide():b.answerInvalid=!0},h()}]);t.redeemRewardController=l},,,,,,function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".search-container .search-input-container{margin:0 8px 0 0;width:420px;padding:0!important;background-color:#363636}.search-container .search-input-container.visible{visibility:visible;opacity:1;width:420px;transition:all .2s ease-in-out}.search-container .search-input-container.hidden{visibility:hidden;opacity:0;width:0;height:0}.search-container .search-input-container .search-input{margin:0!important;padding-left:50px;padding-right:16px;height:40px}.search-container .search-input-container .search-input::placeholder{color:rgba(255,255,255,.15)}.search-container .search-input-container .active-search-icon,.search-container .search-input-container .search-icon{position:absolute;left:16px}.search-container .search-input-container .active-search-icon{color:#76b900}.search-container .search-input-container .clear-icon-button{position:absolute;top:8px;right:6px;min-height:24px}.search-container .search-result-container{position:absolute;background:#363636;box-shadow:0 0 10px #020202;width:420px;padding-bottom:16px}.search-container .search-result-container.hidden{padding-bottom:0!important}.search-container .search-result-container .search-result-scroll-content{min-height:32px;max-height:496px}.search-container .search-result-container md-list-item,.search-container .search-result-container md-list-item .md-button,.search-container .search-result-container md-list-item .md-list-item-inner{min-height:74px!important;max-height:74px}.search-container .search-category-title{margin-top:24px}.search-container .search-category-title h4{margin:0 16px!important;padding:0!important}.search-container .search-result-not-found{margin:0!important}.search-container .search-result-not-found .search-error-icon{width:32px;height:32px;line-height:32px;margin:0}.search-container .search-result-not-found .search-error-header{font-size:16px;margin:24px 0;color:rgba(255,255,255,.3)}.search-container .search-result-not-found .search-error-message{font-size:12px;margin:0;color:rgba(255,255,255,.3)}.search-container .search-result-container .search-item-preview{margin-right:10px;height:24px;width:24px;display:flex;justify-content:flex-end}.search-container .search-result-container .search-item-thumbnail{height:72px;width:100px;margin-right:16px}.search-container .search-result-container .search-item-thumbnail img{width:100px;height:56px;margin-top:8px;opacity:.5}.search-container .search-result-container .search-item-icon{height:56px;width:100px;margin-right:16px;background-color:rgba(17,17,17,.5)}.search-container .search-result-container .search-item-icon md-icon{font-size:48px;color:#fff;width:auto;height:auto;opacity:.3}.search-container .search-result-container md-list-item:hover p,.selected-search-item p{color:rgba(255,255,255,.9)!important}.search-result-height{height:72px}.search-container .search-result-container md-list-item:hover,.selected-search-item{background-color:rgba(40,40,40,.8)}.search-container .search-result-container md-list-item:hover img,.selected-search-item img{opacity:1!important}.search-container .search-result-container md-list-item:hover md-icon,.selected-search-item md-icon{opacity:.45!important}.search-container .search-result-container md-list-item:hover img{opacity:1!important}.search-container .search-result-container md-list-item:hover md-icon{opacity:.45!important}.search-container .search-result-container md-list-item .md-button:hover{background-color:transparent!important}.search-container-bottom-gradient{width:420px;height:24px;margin:0 0 16px;background:linear-gradient(rgba(54,54,54,0),rgba(54,54,54,0))}.search-result-fallback{height:250px}.search-result-item .search-title{margin:0 0 8px;color:rgba(255,255,255,.3);line-height:15px}.search-result-item .search-preview{font-size:10px;color:rgba(255,255,255,.15);margin:0;line-height:15px}.recent-search-item .search-title{color:rgba(255,255,255,.3)}.search-category-divider{margin-top:8px;height:1px;background-color:#404040}.search-result-container ::-webkit-scrollbar-thumb{background:#464646!important}",""])},,,function(e,t,n){e.exports=n.p+"default-cover.jpg"},,,function(e,t){e.exports=' <md-dialog class=rewards-dialog ng-switch=redeemReward.dialogState ng-class="{\'rewards-redeem-reward\': redeemReward.isDialogStateCouponValidation(), \'rewards-external-page-container\': redeemReward.isDialogStateExternalPage()}"> <div layout=row flex layout-fill ng-switch-when=VALIDATE_COUPON_CODE> <div class=rewards-dialog-image-container layout=column layout-align="center center"> <img nv-image-fallback ng-src={{redeemReward.dialogImage}} alt=l10n.couponRedemption /> </div> <div layout=column flex layout-fill class=constants-position-relative> <md-dialog-content flex> <div class=coupon-redemption-header layout=column> <md-button class="md-icon-button close-button" ng-click=redeemReward.closeDialog() type=button aria-label=redeemReward-closeDialog-button> <md-icon md-font-set=material-icons aria-label=closeButton aria-hidden=true>close</md-icon> </md-button> <md-subheader class="color-white-hue-3 line-height-sm1">{{redeemReward.dialogTitle}}</md-subheader> </div> <div class="coupon-redemption-block-error-container constants-position-relative padding-24" layout=column layout-align="center center" ng-if=redeemReward.nvRedemptionError> <md-icon md-font-set=material-icons class="block-error-base-icon margin-zero color-white-hue-8" aria-label=" cardGiftcard" aria-hidden=true>card_giftcard</md-icon> <nv-overlay class="common-overlay no-background"> <md-icon md-font-set=material-icons class="block-error-overlay-icon margin-zero nv-custom-alert-icon-color" aria-label=redeemReward aria-hidden=true>{{redeemReward.codeValidationErrorIcon}}</md-icon> </nv-overlay> <p class="margin-zero block-error-message color-white-hue-4">{{redeemReward.errorMessage}}</p> <a class="md-accent foreground" ng-click=redeemReward.onLearnMoreClicked() translate=l10n.learnMore></a> </div> <div class="redeem-details-container constants-position-relative padding-24 padding-top-zero-important" layout=column ng-if=redeemReward.perkDetails> <p class="color-white-hue-2 margin-top-16 margin-bottom-16">{{redeemReward.perkLevel}}</p> <p class="margin-top-16 margin-bottom-zero color-white-hue-3">{{redeemReward.perkDetailsHeader}}</p> <p class="margin-top-16 margin-bottom-zero color-white-hue-4">{{redeemReward.perkDetailsDescription}}</p> </div> <div class="redeem-details-container padding-24 padding-top-zero-important" layout=column layout-align="center center" ng-if=redeemReward.sweepDetails> <p class="color-white-hue-2 margin-bottom-8" translate=l10n.answerMathQuestion></p> <p class="color-white-hue-2 margin-bottom-8">{{redeemReward.mathQuestion}}</p> <input class="math-answer-input color-white-hue-1 font-uppercase padding-zero padding-left-16 font-size-xxs bg-dark-vh-hue-2 font-family-roboto-light margin-top-8" type=text placeholder={{redeemReward.answerInputPlaceholder}} name=sweepMathQuestion ng-model=redeemReward.answerInput ng-change=redeemReward.validateAnswer() spellcheck=false ng-trim=false /> <p ng-show=redeemReward.answerInvalid translate=l10n.incorrectAnswer class="margin-top-8 margin-zero color-red-hue-1 line-height-sm1"></p> <div class=math-incorrect-answer-placeholder ng-show=!redeemReward.answerInvalid></div> </div> </md-dialog-content> <md-dialog-actions layout=row dir=rtl class=padding-left-zero class=coupon-redemption-error-actions> <md-button class=md-accent translate=l10n.tryAgain type=submit aria-label=l10n.tryAgain ng-click=redeemReward.tryAgain() ng-if=redeemReward.nvRedemptionError aria-label=redeemReward-tryAgain-button> </md-button> <md-button class=md-accent translate=l10n.dismiss type=submit aria-label=l10n.dismiss ng-click=redeemReward.closeDialog() ng-if=redeemReward.perkDetails aria-label=redeemReward-close-dialog-button> </md-button> <md-button class=md-accent translate=l10n.submit type=submit aria-label=l10n.submit ng-click=redeemReward.submitAnswer() ng-if=redeemReward.sweepDetails aria-label=submit-answer-button> </md-button> <span flex></span> </md-dialog-actions> </div> </div> <md-dialog-content flex layout=column layout-fill ng-switch-when=SHOW_EXTERNAL_PAGE> <nv-overlay class="common-overlay no-background iframe-top-toolbar constants-z-layers-two" layout=row> <md-button class="md-icon-button close-button" ng-click=redeemReward.closeDialog() aria-label=reward-close-button> <md-icon md-font-set=material-icons aria-label=closeButton aria-hidden=true>close</md-icon> </md-button> </nv-overlay> <div flex layout=column layout-fill> <div class=iframe-scrollbar-spacer></div> <iframe flex ng-src={{redeemReward.externalUrl}} frameborder=0></iframe> </div> </md-dialog-content> <nv-overlay class=common-overlay layout-fill ng-show=redeemReward.dialogRequestInProgress> <span layout-fill layout-align="center center" layout=column> <md-progress-circular id=progressIndicator class=md-accent md-diameter=25 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> </md-dialog> ';
},,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(320),o=r(i);t.default=function(e,t,n){return t in e?(0,o.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r=n(236);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvBadge=void 0;var r=n(1),i=r.ngMainCommonModule.directive("nvBadge",function(){return{restrict:"A",link:function(e,t,n,r,i){n.$observe("nvBadge",function(e){if(e&&"0"!==e){t.removeClass("nv-hide-after"),t.addClass("nv-badge-border");var n=parseInt(e,10);n>9&&n<100?(t.removeClass("nv-badge-double-digits-plus"),t.addClass("nv-badge-double-digits")):n>99&&(t.removeClass("nv-badge-double-digits"),t.addClass("nv-badge-double-digits-plus"))}else t.addClass("nv-hide-after")})}}});t.nvBadge=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.nvCarousel=void 0;var o=n(3),a=i(o),l=n(1);n(364),n(15),n(340);var s=n(742),c=r(s);n(337);var u=l.ngMainCommonModule.directive("nvCarousel",["eventAggregator","GAME_EVENTS",function(e,t){function n(n,r,i,o){function l(r){if(r.name)for(var i=n.nvSlides.length,l=0;l<i;l++)if(a.has(n.nvSlides[l],"annotation")){var s=a.findWhere(n.nvSlides[l].annotation,{nvSettingName:r.name});if(!a.isUndefined(s)){o.selectedIndex=l,e.trigger(t.GAMEVOPSITEM_MATCHED,r),n.nvSlides[l].loaded?(e.trigger(t.SETTING_ITEM_HOVER_CAROUSEL_READY,r),d=null,f=null):(d=r,f=n.nvSlides[l].image);break}e.trigger(t.GAMEVOPSITEM_UNMATCHED,{})}}function s(r){var i=a.findWhere(n.nvSlides,{image:r});a.isUndefined(i)||(i.loaded=!0,a.isNull(f)||f!==r||(e.trigger(t.SETTING_ITEM_HOVER_CAROUSEL_READY,d),d=null,f=null))}function c(e){var t=a.findWhere(n.nvSlides,{image:e});a.isUndefined(t)||(t.loaded=!1)}function u(){e.off(t.SETTING_ITEM_HOVER,l),e.off(t.IMAGE_LOADED,s),e.off(t.IMAGE_UNLOADED,c),r.empty(),r.remove(),r=null}var d=null,f=null;e.on(t.SETTING_ITEM_HOVER,l),e.on(t.IMAGE_LOADED,s),e.on(t.IMAGE_UNLOADED,c),n.$on("$destroy",u),r.on("$destroy",function(){n.$destroy()})}return{restrict:"E",scope:{nvSelectedIndex:"=",nvSlides:"=",nvEventInfo:"@",nvIsBanner:"@"},template:c.default,controller:"CarouselController",controllerAs:"carousel",link:n}}]);t.nvCarousel=u},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.countdownTimerDirective=void 0;var i=n(201),o=r(i),a=n(1);n(392);var l=a.ngMainCommonModule.directive("nvCountdownTimer",["$log","$filter","systemClockService","eventAggregator","COMMON_EVENTS","COUNTDOWN_TIMER_STATES",function(e,t,n,r,i,a){return{restrict:"E",scope:{nvEndTimestamp:"@",nvCallback:"&",nvTranslate:"@",nvFormat:"@"},template:'<span ng-bind-html="timeLeft">',link:function(l,s){function c(e){return l.nvTranslate?t("translate")(l.nvTranslate,{countdown:e}):e}function u(e){var n="",r=1,i=e.days(),o=e.hours(),a=e.minutes(),l=e.seconds();return i>1?(r=i,n=t("translate")("l10n.days")):1==i?n=t("translate")("l10n.day"):o>1?(r=o,n=t("translate")("l10n.hours")):1==o?n=t("translate")("l10n.hour"):a>1?(r=a,n=t("translate")("l10n.minutes")):1==a?n=t("translate")("l10n.minute"):l>1?(r=l,n=t("translate")("l10n.seconds")):(r=l,n=t("translate")("l10n.second")),c(r+" "+n)}function d(e){return c(e.days()+"d : "+e.hours()+"h : "+e.minutes()+"m : "+e.seconds()+"s")}function f(e){E=e.getTime(),S=o.default.duration(l.nvEndTimestamp-E,"milliseconds"),l.timeLeft=_(S),S._milliseconds<1&&(p(),S=null,l.nvCallback({state:a.TIMER_FINISHED}))}function m(){f(new Date),n.subscribeClockUpdates(),r.on(i.SYSTEM_TIME_UPDATED,f)}function p(){n.unsubscribeClockUpdates(),r.off(i.SYSTEM_TIME_UPDATED,f)}function g(e){var t=null;switch(e){case"shortTime":t=u;break;default:t=d}return t}function v(){E<l.nvEndTimestamp?m():(y.error("End timestamp is less than current timestamp"),l.nvCallback({state:a.INIT_FAILED}))}function h(){l.timeLeft=c(A),_=g(l.nvFormat)}function b(){p(),s.empty(),s.remove(),s=null}var y=e.getInstance("main.common/nvCountdownTimer"),E=(new Date).getTime(),S=null,_=angular.noop,w=0,A="--";Object.defineProperty(l,"nvEndTimestamp",{get:function(){return w},set:function(e){w=+e,v()}}),l.$on("$destroy",b),s.on("$destroy",function(){l.$destroy()}),h()}}}]);t.countdownTimerDirective=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvDialogEditEmail=void 0;var i=n(1),o=n(744),a=r(o);n(344),n(287),n(168);var l=i.ngMainCommonModule.directive("nvDialogEditEmail",[function(){return{restrict:"A",scope:{},bindToController:{nvDialogModel:"="},template:a.default,controller:"DialogEditEmailController",controllerAs:"editEmailCtrl"}}]);t.nvDialogEditEmail=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvDialogEmailVerification=void 0;var i=n(1),o=n(745),a=r(o),l=i.ngMainCommonModule.directive("nvDialogEmailVerification",[function(){return{restrict:"A",scope:{},bindToController:{nvDialogModel:"="},template:a.default,controller:[function(){}],controllerAs:"emailVerificationCtrl"}}]);t.nvDialogEmailVerification=l},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.nvExtendedPattern=void 0;var i=n(1),o=n(985),a=r(o),l=i.ngMainCommonModule.directive("nvExtendedPattern",[function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){var i=null,o=[],l=0;n.$observe("nvExtendedPattern",function(e){try{var t=angular.fromJson(e);t.pattern&&(i=a.default(t.pattern)),t.patternGroups&&(l=t.patternGroups.required,o=[],angular.forEach(t.patternGroups.patterns,function(e){o.push(a.default(e))}))}catch(e){l=0,i=null}}),r.$validators.extendedPattern=function(e){var t=0;return l>0?(angular.forEach(o,function(n){n.test(e)&&(t+=1)}),t>=l):!i||i.test(e)}}}}]);t.nvExtendedPattern=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvFieldsMatch=void 0;var r=n(1),i=r.ngMainCommonModule.directive("nvFieldsMatch",[function(){return{restrict:"A",require:"ngModel",scope:{nvFieldsMatch:"@"},link:function(e,t,n,r){r.$validators.fieldsMatch=function(t){return t===e.nvFieldsMatch},n.$observe("nvFieldsMatch",function(e){r.$validate()})}}}]);t.nvFieldsMatch=i},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.nvInputAutofocus=void 0;var i=n(1),o=n(3),a=r(o),l=i.ngMainCommonModule.directive("nvInputAutofocus",["$timeout",function(e){return{restrict:"A",link:function(t,n,r){var i=n.find("input").eq(0);a.isEmpty(i)||e(function(){i.focus()})}}}]);t.nvInputAutofocus=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvKeyAction=void 0;var r=n(1),i=r.ngMainCommonModule.directive("nvKeyAction",[function(){return{restrict:"A",link:function(e,t,n){t.bind("keyup",function(t){var r=t.which||t.keyCode;r==n.nvKeyCode&&e.$apply(function(){e.$eval(n.nvKeyAction,{$event:t})})})}}}]);t.nvKeyAction=i},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvNewsItem=t.nvNews=void 0;var i=n(1),o=n(761),a=r(o),l=n(760),s=r(l);n(373),n(35);var c=i.ngMainCommonModule.component("nvNews",{transclude:!0,bindings:{nvShortName:"@",nvNewsSource:"@"},template:a.default,controller:"NewsController",controllerAs:"news"}),u=i.ngMainCommonModule.component("nvNewsItem",{bindings:{nvNews:"="},template:s.default});t.nvNews=c,t.nvNewsItem=u},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.productTourService=void 0;var i=n(56),o=r(i),a=n(12),l=r(a),s=n(1),c=s.ngMainCommonModule.service("productTourService",["$log","PRODUCT_TOUR_NAMES","uiTourService","dbCacheService","DB_NAMES","PRODUCT_TOUR_STATUS","eventAggregator","COMMON_EVENTS","jarvisService","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_STATUS","telemetryService","TELEMETRY_ACTIONS","TELEMETRY_AVAILABLE_STATUS","$document","$filter","$timeout","PRODUCT_TOUR_EVENTS",function(e,t,n,r,i,a,s,c,u,d,f,m,p,g,v,h,b,y){function E(e){var t=!(!U[e]||U[e].status!==a.PENDING);return F.info("pending tour info: ",t),t}function S(){var e=angular.element(v[0].getElementById("main-user-profile")),n=angular.element(v[0].getElementById("main-user-profile-container")),r={element:e,stepId:"oobe-profile-enabled",order:4,title:h("translate")("l10n.joinTheCommunity"),placement:"bottom-right"},i={element:n,stepId:"oobe-profile-disabled",order:4,title:h("translate")("l10n.redeemCodesAndRewards"),placement:"bottom-right"};F.info("addOobeProfileStep done"),_(t.OOBE,B,r,i)}function _(e,t,r,i){F.info("addTourStep in progress, tourName: ",e,"stepToggleFlag: ",t,"step: ",r,"stepToReplace: ",(0,l.default)(i));var o=n.getTourByName(e);o?(i&&(i=w(o,i)||i,F.info("new stepToReplace is: "+(0,l.default)(i))),t&&!o.hasStep(r.stepId)?(o.createStep(r),o.removeStep(i)):t||(o.removeStep(r),i&&!o.hasStep(i.stepId)&&o.createStep(i))):F.error("error retrieving tour for "+e)}function w(e,t){var n=e._getSteps();return n&&n.length>0?((0,o.default)(n).forEach(function(e){F.info("tourSteps at index",e,"value",n[e])}),n.find(function(e){return e.stepId===t.stepId})):(F.error("error retrieving tourSteps for "+e),null)}function A(e){return F.info("getSavedTourStepOrder tour ",E(e)&&U[e].previousStepOrder||0),E(e)&&U[e].previousStepOrder||0}function T(e,t){F.info("strating tour: "+e);var r=n.getTourByName(e);if(r){var i=r._getSteps();i.length>0?(t>=i.length&&(t=i.length-1),r.startAt(t).then(function(n){F.info("tour launched",e,"step",t),I(e,t),x(r),N(e,t)}).catch(function(n){F.error("tour failed to launch",e," stepOrder:",t," error:",n," steps count:",i.length)})):F.error("tour steps not found to launch",e," stepOrder:",t)}else F.error("tour not found to launch",e," stepOrder:",t)}function I(e,t){var r=n.getTourByName(e);if(r){var i=C(r),o=a.PENDING;t===i&&(o=a.COMPLETED);var l={name:e,status:o,previousStepOrder:t};U[l.name]=l,F.info("persistTourStepOrder for tour ",e," stepOrder:",t),U.persist_()}else F.error("tour not found to launch",e," stepOrder:",t)}function C(e){var t=e._getSteps();return t.length>0?((0,o.default)(t).forEach(function(e){F.info("tourSteps at index",e,"value",t[e])}),t[t.length-1].order):(F.error("no last step order found"),null)}function x(e){e.on("stepChanged",D),e.on("paused",O),e.on("ended",R),s.on(c.WINDOW_RESIZE,L)}function D(e){if(M(p.NEXT),e){var t=e.config("name");I(t,e.order),V.stepStartTime=m.startLoad(d.PRODUCT_TOUR_PROGRESS_EVENT)}else F.info("onTourStepChanged: no step found");V.currentStep+=1}function M(e){var t={name:V.name,step:m.getString(V.currentStep),action:e};m.endLoad(d.PRODUCT_TOUR_PROGRESS_EVENT,V.stepStartTime,t)}function O(){F.info("Tour paused",V.name),G.sendProductTourExitTelemetry(f.PAUSED),s.off(c.WINDOW_RESIZE,L),s.trigger(y.PAUSED,V.name)}function R(){F.info("Tour ended",V.name),M(p.GOT_IT),G.sendProductTourExitTelemetry(f.SUCCESS),s.off(c.WINDOW_RESIZE,L),s.trigger(y.END,V.name)}function N(e,t){V.isActive=!0,V.name=e,V.startStep=t,V.currentStep=t,V.isResume=0===t?g.NO:g.YES,V.stepStartTime=m.startLoad(d.PRODUCT_TOUR_PROGRESS_EVENT),V.tourStartTime=m.startLoad(d.PRODUCT_TOUR_EXIT_EVENT)}function L(){var e=v[0].querySelector(".tether-target.tether-enabled"),t=v[0].querySelector(".tether-element.tether-enabled");if(e&&t){var n=t.querySelector(".arrow"),r=n.getBoundingClientRect(),i=e.getBoundingClientRect(),o=i.x,a=i.width,l=r.x,s=r.width,c=o+.5*a-(l+.5*s)+"px";t.style.left=c}}function P(e){B=e,S()}function k(e){e&&b(function(){var n=angular.element(v[0].getElementById("main-share-icon")),r={element:n,stepId:"oobe-share",order:2,title:h("translate")("l10n.accessTheIgo"),placement:"bottom-right"};n&&_(t.OOBE,e,r)})}var G=this,F=e.getInstance("main.common/productTourService"),U=null,V={name:"",currentStep:0,startStep:0,isResume:g.NO,status:"",tourStartTime:0,stepStartTime:0,isActive:!1},B=!1;G.initialize=function(){U=r.getCachedGlobalItem(i.GLOBAL_STORE,i.PRODUCT_TOUR_STATES),s.on(c.LOGIN_STATUS_CHANGE,G.resumeOobeTour),s.on(c.USER_PROFILE_STATUS_UPDATED,P),s.on(c.SHARE_ICON_VIZ_UPDATED,k)},G.resumeOobeTour=function(){F.info("oobeTour resumed");var e=u.getLoggedInUser();U.sync_().then(function(){e&&E(t.OOBE)?G.startOobeTour(!0):n.endAllTours()}).catch(function(){F.error("Fatal: failed to sync product tour db or exception")})},G.showTour=function(e,t,r){var i=0;t&&(i=A(e)),r&&n.endAllTours(),i>=0?T(e,i):F.error("error starting tour "+e)},G.sendProductTourExitTelemetry=function(e){if(V.isActive){var t={name:V.name,startStep:m.getString(V.startStep),exitStep:m.getString(V.currentStep),isResume:V.isResume,status:e};m.endLoad(d.PRODUCT_TOUR_EXIT_EVENT,V.tourStartTime,t),V.isActive=!1}},G.onStepShown=function(){L()},G.startOobeTour=function(e){F.info("startOobeTour initiated"),S(),G.showTour(t.OOBE,e,!1)},G.startDriverTour=function(){var e=U[t.DRIVER];e&&e.status!==a.PENDING?e?F.error("driver tour already completed"):F.error("saved DriverTour not found"):G.showTour(t.DRIVER,!0,!1)},G.isTourRunning=function(e){var t=V.isActive;return V.isActive&&e&&(t=V.name===e),t}}]);t.productTourService=c},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.stateService=void 0;var i=n(3),o=(r(i),n(1)),a=o.ngMainCommonModule.service("stateService",["$log","$state","COMMON_DEFAULT_STATES",function(e,t,n){var r=this;e.getInstance("main.common/stateService");r.gotoDriversTab=function(e){t.go(n.DRIVERS,e)},r.getCurrentStateParams=function(){return t.params}}]);t.stateService=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvValidDisplayName=void 0;var r=n(1);n(13);var i=r.ngMainCommonModule.directive("nvValidDisplayName",["$q","jarvisService",function(e,t){return{restrict:"A",require:"ngModel",link:function(n,r,i,o){o.$asyncValidators.notAvailable=function(n){var r=e.defer();return t.displayNameExists(n).then(function(e){r.reject()}).catch(function(e){r.resolve()}),r.promise}}}}]);t.nvValidDisplayName=i},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.weChatService=void 0;var o=n(12),a=i(o),l=n(3),s=r(l),c=n(1),u=n(724),d=i(u),f=c.ngMainCommonModule.service("weChatService",["dbService","DB_NAMES","$filter","WECHAT_EVENTS","eventAggregator","NOTIFICATION_EVENTS","WECHAT_CONSTANTS","NOTIFICATION_CATEGORY","COMMON_EVENTS","$q","$log","jarvisService","$state","windowSpawnService","dbCacheService","parllayService","toastService","gfeService","PARLLAY_CONSTANTS","GFECLIENT_CONFIG","telemetryService","TELEMETRY_PARLLAY_JS_SDK_API_NAME","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_WECHAT_SERVICE_API_STATE","TELEMETRY_SCREENS","$timeout","gfeGeolocationService",function(e,t,n,r,i,o,l,c,u,f,m,p,g,v,h,b,y,E,S,_,w,A,T,I,C,x,D){function M(e){ae=s.extend(ae,e)}function O(){return E.onlineState&&E.onlineState.online?"false":"true"}function R(){ae={jarvisApiState:I.TO_BE_CALLED,parllayFetchQRApiState:I.TO_BE_CALLED,parllayScanQRApiState:I.TO_BE_CALLED,offlineState:"false",jarvisApiDurationMs:0,parllayFetchQRApiDurationMs:0,parllayScanQRApiDurationMs:0,exitScreen:C.SCREEN_WECHAT_QRCODE_LOADING,errorMessage:"NA"}}function N(){i.trigger(r.WECHAT_NOTIFICATION_CLICKED,l.NFAN)}function L(){var e=new Date,t=[{artWork:d.default,callbackData:l.NFAN.id,callbackFunction:N,heading:{text:"l10n.joinWeChat",values:{clubName:l.NFAN.event}},description:{text:"l10n.scanNvidiaNewsWeChatQrCode"},firstNotificationHighResolution:!1,type:c.WECHAT,availableTime:e}];i.trigger(o.REQUEST_NOTIFICATION,t)}function P(){var e=new Date,t=Q.weChat.NFAN,n=t.fetchTime,r=t.expireTime,i=t.qrCodeURL;return e-n<=r-3600?(Z=!1,{qrcode_url:i,success:!0,expires_in:r}):(Z=!0,null)}function k(){te=new Date,ae.parllayScanQRApiState=I.CALLED,b.getScanResult().then(function(e){te=new Date-te;var t=X||ie;t&&(t.postMessage({scanResult:e},"*"),e.success?(M({parllayScanQRApiState:I.SUCCEEDED,parllayScanQRApiDurationMs:te,exitScreen:C.SCREEN_WECHAT_QRCODE_SCAN_SUCCEEDED}),Q.weChat.NFAN.qrCodeScanned||(i.trigger(o.REMOVE_NOTIFICATION,[{callbackData:ne.id}]),Q.weChat.NFAN.qrCodeScanned=!0,Q.persist_()),w.push(T.PARLLAY_JS_SDK_API_SUCCESS,{apiName:A.GET_SCAN_RESULT,offlineState:O(),durationMs:te})):(M({parllayScanQRApiState:I.FAILED,parllayScanQRApiDurationMs:te,exitScreen:C.SCREEN_WECHAT_QRCODE_SCAN_FAILED,errorMessage:e.errors[0].message}),w.push(T.PARLLAY_JS_SDK_API_FAILURE,{apiName:A.GET_SCAN_RESULT,errorCode:(e.errors[0].code||"").toString(),errorMessage:e.errors[0].message,offlineState:O(),durationMs:te})))}).catch(function(e){te=new Date-te,M({parllayScanQRApiState:I.FAILED,parllayScanQRApiDurationMs:te,errorMessage:e&&e.type||""})})}function G(){ee=new Date,ae.parllayFetchQRApiState=I.CALLED,b.getQrCode(P()).then(function(e){if(ee=new Date-ee,Z&&e.qrcode_url){var t=new Date;Q.weChat.NFAN.fetchTime=t,Q.weChat.NFAN.expireTime=e.expires_in,Q.weChat.NFAN.qrCodeURL=e.qrcode_url,Q.persist_()}X&&X.postMessage({qrCodeResult:e},"*"),e.success?(M({parllayFetchQRApiState:I.SUCCEEDED,parllayFetchQRApiDurationMs:ee,exitScreen:C.SCREEN_WECHAT_QRCODE_DISPLAYED}),re&&(oe={qrCodeResult:e},re.resolve()),k(),w.push(T.PARLLAY_JS_SDK_API_SUCCESS,{apiName:A.GET_QR_CODE,offlineState:O(),durationMs:ee})):(M({parllayFetchQRApiState:I.FAILED,parllayFetchQRApiDurationMs:ee,exitScreen:C.SCREEN_WECHAT_QRCODE_LOAD_FAILED,errorMessage:e.errors[0].message}),w.push(T.PARLLAY_JS_SDK_API_FAILURE,{apiName:A.GET_QR_CODE,errorCode:(e.errors[0].code||"").toString(),errorMessage:e.errors[0].message,offlineState:O(),durationMs:ee}))}).catch(function(e){ee=new Date-ee,M({parllayFetchQRApiState:I.FAILED,parllayFetchQRApiDurationMs:ee}),"CONFIG_ERROR"===e.type&&X?(X.postMessage({qrCodeResult:{success:!1}},"*"),M({errorMessage:e&&e.message&&e.message.errors[0].message||"",exitScreen:C.SCREEN_WECHAT_QRCODE_LOAD_FAILED}),w.push(T.PARLLAY_JS_SDK_API_FAILURE,{apiName:A.GET_CONFIG_ERROR,errorCode:(e&&e.message&&e.message.errors[0].code||"-1").toString(),errorMessage:e&&e.message&&e.message.errors[0].message||"",offlineState:O(),durationMs:ee})):"CANCEL_REQUEST"===e.type&&(ae.errorMessage=e.type)})}function F(){ae.jarvisApiState=I.CALLED,J=new Date,p.getDelegateToken(S.jarvis.clientId).then(function(e){var t=new Date-J;M({jarvisApiState:I.SUCCEEDED,jarvisApiDurationMs:t}),w.push(T.PARLLAY_JS_SDK_API_SUCCESS,{apiName:A.GET_JARVIS_DELEGATE_TOKEN,offlineState:O(),durationMs:t});var n=_.parllayConfig;n.delegateToken=e.data.delegateToken,b.initialize(n),G()}).catch(function(e){var t=new Date-J;M({jarvisApiState:I.FAILED,jarvisApiDurationMs:t,errorMessage:e&&e.status||""}),w.push(T.PARLLAY_JS_SDK_API_FAILURE,{apiName:A.GET_JARVIS_DELEGATE_TOKEN,errorCode:(e&&e.status||"").toString(),errorMessage:e&&e.statusText||"",offlineState:O(),durationMs:t}),Y.error("No jarvis delegate token received"),X&&(X.postMessage({qrCodeResult:{success:!1}},"*"),ae.exitScreen=C.SCREEN_WECHAT_QRCODE_LOAD_FAILED)})}function U(e){e.data&&"qrcode_init"===e.data&&(X?F():ie.postMessage(oe,"*"))}function V(e){R();var t=452,n=779,r=t,o=n,l=window.screenY+window.innerHeight/2-r/2,s=window.screenX+window.innerWidth/2-o/2,c="toolbar=0,location=0,menubar=0,width="+o+",height="+r+",top="+l+",left="+s;ne=e;var d={joinWeChat:K("l10n.joinWeChat",{clubName:e.event}),qrCodeScan:K("l10n.qrCodeScan",{clubName:e.event}),successfullySubscribed:K("l10n.successfullySubscribed",{clubName:e.event}),qrCodeCouldNotBeLoaded:K("l10n.qrCodeCouldNotBeLoaded"),qrCodeScanningError:K("l10n.qrCodeScanningError"),fetchingQrCode:K("l10n.fetchingQrCode"),youAreOffline:K("l10n.youAreOffline"),visitSettingsPage:K("l10n.visitSettingsPage"),nFanDescription:K("l10n.nFanDescription"),close:K("l10n.close"),skip:K("l10n.skip")},f="external-page-loader-app.html#/qr-code/"+(0,a.default)(ne),m=v.openBorderlessPopup(f,"app_qrcode",c,d,!0,U);return i.on(u.CHILD_WINDOW_CLOSED,$),m}function B(e){g.go("main.auth.preferences.accounts"),H.showQrCode(e)}function z(){j=p.getLoggedInUser(),j&&H.isFeatureSupported().then(function(e){Q=h.getCachedUserItem(j.userId,t.JARVIS_GFE_STORE,t.JARVIS_QRCODE_STATE),e&&Q&&Q.wait_().then(function(){Q.weChat.NFAN.qrCodeScanned||L()})})}function $(){b.cancelQrCodeRequest(),i.off(u.CHILD_WINDOW_CLOSED,$),ae.parllayFetchQRApiState===I.CALLED&&(ee=new Date-ee,M({parllayFetchQRApiDurationMs:ee,errorMessage:"User cancelled QR Code request"})),ae.parllayScanQRApiState===I.CALLED&&(te=new Date-te,M({parllayScanQRApiDurationMs:te,errorMessage:"User cancelled QR Code request"})),ae.offlineState=O(),ae.parllayFetchQRApiState===I.TO_BE_CALLED&&ae.parllayScanQRApiState===I.TO_BE_CALLED&&(J=new Date-J,M({jarvisApiState:I.FAILED,jarvisApiDurationMs:J,errorMessage:"User cancelled QR Code request"})),w.push(T.QR_CODE_CLOSE,ae),X=null,re=null,ie=null}function W(){var e=X||ie;e&&(b.cancelQrCodeRequest(),e.postMessage({isOffline:!0},"*"),ae.exitScreen=C.SCREEN_WECHAT_GFE_CLIENT_OFFLINE,Y.info("Client is offline, cancelling all pending qrcode requests"))}var H=this,j=null,q=null,Y=m.getInstance("main.common/WeChatService"),K=n("translate"),Q=null,Z=!1,X=null,J=0,ee=0,te=0,ne=null,re=null,ie=null,oe=null,ae={},le=["CN"];H.isFeatureSupported=function(){return D.getGeolocation().then(function(e){return s.contains(le,e.countryCode)}).catch(function(){var e="US";return Y.error("Returning default CountryCode: ",e),f.resolve(!1)})},H.showQrCode=function(e){return Q?void(E.onlineState&&E.onlineState.online===!1?y.showOffline():X=V(e)):void Y.error("Showing QR code when expire state is returning null")},H.initialize=function(){j=p.getLoggedInUser(),q=e.getGlobalStore(t.GLOBAL_STORE),z(),i.on(r.WECHAT_NOTIFICATION_CLICKED,B),i.on(u.LOGIN_STATUS_CHANGE,z),i.on(u.OFFLINE,W)}}]);t.weChatService=f},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.windowSpawnService=void 0;var i=n(3),o=r(i),a=n(1);n(18);var l=a.ngMainCommonModule.service("windowSpawnService",["$log","$window","$document","cefService","$interval","eventAggregator","COMMON_EVENTS","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_AVAILABLE_STATUS","tracingService",function(e,t,n,r,i,a,l,s,c,u,d){function f(e){w&&!w.closed?(e&&e.preventDefault(),w.focus(),r.windowFocus(w.name)):m()}function m(){i.cancel(T),x&&(t.removeEventListener("click",f),t.removeEventListener("keydown",f),a.off(l.WINDOW_FOCUS,f),A.remove(),x=!1),t.removeEventListener("message",g,!1),I=null,w&&(D.info("Closing child window:",w.name),w.onload=null,w.close(),w=null),a.trigger(l.CHILD_WINDOW_CLOSED),p(!1)}function p(e,t){o.isNull(C)||(d.closePopUpHttpSpan(C,e,t),C=null)}function g(e){return e.data.error?(p(!0,e.data.error),D.error("failed to load url with error ",e.data.error),void s.push(c.CEF_POPUP_STATE,{url:s.getString(e.data.error.failedUrl),isError:u.YES,errorCode:s.getString(e.data.error.errorCode),errorText:s.getString(e.data.error.errorText)})):(p(!1),C=null,void(o.isNull(I)||I(e)))}function v(){T=i(function(){w&&!w.closed||m()},100)}function h(){A=angular.element('<div class="common-content-blocker-overlay"></div>'),n.find("body").eq(0).append(A),t.addEventListener("click",f),t.addEventListener("keydown",f),a.on(l.WINDOW_FOCUS,f),x=!0}function b(e,t,n,r,i,o){return I=o,y("app_",e,t,n,r,i,g)}function y(e,n,r,i,s,c,u){r&&0!==r.indexOf(e)?r=e+r:r||(r=e+"childWindow");var f={url:n,spanId:null};return d.startHttpSpan(f,!0),C=f.spanId,w=t.open(f.url,r,i),o.isNull(w)?D.error("unable to open child window with url ",n,"params",i,"name",r):(w.onload=function(){a.trigger(l.CHILD_WINDOW_LOADED)},w.sharedData=s,D.debug("Child window opened with url: ",n,"name ",r),c&&h(),t.addEventListener("message",u,!1),v()),w}function E(e,t,n,r,i,o){return I=o,y("borderless_app_",e,t,n,r,i,g)}function S(e,n){var r=t.open(e,"_blank",n);return D.debug("New browser window should have opened with url: ",e),r}var _=this,w=null,A=null,T=null,I=null,C=null,x=!1,D=e.getInstance("main.common/windowSpawnService");_.openChildWindow=b,_.openDefaultBrowser=S,_.openBorderlessPopup=E,_.closeChildWindow=m}]);t.windowSpawnService=l},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.galleryService=void 0;var r=n(30);n(64);var i=r.ngGalleryModule.service("galleryService",["tbdService",function(e){var t=this;t.getGalleryItems=e.getGalleryItems,t.getGalleryShowcaseItems=e.getGalleryShowcaseItems,t.listVideos=e.listVideos}]);t.galleryService=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvMediaPreviewToolbar=void 0;var i=n(30),o=n(810),a=r(o),l=i.ngGalleryModule.directive("nvMediaPreviewToolbar",[function(){return{restrict:"E",template:a.default}}]);t.nvMediaPreviewToolbar=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGameDetails=void 0;var i=n(14);n(342),n(223),n(224),n(489),n(485),n(475),n(291),n(370),n(134);var o=n(816),a=r(o);n(476);var l=i.ngGamesModule.directive("nvGameDetails",function(){return{restrict:"E",scope:{nvSelectedGameId:"=",nvClassicViewEnabled:"@"},template:a.default,controller:"GameDetailsController",controllerAs:"gameDetails",link:function(e,t){function n(){t.empty(),t.remove(),t=null}e.$on("$destroy",n),t.on("$destroy",function(){e.$destroy()})}}});t.nvGameDetails=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.gameListController=void 0;var o=n(3),a=i(o),l=n(14);n(47),n(11),n(135),n(17),n(19),n(189);n(9);n(13),n(294);var s=n(38),c=r(s);n(304);var u=l.ngGamesModule.controller("GameListController",["$scope","eventAggregator","GAME_EVENTS","gamesService","$filter","$log","userGamesService","preferencesService","$window","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","jarvisService","COMMON_GAME_EVENTS","GAME_SCAN_STATE","dbCacheService","DB_NAMES","toastService","$timeout","localeService","oobeGamesService","OOBE_SCAN_STATE","COMMON_DYNAMIC_REDIRECT","INSTALLER_EVENTS","GFECLIENT_USER_CONFIG","PREFERENCES_EVENTS","OOBE_STATE","stateService","oobeDialogService",function(e,t,n,r,i,o,l,s,u,d,f,m,p,g,v,h,b,y,E,S,_,w,A,T,I,C,x,D){function M(){b.showProgress({textContent:i("translate")("l10n.scanning")}),ve()}function O(){Me?De.scanText="l10n.scanning":De.scanText="l10n.scanForGames"}function R(e){We.info("setting scan in progress",e),Me=e,O()}function N(){var e=r.getUiScanState();We.info("games service scan in progress ",e),e===g.UI_SCAN?(M(),R(!0)):O()}function L(){b.showProgress({textContent:i("translate")("l10n.optimizing")}),Ee()}function P(){Oe?De.optimizeText="l10n.optimizing":De.optimizeText="l10n.optimizeAllGames"}function k(e){We.info("setting optimize in progress",e),Oe=e,P()}function G(){var e=r.isOptimizeInProgress();We.info("games service optimize in progress ",e),e?(L(),k(!0)):P()}function F(){if(De.listLimitTo<De.filteredGameList.length&&!Pe){var e=100;Pe=y(function(){De.listLimitTo=De.filteredGameList.length,Pe=null},e)}else De.listLimitTo>De.filteredGameList.length&&(De.listLimitTo=De.filteredGameList.length)}function U(e){De.selectedGame=a.findWhere(e,{id:De.selectedGameId})}function V(){Ae&&a.size(De.filteredGameList)>0&&(U(De.filteredGameList),De.selectedGame||(De.selectedGameId=De.filteredGameList[0].id,t.trigger(p.SELECTED_GAME_CHANGED,De.selectedGameId)))}function B(){a.size(De.gameList)>0&&(De.filteredGameList=De.gameList,De.filteredGameList=i("filter")(De.filteredGameList,De.filter),we.gamesFilters&&we.gamesFilters.optimized?De.filteredGameList=i("filter")(De.filteredGameList,r.filterOptimized(we)):De.isAnselFeatureAvailable&&we.gamesFilters.anselReady?De.filteredGameList=i("filter")(De.filteredGameList,r.filterAnselReady(we)):De.isFreestyleFeatureAvailable&&we.gamesFilters.freestyleReady&&(De.filteredGameList=i("filter")(De.filteredGameList,r.filterFreestyleReady(we))),De.filteredGameList=i("orderBy")(De.filteredGameList,De.sort)),V(),H(),F()}function z(){var e=l.getUserGames();We.debug("refresh Games",e.length),De.gameList=a.map(e,function(e){var t=r.getSystemGame(e.gameId),n={};return a.extend(n,e),a.isUndefined(t)?void We.error("systemGame undefined"):(n.systemGame=t,n)}),De.gameList=a.compact(De.gameList),We.info("After filtering gameList for defined systemGames, count is:",De.gameList.length),B()}function $(e){if(De.gameList){We.debug("refreshGameState",e.shortName);var t=a.filter(De.gameList,function(t){return t.systemGame.id===e.id});t&&1===t.length?(t[0].systemGame=e,B()):We.error("refreshGameState - system game not found")}else We.error("refreshGameState - game list undefined")}function W(){De.filter={},angular.forEach(we.gamesFilters,function(e,t){"favorite"===t&&e===!0?De.filter.favorite=!0:"hidden"===t&&(De.filter.hidden=e)}),B()}function H(){De.gameList&&(ke=De.gameList.length,Ge=a.size(a.filter(De.gameList,function(e){return e.systemGame&&e.systemGame.isACorDCoptimized()})),Fe=a.size(a.filter(De.gameList,{hidden:!0})),Ue=a.size(a.filter(De.gameList,{favorite:!0})),Ve=a.size(a.filter(De.gameList,function(e){return e.systemGame&&e.systemGame.isAnselReady})),Be=a.size(a.filter(De.gameList,function(e){return e.systemGame&&e.systemGame.isFreestyleReady})))}function j(e){if(De.gameList){We.debug("refreshUserGame",e.id);var t=a.findIndex(De.gameList,function(t){return t.id===e.id});if(t!==-1){var n=De.gameList[t].systemGame;De.gameList[t]=e,De.gameList[t].systemGame=n,B()}else We.error("refreshUserGame - user game not found");V()}else We.error("refreshUserGame - game list undefined")}function q(){return De.getOptimizedGamesCount()<=0}function Y(){return!r.hasNoGame(De.gameList)&&De.matchFilter("optimized")&&q()}function K(){return De.getFavoriteGamesCount()<=0}function Q(){return!r.hasNoGame(De.gameList)&&De.matchFilter("favorite")&&K()}function Z(){return De.getAnselReadyGamesCount()<=0}function X(){return De.getFreestyleReadyGamesCount()<=0}function J(){return!r.hasNoGame(De.gameList)&&De.matchFilter("anselReady")&&Z()}function ee(){return!r.hasNoGame(De.gameList)&&De.matchFilter("freestyleReady")&&X()}function te(){return!r.hasNoGame(De.gameList)&&!Q()&&!Y()&&(!De.isAnselFeatureAvailable||!J())&&(!De.isFreestyleFeatureAvailable||!ee())&&r.hasHiddenGame(De.gameList,De.filter,we)}function ne(){return De.getHiddenGamesCount()<=0}function re(){return!r.hasNoGame(De.gameList)&&De.matchFilter("hidden")&&ne()}function ie(){De.isGameOpsSupported=r.getGameOpsSupported(),We.info("opsfeaturestatus on init ",De.isGameOpsSupported)}function oe(e){De.selectedGameId=e,U(De.gameList)}function ae(){!De.isAnselFeatureAvailable&&De.matchFilter("anselReady")||!De.isFreestyleFeatureAvailable&&De.matchFilter("freestyleReady")?De.setFilter("all"):W(),
z()}function le(e){We.info("opsfeaturestatus update",e),De.isGameOpsSupported=e}function se(){if(We.info("initialized received"),S.getScanState()===_.SCANNING){if(Le===!1){var e=function e(){We.info("setting initialized to true, on scan complete"),Ne=!0,t.off(n.SCAN_FINISHED,e),t.off(n.SCAN_FAILED,e)};We.info("oobe scan in progress, initialized to remain false"),t.on(n.SCAN_FINISHED,e),t.on(n.SCAN_FAILED,e),Le=!0}}else Ne=!0;z()}function ce(){De.topIndex=Ae?Te.classicViewTopIndex:Te.topIndex,Ie=e.$watch("games.topIndex",function(){Ae?Te.classicViewTopIndex=De.topIndex:Te.topIndex=De.topIndex,Te.persist_(),t.trigger(p.GAME_LIST_TOP_INDEX_CHANGED,{topIndex:De.topIndex,gamesCount:De.filteredGameList.length})})}function ue(){s.isAnselFeatureSupportedOnSystem().then(function(e){De.isAnselFeatureAvailable=e.isVisible}).finally(function(){we.observe_(ae)})}function de(e){s.isFreestyleSupported(e).then(function(e){De.isFreestyleFeatureAvailable=e.isSupported}).finally(function(){we.observe_(ae)})}function fe(){ze&&ze.data&&ze.data.showBatteryBoostToast&&r.getGameOpsSupported()&&D.loadOOBEState().then(function(e){e===C.COMPLETED_ALL?De.optimizeGames():We.info("Do not optimze explicitly while in OOBE flow through BB notification")})}function me(){We.info("initialize"),we=v.getCachedUserItem(Re.userId,h.JARVIS_GFE_STORE,h.JARVIS_VIEW_STATE),Te=v.getCachedUserItem(Re.userId,h.VIEW_STORE,h.VIEW_STATE),Ae=we.classicViewEnabled,t.on(n.USERGAMES_UPDATED,se),t.on(n.USERGAME_UPDATED,j),t.on(n.GAMESTATE_UPDATED,$),t.on(n.GAMESTATE_INITIALIZED,B),t.on(p.SELECTED_GAME_CHANGED,oe),t.on(n.OPSFEATURE_UPDATED,le),t.on(A.INSTALL_DONE,ue),t.on(I.FEATURES_UPDATED,ue),ie(),N(),Me?k(!1):G(),ce(),ue(),de(!0),$e=y(function(){Ne=l.getInitializedOnce()}),r.isGameListCreated()?fe():t.on(n.GAMELIST_CREATED,fe)}function pe(){t.off(n.USERGAMES_UPDATED,se),t.off(n.USERGAME_UPDATED,j),t.off(n.GAMESTATE_UPDATED,$),t.off(n.GAMESTATE_INITIALIZED,B),t.off(n.GAMELIST_CREATED,fe),t.off(p.SELECTED_GAME_CHANGED,oe),t.off(n.OPSFEATURE_UPDATED,le),t.off(A.INSTALL_DONE,ue),t.off(I.FEATURES_UPDATED,ue),he(),Se(),Pe&&(y.cancel(Pe),Pe=null),$e&&(y.cancel($e),$e=null),we.unobserve_(ae),Ie()}function ge(){var e=0;if(u.performance.getEntriesByName){var t=u.performance.getEntriesByType("resource");We.info("Time taken to fetch image started. Is classic view:",Ae);for(var n=0;n<t.length;n++)"img"===t[n].initiatorType&&(e+=t[n].duration,We.info("Time taken to fetch image (ms):",t[n].name,t[n].duration.toFixed(2)))}return e.toFixed(2)}var ve,he,be,ye,Ee,Se,_e,we,Ae,Te,Ie,Ce,xe,De=this,Me=!1,Oe=!1,Re=m.getLoggedInUser(),Ne=!1,Le=!1,Pe=null,ke=0,Ge=0,Fe=0,Ue=0,Ve=0,Be=0,ze=x.getCurrentStateParams(),$e=null;De.selectedGame=null,De.gameList=null,De.filteredGameList=[],De.filter={},De.sort="systemGame.displayName",De.selectedGameId=e.nvSelectedGameId,De.devFeatures=v.getCachedGlobalItem(h.DEV_STORE,h.DEV_FEATURES),De.listLimitTo=10,De.topIndex=0,De.isAnselFeatureAvailable=!1,De.isFreestyleFeatureAvailable=!1;var We=o.getInstance("main.games/GameListController");We.info("GameListController created"),De.changeView=function(e){t.trigger(p.GAME_VIEW_CHANGED,e)},De.setSelectedGameId=function(e){De.selectedGameId!==e&&(De.selectedGameId=e,t.trigger(p.SELECTED_GAME_CHANGED,e))},De.isSelected=function(e){return De.selectedGameId===e},De.setFilter=function(e){we.gamesFilters={all:!1,optimized:!1,favorite:!1,anselReady:!1,freestyleReady:!1,hidden:!1},we.gamesFilters[e]=!0,we.persist_(),W()},De.setFallbackFilter=function(){var e=te()&&!re()?"hidden":"all";De.setFilter(e)},De.matchFilter=function(e){var t=!1;return t="optimized"===e?we.gamesFilters&&we.gamesFilters.optimized:we.gamesFilters&&we.gamesFilters[e]},De.findAWayToPlay=function(){De.findPlayUrl=w.BASE_URL+E.getCurrentLocaleWithUnderscore()+"&page="+w.SUPPORTED_GAMES,We.info("SupportedGames redirects to url:: "+De.findPlayUrl),u.open(De.findPlayUrl)},De.getGamesCount=function(){return ke},De.getOptimizedGamesCount=function(){return Ge},De.getFavoriteGamesCount=function(){return Ue},De.getAnselReadyGamesCount=function(){return Ve},De.getFreestyleReadyGamesCount=function(){return Be},De.getHiddenGamesCount=function(){return Fe},De.scanGames=function(){We.info("scan local games"),M(),xe=d.startLoad(f.HOME_SCANTIME_GAMES),r.scanLocalGames(!1),R(!0)},De.scanGamesProgressText=function(e){var t="l10n.scanGamesProgress";return 0===e?t="l10n.noGamesFound":1===e&&(t="l10n.scanGameProgress"),t},ve=function(){We.debug("registering game scan events"),t.on(n.SCAN_FINISHED,be),t.on(n.SCAN_FAILED,ye)},he=function(){We.debug("unregistering game scan events"),R(!1),t.off(n.SCAN_FINISHED,be),t.off(n.SCAN_FAILED,ye)},be=function(){d.endLoad(f.HOME_SCANTIME_GAMES,xe);var e=a.size(De.gameList),t={textContent:i("translate")(De.scanGamesProgressText(e),{numGamesScanned:e})};r.hasNoGame(De.gameList)||r.allGamesFullyOptimized(De.gameList)||r.hasHiddenGame(De.gameList,De.filter,we)?b.show(t):(We.info("game optimization required"),r.isAutoOptimizeEnabled().then(function(e){e||angular.extend(t,{button:{text:i("translate")("l10n.optimize"),action:De.optimizeGamesFromScan}})}).finally(function(){b.show(t)})),he()},ye=function(){he(),b.showError({textContent:i("translate")("l10n.scanningFailed")})},De.optimizeGamesFromScan=function(){We.info("optimize local games after scan"),De.optimizeGames()},De.optimizeGames=function(){We.info("optimize local games"),L(),Ce=d.startLoad(f.HOME_OPTIMIZETIME_GAMES),r.optimizeLocalGames(),k(!0)},Ee=function(){We.debug("registering game optimize events"),t.on(n.OPTIMIZE_GAMES_UPDATE,_e)},Se=function(){We.debug("unregistering game optimize events"),k(!1),t.off(n.OPTIMIZE_GAMES_UPDATE,_e)},_e=function(e){d.endLoad(f.HOME_OPTIMIZETIME_GAMES,Ce),Se(),b.show({textContent:i("translate")("l10n.optimizeFinished")})},De.fallbackButtonText=function(){return te()&&!re()?"l10n.viewHiddenGames":"l10n.viewAllGames"},De.showNoGameFallbackMessage=function(){return Ne&&r.hasNoGame(De.gameList)},De.gameListReady=function(){return!(r.hasNoGame(De.gameList)||Q()||te()||Y()||De.isAnselFeatureAvailable&&J()||De.isFreestyleFeatureAvailable&&ee())},De.showFallbackMessage=function(){return Y()||Q()||te()||De.isAnselFeatureAvailable&&J()||De.isFreestyleFeatureAvailable&&ee()},De.fallbackMessage=function(){return Y()?"l10n.gamesAreNotOptimized":Q()?"l10n.noFavoriteGames":J()?"l10n.noAnselReadyGames":ee()?"l10n.noFreestyleReadyGames":re()?"l10n.noHiddenGames":"l10n.gamesAreHidden"},De.fallbackImage=function(){return Y()||J()||ee()?"remove_circle":Q()?"star_border":re()?"visibility_off":void 0},De.buttonDisabled=function(e){switch(e){case"all":return r.hasNoGame(De.gameList)||De.getGamesCount()<=0;case"favorite":return r.hasNoGame(De.gameList)||Q()||K()||De.getGamesCount()<=0;case"optimized":return r.hasNoGame(De.gameList)||Y()||q()||De.getGamesCount()<=0;case"hidden":return r.hasNoGame(De.gameList)||re()||ne();case"optimizeAll":return r.hasNoGame(De.gameList)||Me||Oe||r.allGamesFullyOptimized(De.gameList)||r.hasHiddenGame(De.gameList,De.filter,we);case"anselReady":return r.hasNoGame(De.gameList)||J()||Z()||De.getGamesCount()<=0;case"freestyleReady":return r.hasNoGame(De.gameList)||ee()||X()||De.getGamesCount()<=0;case"scanGames":return Me||Oe;default:return!1}},De.isGameSelected=function(e){var t=!1;return e&&e.id?t=De.selectedGameId===e.id:We.info("Game is undefined."),t},De.getGameIconImage=function(e){return e.systemGame&&e.systemGame.iconImage24?e.systemGame.iconImage24:c.default},e.$on("$destroy",pe),me(),De.onLoad=function(){T.imageLoadPerfEnabled&&We.info("Time taken to fetch all images on home page (ms):",ge())}}]);t.gameListController=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGameStore=void 0;var i=n(31);n(497);var o=n(828),a=r(o);n(495);var l=i.ngGfnModule.directive("nvGameStore",function(){return{restrict:"E",scope:{nvGameType:"@"},template:a.default,controller:"GameStoreController",controllerAs:"games"}});t.nvGameStore=l},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.oobeDialogService=void 0;var i=n(9);n(532),n(529),n(189),n(306),n(29),n(13),n(11),n(181),n(23);var o=n(3),a=r(o),l=i.ngOobeModule.factory("oobeDialogService",["$log","$state","gfeService","jarvisService","eventAggregator","dbService","DB_NAMES","oobeTelemetryService","$mdPanel","hardwareService","oobeGamesService","COMMON_EVENTS","COMMON_DEFAULT_STATES","OOBE_STATE","gfeTargetService","OOBE_LOGIN","$q","gamesService",function(e,t,n,r,i,o,l,s,c,u,d,f,m,p,g,v,h,b){function y(e){return e===p.COMPLETED_ALL&&(x.info("notify ootb completion"),b.ootbFinished()),C.setItem(l.OOBE_STATE,e)}function E(e){x.info("sysinfo updated",e.DriverVersion),a.propertyOf(e)("DriverVersion")&&(i.off(f.SYSTEMINFO_UPDATED,E),I!==p.COMPLETED_ALL&&t.go(m.HOME_STATE,{},{location:"replace"}),T.finishOobe(r.getLoggedInUser()))}function S(e){var t;t=e.user?"LAUNCH_STATE_VALID_SESSION":e.initialState===p.COMPLETED_ALL?null:"LAUNCH_STATE_LOGIN",s.startFlow(t);var n='<nv-oobe nv-oobe-params="panelCtrl.nvOobeParams" aria-label="oobe-panel-section" aria-hidden="true"></nv-oobe>';A=c.create({template:n,controllerAs:"panelCtrl",controller:[function(){}],position:c.newPanelPosition().absolute().center(),trapFocus:!1,zIndex:79,locals:{nvOobeParams:e},bindToController:!0,hasBackdrop:!0,panelClass:"oobe-panel"}),A.open()}function _(){var e='<nv-oobe-blocked aria-label="oobe-panel-blocked" aria-hidden="true"></nv-oobe-blocked>';A=c.create({template:e,controllerAs:"panelCtrl",controller:[function(){}],position:c.newPanelPosition().absolute().center(),trapFocus:!1,zIndex:79,bindToController:!0,hasBackdrop:!0,panelClass:"oobe-panel"}),A.open()}function w(e){if(e.domains.list){x.debug("email not verified - verify if email belongs to locked domain");var t=e.user.core.primaryEmail,n=t.substring(t.indexOf("@")+1);if(e.domains.list.indexOf(n)>-1)return!0}return!1}var A,T={},I=p.COMPLETED_NONE,C=o.getGlobalStore(l.GLOBAL_STORE),x=e.getInstance("main.oobe/oobeDialogService");return T.loadOOBEState=function(){return C.getItem(l.OOBE_STATE)},T.launch=function(e){T.loadOOBEState().then(function(t){I=t,x.info("Launch OOBE current state:",t),S({initialState:t,sessionExpired:e})})},T.gfeBlocked=function(){_()},T.getState=function(){return I},T.setState=function(e){I=e,y(I)},T.notifyNodeOOBEFinished=function(){x.info("function notifyNodeOOBEFinished called"),b.ootbFinished()},T.finishOobe=function(e){var t=!1;u.getLaunchTimeSystemInfo().then(function(e){t=!a.propertyOf(e)("DriverVersion")}).catch(function(e){x.error("fail to get driver info")}).finally(function(){t?i.on(f.SYSTEMINFO_UPDATED,E):T.loadOOBEState().then(function(t){I=t||p.COMPLETED_NONE,x.info("Finish OOBE current state:",I),I!==p.COMPLETED_ALL?(x.info("finish oobe scan"),S({user:e,initialState:t})):(x.info("finish oobe initialize games"),d.initializeGames(e),T.notifyNodeOOBEFinished())})})},T.close=function(e){s.endFlow(e),A&&A.close()},T.waitForDriverInstall=function(){i.on(f.SYSTEMINFO_UPDATED,E),i.trigger(f.LOGIN_STATUS_CHANGE,!0),t.go("main.auth.updates",{updateState:"checkForUpdate"},{location:"replace"}),T.close()},T.reset=function(){x.info("Reset to Out of Box Experience state"),T.close(),y(p.COMPLETED_NONE),n.logout()},T.skipEmailVerification=function(e,t,n){var r=h.defer();return w(e)?r.resolve(!0):t!==v.SOCIAL||n!==v.QQ&&n!==v.WECHAT?r.resolve(!1):(g.setMboxThirdPartyId(e.user&&e.user.userId),x.debug("Email verification skipped"),r.resolve(!0)),r.promise},T}]);t.oobeDialogService=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeFeatureService=void 0;var r=n(9);n(189);var i=r.ngOobeModule.service("oobeFeatureService",["$log","oobeTelemetryService","oobeGamesService","$q","preferencesService","eventAggregator","OOBE_EVENTS","oobeDialogService","$filter","toastService","COMMON_HTTP_ERROR_CODES","SHARE_CONSTANTS",function(e,t,n,r,i,o,a,l,s,c,u,d){function f(){i.getShareRunningStatus().then(function(e){if(e){var t=s("translate")("l10n.sharingEnabled");m(t,"icon-share",!0,"color-green",!1),i.showShareSlideOutNotification(d.SLIDE_OUT_NOTIFICATION).then(function(e){p.info("showShareSlideOutNotification status: ",e)},function(e){p.error("showShareSlideOutNotification failed.")})}}).catch(function(e){if(p.error("getShareRunningStatus failed."),e.status===u.NOT_FOUND){var t=s("translate")("l10n.shareNotReady");m(t,"icon-share",!0,"feature-not-supported-icon-color",!0)}})}function m(e,t,n,r,i){c.show({textContent:e,icon:t,isCustomIcon:n,customColor:r,alertIcon:i})}var p=e.getInstance("main.oobe/oobeFeatureService"),g=this,v=null;g.activateDefaultFeatureSettings=function(e){g.triggerGameScan(e),g.getAvailableFeatures().then(function(e){e.indexOf("share")>-1&&g.enableShare()})},g.triggerGameScan=function(e){t.recordAction("OOBE_SCAN"),n.startScan(e)},g.getAvailableFeatures=function(){return v?r.resolve(v):i.getApplicationFeatureSet().then(function(e){return v=e,r.resolve(v)})},g.enableShare=function(){i.toggleShareState(!0).then(function(e){p.info("toggleShareState status: ",e),t.changeSetting("APPLICATION_SETTING_ENABLE_SHARE",!0)}).catch(function(e){p.error("toggleShareState failed with error:",e),t.changeSettingFail("APPLICATION_SETTING_ENABLE_SHARE_FAILED",!0,e.data&&e.data.code||e.status)})},g.closeOobeFeaturesDialog=function(){o.trigger(a.OOBE_DONE),l.close("SUCCESS"),t.endActionAsync("OOBE_SCAN_COMPLETE_DONE","SUCCESS"),f()}}]);t.oobeFeatureService=i},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.oobeTelemetryService=void 0;var i=n(9),o=n(3),a=r(o),l=i.ngOobeModule.factory("oobeTelemetryService",["telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_SCREENS","TELEMETRY_STATUS","TELEMETRY_OOBE_LAUNCH_STATE","TELEMETRY_GFE_SESSION_STATE","$log",function(e,t,n,r,i,o,l){function s(e){return(a.isUndefined(e)||a.isNull(e))&&(e=""),e=e.toString()}function c(e){return e=s(e),a.has(r,e)&&(e=r[e]),e}var u,d,f={},m=null,p={},g=l.getInstance("main.oobe/oobeTelemetryService");return f.updateScreen=function(t){e.setScreen(n[t])},f.recordAction=function(n){var r=t[n];g.info("oobe recordAction executed with event id ",n,"event name "+r.name),e.push(t[n],{currentScreen:e.getScreen(),action:r.enumId})},f.startActionAsync=function(n){var r=t[n];p[n]={currentScreen:e.getScreen(),startTime:e.startLoad(r)}},f.endActionAsync=function(n,r,i){var o,l=a.propertyOf(p)(n),d=t[n];l&&("APP_EXIT"===r&&(o={appExit:!0}),e.endLoad(d,p[n].startTime,{action:d.enumId,gfeSessionState:u,currentScreen:l.currentScreen,status:c(r),errorDetails:s(i)},o),delete p[n])},f.startFlow=function(n){n?(u=o.OOBE,m=i[n],d=e.startLoad(t.OOBE_START_EXIT_SEQUENCE)):(m=null,u=o.NON_OOBE)},f.updateFlow=function(e){m&&(m=i[e])},f.endFlow=function(n){var r;n&&("APP_EXIT"===n&&(r={appExit:!0}),m&&e.endLoad(t.OOBE_START_EXIT_SEQUENCE,d,{oobeLaunchState:m,oobeExitScreen:e.getScreen(),status:c(n)},r),a.each(p,function(e,t){f.endActionAsync(t,n)}))},f.changeSetting=function(n,r){e.changeSetting(t[n],r)},f.changeSettingFail=function(n,r,i){e.changeSettingFail(t[n],r,i)},f}]);t.oobeTelemetryService=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvEditAvatar=void 0;var i=n(4),o=n(850),a=r(o);n(538),n(365);var l=i.ngPreferencesModule.directive("nvEditAvatar",[function(){return{restrict:"A",scope:{},bindToController:{nvDialogModel:"="},template:a.default,controller:"EditAvatarController",controllerAs:"editAvatarCtrl"}}]);t.nvEditAvatar=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesGamesQuietMode=void 0;var i=n(4);n(15);var o=n(874),a=r(o);n(579);var l=i.ngPreferencesModule.component("nvPreferencesGamesQuietMode",{template:a.default,controller:"PreferencesGamesQuietModeController",controllerAs:"preferencesGamesQuietMode"});t.nvPreferencesGamesQuietMode=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesGeneralNIS=void 0;var i=n(4);n(15);var o=n(880),a=r(o);n(590);var l=i.ngPreferencesModule.component("nvPreferencesGeneralNis",{template:a.default,controller:"PreferencesGeneralNISController",controllerAs:"preferencesGeneralNIS"});t.nvPreferencesGeneralNIS=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesGeneralQuiteMode2=void 0;var i=n(4);n(15);var o=n(882),a=r(o);n(593);var l=i.ngPreferencesModule.component("nvPreferencesGeneralQuiteMode2",{template:a.default,controller:"PreferencesGeneralQuiteMode2Controller",controllerAs:"preferencesGeneralQuiteMode2"});t.nvPreferencesGeneralQuiteMode2=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvRewardsCenter=void 0;var i=n(53),o=n(892),a=r(o);n(613),n(42),n(612);var l=i.ngRewardsModule.directive("nvRewardsCenter",["eventAggregator","REWARDS_EVENTS","$log","$timeout",function(e,t,n,r){return{restrict:"E",scope:{},template:a.default,controller:"RewardsCenterController",controllerAs:"rewardsCenter",link:function(i,o,a){function l(){var e=o.find("md-content");_.size(e)>0?r(function(){e[0].scrollTop=0}):u.error("Could not find a scroll element to reset scroll postion")}function s(){e.on(t.RESET_SCROLL_POSITION,l)}function c(){e.off(t.RESET_SCROLL_POSITION,l),o.empty(),o.remove(),o=null}var u=n.getInstance("main.rewards/RewardsCenterDirective");s(),i.$on("$destroy",c),o.on("$destroy",function(){i.$destroy()})}}}]);t.nvRewardsCenter=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvUpdateDownloadProgress=void 0;var i=n(10),o=n(900),a=r(o),l=i.ngUpdatesModule.directive("nvUpdateDownloadProgress",function(){return{restrict:"E",scope:{nvMessage:"@",nvValue:"@"},template:a.default,link:function(e,t){function n(){t.empty(),t.remove(),t=null}e.$on("$destroy",n),t.on("$destroy",function(){e.$destroy()})}}});t.nvUpdateDownloadProgress=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvDriverItem=void 0;var i=n(10),o=n(910),a=r(o),l=i.ngUpdatesModule.directive("nvDriverItem",function(){return{restrict:"E",scope:{nvDriver:"=",nvMdIcon:"@"},template:a.default,link:function(e,t){function n(){t.empty(),t.remove(),t=null}e.$on("$destroy",n),t.on("$destroy",function(){e.$destroy()})}}});t.nvDriverItem=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.editProfileCoverController=void 0;var i=n(8);n(278),n(120);var o=n(239),a=r(o),l=i.ngUserProfileModule.controller("EditProfileCoverController",["$scope","$log","$mdDialog","galleryService","nvSpCapsEndpoints","preferencesService","eventAggregator","COMMON_EVENTS","GALLERY_TYPES","CROPPIE_CONSTANTS","$filter","GALLERY_SUBTYPES",function(e,t,n,r,i,o,l,s,c,u,d,f){function m(e){return e.type===c.IMAGE&&e.subtype!==f.EXR}function p(){return r.thumbSizes=T,i.getRecordingPaths().then(function(e){return r.setRecordingPaths(e.data)}).then(function(){return r.getRecentFiles()}).then(function(){return r.checkCachedData()}).then(function(){y.recentImages=_.filter(r.populatedRecentFilesFolder,function(e){return m(e.file)})})}function g(){p().then(angular.noop).catch(function(e){w.error("could not fetch uploaded files",e)}),r.active(!0)}function v(){y.loadingDone=!1,o.getShareRunningStatus().then(function(e){y.isShareEnabled=e,e&&g(),w.info("getShareRunningStatus returned: ",y.enabledShare)}).catch(function(e){w.error("getShareRunningStatus failed.")}).finally(function(){y.loadingDone=!0})}function h(){y.showRecentlyCaptured&&(v(),l.on(s.SHARE_STATUS_CHANGED,v)),y.boundary&&(y.croppieBoundary=y.boundary),y.viewport&&(y.croppieViewport=y.viewport),l.on(s.WINDOW_FOCUS,p)}function b(){y.showRecentlyCaptured&&(l.off(s.SHARE_STATUS_CHANGED,v),r.active(!1)),l.off(s.WINDOW_FOCUS,p)}var y=this,E=!1,S=!1,w=t.getInstance("main.userProfile/editProfileCoverController"),A=!1,T={width:208,height:117},I={w:652,h:204},C={w:652,h:198};({"Image Files":u.SUPPORTED_FILE_TYPES});y.isShareEnabled=!1,y.selectedCoverVideoUrl=null,y.recentImages=[],y.hitApply=!1,y.croppieBoundary=I,y.croppieViewport=C,y.imageError=!1,y.defaultCoverImage=a.default,y.showCroppie=function(){return S&&!E},y.showPreview=function(){return!S&&!E},y.showError=function(){return E},y.submitDisabled=function(){return!A&&(!S||E)},y.recentlyCapturedVisible=function(){return y.recentImages.length&&y.showRecentlyCaptured},y.commitUpdate=function(){A?(y.hitApply=!0,y.updateImageCallback(y.defaultCoverImage),n.cancel()):(y.hitApply=!0,y.output.then(function(e){y.updateImageCallback(e),n.cancel()}))},y.onUpdate=function(e){e.error?(E=!0,y.errorMsg=d("translate")("l10n.fileSelectionError",y.outputFormat.minSize),w.error("onUpdate got error",e.error)):e.success&&(E=!1)},y.cancelUpdate=function(){n.cancel()},y.selectScreenshot=function(e){y.sourceImage=e.file.name,S=!0,A=!1},y.selectDefaultCover=function(){y.sourceImage=null,y.image=y.defaultCoverImage,A=!0,S=!1,E=!1},y.onFileSelect=function(e){y.sourceImage=e,S=!0,A=!1},e.$on("$destroy",b),h()}]);t.editProfileCoverController=l},function(e,t,n){e.exports=n.p+"bckgnd.jpg"},function(e,t){e.exports="<div class=\"bg-dark-bluish-gray tourStep nv-ui-tour-popup nv-popover {{ tourStep.config('popupClass') }} {{ tourStep.config('orphan') ? 'nv-ui-tour-popup-orphan' : tourStep.config('placement').split('-')[0] + ' ' + tourStep.config('placement') }}\" ng-style=\"{\r\nvisibility: 'hidden',\r\ndisplay: 'block',\r\nposition: tourStep.config('fixed') || tourStep.config('orphan') ? 'fixed' : 'absolute',\r\nzIndex: tourStep.config('backdropZIndex') + 2\r\n}\" tabindex=0 aria-hidden=\"{{ tour._getCurrentStep() !== tourStep }}\" aria-label=tour-popup-section> <div class=arrow></div> <div class=\"nv-popover-inner tour-step-inner\" layout=column> <p class=\"tour-step-title padding-24 margin-zero font-size-lg\" ng-bind=\"tourStep.config('title')\" ng-if=\"tourStep.config('title')\"></p> <div layout=row layout-align=\"end center\" class=\"constants-position-absolute right-zero top-zero padding-8\"> <md-button class=\"md-icon-button nv-popover-close-button\" ng-click=tour.pause() aria-label=pause-tour-button> <md-icon md-font-set=material-icons class=nv-popover-close-button aria-label=closeIcon aria-hidden=true>close</md-icon> </md-button> </div> <div class=\"nv-popover-content-container tour-step-content\" ng-include=\"tourStep.config('templateUrl') || 'tour-step-template.html'\" flex layout=row aria-label=tour-popover-content></div> </div> </div> "},function(e,t){e.exports=' <div layout=column layout-align="space-between start" flex> <div class="nv-popover-content tour-step-content margin-top-16" bind-html-compile="tourStep.trustedContent || tourStep.content" ng-if=tourStep.content></div> <div layout=row layout-align="end center" class="nv-popover-navigation tour-step-navigation padding-8"> <md-button ng-if=tourStep.isNext() ng-click=tour.next() class="md-accent foreground margin-zero" translate=l10n.nextTip aria-label=tour-next-button> </md-button> <md-button ng-if=!tourStep.isNext() ng-click=tour.next() class="md-accent foreground margin-zero" translate=l10n.gotItText aria-label=tour-finish-button> </md-button> </div> </div> '},function(e,t){e.exports=' <form name=nvCouponValidation autocomplete=off novalidate class=coupon-validation-container layout=row layout-align="center start" ng-submit=couponInput.redeemCoupon($event)> <div layout=column> <input class="coupon-code-input color-white-hue-1 padding-zero padding-left-16 font-size-xxs bg-dark-vh-hue-2 font-family-roboto-light" type=text placeholder={{couponInput.nvInputPlaceholder}} name=coupon ng-model=couponInput.couponCode ng-change=couponInput.validateCoupon() spellcheck=false ng-trim=false /> <p ng-show=couponInput.codeInvalid translate={{couponInput.nvErrorMessage}} class="coupon-input-error-message margin-zero color-red-hue-1 line-height-sm1"></p> </div> <md-button class="md-raised md-accent margin-zero margin-left-16" type=submit ng-disabled=couponInput.actionButtonDisabled aria-label=submit-couponInput-button> <span translate={{couponInput.nvButton.text}} class=color-white-important aria-label={{couponInput.nvButton.text}}></span> </md-button> </form> '},function(e,t){e.exports=' <md-dialog layout=column class=croppie-dialog ng-class=editProfileCover.dialogClass> <h1 class="title font-style-normal color-white-hue-1" translate={{editProfileCover.title}}></h1> <p translate={{editProfileCover.subTitle}} class="subtitle color-white-hue-4 font-size-xxs"></p> <div class=padding-24> <div ng-show=editProfileCover.showCroppie() class=cover-image-preview> <div layout=row layout-align="center center" class=constants-position-relative> <nv-croppie async-result=editProfileCover.output output-format=editProfileCover.outputFormat update=editProfileCover.onUpdate boundry=editProfileCover.croppieBoundary viewport=editProfileCover.croppieViewport type=square zoom=true src=editProfileCover.sourceImage hit-apply=editProfileCover.hitApply> </nv-croppie> <nv-overlay class=common-overlay layout-fill ng-show=editProfileCover.showProgressIndicator> <span layout-fill layout-align="center center" layout=column> <md-progress-circular id=progressIndicator class=md-accent md-diameter=15 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> <nv-overlay class=common-overlay layout-fill ng-show=editProfileCover.showSuccess> <span layout-fill layout-align="center center" layout=column> <md-icon md-font-set=material-icons class="margin-zero md-accent md-32" aria-label=checkCircle aria-hidden=true>check_circle</md-icon> </span> </nv-overlay> </div> </div> <div ng-show=editProfileCover.showPreview() class=cover-image-preview> <div layout=column layout-align="center center" class=constants-position-relative> <img ng-src={{editProfileCover.image}} nv-fallback-src={{editProfileCover.defaultImage}} /> <nv-overlay class=common-overlay layout-fill ng-show=editProfileCover.showProgressIndicator> <span layout-fill layout-align="center center" layout=column> <md-progress-circular id=progressIndicator class=md-accent md-diameter=15 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> <nv-overlay class=common-overlay layout-fill ng-show=editProfileCover.showSuccess> <span layout-fill layout-align="center center" layout=column> <md-icon md-font-set=material-icons class="margin-zero md-accent md-32" aria-label=checkCircle aria-hidden=true>check_circle</md-icon> </span> </nv-overlay> </div> </div> <div layout=column ng-show=editProfileCover.showError() flex layout-align="center center" class="bg-dark-eh cover-image-preview"> <md-icon md-font-set=material-icons class="margin-zero color-white-hue-4 md-32" aria-label=error aria-hidden=true>error</md-icon> <p class="color-white-hue-4 font-size-sm1">{{editProfileCover.errorMsg}}</p> </div> <div layout=row layout-align="space-between center" class="margin-bottom-8 margin-top-8"> <p class="color-white-hue-4 margin-zero" translate=l10n.chooseFromLatestCaptures></p> <div flex></div> <nv-image-upload on-image-select=editProfileCover.onFileSelect(newImage)> <span class="md-button margin-zero" translate=l10n.uploadFromPC></span> </nv-image-upload> </div> <md-content class=gallery-tile-container> <md-list> <md-list-item class=gallery-tile> <img ng-src={{editProfileCover.defaultCoverImage}} class="clickable-element no-focus-outline" ng-click=editProfileCover.selectDefaultCover() /> <nv-overlay class="common-overlay no-background" nv-position="bottom right"> <span layout-fill layout-align="center center" class=margin-24 layout=column translate=l10n.default></span> </nv-overlay> </md-list-item> <md-list-item ng-if=editProfileCover.recentlyCapturedVisible() class=gallery-tile ng-repeat="recentFile in editProfileCover.recentImages track by $index"> <img ng-src={{recentFile.data}} class="clickable-element no-focus-outline" ng-click=editProfileCover.selectScreenshot(recentFile) /> </md-list-item> </md-list> </md-content> </div> <div layout=row layout-align="end center"> <md-button ng-click=editProfileCover.cancelUpdate() translate=l10n.cancel aria-label=cancelUpdate-button></md-button> <md-button type=submit ng-click=editProfileCover.commitUpdate() ng-disabled=editProfileCover.submitDisabled() translate=l10n.apply aria-label=commitUpdate-button></md-button> </div> </md-dialog> '},,function(e,t,n){e.exports={default:n(940),__esModule:!0}},function(e,t,n){var r,i;(function(){function n(e){function t(t,n,r,i,o,a){for(;o>=0&&o<a;o+=e){var l=i?i[o]:o;r=n(r,t[l],l,t)}return r}return function(n,r,i,o){r=w(r,o,4);var a=!M(n)&&_.keys(n),l=(a||n).length,s=e>0?0:l-1;return arguments.length<3&&(i=n[a?a[s]:s],s+=e),t(n,r,i,a,s,l)}}function o(e){return function(t,n,r){n=A(n,r);for(var i=D(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}}function a(e,t,n){return function(r,i,o){var a=0,l=D(r);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+l,a):l=o>=0?Math.min(o+1,l):o+l+1;else if(n&&o&&l)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=t(p.call(r,a,l),_.isNaN),o>=0?o+a:-1;for(o=e>0?a:l-1;o>=0&&o<l;o+=e)if(r[o]===i)return o;return-1}}function l(e,t){var n=P.length,r=e.constructor,i=_.isFunction(r)&&r.prototype||d,o="constructor";for(_.has(e,o)&&!_.contains(t,o)&&t.push(o);n--;)o=P[n],o in e&&e[o]!==i[o]&&!_.contains(t,o)&&t.push(o)}var s=this,c=s._,u=Array.prototype,d=Object.prototype,f=Function.prototype,m=u.push,p=u.slice,g=d.toString,v=d.hasOwnProperty,h=Array.isArray,b=Object.keys,y=f.bind,E=Object.create,S=function(){},_=function(e){return e instanceof _?e:this instanceof _?void(this._wrapped=e):new _(e)};"undefined"!=typeof e&&e.exports&&(t=e.exports=_),t._=_,_.VERSION="1.8.3";var w=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},A=function(e,t,n){return null==e?_.identity:_.isFunction(e)?w(e,t,n):_.isObject(e)?_.matcher(e):_.property(e)};_.iteratee=function(e,t){return A(e,t,1/0)};var T=function(e,t){return function(n){var r=arguments.length;if(r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=e(o),l=a.length,s=0;s<l;s++){var c=a[s];t&&void 0!==n[c]||(n[c]=o[c])}return n}},I=function(e){if(!_.isObject(e))return{};if(E)return E(e);S.prototype=e;var t=new S;return S.prototype=null,t},C=function(e){return function(t){return null==t?void 0:t[e]}},x=Math.pow(2,53)-1,D=C("length"),M=function(e){var t=D(e);return"number"==typeof t&&t>=0&&t<=x};_.each=_.forEach=function(e,t,n){t=w(t,n);var r,i;if(M(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=_.keys(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e},_.map=_.collect=function(e,t,n){t=A(t,n);for(var r=!M(e)&&_.keys(e),i=(r||e).length,o=Array(i),a=0;a<i;a++){var l=r?r[a]:a;o[a]=t(e[l],l,e)}return o},_.reduce=_.foldl=_.inject=n(1),_.reduceRight=_.foldr=n(-1),_.find=_.detect=function(e,t,n){var r;if(r=M(e)?_.findIndex(e,t,n):_.findKey(e,t,n),void 0!==r&&r!==-1)return e[r]},_.filter=_.select=function(e,t,n){var r=[];return t=A(t,n),_.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},_.reject=function(e,t,n){return _.filter(e,_.negate(A(t)),n)},_.every=_.all=function(e,t,n){t=A(t,n);
for(var r=!M(e)&&_.keys(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(!t(e[a],a,e))return!1}return!0},_.some=_.any=function(e,t,n){t=A(t,n);for(var r=!M(e)&&_.keys(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(t(e[a],a,e))return!0}return!1},_.contains=_.includes=_.include=function(e,t,n,r){return M(e)||(e=_.values(e)),("number"!=typeof n||r)&&(n=0),_.indexOf(e,t,n)>=0},_.invoke=function(e,t){var n=p.call(arguments,2),r=_.isFunction(t);return _.map(e,function(e){var i=r?t:e[t];return null==i?i:i.apply(e,n)})},_.pluck=function(e,t){return _.map(e,_.property(t))},_.where=function(e,t){return _.filter(e,_.matcher(t))},_.findWhere=function(e,t){return _.find(e,_.matcher(t))},_.max=function(e,t,n){var r,i,o=-(1/0),a=-(1/0);if(null==t&&null!=e){e=M(e)?e:_.values(e);for(var l=0,s=e.length;l<s;l++)r=e[l],r>o&&(o=r)}else t=A(t,n),_.each(e,function(e,n,r){i=t(e,n,r),(i>a||i===-(1/0)&&o===-(1/0))&&(o=e,a=i)});return o},_.min=function(e,t,n){var r,i,o=1/0,a=1/0;if(null==t&&null!=e){e=M(e)?e:_.values(e);for(var l=0,s=e.length;l<s;l++)r=e[l],r<o&&(o=r)}else t=A(t,n),_.each(e,function(e,n,r){i=t(e,n,r),(i<a||i===1/0&&o===1/0)&&(o=e,a=i)});return o},_.shuffle=function(e){for(var t,n=M(e)?e:_.values(e),r=n.length,i=Array(r),o=0;o<r;o++)t=_.random(0,o),t!==o&&(i[o]=i[t]),i[t]=n[o];return i},_.sample=function(e,t,n){return null==t||n?(M(e)||(e=_.values(e)),e[_.random(e.length-1)]):_.shuffle(e).slice(0,Math.max(0,t))},_.sortBy=function(e,t,n){return t=A(t,n),_.pluck(_.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index}),"value")};var O=function(e){return function(t,n,r){var i={};return n=A(n,r),_.each(t,function(r,o){var a=n(r,o,t);e(i,r,a)}),i}};_.groupBy=O(function(e,t,n){_.has(e,n)?e[n].push(t):e[n]=[t]}),_.indexBy=O(function(e,t,n){e[n]=t}),_.countBy=O(function(e,t,n){_.has(e,n)?e[n]++:e[n]=1}),_.toArray=function(e){return e?_.isArray(e)?p.call(e):M(e)?_.map(e,_.identity):_.values(e):[]},_.size=function(e){return null==e?0:M(e)?e.length:_.keys(e).length},_.partition=function(e,t,n){t=A(t,n);var r=[],i=[];return _.each(e,function(e,n,o){(t(e,n,o)?r:i).push(e)}),[r,i]},_.first=_.head=_.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:_.initial(e,e.length-t)},_.initial=function(e,t,n){return p.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},_.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:_.rest(e,Math.max(0,e.length-t))},_.rest=_.tail=_.drop=function(e,t,n){return p.call(e,null==t||n?1:t)},_.compact=function(e){return _.filter(e,_.identity)};var R=function(e,t,n,r){for(var i=[],o=0,a=r||0,l=D(e);a<l;a++){var s=e[a];if(M(s)&&(_.isArray(s)||_.isArguments(s))){t||(s=R(s,t,n));var c=0,u=s.length;for(i.length+=u;c<u;)i[o++]=s[c++]}else n||(i[o++]=s)}return i};_.flatten=function(e,t){return R(e,t,!1)},_.without=function(e){return _.difference(e,p.call(arguments,1))},_.uniq=_.unique=function(e,t,n,r){_.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=A(n,r));for(var i=[],o=[],a=0,l=D(e);a<l;a++){var s=e[a],c=n?n(s,a,e):s;t?(a&&o===c||i.push(s),o=c):n?_.contains(o,c)||(o.push(c),i.push(s)):_.contains(i,s)||i.push(s)}return i},_.union=function(){return _.uniq(R(arguments,!0,!0))},_.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=D(e);r<i;r++){var o=e[r];if(!_.contains(t,o)){for(var a=1;a<n&&_.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},_.difference=function(e){var t=R(arguments,!0,!0,1);return _.filter(e,function(e){return!_.contains(t,e)})},_.zip=function(){return _.unzip(arguments)},_.unzip=function(e){for(var t=e&&_.max(e,D).length||0,n=Array(t),r=0;r<t;r++)n[r]=_.pluck(e,r);return n},_.object=function(e,t){for(var n={},r=0,i=D(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},_.findIndex=o(1),_.findLastIndex=o(-1),_.sortedIndex=function(e,t,n,r){n=A(n,r,1);for(var i=n(t),o=0,a=D(e);o<a;){var l=Math.floor((o+a)/2);n(e[l])<i?o=l+1:a=l}return o},_.indexOf=a(1,_.findIndex,_.sortedIndex),_.lastIndexOf=a(-1,_.findLastIndex),_.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i};var N=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=I(e.prototype),a=e.apply(o,i);return _.isObject(a)?a:o};_.bind=function(e,t){if(y&&e.bind===y)return y.apply(e,p.call(arguments,1));if(!_.isFunction(e))throw new TypeError("Bind must be called on a function");var n=p.call(arguments,2),r=function(){return N(e,r,t,this,n.concat(p.call(arguments)))};return r},_.partial=function(e){var t=p.call(arguments,1),n=function(){for(var r=0,i=t.length,o=Array(i),a=0;a<i;a++)o[a]=t[a]===_?arguments[r++]:t[a];for(;r<arguments.length;)o.push(arguments[r++]);return N(e,n,this,this,o)};return n},_.bindAll=function(e){var t,n,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(t=1;t<r;t++)n=arguments[t],e[n]=_.bind(e[n],e);return e},_.memoize=function(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return _.has(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},_.delay=function(e,t){var n=p.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},_.defer=_.partial(_.delay,_,1),_.throttle=function(e,t,n){var r,i,o,a=null,l=0;n||(n={});var s=function(){l=n.leading===!1?0:_.now(),a=null,o=e.apply(r,i),a||(r=i=null)};return function(){var c=_.now();l||n.leading!==!1||(l=c);var u=t-(c-l);return r=this,i=arguments,u<=0||u>t?(a&&(clearTimeout(a),a=null),l=c,o=e.apply(r,i),a||(r=i=null)):a||n.trailing===!1||(a=setTimeout(s,u)),o}},_.debounce=function(e,t,n){var r,i,o,a,l,s=function(){var c=_.now()-a;c<t&&c>=0?r=setTimeout(s,t-c):(r=null,n||(l=e.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=_.now();var c=n&&!r;return r||(r=setTimeout(s,t)),c&&(l=e.apply(o,i),o=i=null),l}},_.wrap=function(e,t){return _.partial(t,e)},_.negate=function(e){return function(){return!e.apply(this,arguments)}},_.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},_.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},_.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},_.once=_.partial(_.before,2);var L=!{toString:null}.propertyIsEnumerable("toString"),P=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];_.keys=function(e){if(!_.isObject(e))return[];if(b)return b(e);var t=[];for(var n in e)_.has(e,n)&&t.push(n);return L&&l(e,t),t},_.allKeys=function(e){if(!_.isObject(e))return[];var t=[];for(var n in e)t.push(n);return L&&l(e,t),t},_.values=function(e){for(var t=_.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r},_.mapObject=function(e,t,n){t=A(t,n);for(var r,i=_.keys(e),o=i.length,a={},l=0;l<o;l++)r=i[l],a[r]=t(e[r],r,e);return a},_.pairs=function(e){for(var t=_.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},_.invert=function(e){for(var t={},n=_.keys(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},_.functions=_.methods=function(e){var t=[];for(var n in e)_.isFunction(e[n])&&t.push(n);return t.sort()},_.extend=T(_.allKeys),_.extendOwn=_.assign=T(_.keys),_.findKey=function(e,t,n){t=A(t,n);for(var r,i=_.keys(e),o=0,a=i.length;o<a;o++)if(r=i[o],t(e[r],r,e))return r},_.pick=function(e,t,n){var r,i,o={},a=e;if(null==a)return o;_.isFunction(t)?(i=_.allKeys(a),r=w(t,n)):(i=R(arguments,!1,!1,1),r=function(e,t,n){return t in n},a=Object(a));for(var l=0,s=i.length;l<s;l++){var c=i[l],u=a[c];r(u,c,a)&&(o[c]=u)}return o},_.omit=function(e,t,n){if(_.isFunction(t))t=_.negate(t);else{var r=_.map(R(arguments,!1,!1,1),String);t=function(e,t){return!_.contains(r,t)}}return _.pick(e,t,n)},_.defaults=T(_.allKeys,!0),_.create=function(e,t){var n=I(e);return t&&_.extendOwn(n,t),n},_.clone=function(e){return _.isObject(e)?_.isArray(e)?e.slice():_.extend({},e):e},_.tap=function(e,t){return t(e),e},_.isMatch=function(e,t){var n=_.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var a=n[o];if(t[a]!==i[a]||!(a in i))return!1}return!0};var k=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof _&&(e=e._wrapped),t instanceof _&&(t=t._wrapped);var i=g.call(e);if(i!==g.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,l=t.constructor;if(a!==l&&!(_.isFunction(a)&&a instanceof a&&_.isFunction(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var s=n.length;s--;)if(n[s]===e)return r[s]===t;if(n.push(e),r.push(t),o){if(s=e.length,s!==t.length)return!1;for(;s--;)if(!k(e[s],t[s],n,r))return!1}else{var c,u=_.keys(e);if(s=u.length,_.keys(t).length!==s)return!1;for(;s--;)if(c=u[s],!_.has(t,c)||!k(e[c],t[c],n,r))return!1}return n.pop(),r.pop(),!0};_.isEqual=function(e,t){return k(e,t)},_.isEmpty=function(e){return null==e||(M(e)&&(_.isArray(e)||_.isString(e)||_.isArguments(e))?0===e.length:0===_.keys(e).length)},_.isElement=function(e){return!(!e||1!==e.nodeType)},_.isArray=h||function(e){return"[object Array]"===g.call(e)},_.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},_.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){_["is"+e]=function(t){return g.call(t)==="[object "+e+"]"}}),_.isArguments(arguments)||(_.isArguments=function(e){return _.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(_.isFunction=function(e){return"function"==typeof e||!1}),_.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},_.isNaN=function(e){return _.isNumber(e)&&e!==+e},_.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===g.call(e)},_.isNull=function(e){return null===e},_.isUndefined=function(e){return void 0===e},_.has=function(e,t){return null!=e&&v.call(e,t)},_.noConflict=function(){return s._=c,this},_.identity=function(e){return e},_.constant=function(e){return function(){return e}},_.noop=function(){},_.property=C,_.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},_.matcher=_.matches=function(e){return e=_.extendOwn({},e),function(t){return _.isMatch(t,e)}},_.times=function(e,t,n){var r=Array(Math.max(0,e));t=w(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},_.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},_.now=Date.now||function(){return(new Date).getTime()};var G={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},F=_.invert(G),U=function(e){var t=function(t){return e[t]},n="(?:"+_.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};_.escape=U(G),_.unescape=U(F),_.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),_.isFunction(r)?r.call(e):r};var V=0;_.uniqueId=function(e){var t=++V+"";return e?e+t:t},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var B=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},$=/\\|'|\r|\n|\u2028|\u2029/g,W=function(e){return"\\"+z[e]};_.template=function(e,t,n){!t&&n&&(t=n),t=_.defaults({},t,_.templateSettings);var r=RegExp([(t.escape||B).source,(t.interpolate||B).source,(t.evaluate||B).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(t,n,r,a,l){return o+=e.slice(i,l).replace($,W),i=l+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(t.variable||"obj","_",o)}catch(e){throw e.source=o,e}var l=function(e){return a.call(this,e,_)},s=t.variable||"obj";return l.source="function("+s+"){\n"+o+"}",l},_.chain=function(e){var t=_(e);return t._chain=!0,t};var H=function(e,t){return e._chain?_(t).chain():t};_.mixin=function(e){_.each(_.functions(e),function(t){var n=_[t]=e[t];_.prototype[t]=function(){var e=[this._wrapped];return m.apply(e,arguments),H(this,n.apply(_,e))}})},_.mixin(_),_.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=u[e];_.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],H(this,n)}}),_.each(["concat","join","slice"],function(e){var t=u[e];_.prototype[e]=function(){return H(this,t.apply(this._wrapped,arguments))}}),_.prototype.value=function(){return this._wrapped},_.prototype.valueOf=_.prototype.toJSON=_.prototype.value,_.prototype.toString=function(){return""+this._wrapped},r=[],i=function(){return _}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(this)},,,,function(e,t,n){function r(e){return n(i(e))}function i(e){return o[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var o={"./gold.svg":705,"./gray.svg":706};r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=326},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.appService=void 0;var i=n(321),o=r(i),a=n(187);n(18),n(124),n(51),n(17),n(623),n(13),n(29),n(122),n(37),n(214),n(361),n(188),n(296),n(293),n(123),n(563);var l=n(834),s=r(l);n(382),n(490);var c=n(932),u=r(c);n(114),n(374);var d=a.ngMainModule.service("appService",["$log","$window","$translate","$translatePartialLoader","$state","$rootScope","$interpolate","eventAggregator","gfeService","cefService","gfwslEndpoints","gfservicesEndpoints","oobeDialogService","nodeService","gfeUpdatesService","updatesService","socketService","annotoriousService","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","jarvisService","dbService","dbCacheService","DB_NAMES","GFECLIENT_CONFIG","GFECLIENT_BUILD_INFO","COMMON_EVENTS","COMMON_EVENTS_VALUE","COMMON_DEFAULT_STATES","ANNOTATION_PROPERTIES","GAME_EVENTS","rewardsService","hardwareService","COMMON_ERRORS","preferencesService","gfeTargetService","notificationsService","weChatService","gfeSearchService","cevoToggleService","gfeGeolocationService","quietModeService","BACKEND_STATE_SOCKET_EVENTS","BACKEND_STATE_EVENTS","preferencesFeatureService","productTourService","TELEMETRY_STATUS","piiSanityService","gfnCloudGamesService","performanceModeService","framerateLimiterService","nisService",function(e,t,n,r,i,a,l,c,d,f,m,p,g,v,h,b,y,E,S,w,A,T,I,C,x,D,M,O,R,N,L,P,k,G,F,U,V,B,z,$,W,H,j,q,Y,K,Q,Z,X,J,ee,te){function ne(e,t,n,r,i){return ve.debug("$stateChangeStart from state:",r.name," to state:",t.name),""===r.name||r.name.indexOf("main.updateHighlights")>=0||!(t.name.indexOf("main.auth")>=0)||A.hasSession()?r.name===t.name&&_.isEqual(i,n)?void e.preventDefault():(r.nvEventNames&&(S.endView(r.nvEventNames.viewTime,be[r.nvEventNames.viewTime.enumId]),delete be[r.nvEventNames.viewTime.enumId]),void(t.nvEventNames&&(he[t.nvEventNames.loadTime.enumId]=S.startLoad(t.nvEventNames.loadTime)))):(ve.error("$stateChangeStart: No valid session"),void e.preventDefault())}function re(e,t,n,r,i){if(ve.debug("$stateChangeSuccess from state:",r.name," to state:",t.name),"main.auth"===t.name.slice(0,9)&&"main.auth.preferences"!==t.name&&t.name.indexOf(ye)===-1){ye=t.name;var o=A.getLoggedInUser(),a=I.getCachedUserItem(o.userId,C.VIEW_STORE,C.VIEW_STATE);a.lastRouterToState=ye,a.lastRouterToStateParams=n,a.lastRouterFromState=r.name,a.lastRouterFromStateParams=i,ye.indexOf("main.auth.preferences")>-1&&(a.lastPreferencesRouterState=ye),a.persist_()}t.nvEventNames&&(S.endLoad(t.nvEventNames.loadTime,he[t.nvEventNames.loadTime.enumId]),be[t.nvEventNames.viewTime.enumId]=S.startView(t.nvEventNames.viewTime),delete he[t.nvEventNames.loadTime.enumId])}function ie(e,t,n,r,i,o){ve.info("$stateChangeError from state:",r.name," to state:",t.name),e.preventDefault(),o!==G.NODE_START_FAILED&&d.logout("sessionExpired"===o)}function oe(e){le(e)}function ae(e){var t=e;return"en-us"!==e.toLowerCase()&&(t+=", en-us"),t}function le(e){var t={userAgent:x.userAgent+"/"+d.version};e?n(["l10n.pageCouldNotBeLoaded","l10n.retry"]).then(function(n){t.onLoadError=l(s.default)({errorMessage:n["l10n.pageCouldNotBeLoaded"],retry:n["l10n.retry"]}),t.acceptLanguage=ae(e.code),f.loadStringTable(t)}).catch(function(e){ve.error("Failed to load CEF string table")}):f.loadStringTable(t)}function se(){t.addEventListener("focus",function(){ve.info("Trigger window focus"),c.trigger(M.WINDOW_FOCUS)}),t.addEventListener("resize",t._.debounce(function(){ve.debug("Trigger window resize"),c.trigger(M.WINDOW_RESIZE)},O.RESIZE_DEBOUNCE_TIME)),t.addEventListener("online",function(){ve.info("Transition to online mode"),d.setOnline(!0),c.trigger(M.ONLINE)}),t.addEventListener("offline",function(){ve.info("Transition to offline mode"),d.setOnline(!1),c.trigger(M.OFFLINE)}),t.addEventListener("unload",function(){ve.debug("Trigger unload"),g.close("APP_EXIT"),K.sendProductTourExitTelemetry(Q.APP_EXIT),y.disconnect()}),c.on(M.LOCALE_CHANGED,oe),a.$on("$stateChangeStart",ne),a.$on("$stateChangeSuccess",re),a.$on("$stateChangeError",ie)}function ce(){var e,t=(0,o.default)(a);e={go:i.go.bind(i)},i.includes&&(e.includes=i.includes.bind(i)),t.$state=e}function ue(){E.setProperties(N),E.addHandler("onPopupShown",function(e){e.nvSettingName&&c.trigger(L.VOPS_POPUP_SHOWN,{name:e.nvSettingName})}),E.addHandler("onMouseOutOfAnnotation",function(){c.trigger(L.VOPS_POPUP_SHOWN,{name:null})})}function de(){S.addPreShutdownWork(function(){S.endView(w.GFE_EXIT_UI,me)})}function fe(){y.register(j.READY,q.READY)}var me,pe=this,ge=!1,ve=e.getInstance("main/appService"),he={},be={},ye=R.HOME_STATE;pe.main=function(){ve.info("Init"),ve.info("GFE Build Info:",D),t.name=x.windowName,a.telemetryEventNames=w;var e=d.version;"local"===x.buildMode&&(e="dev-"+e),S.setEventsCommonData({clientVersion:e}),d.setOnline(t.navigator.onLine),le(),se(),T.getGlobalStore(C.GLOBAL_STORE),r.addPart("l10n/main"),r.addPart("l10n/games"),r.addPart("l10n/gallery"),r.addPart("l10n/friends"),r.addPart("l10n/share"),r.addPart("l10n/updates"),r.addPart("l10n/oobe"),r.addPart("l10n/gfn"),r.addPart("l10n/settings"),r.addPart("l10n/notifications"),r.addPart("l10n/rewards"),r.addPart("l10n/preferences"),r.addPart("l10n/user-profile"),ce(),ue(),de(),ge=!0},pe.initializeUI=function(e,t,n){ve.info("Init UI"),Z.initialize(),S.handleLaunchTimeTelemetry(),S.setGfeInitializeStartTime(),k.initialize(),me=S.startView(w.GFE_EXIT_UI),S.push(w.GFE_LAUNCH_UI),f.setWindowStyle(n),v.initialize(),y.connect(),U.initialize(),W.getGeolocation(),V.initialize(),P.initialize(),m.initialize(d.version,e,t),p.initialize(e),h.initialize(),b.initialize(),F.initialize(t),F.getNodeAddons(),Y.initialize(),B.initialize(),z.initialize(e.code,u.default),$.initialize(),H.initialize(),te.initialize(),ee.initialize(),K.initialize(),A.initialize(),X.initialize(),J.initialize(),fe()}}]);t.appService=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}n(329),n(18),n(11),n(13),n(363),n(304),n(624),n(65),n(51),n(47),n(17),n(135),n(37),n(23),n(167),n(348),n(218),n(535),n(209),n(163),n(394),n(381);var i=n(187);n(411),n(405),n(445),n(301),n(492),n(499),n(457),n(630),n(560),n(585),n(558),n(571),n(601),n(597),n(346),n(311),n(347),n(676);var o=n(981),a=r(o);i.ngMainModule.config(["$stateProvider","$urlRouterProvider","TELEMETRY_CRIMSON_EVENT_NAMES","$httpProvider","$provide",function(e,t,n,r,i){i.decorator("$state",["$delegate","$rootScope",function(e,t){return t.$on("$stateChangeStart",function(t,n,r){e.next=n,e.toParams=r}),e}]),t.otherwise("/auth/home/games-and-friends"),r.interceptors.unshift("httpLoggingService"),r.interceptors.unshift("opentracingHttpInterceptor"),e.state("main",{url:"",template:'<nv-main flex layout="column"></nv-main>',abstract:!0,resolve:{startStateLocation:["$log","$state","gfeService",function(e,t,n){var r=e.getInstance("main/resolve/startStateLocation");r.info("startStateLocation resolved:",t.next.name);var i={name:t.next.name,params:t.toParams,url:t.href(t.next.name,t.toParams)};return n.setStartState(i),i}],localNodeInfo:["$log","$q","cefService","localSdk","nvAccountEndpoints","ugcLib",function(e,t,n,r,i,o){var a=e.getInstance("/main/uiRouter/main/resolve/localNodeInfo");return a.info("Requested"),n.localNodeInfo().then(function(e){var t=JSON.parse(e);return a.info("local nodeinfo Resolved",t.active,t.errorCode),r.updateNodeInfo(t),i.updateNodeInfo(t),o.updateNodeInfo(t),t}).catch(function(e){return a.info("local nodeinfo Rejected error:",e),e})}],isWindowBorderless:["$log","$q","cefService",function(e,t,n){var r=e.getInstance("/main/uiRouter/main/resolve/isWindowBorderless");return r.info("Requested"),n.isBorderless().then(function(e){return r.info("Resolved"),e}).catch(function(){return r.info("Rejected"),!1})}],hardwareInfo:["$log","$q","localNodeInfo","hardwareService","telemetryService","localeService","dbService","DB_NAMES","TELEMETRY_ERROR_MESSAGE","tracingService","GFECLIENT_CONFIG","GFECLIENT_BUILD_INFO",function(e,t,r,i,o,l,s,c,u,d,f,m){var p=e.getInstance("/main/uiRouter/main/resolve/hardwareInfo"),g=u.SERVICE_RESOLVED_WITHOUT_DEVICE_ID;p.info("Requested");var v=s.getGlobalStore(c.GLOBAL_STORE);return i.getLaunchTimeSystemInfo().then(function(e){if(p.info("Resolved"),f.tracerFeature){p.info("Initializing tracing service");var t=new a.default.Tracer(f.tracer),r={};r.deviceId=e.TelemetryDeviceId,r.osName=e.OSName,r.osVersion=e.OSVersion,r.clientVersion=m.gfePackageVersion,d.init(t,r)}e.TelemetryDeviceId||o.push(n.DEVICE_ID_IS_UNDEFINED,{errorMessage:g}),o.setEventsCommonData({deviceId:e.TelemetryDeviceId}),l.setSystemLocale(e.UserDefaultUILanguage);var i={deviceId:e.TelemetryDeviceId};return v.setItem(c.SYSTEM_INFO,i),e}).catch(function(){return p.info("Rejected"),g=u.SERVICE_REJECTED_GLOBAL_STORE_WITHOUT_DEVICE_ID,v.getItem(c.SYSTEM_INFO).then(function(e){e&&e.deviceId?o.setEventsCommonData({deviceId:e.deviceId}):o.push(n.DEVICE_ID_IS_UNDEFINED,{errorMessage:g})}).catch(function(e){g=u.SERVICE_REJECTED_GLOBAL_STORE_REJECTED,o.push(n.DEVICE_ID_IS_UNDEFINED,{errorMessage:g}),p.info("Error in processing error getItem",e)}),{}})}],language:["$log","$q","localeService","localNodeInfo","hardwareInfo","nodeService","COMMON_ERRORS","FATAL_ERRORS",function(e,t,n,r,i,o,a,l){var s=e.getInstance("/main/uiRouter/main/resolve/language");s.info("Requested");var c=t.defer();return n.setApplicationLocale().then(function(e){return s.info("language Resolved"),r.active===!1?(s.error("node start fails: status",r.active),o.showErrorMessage("node start fails with error: "+r.errorCode,l.nodeStartFail),c.reject(a.NODE_START_FAILED)):c.resolve(e)}).catch(function(){return s.info("language Rejected"),c.reject()}),c.promise}],silentInstall:["$log","cefService","$q","preferencesService","language","nvAccountService","GFECLIENT_CONFIG","telemetryService","USER_CONSENT_LEVEL","nodeService","localNodeInfo","FATAL_ERRORS",function(e,t,n,r,i,o,a,l,s,c,u,d){var f=n.defer(),m=e.getInstance("/main/uiRouter/main/resolve/silentInstall");return m.info("requesting functional data consent"),o.getClientTelemetryConsent(a.jarvis.clientId).then(function(e){m.info("Received functional data consent: ",e);var n=e.consentSettings;return n.trackFunctionalData.level===s.FULL?(m.info("consent already available"),l.setFunctionalConsentReceived(),f.resolve()):void r.showFunctionalDataConsent().then(function(){m.info("functional data consent accepted, notifying all"),l.setFunctionalConsentReceived(),n.trackFunctionalData.level=s.FULL,m.info("setting functional data consent to full"),o.setDefaultTelemetryConsent(n,"gfe").then(function(){return m.info("functional data consent set successfully to full for GFE"),n.trackTechnicalData.level=s.FULL,o.setDefaultTelemetryConsent(n,"dd")}).then(function(){return m.info("functional and technical data consent set successfully  to full for DD"),f.resolve()}).catch(function(e){return m.error("failed to update consent in nvaccounts",e),c.showErrorMessage("failed to update consent in nvaccounts",d.consentSetFail)})}).catch(function(){return m.info("user did not accept functional data consent, closing"),t.windowClose()})}).catch(function(e){return m.error("failed to recieve functional data consent",e),c.showErrorMessage("failed to receive functional data consent",d.consentGetFail)}),f.promise}],jarvisServer:["$log","jarvisService",function(e,t){var n=e.getInstance("/main/uiRouter/main/resolve/jarvisServer");return n.info("selecting fastest server"),t.selectFastestServer()}]},onEnter:["$log","appService","language","hardwareInfo","isWindowBorderless","productTourService","jarvisServer",function(e,t,n,r,i,o,a){e.getInstance("/main/uiRouter/main/onEnter");t.initializeUI(n,r,i),o.resumeOobeTour()}]}).state("main.loggedOut",{url:"/logged-out?sessionExpired",abstract:!1,onEnter:["oobeDialogService","$stateParams","jarvisService","telemetryService","GFE_LAUNCH_STATE","$log","dbService","DB_NAMES","GFWSL_STATUS","silentInstall",function(e,t,n,r,i,o,a,l,s,c){var u="true"===t.sessionExpired,d=(o.getInstance("main/urlRouter/main.loggedOut/onEnter"),a.getGlobalStore(l.GLOBAL_STORE)),f=s.SUCCESS;n.logout(),d.getItem(l.GFWSL_STATUS).then(function(e){f=e}).finally(function(){f==s.BLOCKED?e.gfeBlocked():e.launch(u),u?r.handleGfeInitializeTimeTelemetry(i.INVALID_SESSION):r.handleGfeInitializeTimeTelemetry(i.NO_SESSION_TOKEN)})}],parent:"main"}).state("main.updateHighlights",{url:"/update-highlights",abstract:!1,onEnter:["$log","preferencesService","$state","gfeService","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","$timeout",function(e,t,n,r,i,o,a){var l=e.getInstance("main/urlRouter/main.updateHighlights/onEnter");l.debug("main.updateHighlights onEnter called"),r.onlineState.online?(l.debug("Release highlights shown"),i.push(o.GFE_UPDATE_LAUNCH_SHOW_HIGHLIGHTS),t.onShowReleaseHighlight(!0)):(i.push(o.GFE_UPDATE_LAUNCH_USER_OFFLINE),l.debug("User offline. Release highlights not shown.")),a(function(){n.go("main.auth.home.gamesAndFriends")})}],parent:"main"}).state("main.auth",{url:"/auth",abstract:!0,template:"<div layout flex ui-view></div>",onEnter:["telemetryService","GFE_LAUNCH_STATE","$state","$log","hardwareService","currentUser","syncViewState","oobeDialogService","gfeService","localNodeInfo","dbService","DB_NAMES","previousState","GFWSL_STATUS","$timeout","eventAggregator","COMMON_EVENTS","gfservicesEndpoints","gfwslEndpoints","updatesService","preferencesService",function(e,t,n,r,i,o,a,l,s,c,u,d,f,m,p,g,v,h,b,y,E){var S=u.getGlobalStore(d.GLOBAL_STORE),_=m.SUCCESS,w=r.getInstance("main/urlRouter/main.auth/onEnter");S.getItem(d.GFWSL_STATUS).then(function(e){_=e}).finally(function(){if(_==m.BLOCKED)return void l.gfeBlocked();e.handleGfeInitializeTimeTelemetry(t.VALID_SESSION),w.info("Retrieve full system Information after login"),i.getSystemInfo().then(function(e){w.info("Retrieved System Info"),h.hasHardwareInfo()||h.updateHardwareInfo(e),b.hasHardwareInfo()||b.updateHardwareInfo(e),y.checkForUpdates()}).catch(function(){w.error("Failed to retriev System Info")}),"main.loggedOut"!==f.name&&(s.syncData(o),l.finishOobe(o));var r,a=!1;S.getItem(d.DRIVER_INSTALL_STATE).then(function(e){r=e,w.debug("found resume driver installation entry",r)}).catch(function(e){w.error("failed to read displayDriverInstallation key in database: ",e)}).finally(function(){r?p(function(){n.go("main.auth.updates",{updateState:"checkForUpdate",resumeDriverInstallation:r},{location:"replace"})}):i.getLaunchTimeSystemInfo().then(function(e){!e||e.DriverVersion&&""!==e.DriverVersion||(a=!0)}).catch(function(e){w.error("fail to get driver info")}).finally(function(){a&&(w.info("redirect to driver page"),p(function(){n.go("main.auth.updates",{updateState:"checkForUpdate"},{location:"replace"})}))})})})}],resolve:{currentUser:["localNodeInfo","$q","jarvisService","$log","telemetryService","eventAggregator","COMMON_EVENTS","oobeDialogService","hardwareInfo","silentInstall",function(e,t,n,r,i,o,a,l,s,c){var u=r.getInstance("main/urlRouter/main.auth/resolve");return u.info("main.auth resolved called"),n.hasSession()?n.getLoggedInUser():n.loginFromDatabase().then(function(e){i.setEventsCommonData({userId:e.user.userId});var r=t.defer();return e.user.core.primaryEmailVerified?r.resolve():l.skipEmailVerification(e).then(function(e){e?r.resolve():r.reject()}),r.promise.then(function(){return n.startSession(e).then(function(e){return u.info("jarvis session started on login from db"),o.trigger(a.LOGIN_STATUS_CHANGE,!0),e})}).catch(function(){return t.reject(e)})}).catch(function(e){return u.error("exception in loginFromDatabase"),("string"==typeof e||e&&e.status)&&u.error(e),t.reject(e&&401===e.status?"sessionExpired":null)})}],syncViewState:["currentUser","dbCacheService","DB_NAMES",function(e,t,n){return t.getCachedUserItem(e.userId,n.VIEW_STORE,n.VIEW_STATE).sync_()}],previousState:["$state",function(e){return{name:e.current.name,params:e.params,url:e.href(e.current.name,e.params)}}]},parent:"main"}).state("main.auth.home",{url:"/home",template:'<div id="home" flex layout="column" ui-view></div>',parent:"main.auth"}).state("main.auth.home.gamesAndFriends",{url:"/games-and-friends",template:"<nv-home layout flex></nv-home>",parent:"main.auth.home",nvEventNames:{view:n.HOME_VIEW_GAMES_AND_FRIENDS,loadTime:n.HOME_LOADTIME_GAMES_AND_FRIENDS,viewTime:n.HOME_VIEWTIME_GAMES_AND_FRIENDS}}).state("main.auth.home.gamesAndFriends.batteryBoostNotification",{url:"/games-and-friends/{data:json}",template:"<nv-home layout flex></nv-home>",parent:"main.auth.home",nvEventNames:{view:n.HOME_VIEW_GAMES_AND_FRIENDS,loadTime:n.HOME_LOADTIME_GAMES_AND_FRIENDS,viewTime:n.HOME_VIEWTIME_GAMES_AND_FRIENDS}}).state("main.auth.home.gamesAndFriends.friendDetails",{url:"/friends-details/:userId",template:"<nv-friend-details layout flex></nv-friend-details>",parent:"main.auth.home"}).state("main.auth.home.gamesAndFriends.gameDetails",{url:"/game-details/:userGameId",template:"<nv-game-details layout flex></nv-game-details>",parent:"main.auth.home",nvEventNames:{view:n.HOME_VIEW_GAME_INFO,loadTime:n.HOME_LOADTIME_GAME_INFO,viewTime:n.HOME_VIEWTIME_GAME_INFO}}).state("main.auth.gfn",{url:"/gfn/:tabId",template:"<nv-gfn layout flex></nv-gfn>",parent:"main.auth"}).state("main.auth.gfn.genreGames",{url:"/gfn.genreGames/:id",template:"<nv-genre-games layout flex></nv-genre-games>",parent:"main.auth"}).state("main.auth.gallery",{url:"/gallery",template:"<nv-gallery-main layout flex></nv-gallery-main>",parent:"main.auth"}).state("main.auth.gameroom",{url:"/gameroom",template:'<md-content flex class="md-padding">GAMEROOM</md-content>',parent:"main.auth"}).state("main.auth.updates",{url:"/updates",params:{updateState:null,resumeDriverInstallation:null,startDriverDownload:!1},template:"<nv-updates layout flex></nv-updates>",parent:"main.auth",nvEventNames:{view:n.UPDATES_VIEW_UPDATES,loadTime:n.UPDATES_LOADTIME_UPDATES,viewTime:n.UPDATES_VIEWTIME_UPDATES}}).state("main.auth.preferences",{url:"/preferences",template:"<nv-preferences layout flex></nv-preferences>",parent:"main.auth",nvEventNames:{view:n.PREFERENCES_VIEW_PREFERENCES,loadTime:n.PREFERENCES_LOADTIME_PREFERENCES,viewTime:n.PREFERENCES_VIEWTIME_PREFERENCES},onEnter:["$state","COMMON_DEFAULT_STATES","dbCacheService","DB_NAMES","syncViewState","currentUser","$timeout",function(e,t,n,r,i,o,a){var l=n.getCachedUserItem(o.userId,r.VIEW_STORE,r.VIEW_STATE),s=l.lastPreferencesRouterState||t.PREFERENCES_STATE;a(function(){e.is("main.auth.preferences")&&e.go(s,{},{location:"replace"})})}]
}).state("main.auth.preferences.general",{url:"/general",template:"<nv-preferences-general></nv-preferences-general>",parent:"main.auth.preferences",nvEventNames:{view:n.PREFERENCES_VIEW_GENERAL,loadTime:n.PREFERENCES_LOADTIME_GENERAL,viewTime:n.PREFERENCES_VIEWTIME_GENERAL},onEnter:["telemetryService",function(e){e.push(n.PREFERENCES_VIEW_GENERAL)}]}).state("main.auth.preferences.accounts",{url:"/accounts",template:"<nv-preferences-accounts></nv-preferences-accounts>",parent:"main.auth.preferences",nvEventNames:{view:n.PREFERENCES_VIEW_ACCOUNTS,loadTime:n.PREFERENCES_LOADTIME_ACCOUNTS,viewTime:n.PREFERENCES_VIEWTIME_ACCOUNTS},onEnter:["telemetryService",function(e){e.push(n.PREFERENCES_VIEW_ACCOUNTS)}]}).state("main.auth.preferences.led",{url:"/led",template:"<nv-preferences-led></nv-preferences-led>",parent:"main.auth.preferences"}).state("main.auth.preferences.games",{url:"/games",template:"<nv-preferences-games></nv-preferences-games>",parent:"main.auth.preferences",nvEventNames:{view:n.PREFERENCES_VIEW_GAMES,loadTime:n.PREFERENCES_LOADTIME_GAMES,viewTime:n.PREFERENCES_VIEWTIME_GAMES},onEnter:["telemetryService",function(e){e.push(n.PREFERENCES_VIEW_GAMES)}]}).state("main.auth.preferences.shield",{url:"/shield",template:"<nv-preferences-shield></nv-preferences-shield>",parent:"main.auth.preferences",nvEventNames:{view:n.PREFERENCES_VIEW_SHIELD,loadTime:n.PREFERENCES_LOADTIME_SHIELD,viewTime:n.PREFERENCES_VIEWTIME_SHIELD},onEnter:["telemetryService",function(e){e.push(n.PREFERENCES_VIEW_SHIELD)}]}).state("main.auth.rewards",{url:"/rewards",params:{rewardPackageId:""},template:'<nv-rewards-center flex id="toast-container"></nv-rewards-center>',parent:"main.auth",nvEventNames:{view:n.HOME_VIEW_REWARDS,loadTime:n.HOME_LOADTIME_REWARDS,viewTime:n.HOME_VIEWTIME_REWARDS},onEnter:["cevoToggleService","cevoService","$timeout","$log","USER_PROFILE_TAB_NAMES",function(e,t,n,r,i){var o=r.getInstance("main/urlRouter/main.auth.rewards/onEnter");o.debug("onEnter Rewards"),n(function(){e.getUserProfileEnabled().then(function(e){e&&t.gotoUserProfile(i.REWARDS_TAB)})})}]}).state("main.auth.userProfile",{url:"/user-profile",params:{userProfile:void 0,startWithTab:void 0,showDialog:void 0,rewardPackageId:""},template:'<nv-user-profile id="DialogContainerParent" class="constants-position-relative" layout flex></nv-user-profile>',parent:"main.auth",nvEventNames:{view:n.USER_VIEW_PROFILE,loadTime:n.USER_LOADTIME_PROFILE,viewTime:n.USER_VIEWTIME_PROFILE},onEnter:["telemetryService",function(e){e.push(n.USER_VIEW_PROFILE)}]})}])},function(e,t,n){"use strict";n(61),n(72),n(73),n(76),n(74),n(75),n(133),n(62),n(206),n(205),n(131),n(975),n(972),n(70),n(325),n(132),n(974),n(971),n(977),n(973),n(976),n(982),n(68),n(67),n(952),n(955),n(954),n(127),n(957),n(958),n(953),n(956),n(959),n(69),n(157),n(323),n(963),n(964),n(111),n(965),n(966),n(967),n(276),n(968),n(969)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.accordionController=void 0;var r=n(1),i=r.ngMainCommonModule.controller("AccordionController",["$scope","ACCORDION_MODES",function(e,t){var n=this,r=[],i=0;void 0===e.nvAccordionMode&&(e.nvAccordionMode=t.MULTIPLE_OPEN),n.addPane=function(e){return r[i]=e,i++},n.getNumPanes=function(){return r.length},n.removePane=function(e){r=_.without(r,e),i=r.length},n.onClick=function(n){e.nvAccordionMode===t.ONLY_ONE?angular.forEach(r,function(e,t){e.onExpand(t===n&&!r[n].isExpanded())}):e.nvAccordionMode===t.ALWAYS_ONE?angular.forEach(r,function(e,t){e.onExpand(t===n)}):r[n].onExpand(!r[n].isExpanded())}}]);t.accordionController=i},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.byteFilter=void 0;var r=n(1),i=r.ngMainCommonModule.filter("convertBytesToKBMBGB",["$filter",function(e){var t=e("translate"),n=function(e){var n=1;if(0===e)return t("l10n.byte",{value:0});if(isNaN(parseFloat(e))||!isFinite(e))return"-";var r=["l10n.bytes","l10n.kb","l10n.mb","l10n.gb","l10n.tb"],i=Math.floor(Math.log(e)/Math.log(1024)),o=t(r[i],{value:(e/Math.pow(1024,Math.floor(i))).toFixed(n)});return o};return n}]);t.byteFilter=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callToActionController=void 0;var r=n(1);n(335);var i=r.ngMainCommonModule.controller("CallToActionController",["callToActionService",function(e){function t(){n.nvCtaData.startStampAdjusted&&n.updateCtaState()}var n=this;n.isDisabled=!1,n.ctaCountdownState=null,n.nvCtaData=n.nvCtaData||{},n.nvBeforeClick=n.nvBeforeClick||angular.noop,n.nvAfterClick=n.nvAfterClick||angular.noop,n.onClick=function(){return n.nvBeforeClick(),e.handleAction(n.nvCtaData).finally(n.nvAfterClick)},n.updateCtaState=function(){var e=(new Date).getTime();e<n.nvCtaData.startStampAdjusted?(n.isDisabled=!0,n.ctaCountdownState="pending"):e>n.nvCtaData.endStampAdjusted?(n.isDisabled=!0,n.ctaCountdownState="expired"):(n.isDisabled=!1,n.ctaCountdownState="active")},t()}]);t.callToActionController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callToActionService=void 0;var r=n(1),i=r.ngMainCommonModule.service("callToActionService",["$log","$injector","$q","$state","$timeout","windowSpawnService","GFE_ACTIONS",function(e,t,n,r,i,o,a){function l(e){return e.replace(/(\-[a-z])/g,function(e){return e.toUpperCase().replace("-","")})}function s(e,t){var r=!1;return _.isFunction(e)?(r=e(t),n.when(r)):(h.error("Expected a function got",e),n.reject())}function c(e,t){return r.go(e,t).then(function(){return i(angular.noop)})}function u(e,n){var r=t.get(e);return n in r||h.error(n+" does not exist in "+e),r[n]}function d(e,t,n){var r=u(e,t);return s(r,n)}function f(e,t){var n=l(e),r=document.getElementsByTagName(e),i=angular.element(r).controller(n);return t in i||h.error(t+" does not exist in "+n),i[t]}function m(e,t,n){var r=f(e,t);return s(r,n)}function p(e){var t=o.openDefaultBrowser(e);return n.when(t)}function g(e){var t=[],r=n.when(),i=null;return e in a?(i=a[e],"stateName"in i&&t.push(c.bind(this,i.stateName,i.stateParams)),"directiveName"in i?t.push(m.bind(this,i.directiveName,i.funcName,i.funcArgs)):"serviceName"in i&&t.push(d.bind(this,i.serviceName,i.funcName,i.funcArgs)),t.forEach(function(e){r=r.then(e)}),r):(h.error("Unknown gfeAction:",e),n.reject())}var v=this,h=e.getInstance("main.common/callToActionService");v.handleAction=function(e){try{var t=b[e.type];return t(e.action)}catch(e){return h.error("action type error",e.message),n.reject()}};var b={weblink:p,gfeAction:g}}]);t.callToActionService=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvCallToAction=void 0;var i=n(1);n(334);var o=n(739),a=r(o),l=i.ngMainCommonModule.directive("nvCallToAction",[function(){return{restrict:"EA",scope:{nvCtaData:"<",nvBeforeClick:"&",nvAfterClick:"&"},bindToController:!0,template:a.default,controller:"CallToActionController",controllerAs:"ctaCtrl",link:function(e,t,n,r){function i(){r.isElement=!("nvCallToAction"in n),r.isElement||t.on("click",r.onClick)}function o(){r.isElement||t.off("click",r.onClick)}e.$on("$destroy",o),i()}}}]);t.nvCallToAction=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.carouselController=void 0;var o=n(3),a=i(o),l=n(1),s=n(970),c=r(s);n(216),n(63);var u=l.ngMainCommonModule.controller("CarouselController",["$scope","mediaDialogService","MEDIA_FILE_TYPE","VIDEO_TYPE","$log","gfeService","toastService","$filter","CAROUSEL_INDICATOR_ART","updatesService","telemetryService","TELEMETRY_GRD_CONTENT_TYPE",function(e,t,n,r,i,o,l,s,u,d,f,m){function p(){a.each(g.slides,function(e){if(a.isArray(e.settingInfo)&&!a.isEmpty(e.settingInfo)){e.annotation=[];for(var t=0;t<e.settingInfo.length;t++){var r=e.settingInfo[t];if(r.regionRect.width>0&&r.regionRect.height>0){var i=r.vopsSettingEnName?r.vopsSettingEnName.toLowerCase():"";e.annotation[t]={text:(0,c.default)({title:r.name,description:r.textInfo}),geometry:{x:r.regionRect.left,y:r.regionRect.top,width:r.regionRect.width,height:r.regionRect.height},nvSettingName:r.name,nvSettingEnName:i,nvSettingDescription:r.textInfo}}}}else if(!a.isEmpty(e.video)){var o=e.video;e.annotation={type:n.VIDEO,url:o.url,name:o.name}}})}var g=this,v=i.getInstance("main.common/CarouselController");g.selectedIndex=e.nvSelectedIndex,g.slides=e.nvSlides,g.isBanner=e.nvIsBanner;var h=e.nvEventInfo;g.telemetryEvent=h&&"string"==typeof h&&JSON.parse(h);var b=e.$watch("nvSlides",function(e,t){e!==g.slides&&(g.slides=e,p())});p(),g.centerIndicators=function(){var e=a.size(g.slides);if(e>0){var t=u.WIDTH*e;return{width:t+u.CONTAINER_HORIZONTAL_MARGIN+"px",margin:"auto"}}return null},g.isIndicatorsVisible=function(){return g.slides&&g.slides.length>1},g.isVideoAvailable=function(e){return e.video&&!a.isEmpty(e.video)&&e.video.url&&!a.isEmpty(e.video.url)},g.isArticleAvailable=function(e){return e&&!a.isEmpty(e.gfeLoadUrl)&&e.gfeLoadUrl&&!a.isEmpty(e.gfeLoadUrl)},g.previewMedia=function(e,n){if(g.isVideoAvailable(n)){if(o.onlineState&&o.onlineState.online===!0){var i=n.video.type===r.LOCAL;v.info("video type",n.video.type,"defaultVideoControl",i);var a=t.customPreset().event(e);a=a.video({source:n.video.url,type:n.video.type,defaultVideoControl:i}),t.show(a)}else{var c=s("translate")("l10n.unableToFetchVideo");l.show({textContent:c,icon:"cloud off"})}if(g.telemetryEvent){g.telemetryEvent.info.contentType=m.VIDEO;var u=n.video.url||"";g.telemetryEvent.info.url=u.substring(0,1e3)}}else if(g.isArticleAvailable(n)){if(v.info("video is not available: ",n),d.showArticle(n,n.driverVersion),g.telemetryEvent){g.telemetryEvent.info.contentType=m.ARTICLE;var u=n.linksTo||"";g.telemetryEvent.info.url=u.substring(0,1e3)}}else if(g.telemetryEvent){g.telemetryEvent.info.contentType=m.IMAGE;var u=n.linksTo||"";g.telemetryEvent.info.url=u.substring(0,1e3)}g.telemetryEvent&&f.push(g.telemetryEvent.eventName,g.telemetryEvent.info)},e.$on("$destroy",function(){b()})}]);t.carouselController=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvCarouselIndicator=void 0;var i=n(1),o=n(740),a=r(o),l=i.ngMainCommonModule.directive("nvCarouselIndicator",function(){return{restrict:"E",template:a.default,scope:{nvIsSelected:"&"},link:function(e,t){function n(){a||t.addClass("md-accent background focused")}function r(){a||t.removeClass("md-accent background focused")}function i(){t.on("mouseenter",n),t.on("mouseleave",r)}function o(){t.off("mouseenter",n),t.off("mouseleave",r),t.remove(),t=null}var a=!1;e.$watch("nvIsSelected()",function(e){a=e,a?t.removeClass("focused").addClass("md-accent background"):t.removeClass("md-accent background")}),e.$on("$destroy",o),t.on("$destroy",function(){e.$destroy()}),i()}}});t.nvCarouselIndicator=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.carouselIndicatorsController=void 0;var r=n(1),i=r.ngMainCommonModule.controller("CarouselIndicatorsController",["$scope",function(e){var t=this;t.slides=e.nvSlides,t.isSelected=function(t){return t===e.nvSelectedIndex},t.setIndex=function(t){e.nvSelectedIndex=t}}]);t.carouselIndicatorsController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.nvCarouselIndicators=void 0;var o=n(3),a=(i(o),n(1));n(338);var l=n(741),s=r(l);n(339);var c=a.ngMainCommonModule.directive("nvCarouselIndicators",[function(){function e(e,t){e.$on("$destroy",function(){t.empty(),t.remove(),t=null}),t.on("$destroy",function(){e.$destroy()})}return{restrict:"E",scope:{nvSlides:"=",nvSelectedIndex:"="},template:s.default,controller:"CarouselIndicatorsController",controllerAs:"carouselIndicators",link:e}}]);t.nvCarouselIndicators=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvCustomDate=void 0;var i=n(201),o=r(i),a=n(1);n(375);var l=n(743),s=r(l),c=a.ngMainCommonModule.directive("nvCustomDate",function(){return{template:s.default,restrict:"E",scope:{titleString:"@",formatString:"@",localeString:"@"},require:"ngModel",controller:["$scope",function(e){var t=e;t.maxYearValue=(0,o.default)().year(),t.minYearValue=1900,t.maxDayValue=31,t.minDayValue=1,t.maxMonthValue=12,t.minMonthValue=1,t.errors={required:!1,pattern:!1,min:!1,max:!1,invalid:!1},t.isDateValid=function(e){return(0,o.default)(e,["YYYY-MM-DD"],!0).isValid()&&(0,o.default)().isAfter(e)},t.newDate=function(e,t,n){var r=e+"-"+t+"-"+n;return(0,o.default)(r,["YYYY-M-D"],!0).format("YYYY-MM-DD")},t.localeString=t.localeString||"en",o.default.locale(t.localeString),t.months=o.default.months().map(function(e,t){var n={};return n.index=t+1,n.value=e,n})}],compile:function(e,t){var n=e.find("md-input-container"),r=angular.element('<label translate="l10n.day"></label> <input ng-model="day" maxlength="2" ng-focus="focus=true" ng-blur="focus=false" numbers-only type = "text" nv-min = {{minDayValue}} nv-max = {{maxDayValue}} name="day" required md-no-asterisk>'),i=angular.element('<label translate="l10n.year"></label> <input ng-model="year" maxlength="4" ng-focus="focus=true" ng-blur="focus=false" numbers-only type = "text" nv-min = {{minYearValue}} nv-max = {{maxYearValue}} name="year" required ng-pattern = "/^[0-9]{4}$/" md-no-asterisk>'),o=angular.element('<label translate="l10n.month"></label> <md-select ng-model="month" name="month" required md-no-asterisk><md-option ng-repeat="month in months" ng-focus="focus=true" ng-blur="focus=false" ng-value="month.index">{{ month.value }} </md-option> </md-select>'),a="MM-DD-YY";t.formatString&&t.formatString.length>0&&(a=t.formatString);var l=a.split("-"),s={DD:{ele:r,cls:"is-day-field"},YY:{ele:i,cls:"is-year-field"},MM:{ele:o,cls:"is-month-field"}};return angular.element(n[0]).append(s[l[0]].ele).addClass(s[l[0]].cls),angular.element(n[1]).append(s[l[1]].ele).addClass(s[l[1]].cls),angular.element(n[2]).append(s[l[2]].ele).addClass(s[l[2]].cls),{post:function(e,t,n,r){e.$watch("[month,day,year]",function(){var t=e.newDate(e.year,e.month,e.day);if(e.isDateValid(t))e.nvCtrl.day.$invalid=!1,r.$setViewValue(t);else{e.nvCtrl.month.$invalid||e.nvCtrl.year.$invalid||(e.nvCtrl.day.$invalid=!0);var n=e.year+"-"+e.month+"-"+e.day;r.$setViewValue(n)}e.errors.required=e.nvCtrl.day.$error.required||e.nvCtrl.month.$error.required||e.nvCtrl.year.$error.required,e.errors.invalid=e.nvCtrl.day.$invalid||e.nvCtrl.year.$invalid,e.errors.pattern=e.nvCtrl.year.$error.pattern}),r.$render=function(){if(r.$viewValue){var t=r.$viewValue.split("-");3===t.length&&(e.year=parseInt(t[0]),e.month=parseInt(t[1]),e.day=parseInt(t[2]))}}}}}}});t.nvCustomDate=c},function(e,t,n){"use strict";var r=n(1);r.ngMainCommonModule.value("nvTimeUtility",{calculateDelta:function(e,t){var n;return n=t?new Date(t):new Date,Math.round(Math.abs(n-e)/1e3)},isPast:function(e,t){var n;return n=t?new Date(t):new Date,n>=e},calculate:function(e,t,n,r,i){var o,a=60,l=60*a,s=24*l,c=7*s,u=30*s,d=365*s,f=this.calculateDelta(e,i),m=n(e,"MMMM"),p=n(e,"yyyy"),g=t("l10n.monthYear",{month:m,year:p});switch(!1){case!(f<=1):o=f+" "+t("l10n.second");break;case!(f<a):o=f+" "+t("l10n.seconds");break;case!(f<2*a):o="1 "+t("l10n.minute");break;case!(f<l):o=Math.floor(f/a)+" "+t("l10n.minutes");break;case 1!==Math.floor(f/l):o="1 "+t("l10n.hour");break;case!(f<s):o=Math.floor(f/l)+" "+t("l10n.hours");break;case!(f<2*s):if(r)return t("l10n.yesterday");o="1 "+t("l10n.day");break;case!(f<c):o=Math.floor(f/s)+" "+t("l10n.days");break;case 1!==Math.floor(f/c):o="1 "+t("l10n.week");break;case!(f<u):o=Math.floor(f/c)+" "+t("l10n.weeks");break;case 1!==Math.floor(f/u):o="1 "+t("l10n.month");break;case!(f<d):if(r)return g;o=Math.floor(f/u)+" "+t("l10n.months");break;case 1!==Math.floor(f/d):if(r)return g;o="1 "+t("l10n.year");break;default:if(r)return g;o=Math.floor(f/d)+" "+t("l10n.years")}var v=o.split(" ");return t("l10n.timeago",{number:v[0],timeUnit:v[1]})}});r.ngMainCommonModule.filter("convertSecondsToRelativeDate",["$filter","nvTimeUtility",function(e,t){var n=e("translate"),r=e("date"),i=function(e,i){if(i){var o=new Date,a=o.getTime()-1e3*i,l=t.calculate(new Date(a),n,r,!1).split(" ");return n(e,{number:l[0],timeUnit:l[1]})}return e};return i}]),r.ngMainCommonModule.filter("convertUTCToTimeAgo",["$filter","nvTimeUtility",function(e,t){var n=e("translate"),r=e("date"),i=function(e,i){if(e){var o=new Date(e);return t.isPast(o,i)?t.calculate(o,n,r,!0,i):e}};return i}]),r.ngMainCommonModule.filter("convertToUTCDate",["$filter","nvTimeUtility",function(e,t){var n=function(e){if(e){var t=new Date(Date.parse(e)),n=(1+t.getUTCMonth()).toString();n=n.length>1?n:"0"+n;var r=t.getUTCDate().toString();return r=r.length>1?r:"0"+r,n+"/"+r+"/"+t.getUTCFullYear()}return e};return n}]),r.ngMainCommonModule.filter("convertSecondsToHHMMSS",[function(){var e=function(e,t){var n=Math.floor(e/3600)+10>20?Math.floor(e/3600):("00"+Math.floor(e/3600)).slice(-2),r=("00"+Math.floor(e%3600/60)).slice(-2),i=("00"+e%3600%60).slice(-2);return t||(t="00"!==n?"h:m:s":"m:s"),t.replace("h",n).replace("m",r).replace("s",i)};return e}]),r.ngMainCommonModule.filter("convertSecondsToTime",["$filter",function(e){var t=e("translate"),n=function(e,n){var r=parseInt(e,10),i=Math.floor(r/3600),o=Math.floor((r-3600*i)/60),a=r-3600*i-60*o,l="";if(i){var s=1===i?t("l10n.hr",{value:i}):n&&i>=2?t("l10n.aboutHrs",{value:i}):t("l10n.hrs",{value:i});l=n&&i>=2?s:s+" "}if(o&&!(n&&i>=2)){var c=1===o?t("l10n.min",{value:o}):t("l10n.mins",{value:o});l=l+c+" "}if(a&&(!n||!i)){var u=1===a?t("l10n.sec",{value:a}):t("l10n.secs",{value:a});l+=u}return l};return n}])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.dbConfig=void 0;var i=n(56),o=r(i),a=n(248),l=r(a),s=n(145),c=r(s),u=n(239),d=r(u),f=n(704),m=r(f),p=angular.module("main.common.config",["main.common"]);p.constant("DATABASE_DEFAULTS",{session:{rememberSession:!0,sessionToken:null,userToken:null},games:{autoOptimize:!1},subscriptions:{ts:null},personalization:{bio:{ts:Date.now(),value:""}},notificationsViewState:{},rewardsViewState:{rewardsFilters:{all:!0},unRedeemedList:[],redeemedOrExpiredList:[]},qrcodeState:{weChat:{NFAN:{fetchTime:0,qrCodeURL:null,expireTime:0,qrCodeScanned:!1}}},searchState:{recentSearches:[]},globalAbState:{activeExperiments:[]},productTourStates:{},userAbState:{activeExperiments:[]},avatar:{ts:null,url:c.default},cover:{ts:null,url:d.default},myRig:{ts:null,url:m.default},viewState:{vopsImageContainerSize:"50%",selectedGameId:null,feedbackFloatOverlayEnabled:!0,feedbackFloatShowState:!1,feedbackFloatOpenOnMouseEnter:!1,targetPowerMode:null,userTabSelectionList:[],driverExpandState:{},lastRouterFromState:"main.auth.home",lastRouterFromStateParams:{},lastRouterToState:"main.auth.home",lastRouterToStateParams:{},classicViewTopIndex:0,topIndex:0},synchedViewState:{gamesSortType:"alphabetical",gamesSortOrder:"ascending",gamesFilters:{all:!0,optimized:!1,favorite:!1,anselReady:!1,hidden:!1},classicViewEnabled:!1}}),p.config(["dbServiceProvider","DATABASE_DEFAULTS","DB_NAMES",function(e,t,n){var r,i,a,s;e.init("gfeclient").defineGlobalStore({storeName:n.GLOBAL_STORE,storeDefault:{version:5,db:(r={},(0,l.default)(r,n.SESSION,t.session),(0,l.default)(r,n.GAMES,t.games),(0,l.default)(r,n.GLOBAL_AB_STATE,t.globalAbState),(0,l.default)(r,n.PRODUCT_TOUR_STATES,t.productTourStates),r)},description:"Stores settings that apply to all users"}).upgradeGlobalStore(n.GLOBAL_STORE,1,function(e){return e.setItem(n.SESSION,t.session)}).upgradeGlobalStore(n.GLOBAL_STORE,2,function(e){return e.setItem(n.GAMES,t.games)}).upgradeGlobalStore(n.GLOBAL_STORE,3,function(e){return e.getItem(n.GAMES).then(function(r){if(void 0===r.autoOptimize||null===r.autoOptimize)return e.setItem(n.GAMES,t.games)})}).upgradeGlobalStore(n.GLOBAL_STORE,4,function(e){return e.setItem(n.GLOBAL_AB_STATE,t.globalAbState)}).upgradeGlobalStore(n.GLOBAL_STORE,5,function(e){return e.setItem(n.PRODUCT_TOUR_STATES,t.productTourStates)}).defineUserStore({storeName:n.JARVIS_COMMON_STORE,storeDefault:{version:3,db:(i={},(0,l.default)(i,n.SUBSCRIPTIONS,t.subscriptions),(0,l.default)(i,n.PERSONALIZATION,t.personalization),i)},description:"Jarvis user-specific settings that apply to all clients"},!0).upgradeUserStore(n.JARVIS_COMMON_STORE,1,function(e){return e.setItem(n.SUBSCRIPTIONS,t.subscriptions)}).upgradeUserStore(n.JARVIS_COMMON_STORE,2,function(e){return e.setItem(n.PERSONALIZATION,t.personalization)}).upgradeUserStore(n.JARVIS_COMMON_STORE,3,function(e){return e.getItem(n.PERSONALIZATION).then(function(r){if(null==r.bio.ts||null==r.bio.value)return e.setItem(n.PERSONALIZATION,t.personalization)})}).defineUserStore({storeName:n.JARVIS_GFE_STORE,storeDefault:{version:10,db:(a={},(0,l.default)(a,n.JARVIS_VIEW_STATE,{ts:null,gamesSortType:t.synchedViewState.gamesSortType,gamesSortOrder:t.synchedViewState.gamesSortOrder,gamesFilters:t.synchedViewState.gamesFilters}),(0,l.default)(a,n.JARVIS_AVATAR,t.avatar),(0,l.default)(a,n.NOTIFICATIONS_VIEW_STATE,t.notificationsViewState),(0,l.default)(a,n.REWARDS_VIEW_STATE,t.rewardsViewState),(0,l.default)(a,n.JARVIS_QRCODE_STATE,t.qrcodeState),(0,l.default)(a,n.JARVIS_SEARCH_STATE,t.searchState),(0,l.default)(a,n.USER_AB_STATE,t.userAbState),a)},description:"Jarvis user-specific settings that apply to gfeclient"}).upgradeUserStore(n.JARVIS_GFE_STORE,1,function(e){return e.setItem(n.JARVIS_VIEW_STATE,{ts:null,gamesSortType:t.synchedViewState.gamesSortType,gamesSortOrder:t.synchedViewState.gamesSortOrder,gamesFilters:t.synchedViewState.gamesFilters})}).upgradeUserStore(n.JARVIS_GFE_STORE,2,function(e){return e.setItem(n.JARVIS_AVATAR,t.avatar)}).upgradeUserStore(n.JARVIS_GFE_STORE,3,function(e){return e.getItem(n.JARVIS_VIEW_STATE).then(function(t){var r=t.gamesFilters;if(r.hidden&&(r.all||r.optimized||r.favorite))return t.gamesFilters.hidden=!1,e.setItem(n.JARVIS_VIEW_STATE,t)})}).upgradeUserStore(n.JARVIS_GFE_STORE,4,function(e){return e.setItem(n.NOTIFICATIONS_VIEW_STATE,t.notificationsViewState)}).upgradeUserStore(n.JARVIS_GFE_STORE,5,function(e){return e.setItem(n.REWARDS_VIEW_STATE,t.rewardsViewState)}).upgradeUserStore(n.JARVIS_GFE_STORE,6,function(e){return e.getItem(n.JARVIS_VIEW_STATE).then(function(t){if(angular.isUndefined(t.gamesFilters.anselReady))return t.gamesFilters.anselReady=!1,e.setItem(n.JARVIS_VIEW_STATE,t)})}).upgradeUserStore(n.JARVIS_GFE_STORE,7,function(e){return e.setItem(n.JARVIS_QRCODE_STATE,t.qrcodeState)}).upgradeUserStore(n.JARVIS_GFE_STORE,8,function(e){return e.setItem(n.JARVIS_SEARCH_STATE,t.searchState)}).upgradeUserStore(n.JARVIS_GFE_STORE,9,function(e){return e.setItem(n.USER_AB_STATE,t.userAbState)}).upgradeUserStore(n.JARVIS_GFE_STORE,10,function(e){return e.getItem(n.NOTIFICATIONS_VIEW_STATE).then(function(t){return(0,o.default)(t).forEach(function(e){t[e]instanceof Date&&(t[e]={notificationTs:t[e],removed:!1})}),e.setItem(n.NOTIFICATIONS_VIEW_STATE,t)})}).defineUserStore({storeName:n.VIEW_STORE,storeDefault:{version:1,db:(0,l.default)({},n.VIEW_STATE,{vopsImageContainerSize:t.viewState.vopsImageContainerSize,selectedGameId:t.viewState.selectedGameId,targetPowerMode:t.viewState.targetPowerMode,userTabSelectionList:t.viewState.userTabSelectionList,feedbackFloatOverlayEnabled:t.viewState.feedbackFloatOverlayEnabled,feedbackFloatShowState:t.viewState.feedbackFloatShowState,feedbackFloatOpenOnMouseEnter:t.viewState.feedbackFloatOpenOnMouseEnter,driverExpandState:t.viewState.driverExpandState,classicViewTopIndex:t.viewState.classicViewTopIndex,topIndex:t.viewState.topIndex})},description:"Persisted view settings per user"}).upgradeUserStore(n.VIEW_STORE,1,function(e){return e.setItem(n.VIEW_STATE,{vopsImageContainerSize:t.viewState.vopsImageContainerSize,selectedGameId:t.viewState.selectedGameId,targetPowerMode:t.viewState.targetPowerMode,userTabSelectionList:t.viewState.userTabSelectionList,feedbackFloatOverlayEnabled:t.viewState.feedbackFloatOverlayEnabled,feedbackFloatShowState:t.viewState.feedbackFloatShowState,feedbackFloatOpenOnMouseEnter:t.viewState.feedbackFloatOpenOnMouseEnter,driverExpandState:t.viewState.driverExpandState,classicViewTopIndex:t.viewState.classicViewTopIndex,topIndex:t.viewState.topIndex})}).defineUserStore({storeName:n.CEVO_GFE_STORE,storeDefault:{version:1,db:(s={},(0,l.default)(s,n.AVATAR,t.avatar),(0,l.default)(s,n.COVER,t.cover),(0,l.default)(s,n.MY_RIG,t.myRig),s)},description:"Persisted profile data per user"}).upgradeUserStore(n.CEVO_GFE_STORE,1,function(e){return e.setItem(n.AVATAR,t.avatar).then(function(){return e.setItem(n.COVER,t.cover).then(function(){return e.setItem(n.MY_RIG,t.myRig)})})})}]),p.config(["dbCacheServiceProvider","DB_NAMES",function(e,t){e.loadUserKey(t.VIEW_STORE,t.VIEW_STATE),e.loadUserKey(t.JARVIS_COMMON_STORE,t.SUBSCRIPTIONS),e.loadUserKey(t.JARVIS_COMMON_STORE,t.PERSONALIZATION),e.loadUserKey(t.JARVIS_GFE_STORE,t.JARVIS_AVATAR),e.loadUserKey(t.JARVIS_GFE_STORE,t.JARVIS_GAME_LIST),e.loadUserKey(t.JARVIS_GFE_STORE,t.JARVIS_VIEW_STATE),e.loadUserKey(t.JARVIS_GFE_STORE,t.NOTIFICATIONS_VIEW_STATE),e.loadUserKey(t.JARVIS_GFE_STORE,t.JARVIS_QRCODE_STATE),e.loadUserKey(t.JARVIS_GFE_STORE,t.JARVIS_SEARCH_STATE),e.loadUserKey(t.JARVIS_GFE_STORE,t.REWARDS_VIEW_STATE),e.loadUserKey(t.JARVIS_GFE_STORE,t.USER_AB_STATE),e.loadUserKey(t.CEVO_GFE_STORE,t.AVATAR),e.loadUserKey(t.CEVO_GFE_STORE,t.COVER),e.loadUserKey(t.CEVO_GFE_STORE,t.MY_RIG),e.loadGlobalKey(t.GLOBAL_STORE,t.GLOBAL_AB_STATE),e.loadGlobalKey(t.GLOBAL_STORE,t.PRODUCT_TOUR_STATES)}]),t.dbConfig=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dialogEditEmailController=void 0;var r=n(1),i=r.ngMainCommonModule.controller("DialogEditEmailController",["$log",function(e){var t=this,n=e.getInstance("main.common/DialogEditEmailController");t.done=function(){t.emailForm.$invalid?(n.debug("tried to submit invalid form"),t.nvDialogModel.is2FactorAuthentication||t.emailForm.password.$setTouched(),t.emailForm.email.$setTouched(),t.emailForm.reEnterEmail.$setTouched()):(t.nvDialogModel.error=null,t.nvDialogModel.waiting=!0,t.nvDialogModel.sessionObject.user.core.primaryEmail===t.email||t.nvDialogModel.is2FactorAuthentication?(n.debug("Email did not change or 2 factor authentication. Resend verification"),t.nvDialogModel.actionVerifyEmail(t.email)):(n.debug("Email has changed. Attempt to change email address"),t.nvDialogModel.password=t.password,t.nvDialogModel.actionUpdateEmail(t.nvDialogModel.sessionObject,t.email,t.password).catch(function(e){t.nvDialogModel.waiting=!1,401===e.status?(n.debug("Change Email: Invalid credentials"),t.emailForm.password.$setValidity("invalidPassword",!1),t.emailForm.password.$setTouched()):403===e.status?(n.debug("Change Email: Account has no password, must be a social-only account"),t.nvDialogModel.error="l10n.noPassword"):409===e.status?(n.debug("Change Email: Email address is already being used"),t.emailForm.email.$setValidity("notAvailable",!1),t.emailForm.email.$setTouched()):(n.debug("Change Email: Generic server error. status:",e.status),t.nvDialogModel.error="l10n.unableToConnect")})))},t.emailChanged=function(){t.emailForm.email.$setValidity("notAvailable",!0)},t.passwordChanged=function(){t.emailForm.password.$setValidity("invalidPassword",!0)},t.cancel=function(){n.debug("cancel pressed"),t.nvDialogModel.actionCancelUpdateEmail(t.nvDialogModel.sessionObject)},angular.merge(t.nvDialogModel,{style:"honeycomb-square",button1:{text:t.nvDialogModel.is2FactorAuthentication?"l10n.update":"l10n.done",action:t.done},button2:{text:"l10n.cancel",action:t.cancel}})}]);t.dialogEditEmailController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvDialogHtml=void 0;var i=n(1),o=n(746),a=r(o),l=i.ngMainCommonModule.directive("nvDialogHtml",[function(){return{restrict:"A",scope:{},bindToController:{nvDialogModel:"="},template:a.default,controller:[function(){}],controllerAs:"dialogHtmlCtrl"}}]);t.nvDialogHtml=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvDialogMessage=void 0;var i=n(1),o=n(747),a=r(o),l=i.ngMainCommonModule.directive("nvDialogMessage",[function(){return{restrict:"A",scope:{},bindToController:{nvDialogModel:"="},template:a.default,controller:[function(){}],controllerAs:"dialogMessageCtrl"}}]);t.nvDialogMessage=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvDialogText=void 0;var i=n(1),o=n(748),a=r(o),l=i.ngMainCommonModule.directive("nvDialogText",[function(){return{restrict:"A",scope:{},bindToController:{nvDialogModel:"="},template:a.default,controller:[function(){}],controllerAs:"dialogTextCtrl"}}]);t.nvDialogText=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.exceptionService=void 0;var i=n(12),o=r(i),a=n(1);n(349),n(25);var l=n(978),s=r(l),c=a.ngMainCommonModule.provider("exceptionService",function(){var e=!0;return{setEnabled:function(t){e=t},$get:["$log","$mdDialog","$filter","preferencesService","GFECLIENT_CONFIG",function(t,n,r,i,a){function l(t,l){if(u.info("UnHandled Exception was caught"),e){c.exception=t,c.cause=l;var d={name:t.name,message:t.message,stackFrame:null};try{d.stackFrame=s.default.parse(t)}catch(e){u.error("cannot generate stack trace from error object",e),d.stackFrame=t.toString()}c.exceptionstr=(0,o.default)(d),c.properties=t.stack?t.stack.replace(/ at /g,"<br>&nbsp;&nbsp;&nbsp;at ").replace(/([^\/]+):(\d+):(\d+)/g,'<span class="common-window exception-standout">$1</span>: <span class="common-window exception-standout">$2</span>:$3')+"<br>":"","prod"===a.mode&&i.postFeedback("FEEDBACK_AUTOMATIC_CRIMSON_UI_ERROR",c.exceptionstr).then(function(){}).catch(function(e){u.error("post feedback was failed for FEEDBACK_AUTOMATIC_CRIMSON_UI_ERROR",e)}),"dev"===a.mode&&n.show(n.alert().parent(angular.element(document.body)).clickOutsideToClose(!0).title(r("translate")("l10n.unhandledexception")).content(c.properties).ok(r("translate")("l10n.close")))}}var c=this,u=t.getInstance("main.common/exceptionService");return c.exception=null,c.cause="",c.properties="",c.exceptionstr="",{logException:l}}]}});t.exceptionService=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exceptionConfig=void 0;var r=n(1),i=r.ngMainCommonModule.config(["$provide",function(e){e.decorator("$exceptionHandler",["$log","$delegate","$injector",function(e,t,n){return function(e,r){var i=n.get("exceptionService");i.logException(e,r),t(e,r)}}])}]);t.exceptionConfig=i},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.feedbackFloatController=void 0;var r=n(1);n(22),n(11),n(13),n(23);var i=r.ngMainCommonModule.controller("FeedbackFloatController",["dialogService","dbCacheService","DB_NAMES","jarvisService","hardwareService","$log","COMMON_EVENTS","eventAggregator","$scope","feedbackService",function(e,t,n,r,i,o,a,l,s,c){function u(e){v.info("onSysInfoUpdated ",e.DriverVersion),g.driverless=e&&(!e.DriverVersion||""===e.DriverVersion)}function d(){var e=r.getLoggedInUser();e?g.viewState=t.getCachedUserItem(r.getLoggedInUser().userId,n.VIEW_STORE,n.VIEW_STATE):g.viewState={}}function f(){g.viewState.feedbackFloatShowState=!1,g.viewState.feedbackFloatOpenOnMouseEnter=!1,
g.viewState.persist_()}function m(){d(),l.on(a.SYSTEMINFO_UPDATED,u),l.on(a.LOGIN_STATUS_CHANGE,d),l.on(a.DIALOG_CLOSED,f)}function p(){l.off(a.SYSTEMINFO_UPDATED,u),l.off(a.LOGIN_STATUS_CHANGE,d),l.off(a.DIALOG_CLOSED,f)}var g=this;g.isDialogOpen=!1,g.driverless=!1;var v=o.getInstance("main.common/FeedbackFloatController");i.getLaunchTimeSystemInfo().then(function(e){g.driverless=e&&(!e.DriverVersion||""===e.DriverVersion),v.info("driverless:",g.driverless)}).catch(function(e){v.error("failed to get systemInfo")}),g.showFeedbackButton=function(){var e=r.getLoggedInUser();return void 0!==e&&null!==e&&!g.driverless},g.onOpenFeedbackDialog=function(){c.showFeedBack()},g.disableFeedbackFloat=function(){g.viewState.feedbackFloatOverlayEnabled=!1,g.viewState.feedbackFloatShowState=!1,g.viewState.persist_()},g.onMouseEnter=function(){g.viewState.feedbackFloatShowState||g.viewState.feedbackFloatOverlayEnabled||(g.viewState.feedbackFloatOpenOnMouseEnter?(g.viewState.feedbackFloatShowState=!0,g.viewState.persist_()):(g.viewState.feedbackFloatOpenOnMouseEnter=!0,g.viewState.persist_()))},g.onMouseLeave=function(){g.isDialogOpen=e.isOpen(),!g.viewState.feedbackFloatShowState||g.viewState.feedbackFloatOverlayEnabled||g.isDialogOpen||(g.viewState.feedbackFloatShowState=!1,g.viewState.persist_())},g.showFloatStateButton=function(){return!g.viewState.feedbackFloatOverlayEnabled&&!g.viewState.feedbackFloatShowState&&!g.isDialogOpen},g.showFloatStateOpen=function(){return g.viewState.feedbackFloatOverlayEnabled||(g.viewState.feedbackFloatShowState||g.isDialogOpen)&&g.viewState.feedbackFloatOpenOnMouseEnter},m(),s.$on("$destroy",p)}]);t.feedbackFloatController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvFeedbackFloat=void 0;var i=n(1),o=n(749),a=r(o);n(352);var l=i.ngMainCommonModule.component("nvFeedbackFloat",{template:a.default,controller:"FeedbackFloatController",controllerAs:"feedbackFloatCtrl"});t.nvFeedbackFloat=l},,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gfeGeolocationService=void 0;var r=n(45),i=r.ngMainUtilsModule.service("gfeGeolocationService",["$log","$q","geolocationEndpoints","dbService","DB_NAMES","eventAggregator","COMMON_EVENTS",function(e,t,n,r,i,o,a){function l(e){c.getItem(i.GEO_DETAILS).then(function(n){return n?(e.resolve(n),void o.trigger(a.GEOLOCATION_UPDATED,n)):(e.reject(),t.reject())}).catch(function(){u.error("Returning default country code: ",d);var t={countryCode:d};e.resolve(t),o.trigger(a.GEOLOCATION_UPDATED,t)}).finally(function(){f=null})}var s=this,c=r.getGlobalStore(i.GLOBAL_STORE),u=e.getInstance("main.utils/GfeGeolocationService"),d="US",f=null;s.getGeolocation=function(){if(!f){var e=t.defer();f=e.promise,n.getGeolocation().then(function(t){var n=t.data;c.setItem(i.GEO_DETAILS,n),u.info("Geolocation set to",n),e.resolve(n),o.trigger(a.GEOLOCATION_UPDATED,n)}).catch(function(t){l(e)})}return f}}]);t.gfeGeolocationService=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gfwslService=void 0;var r=n(1),i=r.ngMainCommonModule.service("gfwslService",["$q","$log","gfwslEndpoints","hardwareService",function(e,t,n,r){function i(){return n.hasHardwareInfo()?e.when(!0):r.getSystemInfo().then(function(e){return n.updateHardwareInfo(e),!0})}var o=this;t.getInstance("main.common/gfwslService");o.getTermsAndConditions=function(){return i().then(function(e){return n.staticContent.getTermsAndConditions()})},o.getPrivacyPolicy=function(){return i().then(function(e){return n.staticContent.getPrivacyPolicy()})}}]);t.gfwslService=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.httpLoggingService=void 0;var i=n(321),o=r(i),a=n(247),l=r(a),s=n(936),c=r(s),u=n(935),d=r(u),f=n(246),m=r(f),p=n(1),g=function e(){var t=this;(0,m.default)(this,e),["request","requestError","response","responseError"].forEach(function(e){t[e]&&(t[e]=t[e].bind(t))})},v=function(e){function t(e,n,r){(0,m.default)(this,t);var i=(0,c.default)(this,(t.__proto__||(0,o.default)(t)).call(this));return i.GFECLIENT_CONFIG=n,i.$q=r,i.logger=e.getInstance("main.common/httpLoggingService"),i.sanitize=function(e){var t=this;try{_.isUndefined(e.config)||(e.config.headers.X_LOCAL_SECURITY_COOKIE="",_.isUndefined(e.config.data)||_.isUndefined(e.config.data.userInfo)||(e.config.data.userInfo=""))}catch(e){t.logger.error("Could not sanitize Security Cookie",e)}return e},i.logDebugJarvisResponseHeaders=function(e){var t=this,n=e.headers();t.logger.debug("debug jarvis response headers: x-jarvisrequestid",n["x-jarvisrequestid"],"x-jarvisresponder",n["x-jarvisresponder"])},i}return(0,d.default)(t,e),(0,l.default)(t,[{key:"request",value:function(e){var t=this;return e.url.match(t.GFECLIENT_CONFIG.gfwsl.server)&&t.logger.debug("Going to call endpoint request url ",e.url),e}},{key:"requestError",value:function(e){var t=this;return t.logger.error("http request FAILED for method",e.method," url ",e.url),t.$q.reject(e)}},{key:"response",value:function(e){var t=this,n=t.sanitize(e);return t.logger.debug("Http response for request ",n.config.url," returns status: ",n.status),n.config.url.match(t.GFECLIENT_CONFIG.gfwsl.server)?t.logger.debug(" gfwsl returned successfully with response ",n):n.config.url.match(t.GFECLIENT_CONFIG.jarvis.server)&&t.logDebugJarvisResponseHeaders(n),n}},{key:"responseError",value:function(e){var t=this,n=t.sanitize(e);return _.isUndefined(n.config)?t.logger.error("Http request method FAILED with response ",n):(t.logger.error("Http request method ",n.config.method,", url ",n.config.url," FAILED with response ",n),n.config.url.match(t.GFECLIENT_CONFIG.jarvis.server)&&t.logDebugJarvisResponseHeaders(n)),t.$q.reject(n)}}]),t}(g),h=p.ngMainCommonModule.service("httpLoggingService",["$log","GFECLIENT_CONFIG","$q",v]);t.httpLoggingService=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.nvImageAnnotation=void 0;var o=n(3),a=i(o),l=n(1);n(42);var s=n(754),c=r(s),u=l.ngMainCommonModule.directive("nvImageAnnotation",["annotoriousService","eventAggregator","GAME_EVENTS","$timeout","$interval","SCROLL_STEPS","COMMON_EVENTS","$document",function(e,t,n,r,i,o,l,s){function u(e,t,n,r){return n*(Math.pow(e/r-1,3)+1)+t}function d(c,d){function f(){var e=1,t=parseInt(d[0].offsetWidth);return _.naturalWidth>t&&(e=(t-8)/_.naturalWidth),e}function m(e,t){var n=d[0].getBoundingClientRect(),r=d[0].scrollTop,a=r+n.height,l=e.shape.geometry.y,c=s[0].getElementById(e.id);if(c){var f=l+c.getBoundingClientRect().height;if(r>=l||a<=l||a<=f){var m=0,p=l-r-n.height/2;a+p<=f&&(p=f-a),E=i(function(){d[0].scrollTop=u(m,r,Math.ceil(p),o),m++,m>=o&&(i.cancel(E),t())},0)}else t()}}function p(t){i.cancel(E);var n=e.getAnnotationBySettingName(_,t.name);n&&m(n,function(){e.highlightAnnotation(_,t.name)})}function g(){e.hideAnnotations(_)}function v(t){e.makeAnnotatable(_),a.each(c.nvAnnotation,function(n){if(n.geometry.width>0&&n.geometry.height>0){var r=n.geometry.x*t-n.geometry.width/2,i=n.geometry.y*t-n.geometry.height/2,o={text:n.text,shape:{type:"rect",geometry:{x:r>0?r:0,y:i>0?i:0,width:n.geometry.width,height:n.geometry.height}},nvSettingName:n.nvSettingName,nvSettingEnName:n.nvSettingEnName,nvPopupWidth:n.nvPopupWidth,nvPopupHeight:n.nvPopupHeight};e.addAnnotation(_,o)}})}function h(){var t=f();r.cancel(y),y=r(function(){e.destroy(_),v(t)})}function b(){r.cancel(S),S=r(function(){v(f()),t.on(l.WINDOW_RESIZE,h),t.on(n.SETTING_ITEM_MOUSE_LEAVE,g),t.on(n.SETTING_ITEM_HOVER_CAROUSEL_READY,p),t.trigger(n.IMAGE_LOADED,_.getAttribute("src"))})}var y,E,S,_=d.find("img")[0];a.size(c.nvAnnotation)>0&&(angular.element(d.find("img")[0]).on("load",b),c.$on("$destroy",function(){e.destroy(_),t.trigger(n.IMAGE_UNLOADED,_.getAttribute("src")),t.off(n.SETTING_ITEM_HOVER_CAROUSEL_READY,p),t.off(n.SETTING_ITEM_MOUSE_LEAVE,g),t.off(l.WINDOW_RESIZE,h),angular.element(d.find("img")[0]).off("load",b),r.cancel(y),i.cancel(E),r.cancel(S),_=null,y=null,E=null,S=null,d.empty(),d.remove(),d=null}),d.on("$destroy",function(){c.$destroy()}))}return{restrict:"E",scope:{nvImageSrc:"@",nvAnnotation:"=",nvImageAlt:"@"},template:c.default,link:d}}]);t.nvImageAnnotation=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvImageUpload=void 0;var i=n(1),o=n(756),a=r(o),l=i.ngMainCommonModule.directive("nvImageUpload",[function(){return{bindToController:{onImageSelect:"&"},transclude:!0,template:a.default,controller:function(){},controllerAs:"imageUploadCtrl",link:function(e,t,n,r){function i(e){if(e.currentTarget){var t=new FileReader;t.onload=function(){r.onImageSelect({newImage:t.result})},t.readAsDataURL(e.currentTarget.files[0])}}function o(){a.off("change",i),a=null,t.empty(),t.remove(),t=null}var a=angular.element(t[0].querySelector("#input-file-id"));a.on("change",i),e.$on("$destroy",o)}}}]);t.nvImageUpload=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvInlineDropdown=void 0;var r=n(1),i=r.ngMainCommonModule.directive("nvInlineDropdown",["$timeout",function(e){return{scope:!0,restrict:"E",bindToController:!0,controller:[function(){}],controllerAs:"nvInlineDropdownCtrl",template:function(e,t){var n,r,i;if(2!==e.children().length||"nv-inline-dropdown-header"!==e.children()[0].tagName.toLowerCase()||"md-list"!==e.children()[1].tagName.toLowerCase())throw Error("Invalid HTML for nv-inline-dropdown. Expected nv-inline-dropdown-header and md-list");e.attr("layout","column"),e.addClass("layout"),e.addClass("layout-column"),n=angular.element(e.children()[0]),r=angular.element(e.children()[1]),n.attr("flex",""),n.attr("layout-fill",""),n.attr("layout","row"),n.attr("layout-align","start center"),n.attr("ng-click","nvInlineDropdownCtrl.onClick()"),r.attr("ng-click","nvInlineDropdownCtrl.onClick()"),n.append(angular.element("<span flex></span")),n.append(angular.element('<md-icon class="md-18" material-icons>expand_more</md-icon>')),i=angular.element("<nv-inline-dropdown-list-container layout></nv-inline-dropdown-list-container"),r=r.replaceWith(i),i.append(r)},link:function(t,n,r,i){var o=!1,a=null;i.onClick=function(){o=!o,o?n.addClass("open"):n.removeClass("open")},n.bind("mouseenter",function(){a&&(e.cancel(a),a=null)}),n.bind("mouseleave",function(){if(o){var i=t.$eval(r.nvCollapseAfter)||0;a=e(function(){o=!o,n.removeClass("open"),a=null},i)}})}}}]);t.nvInlineDropdown=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.keyboardService=void 0;var r=n(1),i=r.ngMainCommonModule.service("keyboardService",["$log",function(e){function t(e){return e in r?r[e]:String.fromCharCode(e)}var n=this,r=(e.getInstance("main.common/keyboardService"),{0:"None",8:"Backsp",9:"Tab",16:"Shift",17:"Ctrl",18:"Alt",12:"Clear",13:"Enter",19:"Pause",20:"Caps",27:"Esc",32:"Space",33:"PgUp",34:"PgDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",41:"Select",42:"Print",43:"Exec",44:"PrtScn",45:"Insert",46:"Delete",47:"Help",91:"Win",92:"Win",93:"Apps",95:"Sleep",96:"Num0",97:"Num1",98:"Num2",99:"Num3",100:"Num4",101:"Num5",102:"Num6",103:"Num7",104:"Num8",105:"Num9",106:"Num*",107:"Num+",108:"Separ",109:"Num-",110:"Num.",111:"Num/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",124:"F13",125:"F14",126:"F15",127:"F16",128:"F17",129:"F18",130:"F19",131:"F20",132:"F21",133:"F22",134:"F23",135:"F24",144:"NumLck",145:"ScrLck",160:"Shift",161:"Shift",162:"Ctrl",163:"Ctrl",164:"Alt",165:"Alt",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"});n.shortcutToStr=function(e){for(var n="",r=0;r<e.length;r++)n+=t(e[r]),r<e.length-1&&(n+="+");return n}}]);t.keyboardService=i},function(e,t,n){"use strict";var r=n(1);r.ngMainCommonModule.controller("MediaDialogController",["mediaDialogService","$window","$document","VIDEO_TYPE",function(e,t,n,r){function i(e,n){return t.getComputedStyle(e[0]).getPropertyValue(n)}function o(){var e=angular.element(n[0].querySelector(".md-dialog-container"));if(e&&e.css({height:t.innerHeight+"px"}),a.dialog&&a.overlay&&a.media){var o=0,l=0;if(a.model.video()&&a.model.video().type&&a.model.video().type===r.YOUTUBE){if(a.commonVideoDivElement){var s=16,c=9,u=a.dialog[0].clientWidth,d=a.dialog[0].clientHeight*s/c;a.dialog[0].clientWidth>d?(u=d,a.commonVideoDivElement.css({width:d+"px"})):a.commonVideoDivElement.css({width:u+"px"});var f=i(a.commonVideoDivElement,"height");f=parseInt(f.substring(0,f.lastIndexOf("px")));var m=0,p=0;a.dialog[0].clientWidth>u&&(m=(a.dialog[0].clientWidth-u)/2),a.dialog[0].clientHeight>f&&(p=(a.dialog[0].clientHeight-f)/2),a.commonVideoDivElement.css({"margin-left":m+"px","margin-top":p+"px"}),a.overlay.css({visibility:"visible",left:m+"px",top:p+"px",width:u+"px"})}}else{a.media[0]&&a.dialog[0].clientWidth>a.media[0].clientWidth&&(o=(a.dialog[0].clientWidth-a.media[0].clientWidth)/2),a.media[0]&&a.dialog[0].clientHeight>a.media[0].clientHeight&&(l=(a.dialog[0].clientHeight-a.media[0].clientHeight)/2);var g=a.media[0].clientHeight+"px";a.model.video().defaultVideoControl&&(g="auto"),a.overlay.css({visibility:"visible",left:o+"px",top:l+"px",width:a.media[0].clientWidth+"px",height:g})}}}var a=this;a.model=e.getDialogModel(),a.showOverlay=!1,a.videoLoaded=!1,a.media=null,a.dialog=null,a.overlay=null,a.commonVideoDivElement=null,a.close=function(){e.close()},a.setShowOverlay=function(e){a.showOverlay=e},a.setVideoLoaded=function(e){a.videoLoaded=e,a.videoLoaded&&o()},n.ready(function(){null===a.dialog&&(a.commonVideoDivElement=angular.element(n[0].querySelector(".common-video-directive")),a.dialog=angular.element(n[0].querySelector(".common-media-dialog-service-media-dialog")),a.media=a.model.image()?a.dialog.find("img"):a.dialog.find("video"),a.overlay=a.dialog.find("nv-overlay")),a.dialog.focus(),a.model.image()&&(a.media[0].complete?o():a.media.bind("load",function(){o()}))}),t.onresize=function(){o()}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mediaTileController=void 0;var r=n(1);n(300),n(216),n(166);var i=r.ngMainCommonModule.controller("MediaTileController",["MEDIA_FILE_TYPE","mediaDialogService","imageFormatService",function(e,t,n){var r=this;r.mediaItem={thumbnail:n.formatImage(r.nvMediaThumbnail,169),alt:r.nvMediaAlt,fileType:r.nvMediaType,original:r.nvMediaOriginal},r.previewMedia=function(n){var i=t.customPreset().toolbarHtml("<nv-media-preview-toolbar></nv-media-preview-toolbar>").event(n);if(r.mediaItem.fileType===e.IMAGE)i=i.image(r.mediaItem.original),t.show(i);else{if(r.mediaItem.fileType!==e.VIDEO)return!1;i=i.video({source:r.mediaItem.original}),t.show(i)}},r.isVideo=function(){return e.VIDEO===r.mediaItem.fileType}}]);t.mediaTileController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvMediaTile=void 0;var i=n(1),o=n(758),a=r(o);n(369),n(15),n(42);var l=i.ngMainCommonModule.component("nvMediaTile",{bindings:{nvMediaThumbnail:"@",nvMediaType:"@",nvMediaAlt:"@",nvMediaOriginal:"@"},template:a.default,controller:"MediaTileController",controllerAs:"mediaTile"});t.nvMediaTile=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.navigationalDialogController=void 0;var r=n(1),i=r.ngMainCommonModule.controller("NavigationalDialogController",["$log","navigationalDialogService","eventAggregator","NAVIGATIONAL_DIALOG_EVENTS",function(e,t,n,r){function i(){a=t.getItemsList(),o.model=t.getDialogModel(),a&&a.length<=1&&(o.showButtons=!1)}var o=this,a=null,l=e.getInstance("main.common/navigationalDialogController");o.showButtons=!0,o.close=function(){o.showButtons=!1,t.close()},o.forward=function(){var e=_.indexOf(a,t.getCurrentItem());return e==-1?void l.error("item does not exist in dialog's list"):(e=e==a.length-1?0:e+1,o.currentItem=a[e],t.setCurrentItem(o.currentItem),void n.trigger(r.CURRENT_ITEM_UPDATED))},o.backward=function(){var e=_.indexOf(a,t.getCurrentItem());return e==-1?void l.error("item does not exist in dialog's list"):(e=0==e?a.length-1:e-1,o.currentItem=a[e],t.setCurrentItem(o.currentItem),void n.trigger(r.CURRENT_ITEM_UPDATED))},i()}]);t.navigationalDialogController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.navigationalDialogService=void 0;var i=n(1);n(371),n(164);var o=n(759),a=r(o),l=i.ngMainCommonModule.service("navigationalDialogService",["$mdDialog",function(e){function t(t,n){e.show({template:a.default,targetEvent:n,controller:"NavigationalDialogController",controllerAs:"dialogCtrl",bindToController:!0,parent:t})}var n=this,r=null,i=null,o=null,l=function(){function e(e){t[e]=function(r){return null!=r?(n[e]=r,t):n[e]}}var t=this,n={};e("html"),e("class")};n.show=function(e,n,a){i=n.currentItem,o=n.itemsList,r=(new l).html(e).class(n.class),t(n.parent,a)},n.close=function(t){e.cancel()},n.getDialogModel=function(){return r},n.getItemsList=function(){return o},n.setCurrentItem=function(e){i=e},n.getCurrentItem=function(){return i}}]);t.navigationalDialogService=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newsController=void 0;var r=n(1);n(64);var i=r.ngMainCommonModule.controller("NewsController",["$log","tbdService",function(e,t){var n,r=this,i=e.getInstance("main.common/NewsController");r.gameShortName=r.nvShortName,r.newsList=[],n="gfn"===r.nvNewsSource?t.getGfnNews(r.gameShortName):t.getGameNews(r.gameShortName),n.then(function(e){r.newsList=e}).catch(function(e){i.error("getNews failed with Status: "+e.status)})}]);t.newsController=i},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.nisService=void 0;var i=n(3),o=r(i),a=n(1);n(11),n(180);var l=a.ngMainCommonModule.service("nisService",["$log","$q","eventAggregator","NIS_STATE_EVENTS","COMMON_EVENTS","BACKEND_STATE_EVENTS","nisEndpoints",function(e,t,n,r,i,a,l){function s(e){E.info("processStateInfo response:",e);var t=!1;return(y&&e&&e.data&&(y.enabled!==e.data.enabled||y.sharpen!==e.data.sharpen||y.selectedResolutionIndex!=e.data.selectedResolutionIndex)||!y&&e&&e.data)&&(t=!0),y=e.data,t&&(E.info("NIS state changed"),n.trigger(r.CHANGED,e.data)),e.data}function c(){if(o.isNull(h)){y=null;var e=l.state({cmsId:"0"});h=e.then(s).catch(function(e){return E.error("failed to get nis state info",e),t.reject(e)}).finally(function(){h=null})}return h}function u(){return y?t.when(y):c()}function d(e){y&&(y.enabled=e.enabled,y.sharpen=e.sharpen,y.selectedResolutionIndex=e.selectedResolutionIndex)}function f(e){return l.setState({},{enabled:e.enabled,sharpen:e.sharpen,selectedResolutionIndex:e.selectedResolutionIndex,cmsId:"0"}).then(function(t){return d(e),t}).catch(function(e){return E.error("failed nisSettState info",e),t.reject(e)})}function m(){E.info("onLanguageUpdated called"),y=null,c()}function p(){h=null,c()}function g(){E.info("refresh nisState"),c()}function v(){n.on(i.LOCALE_CHANGED,m),n.on(a.READY,p),n.on(i.WINDOW_FOCUS,g)}var h=null,b=this,y=null,E=e.getInstance("main.common/nisService");b.initialize=v,b.getStateInfo=u,b.setStateInfo=f}]);t.nisService=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numbersOnly=void 0;var r=n(1),i=r.ngMainCommonModule.directive("numbersOnly",function(){return{require:"ngModel",scope:{nvMin:"@",nvMax:"@"},link:function(e,t,n,r){function i(t){if(t){var n=t.replace(/[^0-9]/g,"");n!==t&&(r.$setViewValue(n),r.$render());var i=parseInt(n)>=e.nvMin&&parseInt(n)<=e.nvMax;return r.$setValidity("numbersOnly",i),n}}r.$parsers.push(i)}}});t.numbersOnly=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvNotificationIndicator=void 0;var r=n(1),i=r.ngMainCommonModule.directive("nvNotificationIndicator",function(){return{restrict:"A",link:function(e,t,n,r,i){n.$observe("nvNotificationIndicator",function(e){"true"!==e?t.addClass("nv-hide-after"):t.removeClass("nv-hide-after")})}}});t.nvNotificationIndicator=i},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.sliderController=void 0;var o=n(12),a=i(o),l=n(3),s=(r(l),n(1)),c=s.ngMainCommonModule.controller("SliderController",["$scope","$log","$timeout","$document","eventAggregator","COMMON_EVENTS",function(e,t,n,r,i,o){function l(){c(),u(),i.off(o.WINDOW_RESIZE,e.redrawTicks)}var s=this,c=(t.getInstance("main.common/SliderController"),void 0),u=void 0;s.sliderIndex=s.nvSliderIndex,s.sliderChanged=function(){s.nvSliderIndex=s.sliderIndex,n(function(){s.nvCurrentSliderChanged()})},c=e.$watchGroup(["sliderCtrl.nvMaxIndex","sliderCtrl.nvMinIndex","sliderCtrl.nvStep"],function(t,n){(0,a.default)(t)!==(0,a.default)(n)&&e.$applyAsync(function(){e.redrawTicks()})}),u=e.$watch("sliderCtrl.nvSliderIndex",function(e,t){e!==t&&(s.sliderIndex=s.nvSliderIndex)}),r.ready(function(){i.on(o.WINDOW_RESIZE,e.redrawTicks),e.redrawTicks()}),e.$on("$destroy",l)}]);t.sliderController=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvSlider=void 0;var i=n(1),o=n(763),a=r(o);n(377);var l=i.ngMainCommonModule.directive("nvSlider",[function(){function e(e,t,n){function r(){t.empty(),t.remove(),t=null}var i=null,o=null,a=null,l=null,s={},c=0;i=angular.element(t[0].querySelector(".md-track-ticks")),i.find("canvas").css("display","none"),a=angular.element("<canvas>").css("position","absolute"),i.append(a),i.css("display","block"),i.css("z-index","0"),o=angular.element(t[0].querySelector(".md-track-container")),e.redrawTicks=function(){if(_.isNull(l)||l.clearRect(0,0,c,s.height),o){s=o[0].getBoundingClientRect(),c=s.width<384?384:s.width;var t=Math.floor((e.sliderCtrl.nvMaxIndex-e.sliderCtrl.nvMinIndex)/e.sliderCtrl.nvStep);l=a[0].getContext("2d"),a[0].width=c,a[0].height=s.height;for(var n,r=0;r<=t;r++)n=Math.round(c*(r/t)),l.fillStyle="#FFFFFF",l.fillRect(n-1,0,2,s.height)}},e.$on("$destroy",r),t.on("$destroy",function(){e.$destroy()})}return{restrict:"E",scope:{nvSliderIndex:"=",nvMaxIndex:"=",nvMinIndex:"=",nvStep:"=",nvCurrentSliderChanged:"&",nvIsDisabled:"="},bindToController:!0,link:e,template:a.default,controller:"SliderController",controllerAs:"sliderCtrl"}}]);t.nvSlider=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tileCarouselController=void 0;var r=n(1),i=r.ngMainCommonModule.controller("TileCarouselController",["$log","$element","$scope","eventAggregator","COMMON_EVENTS","TILE_CAROUSEL_EVENTS",function(e,t,n,r,i,o){function a(){h=Math.floor(b[0].clientWidth/(w+A+y))||1,S.info("Carousel will be moving "+h+" tiles")}function l(){E=b[0].getElementsByClassName("nv-carousel-tile"),E.length>0?w=E[0].clientWidth:(S.error('"nv-carousel-tile" class missing from top child elements of carousel container, or specify nv-tile-fixed-width attribute in directive'),f.errorState=!0)}function s(){0===g?f.showLeftCarouselButton=!1:f.showLeftCarouselButton=!0,g===m?f.showRightCarouselButton=!1:f.showRightCarouselButton=!0}function c(){v+=h*(w+A),g=A+y+v,g>=0&&(g=0,v=0),s()}function u(){var e=h*(w+A),t=A+y;v-=e,g=v+t,g<m&&(v=m,g=m),s()}function d(){r.off(i.WINDOW_RESIZE,f.carouselDimensionChanged),r.off(o.CAROUSEL_RESIZED,f.carouselDimensionChanged)}var f=this,m=0,p=0,g=0,v=0,h=0,b=null,y=0,E=null,S=e.getInstance("main.common/tileCarouselController"),w=n.nvFixedTileWidth,A=n.nvFixedTileMargin;f.showLeftCarouselButton=!1,f.showRightCarouselButton=!1,f.errorState=!1,f.moveLeft=c,f.moveRight=u,f.translateStyle=function(){return{transform:"translateX("+g+"px)"}},f.carouselDimensionChanged=function(){S.info("carousel dimension changed"),_.isUndefined(n.nvTilesToMove)&&a();var e=b[0].clientWidth-p;b[0].clientWidth>=b[0].scrollWidth&&e>=0?(m+=e,m>0&&(m=0),g+=e,g>0&&(g=0),v+=e,v>0&&(v=0)):(m=Math.abs(g)+(b[0].scrollWidth-b[0].clientWidth),m=-m),p=b[0].clientWidth,s()},f.init=function(){if(b=angular.element(t[0].querySelector(".tile-carousel-container")),b.length){m=b[0].scrollWidth-b[0].clientWidth,m=-m,p=b[0].clientWidth;var e=b[0].getElementsByClassName("carousel-button");e.length>0?y=e[0].clientWidth||45:(S.error('"carousel-button" class missing. Assuming carousel button width to be 45px.'),y=45),w||l(),n.nvTilesToMove?h=n.nvTilesToMove:a(),s()}else S.error('Class "tile-carousel-container" missing'),f.errorState=!0;r.on(i.WINDOW_RESIZE,f.carouselDimensionChanged),r.on(o.CAROUSEL_RESIZED,f.carouselDimensionChanged)},n.$on("$destroy",d)}]);t.tileCarouselController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvTileCarousel=void 0;var i=n(1),o=n(764),a=r(o);n(379);var l=i.ngMainCommonModule.directive("nvTileCarousel",["$timeout",function(e){function t(t,n,r,i){function o(){i.init()}function a(){n.empty(),n.remove(),n=null}t.$on("$destroy",a),n.on("$destroy",function(){t.$destroy()}),e(o)}return{restrict:"E",scope:{nvFixedTileWidth:"=",nvFixedTileMargin:"=",nvTilesToMove:"="},transclude:!0,template:a.default,controller:"TileCarouselController",controllerAs:"tileCarousel",link:t}}]);t.nvTileCarousel=l},function(e,t,n){"use strict";var r=n(1);r.ngMainCommonModule.service("opentracingHttpInterceptor",["$log","$q","tracingService",function(e,t,n){var r=this,i=e.getInstance("nvTracing/opentracingHttpInterceptor");i.info("Opentracing Http Interceptor injected"),r.request=function(e){return n.startHttpSpan(e),e},r.response=function(e){return n.closeHttpSpan(e,!1),e},r.responseError=function(e){return n.closeHttpSpan(e,!0),t.reject(e)}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.piiSanityService=void 0;var r=n(1),i=r.ngMainCommonModule.service("piiSanityService",["$log","eventAggregator","COMMON_EVENTS","jarvisService","loggingSanityService",function(e,t,n,r,i){function o(){var e=r.getLoggedInUser();if(e){var t=r.getSession(),n=a(e,t);i.setPiiSensitiveValues(n)}}function a(e,t){return[e.core.birthdate,e.core.displayName,t.sessionToken,t.userToken]}var l=this;e.getInstance("main.common/PiiSanityService");l.initialize=function(){o(),t.on(n.LOGIN_STATUS_CHANGE,o)},l.sanitize=i.sanitizeForPii}]);t.piiSanityService=i},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.quietModeService=void 0;var i=n(3),o=r(i),a=n(1);n(11),n(139),n(183);var l=a.ngMainCommonModule.service("quietModeService",["$log","quietModeEndpoints","$q","socketService","eventAggregator","QUIET_MODE_SOCKET_EVENTS","QUIET_MODE_SERVICE_EVENTS","QUIET_MODE_EVENTS","COMMON_EVENTS","BACKEND_STATE_EVENTS","QUIET_MODE_2_SOCKET_EVENTS","QUIET_MODE_2_SERVICE_EVENTS","quietMode2Endpoints",function(e,t,n,r,i,a,l,s,c,u,d,f,m){function p(e){return q.info("processSupportInfo response:",e),B=e.data,e.data}function g(e){return q.info("processStateInfo response:",e),z=e.data,e.data}function v(){var e=n.defer();if(e.promise.cancel=function(){q.info("fetchSupportInfo cancelled"),e.reject()},o.isNull(F)){B=null;var r=t.support();F=r.then(p).catch(function(e){return q.error("failed to get quietmode support info",e),n.reject(e)}).finally(function(){F=null})}return F.then(function(t){return e.resolve(t)}).catch(function(t){return e.reject(t)}),e.promise}function h(){if(o.isNull(U)){z=null;var e=t.state();return U=e.then(g).catch(function(e){return q.error("failed to get quietmode state info",e),n.reject(e)})}return U}function b(e){return!e&&B?n.when(B):v()}function y(){return z?n.when(z):h()}function E(e){z&&(z.enabled=e)}function S(e){return t.setState({},{enabled:e}).then(function(t){return E(e),i.trigger(s.CHANGED),t}).catch(function(e){return q.error("failed quietmode SetState info",e),n.reject(e)})}function _(e){q.info("onSupportInfoUpdate data:",e),p({data:e})}function w(e){q.info("onStateInfoUpdated data:",e),g({data:e}),i.trigger(s.STATE_UPDATE)}function A(){q.info("onLanguageUpdated called"),F=null,z=null,v(),h(),$=null,W=null,j=null,H=null,x(),D()}function T(){F=null,v(),U=null,h()}function I(e){return q.info("process quiet mode 2 SupportInfo response:",e),H=e.data,e.data}function C(e){q.info("processQuietMode2StateInfo response:",e);var t=!1;return(j&&e&&e.data&&(j.enabled!==e.data.enabled||j.baseFrameRate!==e.data.baseFrameRate||j.fanVolume!=e.data.fanVolume)||!j&&e&&e.data)&&(t=!0),j=e.data,t&&(q.info("WM2 state changed"),i.trigger(s.CHANGED,e.data)),e.data}function x(){var e=n.defer();if(e.promise.cancel=function(){q.info("fetchQuietMode2SupportInfo cancelled"),e.reject()},o.isNull($)){var t=m.support();$=t.then(I).catch(function(e){return q.error("failed to get quiet mode 2 support info",e),H=null,n.reject(e)}).finally(function(){$=null})}return $.then(function(t){return e.resolve(t)}).catch(function(t){return e.reject(t)}),e.promise}function D(){if(o.isNull(W)){var e=m.state();W=e.then(C).catch(function(e){return q.error("failed to get quite Mode 2 state info",e),j=null,n.reject(e)}).finally(function(){W=null})}return W}function M(e){return!e&&H?(q.info("return cache response for QuietMode2",H),n.when(H)):(q.info("Fetched fresh response for quietmode2"),x())}function O(){return j?n.when(j):D()}function R(e){j&&(j.enabled=e.enabled,j.fanVolume=e.fanVolume,j.baseFrameRate=e.baseFrameRate)}function N(e){return m.setState({},{enabled:e.enabled,baseFrameRate:e.baseFrameRate,fanVolume:e.fanVolume}).then(function(t){return R(e),i.trigger(s.CHANGED,e),t}).catch(function(e){return q.error("failed quiet mode 2 SettState info",e),n.reject(e)})}function L(e){q.info("onQuietMode2SupportInfoUpdate data:",e),I({data:e}),i.trigger(s.SUPPORT_UPDATE)}function P(e){q.info("onQuietMode2StateInfoUpdated data:",e),C({data:e})}function k(){q.info("refresh quietModeState"),D()}function G(){r.register(a.STATE_UPDATE,l.STATE_UPDATE),r.register(a.SUPPORT_UPDATE,l.SUPPORT_UPDATE),i.on(l.STATE_UPDATE,w),i.on(l.SUPPORT_UPDATE,_),r.register(d.STATE_UPDATE,f.STATE_UPDATE),r.register(d.SUPPORT_UPDATE,f.SUPPORT_UPDATE),i.on(f.STATE_UPDATE,P),i.on(f.SUPPORT_UPDATE,L),i.on(c.LOCALE_CHANGED,A),i.on(u.READY,T),i.on(c.WINDOW_FOCUS,k)}var F=null,U=null,V=this,B=null,z=null,$=null,W=null,H=null,j=null,q=e.getInstance("main.common/quietModeService");V.initialize=G,V.getStateInfo=y,V.getSupportInfo=b,V.setStateInfo=S,V.getQuietMode2StateInfo=O,V.getQuietMode2SupportInfo=M,V.setQuietMode2StateInfo=N}]);t.quietModeService=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rangeSliderController=void 0;var r=n(1),i=r.ngMainCommonModule.controller("RangeSliderController",["$scope","$log",function(e,t){function n(){e.lowerMax=e.maximum-e.step,e.upperMin=e.lowerValue+e.step,!e.lowerValue||e.lowerValue<e.minimum?e.lowerValue=e.minimum:e.lowerValue*=1,!e.upperValue||e.upperValue>e.maximum?e.upperValue=e.maximum:e.upperValue*=1,a()}function r(){return e.lowerValue>=e.upperValue-e.step?void(e.lowerValue=e.upperValue-e.step):(e.upperMin=e.lowerValue+e.step,void a())}function i(){e.upperValue<=e.lowerValue+e.step&&(e.upperValue=e.lowerValue+e.step)}function o(){s.info("Range slider isDisabled value changed :",e.nvDisabled);
}function a(){e.upperWidth=(e.maximum-(e.lowerValue+e.step))/(e.maximum-e.minimum)*100+"%",e.lowerValue>e.upperValue-e.minGap&&e.upperValue<e.maximum&&(e.upperValue=e.lowerValue+e.minGap)}var l=this,s=t.getInstance("main.common/RangeSliderController"),l=this;l.lowerValue=e.lowerValue,l.upperValue=e.upperValue,l.lowerMax=e.lowerMax,l.upperMin=e.upperMin,l.step=e.step,l.minGap=e.minGap,l.maximum=e.maximum,l.minimum=e.minimum,e.step||(e.step=2),e.minGap||(e.minGap=e.step),e.$watchGroup(["minimum","maximum"],n),e.$watch("lowerValue",r),e.$watch("upperValue",i),e.$watch("nvDisabled",o),l.currentSliderPositionChanged=function(){e.onSliderChange()}}]);t.rangeSliderController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvRangeSlider=void 0;var i=n(1),o=n(765),a=r(o);n(384);var l=i.ngMainCommonModule.directive("nvRangeSlider",[function(){return{restrict:"E",scope:{minimum:"=",maximum:"=",minGap:"=",step:"=",nvDisabled:"=",mdDiscrete:"=mdDiscrete",lowerValue:"=lowerValue",upperValue:"=upperValue",onSliderChange:"&"},template:a.default,controller:"RangeSliderController",controllerAs:"rangeSliderCtrl"}}]);t.nvRangeSlider=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rigService=void 0;var r=n(1),i=r.ngMainCommonModule.service("rigService",["$log","$translate","$q","RIG_CONSTANTS",function(e,t,n,r){function i(e,t){return Number(Math.round(e+"e"+t)+"e-"+t)}function o(e){var t,n;try{return _.isString(e)?(n=e/b/b/b,t=i(n,2),isNaN(t)?h:t+" GB RAM"):h}catch(e){return p.error("failed to format memory",e),h}}function a(e){var t,n,r;try{return _.isString(e)?(t=e.split("@"),2===t.length&&(n=t[0].split("x"),2===n.length)?r=n[0]+" x "+n[1]+", "+t[1]+"Hz":h):h}catch(e){return p.error("failed to format resolution",e),h}}function l(){var e,t;return v={},g?(v.cpuName=_.isString(g.CPUName)?g.CPUName:h,v.driverVersion=_.isString(g.DriverVersion)?d+g.DriverVersion:h,v.totalPhysicalMemory=o(g.TotalPhysicalMemory),v.currentResolution=a(g.CurrentResolution),e=_.isArray(g.GPU)?g.GPU.length:0,0===e?v.gpuName=h:1===e?v.gpuName=g.GPU[0].LongGPUName:(t=_.rest(g.GPU),v.gpuName=g.GPU[0].LongGPUName,v.gpuSubItems=_.pluck(t,"LongGPUName")),void p.info("createItems - systemInfo",v)):(p.info("createItems - hardware info not available"),n.reject())}function s(){return d?n.when(d):f?f:f=t(["l10n.driverVersion"]).then(function(e){d=e["l10n.driverVersion"]+" "})}function c(e,t){E[t]=e}function u(){return E=[],c({icon:"icon-gpu",description:v.gpuName,subItems:v.gpuSubItems},y.GPU),c({icon:"icon-nvlogo",description:v.driverVersion},y.DRIVER_VERSION),c({icon:"icon-memory",description:v.cpuName},y.CPU),c({icon:"icon-ram",description:v.totalPhysicalMemory},y.RAM),c({icon:"icon-monitor",description:v.currentResolution},y.RESOLUTION),E}var d,f,m=this,p=e.getInstance("main.common/rigService"),g=null,v={},h="-",b=1024,y=r.ITEM_POSITION,E=[];m.processSystemInfo=function(e){return g=e,s().then(l).then(u)}}]).constant("RIG_CONSTANTS",{ITEM_POSITION:{GPU:0,DRIVER_VERSION:1,CPU:2,RAM:3,RESOLUTION:4}});t.rigService=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvScrollOverlay=void 0;var r=n(1),i=r.ngMainCommonModule.directive("nvScrollOverlay",["$timeout",function(e){return{restrict:"A",link:function(t,n,r){function i(){0===n[0].scrollTop?a.addClass("hidden"):a.removeClass("hidden"),n[0].scrollTop+n[0].clientHeight===n[0].scrollHeight?l.addClass("hidden"):l.removeClass("hidden")}function o(){n.unbind("scroll",i)}var a=angular.element('<div class="overlay top hidden"></div>'),l=angular.element('<div class="overlay bottom hidden"></div>');n.addClass("scroll-overlay"),n.prepend(a),n.append(l),n.bind("scroll",i),t.$on("$destroy",o),e(i)}}}]);t.nvScrollOverlay=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectMenuItemController=void 0;var r=n(1);n(17);var i=r.ngMainCommonModule.controller("SelectMenuItemController",["$scope","telemetryService",function(e,t){var n=this;n.action=e.nvAction,n.disabled=e.nvDisabled,n.nvTelemetry=e.nvTelemetry,e.$watch("nvSelectedTest()",function(e){n.itemStyle={"font-weight":e?"bold":"normal"}}),e.$watch("nvDisabled",function(e){n.disabled=e}),n.handleClick=function(){if(n.action(),n.nvTelemetry){var e=JSON.parse(n.nvTelemetry);t.push(e.tarconID,e.url)}}}]);t.selectMenuItemController=i},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.signPayloadService=void 0;var r=n(1),i=r.ngMainCommonModule.service("signPayloadService",["$log","$base64",function(e,t){var n=(e.getInstance("main.common/signingPayloadService"),this),r=16,i=2*r,o=function(e){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t};n.getBytesFromEncodedString=function(e){var n=decodeURIComponent(e),r=t.decode(n),i=o(r);return i},n.convertStringToHexWithWordShift=function(e,t){for(var n=0,r=0;r<t;r++)switch(e[t-1-r]){case"0":n|=0<<4*r;break;case"1":n|=1<<4*r;break;case"2":n|=2<<4*r;break;case"3":n|=3<<4*r;break;case"4":n|=4<<4*r;break;case"5":n|=5<<4*r;break;case"6":n|=6<<4*r;break;case"7":n|=7<<4*r;break;case"8":n|=8<<4*r;break;case"9":n|=9<<4*r;break;case"a":case"A":n|=10<<4*r;break;case"b":case"B":n|=11<<4*r;break;case"c":case"C":n|=12<<4*r;break;case"d":case"D":n|=13<<4*r;break;case"e":case"E":n|=14<<4*r;break;case"f":case"F":n|=15<<4*r}return n},n.base64FromByteArray=function(e){for(var t,n,r,i,o,a="",l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=new Uint8Array(e),c=s.byteLength,u=c%3,d=c-u,f=0;f<d;f+=3)o=s[f]<<16|s[f+1]<<8|s[f+2],t=(16515072&o)>>18,n=(258048&o)>>12,r=(4032&o)>>6,i=63&o,a+=l[t]+l[n]+l[r]+l[i];return 1==u?(o=s[d],t=(252&o)>>2,n=(3&o)<<4,a+=l[t]+l[n]+"=="):2==u&&(o=s[d]<<8|s[d+1],t=(64512&o)>>10,n=(1008&o)>>4,r=(15&o)<<2,a+=l[t]+l[n]+l[r]+"="),a},n.buildNonceBytes=function(e){e.length>i&&(e=e.slice(0,i));var t=e.split("");if(t.length===i){for(var o,a=new ArrayBuffer(r),l=new DataView(a,0),s=0;s<r;s++)o=n.convertStringToHexWithWordShift(t.slice(2*s,2*s+2),2),l.setUint8(r-s-1,o);var c=new Uint8Array(a,0);return n.nonce=Array.prototype.slice.call(c),n.nonce}return null},n.getHexStringFromBytes=function(e){for(var t="",n="00",r=0;r<e.length;r++)t+=(n+e[r].toString(16)).slice(-2);return t},n.buildProgramId=function(e,t){var n=e.split(".").join("")+t.split(".").join(""),r="00000000",i=n.length>8?n.substring(0,8):(r+n).slice(-8);return parseInt(i,16)},n.formatHashedEcid=function(e){var t=n.getHexStringFromBytes(e).replace("-","").toLowerCase();return encodeURIComponent(n.base64FromByteArray(o(t)))},n.formatSignedPaylod=function(e){return encodeURIComponent(n.base64FromByteArray(e))},n.formatPayloadRequest=function(e){if(e.key){var t=n.getBytesFromEncodedString(e.key),r=n.buildProgramId(e.clientVersion,e.driverVersion),o=n.buildNonceBytes(e.nonce.length>i?e.nonce.substring(0,i):e.nonce);return{algorithm:e.signAlgo,nonce:o,programId:r,key:t,sessionId:0}}return null},n.formatSignedPayload=function(e){var t="00000000",r=(t+e.deviceInfo.chipId.toString(16)).slice(-4),i=(t+e.deviceInfo.revisionId.toString(16)).slice(-4);return{deviceChipsetId:r,deviceRevision:i,hashedEcid:n.formatHashedEcid(e.ecidSha2Hash),signedPayload:n.formatSignedPaylod(e.data),ucodeVersion:(t+e.uCodeVersion.toString()).slice(-8)}}}]);t.signPayloadService=i},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.systemClockService=void 0;var r=n(1),i=r.ngMainCommonModule.service("systemClockService",["$interval","eventAggregator","COMMON_EVENTS",function(e,t,n){function r(){t.trigger(n.SYSTEM_TIME_UPDATED,new Date)}var i=this,o=0,a=null,l=1e3;i.subscribeClockUpdates=function(){o+=1,a||(a=e(r,l))},i.unsubscribeClockUpdates=function(){o-=1,o<=0&&(o=0,e.cancel(a),a=null)}}]);t.systemClockService=i},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.tracingService=void 0;var i=n(56),o=r(i),a=n(12),l=r(a),s=n(243),c=r(s),u=n(1),d=n(984),f=r(d),m=u.ngMainCommonModule.provider("tracingService",function(){return{$get:["$log","$q","nvAngularUuidService","TRACING_CONSTANTS","TRACING_TAG_NAMES","$window",function(e,t,n,r,i,a){function s(e){return a.btoa(a.unescape(a.encodeURIComponent(e)))}var u={},d={},m={},p={},g=this,v=void 0;e.getInstance("nvTracing/tracingService");g.initialized=!1;var h=function(e,t){e&&f.default.initGlobalTracer(e),v=t||{},v.sessionId=n.generateUUID(),g.initialized=!0},b=function(e,t){var r=void 0,i=void 0,o=void 0;if(g.initialized&&e){o=n.generateUUID(),t&&(i=u[t]),r=i?f.default.globalTracer().startSpan(e,{childOf:i}):f.default.globalTracer().startSpan(e),u[o]=r;for(var a in v)S(o,a,v[a])}return o},y=function(e,t,n){if(g.initialized&&e){var r=u[e];r&&(r.setTag("error",n),t&&(r.setTag("http.status_code",t.status),t.config&&(r.setTag("http.url",t.config.url),r.setTag("http.method",t.config.method))),r.finish(),delete u[e])}},E=function(e){return void 0!==u[e]},S=function(e,t,n){if(g.initialized&&e){var r=u[e];r&&r.setTag(t,n)}},w=function(e,n,r,i){if(g.initialized&&n){var o=b(n,r);return e(o).then(function(e){var t=A(e,i);return O(o,t),y(o,!0),e}).catch(function(e){var n=A(e,i);return O(o,n),y(o,!1),t.reject(e)})}return e()},A=function(e,t){var n={};if(g.initialized&&e&&t){var r=e,i=!0,o=!1,a=void 0;try{for(var s,u=(0,c.default)(t);!(i=(s=u.next()).done);i=!0){var d=s.value;if("."===d)_.isObject(e)&&(r=(0,l.default)(e)),n.data=r;else{var f=d.split("."),m=!0,p=!1,v=void 0;try{for(var h,b=(0,c.default)(f);!(m=(h=b.next()).done);m=!0){var y=h.value;if(r=r[y],!r)break}}catch(e){p=!0,v=e}finally{try{!m&&b.return&&b.return()}finally{if(p)throw v}}r&&(_.isObject(r)&&(r=(0,l.default)(r)),n[d]=r)}}}catch(e){o=!0,a=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}}return n},T=function(e,t){if(g.initialized&&e){var n=u[e];if(n){var r={};f.default.globalTracer().inject(n.context(),f.default.FORMAT_HTTP_HEADERS,r);var i=(0,o.default)(r),a=!0,l=!1,s=void 0;try{for(var d,m=(0,c.default)(i);!(a=(d=m.next()).done);a=!0){var p=d.value;t[p]=r[p]}}catch(e){l=!0,s=e}finally{try{!a&&m.return&&m.return()}finally{if(l)throw s}}}}},I=function(e,t,n){g.initialized&&e&&(d[e]||(t?d[e]=t:d[e]=function(){}),n&&_.isArray(n)&&!m[e]&&(m[e]=n))},C=function(e,t){if(g.initialized&&e&&e.url){var o=void 0,a=void 0,u=void 0,f=void 0,m=void 0;if(e.url.startsWith("http")&&(f=new URL(e.url),m=f.searchParams),f){var v=e.data,h=void 0;v&&(a=v[r.PARENT_SPAN_IDENTIFIER],v[r.COMPONENT_NAME]&&(u=v[r.COMPONENT_NAME],o=b(u,a),delete v[r.COMPONENT_NAME]),delete v[r.PARENT_SPAN_IDENTIFIER]),!o&&m&&(a||(a=m.get(r.PARENT_SPAN_IDENTIFIER)),m.get(r.COMPONENT_NAME)&&!u&&(u=m.get(r.COMPONENT_NAME),o=b(u,a),m.delete(r.COMPONENT_NAME)),m.delete(r.PARENT_SPAN_IDENTIFIER),(a||u)&&(e.url=f.origin+f.pathname+"?"+m.toString()));var y=d[f.origin]||d[f.host];if(f.origin&&(y||a)){if(!o){var E=R(f.origin,f.pathname.split("/"));o=b(E,a)}y&&M(o,y)}if(o&&m){var w=m.entries(),A="",I=!0,C=!1,x=void 0;try{for(var D,O=(0,c.default)(w);!(I=(D=O.next()).done);I=!0){var N=D.value;A="params."+N[0],S(o,A,N[1])}}catch(e){C=!0,x=e}finally{try{!I&&O.return&&O.return()}finally{if(C)throw x}}e.url=f.origin+f.pathname,m.toString().length>0&&(e.url+="?"+m.toString())}if(o&&(S(o,i.ORIGIN,f.origin),S(o,i.PATH,f.pathname)),t){var L=[];if(o){T(o,L),f=new URL(e.url),m=f.searchParams;var P=(0,l.default)(_.extend({},L));e.url=f.origin+f.pathname+"?tracer="+s(P),m.toString().length>0&&(e.url=e.url+"&"+m.toString()),e.spanId=o}}else o&&e.headers&&(e.headers[r.X_REQUEST_ID]?h=e.headers[r.X_REQUEST_ID]:(h=n.generateUUID(),e.headers[r.X_REQUEST_ID]=h),p[h]=o,T(o,e.headers))}}},x=function(e,t,n){if(g.initialized&&e){var r=u[e];r&&(r.setTag("error",t),n&&(r.setTag("http.error_code",n.errorCode),r.setTag("http.error_text",n.errorText),r.setTag("http.url",n.failedUrl)),r.finish(),delete u[e])}},D=function(e,t){var n=void 0;if(g.initialized&&e&&e.config&&e.config.headers&&(n=e.config.headers[r.X_REQUEST_ID])){var i=p[n];if(i&&e.config&&e.config.url){var o=new URL(e.config.url),a=o.origin,l=m[a];if(l){var s=e.headers();if(s){var u=!0,d=!1,f=void 0;try{for(var v,h=(0,c.default)(l);!(u=(v=h.next()).done);u=!0){var b=v.value,E=s[b];S(i,b,E)}}catch(e){d=!0,f=e}finally{try{!u&&h.return&&h.return()}finally{if(d)throw f}}}}y(i,e,t),delete p[n]}}},M=function(e,n){g.initialized&&n&&t.when(n()).then(function(t){O(e,t)})},O=function(e,t){if(g.initialized&&t)for(var n in t){var r=t[n];S(e,n,r)}},R=function(e,t){var n=void 0;if(0===t.length)n=e;else{var r=t.length;n=1===r?t[r-1]:t[r-2]+"/"+t[r-1]}return n};return{init:h,startSpan:b,closeSpan:y,trackPromise:w,startHttpSpan:C,closeHttpSpan:D,closePopUpHttpSpan:x,setTag:S,setTags:O,injectSpan:T,registerUrlForTracing:I,isSpanAvailable:E}}]}});t.tracingService=m},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.videoController=void 0;var i=n(3),o=r(i),a=n(1),l=a.ngMainCommonModule.controller("VideoController",["$scope","$window","$document","$interval","$filter","$sce","VIDEO_TYPE","YOUTUBE_PLAYER_STATE","$mdToast","MEDIA_NETWORK_STATE","$log",function(e,t,n,r,i,a,l,s,c,u,d){function f(e){var t=/youtu\.be\/(.*)/g,n=t.exec(e);return n[1]}function m(){v.totalDuration=0;var e=0;v.totalDuration=i("date")(1e3*v.media[0].duration,"mm:ss","UTC"),r(function(){if(e!==v.sliderPosition){var t=v.sliderPosition*v.media[0].duration/100;return v.currentVideoTime=i("date")(1e3*t,"mm:ss","UTC")+" / "+v.totalDuration,v.media[0].currentTime=t,void(e=v.sliderPosition)}v.media[0].paused&&v.media[0].currentTime!==v.media[0].duration||(v.currentVideoTime=i("date")(1e3*v.media[0].currentTime,"mm:ss","UTC")+" / "+v.totalDuration,v.sliderPosition=e=Math.floor(v.media[0].currentTime/v.media[0].duration*100))},1e3)}function p(){h=new t.YT.Player("ytPlayer",{events:{onReady:v.onYTPlayerReady()}})}function g(){var e=n[0].getElementsByTagName("script"),t="https://www.youtube.com/iframe_api";if(o.find(e,function(e){return e.getAttribute("src")===t}))p();else{var r=n[0].createElement("script");r.src=t;var i=n[0].getElementsByTagName("script")[0];i.parentNode.insertBefore(r,i)}}var v=this;v.showOverlay=!1,v.currentVideoTime="00:00 / 00:00",v.sliderPosition=0,v.videoLoaded=!1,v.directiveElement=null,v.media=null,v.totalDuration=0,v.nvSrc=e.nvSrc,v.nvVideoLoaded=e.nvVideoLoaded,v.nvVideoType=e.nvVideoType,v.nvVideoClose=e.nvVideoClose,v.nvDefaultVideoControl=e.nvDefaultVideoControl,v.youtubePlayer=null,v.videoWaiting=!0;var h=null,b=d.getInstance("main.common/VideoController");v.formatVideoSource=function(){v.nvSrc?(v.nvVideoType===l.YOUTUBE&&(v.nvSrc="https://www.youtube.com/embed/"+f(v.nvSrc)+"?wmode=transparent&controls=1&showinfo=0&autoplay=1"),v.nvSrc=a.trustAsResourceUrl(v.nvSrc)):(b.error("Video source is null"),v.nvVideoClose&&v.nvVideoClose())},v.formatVideoSource(),v.isVideoTypeYoutube=function(){return v.nvVideoType===l.YOUTUBE},v.showDefaultOverlay=function(){return v.isVideoTypeYoutube()||"true"===v.nvDefaultVideoControl},v.setShowOverlay=function(e){v.showOverlay=e},v.toggleMediaPlay=function(){v.nvVideoType===l.YOUTUBE?v.youtubePlayer&&(v.youtubePlayer.getPlayerState()===s.PAUSED?v.youtubePlayer.playVideo():v.youtubePlayer.pauseVideo()):v.media&&(v.media[0].paused?v.media[0].play():v.media[0].pause())},v.showPlaybutton=function(){return!!v.media&&v.media[0].paused},v.muted=function(){return!!v.media&&v.media[0].muted},v.muteUnmute=function(){v.media&&(v.media[0].muted=!v.media[0].muted)},v.onYTPlayerReady=function(){v.videoWaiting=!1,v.videoLoaded=!0,v.youtubePlayer=h,v.nvVideoLoaded&&v.nvVideoLoaded({value:!0})},t.onYouTubeIframeAPIReady=function(){p()},n.ready(function(){function t(){e.$apply(function(){v.videoWaiting=!1})}function r(){e.$apply(function(){v.videoWaiting=!0})}if(v.nvVideoType===l.YOUTUBE)return void g();null===v.directiveElement&&(v.directiveElement=angular.element(n[0].querySelector(".common-video-directive")),v.media=v.directiveElement.find("video"),v.media&&"true"===v.nvDefaultVideoControl&&v.media.attr("controls",!0));var o="error";v.media.bind(o,function(e){var t=i("translate")("l10n.mediaerror.generic");if(e.target.error)switch(e.target.error.code){case e.target.error.MEDIA_ERR_ABORTED:t=i("translate")("l10n.mediaerror.aborted");break;case e.target.error.MEDIA_ERR_NETWORK:t=i("translate")("l10n.mediaerror.network");break;case e.target.error.MEDIA_ERR_DECODE:t=i("translate")("l10n.mediaerror.decode");break;case e.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:t=i("translate")("l10n.mediaerror.notsupported")}var n=c.simple().content(t).highlightAction(!0).hideDelay(3e3).capsule("true").position("top center");c.show(n),v.nvVideoClose&&v.nvVideoClose()});var a="loadedmetadata";v.media.bind(a,function(){e.$apply(function(){v.videoLoaded=!0}),v.nvVideoLoaded&&v.nvVideoLoaded({value:!0}),m()});var s="progress";v.media.bind(s,function(e){e.target.networkState===u.NETWORK_LOADING&&e.target.buffered.length>0&&e.target.played.length>0&&e.target.buffered.end(0)<=e.target.played.end(0)+.5?v.videoWaiting=!0:v.videoWaiting=!1}),v.media.bind("canplay",function(){t()}),v.media.bind("playing",function(){t()}),v.media.bind("waiting",function(){r()}),v.media.bind("stalled",function(){r()}),e.$apply()})}]);t.videoController=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvVideo=void 0;var i=n(1),o=n(770),a=r(o);n(395),n(15);var l=i.ngMainCommonModule.directive("nvVideo",function(){return{restrict:"E",transclude:!0,scope:{nvSrc:"@",nvVideoType:"@",nvVideoLoaded:"&",nvVideoClose:"&",nvDefaultVideoControl:"@"},template:a.default,controller:"VideoController",controllerAs:"videoCtrl"}});t.nvVideo=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.virtualGridListController=void 0;var r=n(1),i=r.ngMainCommonModule.controller("VirtualGridListController",["$element","$scope","eventAggregator","COMMON_EVENTS",function(e,t,n,r){function i(){return e[0].offsetWidth}function o(e,t){var n=e||1;return Math.floor(t/n)}function a(e,t){var n=e||1;return Math.ceil(t/n)}function l(e,t,n){v[e]||(v[e]=[]);var r,i,o=v[e];for(o.length=0,r=0;r<t;r++){if(i=e*t+r,i>=n.getLength())return o;o.push(n.getItemAtIndex(i))}return o}function s(e){var t,n;if(e>v.length)for(n=e-v.length,t=0;t<n;t++)v.push([]);v.length=e,v[v.length-1]=[]}function c(e,n){var r,i,o=a(n,e.getLength());for(s(o),t.nvVirtualGridListItems=v,r=0;r<o;r++)i=l(r,n,e),t.nvVirtualGridListItems[r]=i}function u(e,n){var r=a(n,e.getLength());s(r),t.nvVirtualGridListItems={getLength:function(){return r},getItemAtIndex:function(t){return l(t,n,e)}}}function d(e){var t=!1;e.columnCount&&e.columnCount!==g.columnCount&&(g.columnCount=e.columnCount,t=!0),e.itemWidth&&e.itemWidth!==g.itemWidth&&(g.itemWidth=e.itemWidth),e.list&&e.list!==g.list&&(g.list=e.list,"[object Array]"===Object.prototype.toString.call(g.list)&&(g.list={getLength:function(){return e.list.length},getItemAtIndex:function(t){return e.list[t]}}),t=!0),g.list.getLength()!=g.listLength&&(g.listLength=g.list.getLength(),t=!0);var n=o(g.itemWidth,i());n!==g.columnCount&&(g.columnCount=n,t=!0),t&&this.refreshFn(g.list,g.columnCount)}function f(){n.on(r.WINDOW_RESIZE,p)}function m(){n.off(r.WINDOW_RESIZE,p)}var p,g={list:{getLength:function(){return 0},getItemAtIndex:angular.noop},columnCount:0,itemWidth:0,listLength:0},v=[];t.nvVirtualGridListItems={getLength:function(){return 0},getItemAtIndex:function(e){return null}},this.initialize=function(e){this.refresh=d.bind({refreshFn:e?u:c})},this.refresh=angular.noop,this.resize=function(e){var n=o(g.itemWidth,i());n!==g.columnCount&&this.refresh({columnCount:n}),t.$apply()},this.getRowCount=function(){return a(g.columnCount,g.list.getLength())},p=this.resize.bind(this),t.$on("$destroy",m),f()}]);t.virtualGridListController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvVirtualGridListItem=t.nvVirtualGridListRepeat=t.nvVirtualGridList=void 0;var r=n(1);n(397);var i=r.ngMainCommonModule.directive("nvVirtualGridList",function(){return{restrict:"E",template:function(e){return e[0].innerHTML},controller:"VirtualGridListController"}}),o=r.ngMainCommonModule.directive("nvVirtualGridListRepeat",["$document","_","$compile",function(e,t,n){function r(e){var t,n,r,i,o;if(t=e.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),!t)throw new Error('Expected expression in form of "_item_ in _collection_[ track by _id_]" but got {0}',e);return n=t[1],r=t[2],i=t[3],o=t[4],{key:n,collection:r,aliasAs:i,trackBy:o}}function i(t,n,i,o){var a=r(n.attr("nv-virtual-grid-list-repeat")),c=o,u=void 0!==n.attr("nv-on-demand"),d=parseInt(l)+parseInt(s);e.ready(function(){var e=n[0].offsetWidth,r=Math.floor(e/d);c.initialize(u),c.refresh({list:t.$eval(a.collection),itemWidth:d,columnCount:r}),t.$watchCollection(function(){return t.$eval(a.collection)},function(e,n){e&&c.refresh({list:t.$eval(a.collection)})})})}function o(e,t,n,r){var i=getComputedStyle(t[0]);l=i["max-width"],s=i["margin-right"],t.removeAttr("style"),t.removeAttr("class")}function a(e){var t,n,i=r(e.attr("nv-virtual-grid-list-repeat")),o=void 0!==e.attr("nv-on-demand"),a=e[0].outerHTML,l=e.attr("nv-repeat-item-class"),s="",c=e.attr("nv-top-index"),u="";return t=i.key+" in row",i.aliasAs&&(t+=" alias as "+i.aliasAs),i.trackBy&&(t+=" track by "+i.trackBy),o&&(s="md-on-demand"),c&&(u='md-top-index="'+c+'"'),a=a.replace(/nv-virtual-grid-list-repeat=["'].*?['"]/g,""),n='<md-content layout="row" flex><md-virtual-repeat-container flex id="vertical-container" '+u+'><div md-virtual-repeat="row in nvVirtualGridListItems" layout="row" flex '+s+' class="'+l+'"><nv-virtual-grid-list-item ng-repeat="'+t+'">'+a+"</nv-virtual-grid-list-item></div></md-virtual-repeat-container></md-content>"}var l=null,s=null;return{restrict:"A",require:"^nvVirtualGridList",replace:!0,template:a,compile:function(e,t){return{pre:o,post:i}}}}]),a=r.ngMainCommonModule.directive("nvVirtualGridListItem",[function(){return{restrict:"E"}}]);t.nvVirtualGridList=i,t.nvVirtualGridListRepeat=o,t.nvVirtualGridListItem=a},,,,,,function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.homeController=void 0;var i=n(3),o=r(i);n(13),n(37),n(11);var a=angular.module("main").controller("HomeController",["jarvisService","dbCacheService","DB_NAMES","eventAggregator","COMMON_GAME_EVENTS","$scope","toastService",function(e,t,n,r,i,a,l){function s(e){u.synchedViewState.classicViewEnabled=e===!0,u.synchedViewState.persist_()}function c(e){u.viewState.selectedGameId=e,u.viewState.persist_()}var u=this;u.user=e.getLoggedInUser();var d=o.debounce(s,500,!0);r.on(i.SELECTED_GAME_CHANGED,c),r.on(i.GAME_VIEW_CHANGED,d),a.$on("$destroy",function(){l.isOpen()&&l.cancel(),r.off(i.SELECTED_GAME_CHANGED,c),r.off(i.GAME_VIEW_CHANGED,d)}),u.viewState=t.getCachedUserItem(u.user.userId,n.VIEW_STORE,n.VIEW_STATE),u.synchedViewState=t.getCachedUserItem(u.user.userId,n.JARVIS_GFE_STORE,n.JARVIS_VIEW_STATE),u.unselectSelectedGame=function(e){r.trigger(i.SELECTED_GAME_CHANGED,null),e.stopPropagation()}}]);t.homeController=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvHome=void 0,n(477),n(470);var i=n(774),o=r(i);n(404);var a=angular.module("main").directive("nvHome",function(){return{restrict:"E",scope:{},template:o.default,controller:"HomeController",controllerAs:"homeCtrl",link:function(e,t){function n(){t.empty(),t.remove(),t=null}e.$on("$destroy",n),t.on("$destroy",function(){e.$destroy()})}}});t.nvHome=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.mainController=void 0,n(77);var i=n(316),o=r(i),a=n(317),l=r(a),s=n(983),c=r(s),u=angular.module("main").controller("MainController",["$log","$templateCache","cefService","gfeUpdatesEndpoints","eventAggregator","GFE_SOCK_MESSAGE","WINDOW_STYLES","preferencesFeatureService","FEATURE_CRITERIA","stateService","COMMON_EVENTS","jarvisService","updatesService","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_UI_PROGRESS_NAMES","TELEMETRY_SCREENS","TELEMETRY_ACTIONS","$filter","GFE_SELF_UPDATE","SELF_UPDATE_CATEGORY_TYPE","SELF_UPDATE_ACTION","TELEMETRY_STATUS",function(e,t,n,r,i,a,s,u,d,f,m,p,g,v,h,b,y,E,S,_,w,A,T){function I(){var e=p.getLoggedInUser();e?g.getInstalledDriver().then(function(e){u.getUnsupportedFeatures(d.DRIVER).then(function(e){N.driverUpdateRequired=e.length>0,N.driverUpdateRequired&&(N.driverUpdateText=C(e))})}):N.driverUpdateRequired=!1}function C(e){var t=e.length;e=S("orderBy")(e,function(e){return e.id});var n=x(c.default.toWords(t)),r="l10n.criticalUpdateForFeatures"+n,i={};return e.forEach(function(e,t){var n="feature"+x(c.default.toWords(t+1));i[n]=e.header}),S("translate")(r,i)}function x(e){return e.charAt(0).toUpperCase()+e.substr(1)}function D(){N.newVersionAvailable=!1,N.driverUpdateRequired=!1,N.successfulPostprocessing=!1,i.on(a.NEW_VERSION_AVAIL,function(e){N.downloadInfo=e,N.newVersionAvailable=!0}),t.put("tour-step-popup.html",o.default),t.put("tour-step-template.html",l.default),I(),i.on(m.LOGIN_STATUS_CHANGE,I),i.on(m.UNSUPPORTED_FEATURES_UPDATED,I),i.on(m.UPDATE_DRIVER_FROM_PREFERENCES,R)}function M(e){v.push(h.EVENTS_SELF_UPDATE,{category:w.BANNER,action:e,newVersion:L||"",status:T.SUCCESS})}function O(e){v.push(h.DOWNLOAD_LATEST_DRIVER_UPDATE,{name:b.LATEST_DRIVER_UPDATE,currentScreen:y.SCREEN_MAIN_TOOLBAR,action:e})}function R(){f.gotoDriversTab({startDriverDownload:!0}),N.driverUpdateRequired=!1}var N=this,L="",P=e.getInstance("main/MainController");N.isWindowsOS=function(){return n.getWindowStyle()===s.WINDOWS},N.install=function(){r.startInstall("",N.downloadInfo.downloadedLocation).then(function(){n.windowClose()}).catch(function(e){P.error("install trigger from main failed "+e)})},i.on(_.POSTPROCESS_SUCCESSFULL,function(e){N.successfulPostprocessing=!0,L=e,P.info("show self update banner for version ",e),M(A.POPUP_SHOWN)}),N.showTopToolbar=function(){return(N.newVersionAvailable||N.driverUpdateRequired)&&!N.successfulPostprocessing},N.onRelaunchRequied=function(){M(A.RELAUNCH_NOW_CLICKED),n.restartApp()},N.resetDriverUpdateRequired=function(){O(E.LATER),N.driverUpdateRequired=!1},N.onClickUpdateDriver=function(){O(E.DOWNLOAD),R()},D()}]);t.mainController=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvMainTabButton=void 0;var i=n(775),o=r(i),a=angular.module("main").directive("nvMainTabButton",["$state",function(e){return{restrict:"E",scope:{nvMdIcon:"@",nvLabel:"@",nvState:"@",nvParam:"=",nvDisabled:"@"},template:o.default,link:function(t,n,r){function i(){o.addClass(l),a.addClass(l)}var o=angular.element(n.find("md-icon")),a=angular.element(n.find("span")),l="md-accent foreground";t.$on("$stateChangeSuccess",function(e,n,r,s,c){n.name.indexOf(t.nvState)>-1&&"true"!==t.nvDisabled?i():(o.removeClass(l),a.removeClass(l))}),e.current.name.indexOf(t.nvState)>-1&&"true"!==t.nvDisabled&&i(),n.bind("click",function(n){"true"!==t.nvDisabled&&e.go(t.nvState,t.nvParam)})}}}]);t.nvMainTabButton=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvMainTabIcon=void 0;var i=n(776),o=r(i);n(25);var a=angular.module("main").directive("nvMainTabIcon",["$state","$log",function(e,t){t.getInstance("main/mainTabIcon");return{restrict:"E",scope:{nvMdIcon:"@",nvState:"@",nvToolTip:"@",nvParam:"=",nvDisabled:"@",nvCustomIcon:"@",nvTabIconClicked:"&",nvChangeIconColorGreen:"@",nvShareAddonLoaded:"="},template:o.default,link:function(t,n,r){function i(){o.addClass(a)}var o=angular.element(n.find("md-icon")),a="md-accent foreground",l={opacity:"0.9"},s={opacity:"0.75"},c={opacity:"1"},u={opacity:"0.4"},d={color:"#76b900"},f={color:""};t.$on("$stateChangeSuccess",function(e,n,r,l,s){n.name.indexOf(t.nvState)>-1&&"true"!==t.nvDisabled?i():o.removeClass(a)}),e.current.name.indexOf(t.nvState)>-1&&"true"!==t.nvDisabled&&i(),t.$watch("nvDisabled",function(e,n){_.isUndefined(t.nvState)&&"true"===e?o.css(u):_.isUndefined(t.nvState)&&e!==n&&"false"===e&&o.css(s)}),n.bind("click",function(n){e.current.name.indexOf(t.nvState)===-1&&"true"!==t.nvDisabled&&(_.isUndefined(t.nvState)?("true"===t.nvShareAddonLoaded&&o.css(d),o.css(c),t.nvTabIconClicked()):e.go(t.nvState,t.nvParam))}),n.bind("mouseenter",function(e){_.isUndefined(t.nvState)&&"true"!==t.nvDisabled&&o.css(l)}),n.bind("mouseleave",function(e){_.isUndefined(t.nvState)&&"true"!==t.nvDisabled&&o.css(s)}),t.$watch("nvChangeIconColorGreen",function(e,t){"true"===e?o.css(d):o.css(f)})}}}]);t.nvMainTabIcon=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}n(13),n(11),n(29),n(23),n(165),n(25);var i=n(242);r(i);n(230),n(122),n(188),n(55),n(209),n(294),n(123),n(124);angular.module("main").controller("MainToolbarController",["$scope","jarvisService","gfeService","CHECK_FOR_UPDATE","eventAggregator","COMMON_EVENTS","dbCacheService","DB_NAMES","$log","hardwareService","preferencesService","toastService","updatesService","$filter","socketService","SHARE_SOCKET_EVENTS","$document","$timeout","REWARDS_EVENTS","$state","COMMON_HTTP_ERROR_CODES","PREFERENCES_EVENTS","DEFAULT_AVATAR","rewardsService","gfeSearchService","cevoToggleService","cevoService","preferencesFeatureService","FEATURES_NAME","USER_PROFILE_TAB_NAMES","productTourService","$q","COMMON_DEFAULT_STATES",function(e,t,n,r,i,o,a,l,s,c,u,d,f,m,p,g,v,h,b,y,E,S,_,w,A,T,I,C,x,D,M,O,R){function N(){var e=t.getLoggedInUser();e?(Q.displayName=e.core.displayName,Q.profileXP="─ ─",Q.profileTokens="─ ─",T.getAvatarStore().then(function(t){Q.avatar=a.getCachedUserItem(e.userId,t.storeName,t.key)})):(Q.displayName=null,Q.avatar={url:_.URL}),h(function(){var e=angular.element(v[0].querySelector(".md-toolbar-tools")),t=angular.element(e[0].querySelector(".display-name"));Q.showTooltip=t[0].scrollWidth>t[0].offsetWidth})}function L(){u.isShareFeatureSupportedOnSystem().then(function(e){Q.isShareSupported=e,Q.isShareSupported&&(Q.shareLoaded=u.shareAddonLoaded),ee.info("isShareFeatureSupportedOnSystem response: ",Q.isShareSupported),i.trigger(o.SHARE_ICON_VIZ_UPDATED,!!Q.isShareSupported),P()}).catch(function(e){ee.error("isShareFeatureSupported failed.")})}function P(){C.isDriverUpdateRequiredForSupport(x.SHARE).then(function(e){J=e,i.trigger(o.SHARE_ICON_VIZ_UPDATED,!!J)})}function k(){u.getShareRunningStatus().then(function(e){Q.isShareRunning=e}).catch(function(e){Q.isShareRunning=!1,Q.isShareButtonDisabled=!1,ee.error("getShareRunningStatus failed.")})}function G(e){ee.info("onSysInfoUpdated ",e.DriverVersion),Q.gpuDriverVersion=e.DriverVersion,Q.driverless=e&&(!e.DriverVersion||""===e.DriverVersion),L()}function F(){d.showError({textContent:m("translate")("l10n.openShareFailure")})}function U(e){Q.isShareButtonDisabled=e,k()}function V(e){Z=e,ee.info("Setting rewards feature enabled to: ",Z)}function B(e){Q.shareLoaded=JSON.parse(e.shareAddonLoaded),ee.info("Share node addon loaded event status: ",Q.shareLoaded)}function z(){A.checkSearchAvailability().then(function(e){Q.searchEnabled=e})}function $(e){Q.userProfileEnabled=e,Q.userProfileEnabled&&t.getLoggedInUser()?(Q.dropdownCollapseTimeout=te,I.getExtendedProfile().then(function(e){Q.profileXP=e.xp,Q.profileTokens=e.rewardTokens,Q.levelIcon=I.getLevelDetails(e.xplevel.level).icon})):Q.dropdownCollapseTimeout=0}function W(){i.on(S.NODE_ADDONS_FETCHED,B),
i.on(o.LOGIN_STATUS_CHANGE,N),i.on(o.SYSTEMINFO_UPDATED,G),i.on(o.SHARE_STATUS_CHANGE_IN_PROGRESS,U),i.on(o.OSC_READY,j),i.on(b.FEATURE_STATUS_UPDATED,V),i.on(o.LOCALE_CHANGED,z),i.on(o.USER_PROFILE_STATUS_UPDATED,$),i.on(o.UNSUPPORTED_FEATURES_UPDATED,P),i.on(o.ONLINE,L),p.register(g.OSCREADY_UPDATE,o.OSC_READY),Q.logout=n.logout,Q.checkforUpdate={updateState:r},Q.devFeatures=a.getCachedGlobalItem(l.DEV_STORE,l.DEV_FEATURES),N(),L(),k(),z()}function H(){Q.isShareButtonClicked=!1,i.trigger(o.SHARE_OPEN_IN_PROGRESS,Q.isShareButtonClicked),u.showOnscreenOverlay(!0).then(function(e){ee.info("showOnscreenOverlay status: ",e),d.cancel(),Q.isShareButtonDisabled=!1}).catch(function(e){ee.error("showOnscreenOverlay failed."),F(),Q.isShareButtonDisabled=!1})}function j(e){Q.isShareButtonDisabled=!1,Q.isShareRunning=!0,Q.isShareButtonClicked&&(ee.info("socket event OSCREADY_UPDATE",e),e.ready?H():(ee.info("OSC is not ready."),F()))}function q(e){d.showError({textContent:m("translate")(e),button:{text:m("translate")("l10n.learnMore"),action:w.openLearnMoreWindow}})}function Y(){Q.userProfileEnabled?Q.displayUserProfile(D.REWARDS_TAB):y.go(R.REWARDS)}function K(){i.off(S.NODE_ADDONS_FETCHED,B),i.off(o.LOGIN_STATUS_CHANGE,N),i.off(o.SYSTEMINFO_UPDATED,G),i.off(o.OSC_READY,j),i.off(o.SHARE_STATUS_CHANGE_IN_PROGRESS,U),i.off(b.FEATURE_STATUS_UPDATED,V),i.off(o.LOCALE_CHANGED,z),i.off(o.USER_PROFILE_STATUS_UPDATED,$),i.off(o.ONLINE,L)}var Q=this,Z=!1,X=null,J=!1;Q.driverless=!1,Q.isShareSupported=!1,Q.isShareButtonClicked=!1,Q.isShareButtonDisabled=!1,Q.isShareRunning=!1,Q.showTooltip=!1,Q.shareLoaded=!1,Q.defaultAvatarUrl=_.URL,Q.userProfileEnabled=!1,Q.dropdownCollapseTimeout=0,Q.gpuDriverVersion="";var ee=s.getInstance("main/MainToolbarController"),te=500;c.getLaunchTimeSystemInfo().then(function(e){Q.driverless=e&&(!e.DriverVersion||""===e.DriverVersion),ee.info("driverless:",Q.driverless)}).catch(function(e){ee.error("failed to get systemInfo")}),Q.canShowShareIcon=function(){return Q.isShareSupported||J},Q.showServerWarn=function(){return!1},Q.dismissServerWarn=function(){f.setServerWarn(!1)},Q.displayUserProfile=I.gotoUserProfile,Q.enableAndLaunchShare=function(){J?C.showDriverUpdateToast():(Q.isShareButtonClicked=!0,Q.isShareButtonDisabled=!0,i.trigger(o.SHARE_OPEN_IN_PROGRESS,Q.isShareButtonClicked),u.getShareRunningStatus().then(function(e){ee.info("getShareRunningStatus returned: ",e),e?(d.show({textContent:m("translate")("l10n.launchingShareToast"),showProgressIndicator:!0,hideDelay:2e3}),H()):u.toggleShareState(!0).then(function(e){ee.info("Enabling Share, toggleShareState status: ",e),d.show({textContent:m("translate")("l10n.launchingShareToast"),showProgressIndicator:!0,hideDelay:2e3}),i.trigger(o.SHARE_STATUS_CHANGED)}).catch(function(e){ee.error("toggleShareState failed."),i.trigger(o.SHARE_STATUS_CHANGED),F(),Q.isShareButtonClicked=!1,i.trigger(o.SHARE_OPEN_IN_PROGRESS,Q.isShareButtonClicked),Q.isShareButtonDisabled=!1})}).catch(function(e){ee.error("getShareRunningStatus failed."),Q.isShareButtonClicked=!1,i.trigger(o.SHARE_OPEN_IN_PROGRESS,Q.isShareButtonClicked),Q.isShareButtonDisabled=!1,Q.shareLoaded||e.status!==E.NOT_FOUND||C.handleShareNotReady(),Q.isShareRunning=!1}))},Q.onClickRedeem=function(e){if(!X&&y.current.name!==R.REWARDS){var t=O.defer();X=t.promise,d.showProgress({textContent:m("translate")("l10n.loading")});var r=w.getRewardsSupported();r?!n.onlineState||n.onlineState&&!n.onlineState.online?(d.showOffline(),t.reject(),X=null):Z?(d.cancel(),Y(),t.resolve(),X=null):w.getRewardsEnabled().then(function(e){Z=e,d.cancel(),Y(),t.resolve()}).catch(function(){q("l10n.redeemOffline"),t.reject()}).finally(function(){X=null}):(q("l10n.updateToRedeem"),t.reject(),X=null)}},Q.onTourStepShown=function(){M.onStepShown()},e.$on("$stateChangeSuccess",function(e,t,n,r,i){"main.auth.userProfile"===t.name?Q.userProfileActive=!0:Q.userProfileActive=!1}),W(),e.$on("$destroy",K)}])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvMainToolbar=void 0,n(408),n(407),n(615),n(510),n(649),n(366);var i=n(777),o=r(i);n(409);var a=angular.module("main").component("nvMainToolbar",{template:o.default,controller:"MainToolbarController",controllerAs:"mainToolbarCtrl"});t.nvMainToolbar=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvMain=t.ngMainModule=void 0;var i=n(187);n(220),n(410),n(353);var o=n(778),a=r(o);n(406);var l=i.ngMainModule.component("nvMain",{bindings:{},template:a.default,controller:"MainController",controllerAs:"main"});t.ngMainModule=i.ngMainModule,t.nvMain=l},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.friendAboutController=void 0;var r=n(16);n(46);var i=r.ngFriendsModule.controller("FriendAboutController",["$state","$log","friendsService",function(e,t,r){var i=this,o=e.params.userId,a=r.getUserAbout(o),l=0,s=5,c=t.getInstance("main.friends/FriendAboutController");i.loadRatingImage=function(e){return n(326)("./"+e+".svg")},a.then(function(e){var t=e[0]||{general:{reputation:0}};i.userAboutGeneral=t.general,i.userAboutSpecification=t.specification,i.getArray=function(){i.userAboutGeneral.reputation=i.userAboutGeneral.reputation<l?l:i.userAboutGeneral.reputation,i.userAboutGeneral.reputation=i.userAboutGeneral.reputation>s?s:i.userAboutGeneral.reputation;for(var e=[],t=l;t<s;t++)e.push(t<i.userAboutGeneral.reputation?"gold":"gray");return e}},function(e){c.error("fetching user about failed with status: "+e.status)})}]);t.friendAboutController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvFriendAbout=void 0;var i=n(16),o=n(788),a=r(o);n(434);var l=i.ngFriendsModule.directive("nvFriendAbout",function(){return{restrict:"E",template:a.default,controller:"FriendAboutController",controllerAs:"friendAbout"}});t.nvFriendAbout=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.friendAchievementsController=void 0;var r=n(16);n(46);var i=r.ngFriendsModule.controller("FriendAchievementsController",["$log","$state","friendsService",function(e,t,n){var r=t.params.userId,i=n.getUserAchievements(r),o=this,a=e.getInstance("main.friends/FriendAchievementsController"),l=function(e){return o.userAchievements=e,o};i.then(function(e){var t=e[0]?e[0].achievements:[];l(t)},function(e){a.error("fetching user achievements failed with status: "+e.status),l([{}])})}]);t.friendAchievementsController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvFriendAchievements=void 0;var i=n(16),o=n(789),a=r(o);n(436);var l=i.ngFriendsModule.directive("nvFriendAchievements",function(){return{restrict:"E",template:a.default,controller:"FriendAchievementsController",controllerAs:"vm"}});t.nvFriendAchievements=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.friendActivityFeedController=void 0;var r=n(16),i=r.ngFriendsModule.controller("FriendActivityFeedController",[function(){}]);t.friendActivityFeedController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvFriendActivityFeed=void 0;var i=n(16),o=n(790),a=r(o);n(438);var l=i.ngFriendsModule.directive("nvFriendActivityFeed",function(){return{restrict:"E",template:a.default,controller:"FriendActivityFeedController",controllerAs:"friendActivityFeed"}});t.nvFriendActivityFeed=l},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.friendBroadcastController=void 0;var i=n(3),o=r(i),a=n(16);n(46),n(233),n(37);var l=a.ngFriendsModule.controller("FriendBroadcastController",["$state","friendsService","shareService","localStorage",function(e,t,n,r){function i(){t.getUser(e.params.userId).then(function(e){l.selectedUser=e;var t=o.chain(e.statuses).filter(function(e){return"broadcasting"===e.activity}).sortBy(function(e){return e.data.portal===a?0:1}).value();t.length>0?(l.broadcastStatus=t[0],l.view="broadcast",l.translateInterpolation.displayName=l.broadcastStatus.data.game.displayName):(l.broadcastStatus=null,l.view="image")})}var a,l=this;l.view="image",l.translateInterpolation={},r.get("commonPreferredPortal").then(function(e){a=e.commonPreferredPortal,i()}),l.watchBroadcast=function(){n.watchBroadcast(e.params.userId)}}]);t.friendBroadcastController=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvFriendBroadcast=void 0;var i=n(16);n(15);var o=n(791),a=r(o);n(440);var l=i.ngFriendsModule.directive("nvFriendBroadcast",function(){return{restrict:"E",template:a.default,controller:"FriendBroadcastController",controllerAs:"friendBroadcast"}});t.nvFriendBroadcast=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.friendCompareGamesController=void 0;var r=n(16),i=r.ngFriendsModule.controller("FriendCompareGamesController",[function(){}]);t.friendCompareGamesController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvFriendCompareGames=void 0;var i=n(16),o=n(792),a=r(o);n(442);var l=i.ngFriendsModule.directive("nvFriendCompareGames",function(){return{restrict:"E",template:a.default,controller:"FriendCompareGamesController",controllerAs:"friendCompareGames"}});t.nvFriendCompareGames=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.friendDetailsController=void 0;var r=n(16);n(46);var i=r.ngFriendsModule.controller("FriendDetailsController",["$log","$stateParams","friendsService",function(e,t,n){var r=this;r.friendTitle="friendTitle";e.getInstance("main.friends/FriendDetailsController");r.user={userId:t.userId},n.getUser(r.user.userId).then(function(e){r.user=e})}]);t.friendDetailsController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvFriendDetails=void 0;var i=n(16);n(441),n(447),n(443),n(437),n(439),n(435),n(451),n(449);var o=n(793),a=r(o);n(444);var l=i.ngFriendsModule.directive("nvFriendDetails",function(){return{restrict:"E",scope:{},template:a.default,controller:"FriendDetailsController",controllerAs:"friendDetails"}});t.nvFriendDetails=l},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.friendGameSummaryController=void 0;var i=n(950),o=r(i),a=n(951),l=r(a),s=n(3),c=r(s),u=n(16);n(46);var d=u.ngFriendsModule.controller("FriendGameSummaryController",["$state","$filter","friendsService","FRIENDS_MAX_GENRES","FRIENDS_CHART_COLORS",function(e,t,n,r,i){var a,s=this,u="other";s.rectColor=function(e){return{"background-color":i[e]}},s.showChart=function(){return a>0},s.translateInterpolation=function(){return{numGames:a}},n.getUserGames(e.params.userId).then(function(e){var n,d=1;s.data=c.chain(e).groupBy(function(e){return e.genre&&""!==e.genre||(e.genre=u),e.genre}).map(function(e,t){return e}).sortBy(function(e){return-e.length}).tap(function(e){n=e.length}).groupBy(function(e,t){return e[0].genre===u&&(d=0),n>r&&t>=r-d?u:e[0].genre}).map(function(e,n){var r=c.flatten(e);return{label:t("translate")("l10n.genre."+n),value:r.length,data:r}}).value(),a=e.length,l.addGraph(function(){var e=l.models.pieChart().x(function(e){return e.label}).y(function(e){return e.value}).color(i).showLegend(!1).showLabels(!1).donut(!0).donutRatio(.6).valueFormat(o.format(",.0d")),t=o.select("#donut-chart svg").datum(s.data).transition().duration(1200).call(e);return t.style({"stoke-width":"9px"}),e})})}]);t.friendGameSummaryController=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvFriendGameSummary=void 0;var i=n(16);n(207);var o=n(794),a=r(o);n(446);var l=i.ngFriendsModule.directive("nvFriendGameSummary",function(){return{restrict:"E",template:a.default,controller:"FriendGameSummaryController",controllerAs:"friendGameSummary"}});t.nvFriendGameSummary=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.friendGroupListController=void 0;var r=n(16);n(46);var i=r.ngFriendsModule.controller("FriendGroupListController",["friendsService","$scope",function(e,t){var n=this;n.groupList=[],t.nvUserId?e.getUserGroups(t.nvUserId).then(function(e){n.groupList=e}):n.groupList=[]}]);t.friendGroupListController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvFriendGroupList=void 0;var i=n(16);n(35);var o=n(796),a=r(o),l=n(795),s=r(l);n(448);var c=i.ngFriendsModule.directive("nvFriendGroupList",[function(){return{restrict:"E",scope:{nvUserId:"@"},template:function(e,t){return"grid"===t.nvType?s.default:a.default},controller:"FriendGroupListController",controllerAs:"groups"}}]);t.nvFriendGroupList=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.friendListController=void 0;var r=n(16);n(46),n(221),n(233),n(37);var i=r.ngFriendsModule.controller("FriendListController",["$scope","friendsService","friendsUtilityService","shareService","localStorage","FRIENDS_DEFAULTS",function(e,t,n,r,i,o){function a(){t.getUserFriends(e.nvUserId).then(function(e){d.friendList=e})}function l(e){return e?e.core.displayName:""}function s(e){if(e.statuses.length>0){if("broadcasting"===e.statuses[0].activity)return 0;if("playing"===e.statuses[0].activity)return 1;if("online"===e.statuses[0].activity)return 2}return 3}function c(){"activity"===f?d.sort=s:d.sort=l}function u(){d.filter=function(e,t,r){var i=!1;return angular.forEach(m[d.filterType],function(t,r){if(n.getStatus(e).activity===t)return void(i=!0)}),i}}var d=this,f="",m={all:["broadcasting","playing","online","offline"],online:["broadcasting","online","playing"],broadcasting:["broadcasting"],playing:["broadcasting","playing"],offline:["offline"]};i.get({friendsSortType:o.SORT,friendsFilterType:o.FILTER}).then(function(e){f=e.friendsSortType,d.filterType=e.friendsFilterType,c(),u(),a()}),d.showWatchBroadcast=function(e){return"broadcasting"===n.getStatus(e).activity},d.showAskToPlay=function(e){var t=n.getStatus(e).activity;return"broadcasting"===t||"playing"===t},d.showChat=function(e){return"offline"!==n.getStatus(e).activity},d.watchBroadcast=function(e){r.watchBroadcast(e)},d.offlineClass=function(e){return"offline"===n.getStatus(e).activity?"darkened":""},d.askToPlay=function(e){r.askToPlay(e)},d.setSort=function(e){f=e,i.set({friendsSortType:f}),c()},d.matchSort=function(e){return f===e},d.setFilter=function(e){d.filterType=e,i.set({friendsFilterType:d.filterType}),u()},d.matchFilter=function(e){return d.filterType===e},d.getActivityString=n.getActivityString,d.getActivityDynamicValues=n.getActivityDynamicValues}]);t.friendListController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvFriendList=void 0;var i=n(16);n(115),n(219),n(398),n(35);var o=n(798),a=r(o),l=n(797),s=r(l);n(450);var c=i.ngFriendsModule.directive("nvFriendList",[function(){return{restrict:"E",scope:{nvUserId:"@"},template:function(e,t){return"grid"===t.nvType?s.default:a.default},controller:"FriendListController",controllerAs:"friends"}}]);t.nvFriendList=c},,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGalleryLibrary=void 0;var i=n(30);n(461);var o=n(801),a=r(o),l=i.ngGalleryModule.directive("nvGalleryLibrary",function(){return{restrict:"E",template:a.default}});t.nvGalleryLibrary=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGalleryMain=void 0;var i=n(30);n(459),n(464);var o=n(802),a=r(o),l=i.ngGalleryModule.directive("nvGalleryMain",function(){return{restrict:"E",template:a.default}});t.nvGalleryMain=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.galleryMomentsController=void 0;var i=n(56),o=r(i),a=n(30);n(299);var l=a.ngGalleryModule.controller("GalleryMomentsController",["galleryService","$filter","GAME_FILE_TYPE",function(e,t,n){var r=this;r.galleryList=[],r.sortPredicate="modifiedTime",r.sortReverse=!0,r.filterObj={},r.fileType=n,e.getGalleryItems().then(function(e){r.galleryList=t("orderBy")(e,r.sortPredicate,r.sortReverse)}),r.sortGalleryList=function(e,n){r.sortPredicate=e,r.sortReverse=n,r.galleryList=t("orderBy")(r.galleryList,e,n)},r.isSortType=function(e){return e===r.sortPredicate},r.setFilterType=function(e){r.filterObj=e},r.isFilterType=function(e){if("all"===e){if(0===(0,o.default)(r.filterObj).length)return!0}else if(r.filterObj.fileType===e)return!0;return!1}}]);t.galleryMomentsController=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGalleryMoments=void 0;var i=n(30);n(115),n(456),n(462),n(469);var o=n(803),a=r(o);n(458);var l=i.ngGalleryModule.directive("nvGalleryMoments",function(){return{restrict:"E",template:a.default,controller:"GalleryMomentsController",controllerAs:"galleryMoments"}});t.nvGalleryMoments=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.galleryPanelController=void 0;var r=n(30),i=r.ngGalleryModule.controller("GalleryPanelController",["$scope","$filter","eventAggregator","COMMON_EVENTS",function(e,t,n,r){function i(){e.$apply()}function o(){n.on(r.WINDOW_RESIZE,i)}function a(){n.off(r.WINDOW_RESIZE,i)}var l=this;l.galleryFolder=e.nvGalleryFolder,l.isExpanded=!1,l.showMediaInfo=!1,l.tileLimit=e.nvTileLimit,l.filteredObj={},l.filterObj=function(){angular.isDefined(l.galleryFolder)&&(l.filteredObj=t("filter")(l.galleryFolder.files,e.nvFilterObject))},l.filterObj(),l.setMediaInfoVisible=function(e){l.showMediaInfo=e},l.isFolderEmpty=function(){return 0===l.filteredObj.length},l.tilesRemaining=function(){return l.filteredObj.length-l.tileLimit},l.showExpandInfo=function(){return l.showMediaInfo&&l.tilesRemaining()>0};var s=function(){l.isExpanded?l.limitTo=l.filteredObj.length:l.limitTo=l.tileLimit};l.showMoreTiles=function(){l.isExpanded=!l.isExpanded,s()},e.$watch("nvTileLimit",function(){l.tileLimit=e.nvTileLimit,s()}),e.$watch("nvFilterObject",function(){l.filterObj(),s()}),e.$on("$destroy",a),o()}]);t.galleryPanelController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGalleryPanel=void 0;var i=n(30);n(468);var o=n(804),a=r(o);n(460);var l=i.ngGalleryModule.directive("nvGalleryPanel",["$timeout","eventAggregator","COMMON_EVENTS",function(e,t,n){return{restrict:"E",scope:{nvGalleryFolder:"=",nvFilterObject:"=",nvTileLimit:"="},template:a.default,link:function(r,i,o){function a(){t.on(n.WINDOW_RESIZE,d)}function l(){t.off(n.WINDOW_RESIZE,d)}var s=angular.element(i.children()[0]);i.on("mouseenter",function(e){s.addClass("md-primary md-hue-3 focused")}),i.on("mouseleave",function(e){s.removeClass("md-primary md-hue-3 focused")});var c=0,u=function(){var e=i.find("nv-gallery-tile")[0];e&&(c=e.getBoundingClientRect().width)},d=function(){var e=i.find("div")[0].clientWidth;r.nvTileLimit=Math.floor(e/c)};e(function(){u(),d()}),r.$on("$destroy",l),a()},controller:"GalleryPanelController",controllerAs:"galleryPanel"}}]);t.nvGalleryPanel=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGalleryPreview=void 0;var i=n(30),o=n(805),a=r(o),l=i.ngGalleryModule.directive("nvGalleryPreview",function(){return{restrict:"E",template:a.default}});t.nvGalleryPreview=l},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.galleryShowcaseController=void 0;var i=n(3),o=r(i),a=n(30);n(299),n(13);var l=a.ngGalleryModule.controller("GalleryShowcaseController",["galleryService","$filter","jarvisService","SHOWCASE_ORIGIN","$log",function(e,t,n,r,i){var a=this,l=n.getLoggedInUser();a.sortPredicate="snippet.publishedAt",a.sortReverse=!0;var s=i.getInstance("main.gallery/GalleryShowcaseController");a.galleryShowcaseList=[],l&&e.getGalleryShowcaseItems(l.userId).then(function(n){var i,l;angular.isDefined(n)&&(i=o.pluck(n.files,"originalId").join(","),l={id:i},e.listVideos(l).then(function(e){o.each(e.items,function(e){e.origin=r.YOUTUBE}),a.galleryShowcaseList=e.items,a.galleryShowcaseList=t("orderBy")(a.galleryShowcaseList,a.sortPredicate,a.sortReverse)},function(e){s.error("galleryService.listVideos failed: "+e)}))},function(e){s.error("galleryService.getGalleryShowcaseItems failed: "+e)}),a.sortShowcaseList=function(e,n){a.sortPredicate=e,a.sortReverse=n,a.galleryShowcaseList=t("orderBy")(a.galleryShowcaseList,e,n)},a.isSortType=function(e){return e===a.sortPredicate}}]);t.galleryShowcaseController=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGalleryShowcase=void 0;var i=n(30);n(115),n(466);var o=n(806),a=r(o);n(463);var l=i.ngGalleryModule.directive("nvGalleryShowcase",function(){return{restrict:"E",template:a.default,controller:"GalleryShowcaseController",controllerAs:"galleryShowcase"}});t.nvGalleryShowcase=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.galleryShowcaseTileController=void 0;var r=n(30),i=r.ngGalleryModule.controller("GalleryShowcaseTileController",["$scope",function(e){var t=this;t.overlayVisible=!1,t.buttonsVisible=!1,t.showcaseItem=e.nvGalleryShowcaseItem,t.showOverlay=function(){return t.overlayVisible?"":"no-background"},t.showButtons=function(){return t.buttonsVisible?"":"invisible"},t.mouseHover=function(e){t.overlayVisible=e,t.buttonsVisible=e}}]);t.galleryShowcaseTileController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGalleryShowcaseTile=void 0;var i=n(30);n(15),n(35);var o=n(807),a=r(o);n(465);var l=i.ngGalleryModule.directive("nvGalleryShowcaseTile",function(){return{restrict:"E",scope:{nvGalleryShowcaseItem:"="},template:a.default,controller:"GalleryShowcaseTileController",controllerAs:"galleryShowcaseTile"}});t.nvGalleryShowcaseTile=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.galleryTileController=void 0;var r=n(30);n(300),n(216);var i=r.ngGalleryModule.controller("GalleryTileController",["$scope","GAME_FILE_TYPE","$log","mediaDialogService",function(e,t,n,r){var i=this;i.galleryFile=e.nvGalleryFile,i.overlayVisible=!1,i.buttonsVisible=!1;n.getInstance("main.gallery/GalleryTileController");i.isImage=function(e){return e===t.IMAGE},i.isVideo=function(e){return e===t.VIDEO},i.previewMedia=function(e){var n=r.customPreset().toolbarHtml("<nv-media-preview-toolbar></nv-media-preview-toolbar>").event(e);i.galleryFile.fileType===t.IMAGE?n=n.image(i.galleryFile.filePath):i.galleryFile.fileType===t.VIDEO&&(n=n.video({source:i.galleryFile.filePath})),r.show(n)},i.showOverlay=function(){return i.overlayVisible?"":"no-background"},i.showButtons=function(){return i.buttonsVisible?"":"invisible"},i.mouseHover=function(e){i.overlayVisible=e,i.buttonsVisible=e},i.editMedia=function(e){return e.stopPropagation(),!1},i.shareMedia=function(){return!1},i.deleteMedia=function(){return!1},i.mediaDetail=function(){return!1}}]);t.galleryTileController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGalleryTile=void 0;var i=n(30);n(15),n(35);var o=n(808),a=r(o);n(467);var l=i.ngGalleryModule.directive("nvGalleryTile",function(){return{restrict:"E",scope:{nvGalleryFile:"="},template:a.default,controller:"GalleryTileController",controllerAs:"galleryTile"}});t.nvGalleryTile=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGalleryTimeline=void 0;var i=n(30),o=n(809),a=r(o),l=i.ngGalleryModule.directive("nvGalleryTimeline",function(){return{restrict:"E",template:a.default}});t.nvGalleryTimeline=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvClassicGameList=void 0;var i=n(14);n(11),n(13),n(115),n(219),n(15),n(134),n(222),n(35),n(42),n(301);var o=n(811),a=r(o);n(302);var l=i.ngGamesModule.directive("nvClassicGameList",["eventAggregator","COMMON_GAME_EVENTS","$log","$document",function(e,t,n,r){return{restrict:"E",scope:{nvUserId:"@",nvSelectedGameId:"="},template:a.default,controller:"GameListController",controllerAs:"games",link:function(i,o,a,l){function s(e){this.removeClass(e?"constants-display-none":"constants-display-flex").addClass(e?"constants-display-flex":"constants-display-none")}function c(e){var t=e.topIndex>0,n=Math.ceil(f.offsetHeight/34),r=e.topIndex+n!==e.gamesCount;s.call(m,t),s.call(p,r)}function u(){f&&e.on(t.GAME_LIST_TOP_INDEX_CHANGED,c)}function d(){f&&e.off(t.GAME_LIST_TOP_INDEX_CHANGED,c),f=null,m=null,p=null,o.empty(),o.remove(),o=null}var f=o[0].querySelector(".games-classic-game-list-items-container"),m=angular.element(o[0].querySelector(".classic-game-list-top-gradient")),p=angular.element(o[0].querySelector(".classic-game-list-bottom-gradient"));n.getInstance("main.gamesClassicGameListDirective");i.$on("$destroy",d),o.on("$destroy",function(){i.$destroy()}),u(),l.showTooltip=function(e,t){var n=angular.element(r[0].querySelector("#"+t+e));return!(!n||!n[0])&&n[0].scrollWidth>n[0].offsetWidth}}}}]);t.nvClassicGameList=l},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.customFpsController=void 0;var i=n(3),o=(r(i),n(14));n(17),n(378);var a=o.ngGamesModule.controller("CustomFpsController",["$scope","$log","$document","$window","$mdDialog","$filter","SETTING_TYPE","eventAggregator","toastService","COMMON_GAME_EVENTS","COMMON_EVENTS",function(e,t,n,r,i,o,a,l,s,c,u){function d(){S.isCurrentSettingTypeAC()?(S.maxFpsIndex=120,S.minFpsIndex=30,S.nvSystemGame.getQuietModeFRLState().then(function(e){S.optimalSliderIndex=e.data.defValue,S.currentFpsSliderIndex=e.data.value,S.showProgressIndicator=!1,S.controlDisabled=!1,p()}).catch(function(e){I.info("Not able to retrive QuiteMode FRL state for game",S.nvSystemGame.shortName),S.showProgressIndicator=!1,S.showErrorMessage=!0})):(S.maxFpsIndex=60,S.minFpsIndex=30,S.nvSystemGame.getBatteryBoostFRLState().then(function(e){S.optimalSliderIndex=e.data.defValue,S.currentFpsSliderIndex=e.data.value,S.showProgressIndicator=!1,S.controlDisabled=!1,p()}).catch(function(e){I.info("Not able to retrive BatteryBoost FRL state for game",S.nvSystemGame.shortName),S.showProgressIndicator=!1,S.showErrorMessage=!0}))}function f(){s.showError({textContent:o("translate")("l10n.unableToUpdateGameSettings")})}function m(){var e=angular.element(n[0].querySelector(".games-custom-fps"));T=angular.element(e[0].querySelector(".md-track-container")),_=angular.element(e[0].querySelector(".optimal-button-container")),w=angular.element(e[0].querySelector(".optimal-value-button")),A=angular.element(e[0].querySelector(".optimal-line-indicator"));var t=angular.element(n[0].querySelector(".games-game-optimization"))[0],i=r.getComputedStyle(t).getPropertyValue("margin-left"),o=r.getComputedStyle(t).getPropertyValue("margin-top"),a=angular.element(n[0].querySelector(".common-main-toolbar"))[0].offsetHeight,l=angular.element(n[0].querySelector(".game-details-toolbar"))[0].offsetHeight,s=0,c=0;if(S.nvClassicViewEnabled){var u=angular.element(n[0].querySelector(".games-classic-game-list")).find("md-toolbar")[0].offsetHeight;c=a+u+l+parseInt(o)+"px",e.css("top",c);var d=angular.element(n[0].querySelector(".games-classic-game-list-container"))[0];s="calc("+t.offsetWidth/2+"px + "+d.offsetWidth+"px + "+i+" - "+e[0].offsetWidth/2+"px)",e.css("left",s)}else c=a+l+parseInt(o)+"px",e.css("top",c),s="calc("+t.offsetWidth/2+"px + "+i+" - "+e[0].offsetWidth/2+"px)",e.css("left",s)}function p(){if(null===S.optimalSliderIndex||0===S.maxFpsIndex||null===T)_.addClass("hidden");else{var e=T[0].clientWidth/(S.maxFpsIndex-S.minFpsIndex),t=(S.optimalSliderIndex-S.minFpsIndex)*e+33,n=w[0].offsetWidth/2,r=t-n;r<0?r=0:r+w[0].offsetWidth>452&&(r=452-w[0].offsetWidth),w.css("left",Math.round(r)+"px"),A.css("left",Math.round(t)+"px"),_.removeClass("hidden")}}function g(){var e=angular.element(n[0].querySelector(".game-setting-list-container")),t=angular.element(n[0].querySelector(".games-classic-game-list-container")),r=angular.element(n[0].querySelector(".game-details-toolbar")),i=angular.element(n.find("nv-feedback-float"));e.addClass("constants-z-layers-modal-plus-three"),t.addClass("constants-z-layers-modal-plus-three"),r.addClass("constants-z-layers-modal-plus-three"),i.addClass("constants-z-layers-modal-plus-three")}function v(){I.info("selected game changed for game ",S.nvSystemGame.shortName),S.cancelCustomFps()}function h(){m(),p()}function b(){I.info("Initializing custom fps dialog"),l.on(u.WINDOW_RESIZE,h),l.on(c.SELECTED_GAME_CHANGED,v),S.showProgressIndicator=!0,S.isCurrentSettingTypeAC()?S.fpsDlgHeader="l10n.frameRateWhisperMode":S.fpsDlgHeader="l10n.frameRateBatteryBoost"}function y(){I.info("Destroying custom fps dialog"),l.off(u.WINDOW_RESIZE,h),l.off(c.SELECTED_GAME_CHANGED,v),E()}var E,S=this,_=null,w=null,A=null,T=null,I=t.getInstance("main.games/CustomFpsController");S.showProgressIndicator=!1,S.controlDisabled=!0,S.applyButtonDisabled=!0,S.sliderStep=5,S.showErrorMessage=!0,I.info("open custom fps dialog for game ",S.nvSystemGame.shortName),S.isCurrentSettingTypeAC=function(){return S.nvCurrentSettingType===a.SETTING_AC},S.applyCustomFps=function(){S.showProgressIndicator=!0,I.info("applying custom fps for game",S.nvSystemGame.shortName),S.isCurrentSettingTypeAC()?S.nvSystemGame.setQuietModeFRLState(S.currentFpsSliderIndex).then(function(){}).catch(function(e){f()}).finally(function(){S.showProgressIndicator=!1,i.hide()}):S.nvSystemGame.setBatteryBoostFRLState(S.currentFpsSliderIndex).then(function(){}).catch(function(e){f()}).finally(function(){S.showProgressIndicator=!1,i.hide()})},S.cancelCustomFps=function(){I.info("leaving custom fps dialog for game ",S.nvSystemGame.shortName),i.cancel()},S.applyOptimalValue=function(){I.info("leaving whisper mode fps with slider index ",S.optimalSliderIndex),S.currentFpsSliderIndex=S.optimalSliderIndex,S.currentFpsSliderChanged()},S.currentFpsSliderChanged=function(){S.applyButtonDisabled=!1},n.ready(function(){I.info("whisper mode fps document ready for game ",S.nvSystemGame.shortName),m(),d(),g()}),E=e.$on("$stateChangeStart",function(e,t,n,r,i){I.info("state changed in custom fps dialog for game ",S.nvSystemGame.shortName),S.cancelCustomFps()}),e.$on("$destroy",y),b()}]);t.customFpsController=a},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);
return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.customOpsController=void 0;var i=n(3),o=r(i),a=n(14);n(17);var l=a.ngGamesModule.controller("CustomOpsController",["$scope","$log","$filter","$document","$window","CUSTOM_OPS_CALLBACK_ACTION","$mdDialog","SETTING_TYPE","ASPECT_RATIO","eventAggregator","COMMON_GAME_EVENTS","GAME_EVENTS","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","COMMON_EVENTS","toastService","quietModeService","PERFORMANCE_MODES",function(e,t,n,r,i,a,l,s,c,u,d,f,m,p,g,v,h,b){function y(){return U.nvAceSupported?U.nvPoweMode===b.QUIET?"l10n.customSettingsQuietMode":U.nvPoweMode===b.MAX_P?"l10n.customSettingsPerformanceMode":U.nvDesktopMode?"l10n.usingCustomSettings":"l10n.customSettingsPluggedIn":X?"l10n.customSettingsQuietMode":U.nvDesktopMode?"l10n.usingCustomSettings":"l10n.customSettingsPluggedIn"}function E(){v.showError({textContent:n("translate")("l10n.unableToUpdateGameSettings")})}function S(){var e=angular.element(r[0].querySelector(".games-custom-ops"));B=angular.element(e[0].querySelector(".optimal-button-container")),z=angular.element(e[0].querySelector(".optimal-value-button")),$=angular.element(e[0].querySelector(".optimal-line-indicator"));var t=angular.element(r[0].querySelector(".games-game-optimization"))[0],n=i.getComputedStyle(t).getPropertyValue("margin-left"),o=i.getComputedStyle(t).getPropertyValue("margin-top"),a=angular.element(r[0].querySelector(".common-main-toolbar"))[0].offsetHeight,l=angular.element(r[0].querySelector(".game-details-toolbar"))[0].offsetHeight,s=0,c=0;if(U.nvClassicViewEnabled){var u=angular.element(r[0].querySelector(".games-classic-game-list")).find("md-toolbar")[0].offsetHeight;c=a+u+l+parseInt(o)+"px",e.css("top",c);var d=angular.element(r[0].querySelector(".games-classic-game-list-container"))[0];s="calc("+t.offsetWidth/2+"px + "+d.offsetWidth+"px + "+n+" - "+e[0].offsetWidth/2+"px)",e.css("left",s)}else c=a+l+parseInt(o)+"px",e.css("top",c),s="calc("+t.offsetWidth/2+"px + "+n+" - "+e[0].offsetWidth/2+"px)",e.css("left",s)}function _(){if(null===U.optimalSliderIndex||0===U.maxIndex)B.addClass("hidden");else{var e=W[0].clientWidth/(U.maxIndex-K),t=U.optimalSliderIndex*e+33,n=z[0].offsetWidth/2,r=t-n;r<0?r=0:r+z[0].offsetWidth>452&&(r=452-z[0].offsetWidth),z.css("left",Math.round(r)+"px"),$.css("left",Math.round(t)+"px"),B.removeClass("hidden")}}function w(){if(o.isNull(j)||j.clearRect(0,0,Y,q.height),W){q=W[0].getBoundingClientRect(),Y=q.width<384?384:q.width;var e=Math.floor((U.maxIndex-K)/1);j=H[0].getContext("2d"),H[0].width=Y,H[0].height=q.height;for(var t,n=0;n<=e;n++)t=Math.round(Y*(n/e)),j.fillStyle="#FFFFFF",j.fillRect(t-1,0,2,q.height)}}function A(t){var n;J.info("handle settingsSpace update for game ",U.nvSystemGame.shortName),U.showErrorMessage=!1,U.customSettings=t,U.maxIndex=U.customSettings.settings.length-1,U.optimalSliderIndex=null,n=U.nvCurrentSettingType===s.SETTING_AC?U.customSettings.recommendationAC:U.customSettings.recommendationDC,angular.isDefined(n)&&(U.optimalSliderIndex=n.recommendedIndex),_(),w(),e.$applyAsync(function(){Q?U.currentSliderIndex>U.maxIndex?U.currentSliderIndex=0:U.restoreOptimalSliderPosition&&(U.optimalSliderIndex&&(U.currentSliderIndex=U.optimalSliderIndex),U.restoreOptimalSliderPosition=!1):(Q=!0,null===U.optimalSliderIndex?U.currentSliderIndex=0:U.currentSliderIndex=U.optimalSliderIndex,U.OpsTweakPosition&&(U.currentSliderIndex=U.OpsTweakPosition.settingsIndex)),U.currentSliderChanged(),U.showProgressIndicator=!1,U.controlDisabled=!1})}function T(e){J.info("settingsSpace failed for game ",U.nvSystemGame.shortName),U.showProgressIndicator=!1,U.showErrorMessage=!0}function I(){U.selectedDisplayMode&&U.selectedResolution&&(J.info("get custom settings for game ",U.nvSystemGame.shortName),U.controlDisabled=!0,Z&&(Z.cancel(),Z=null),Z=U.nvSystemGame.getSettingsSpace(U.selectedResolution,U.selectedDisplayMode.name),Z.then(A).catch(T).finally(function(){Z=null}))}function C(e){U.displayModes=U.nvGameSettingsTranslationData[e].values,U.displayModeRecommended=U.displayModes[U.displayModeRecommended],U.selectedDisplayMode=U.displayModes[U.selectedDisplayMode]}function x(){J.info("refresh custom settings for game ",U.nvSystemGame.shortName);var e=U.nvSystemGame.getSliderSettings();if(e){var t;t=U.nvCurrentSettingType===s.SETTING_AC?e.AC:e.DC,U.resolutions=t.resolution.values,U.resolutionRecommended=U.resolutions[t.resolution.recommended],U.displayModes=t.displayMode.values,U.displayModeRecommended=U.displayModes[t.displayMode.recommended],U.nvCurrentSettingType===s.SETTING_AC?U.OpsTweakPosition=U.nvSystemGame.getOpsPositionAC():U.OpsTweakPosition=U.nvSystemGame.getOpsPositionDC(),U.OpsTweakPosition?(U.selectedDisplayMode=U.OpsTweakPosition.tweak.displayMode,U.selectedResolution=n("filter")(U.resolutions,{value:U.OpsTweakPosition.tweak.resolution})[0]):(U.selectedDisplayMode=U.displayModes[t.displayMode.recommended],U.selectedResolution=U.resolutions[t.resolution.recommended]),C(t.displayMode.settingName),U.groupResolutions(),I()}else J.error("getSliderSettings empty for game id "+U.nvSystemGame.id)}function D(){var e=angular.element(r[0].querySelector(".game-setting-list-container")),t=angular.element(r[0].querySelector(".games-classic-game-list-container")),n=angular.element(r[0].querySelector(".game-details-toolbar")),i=angular.element(r.find("nv-feedback-float"));e.addClass("constants-z-layers-modal-plus-three"),t.addClass("constants-z-layers-modal-plus-three"),n.addClass("constants-z-layers-modal-plus-three"),i.addClass("constants-z-layers-modal-plus-three")}function M(e,t,n,r){var i=e/n,o=n*i,a=r*i,l=.07*o,s=.07*a;return e>=o-l&&e<=o+l&&t>=a-s&&t<=a+s}function O(e,t,n,r){if(e%n===0){var i=e/n;if(t%i===0&&t/i===r)return!0}return!1}function R(e,t,n){return n?c.HYPERSAMPLE:O(e,t,16,10)?c.WIDE_16_10:O(e,t,16,9)?c.WIDE_16_9:O(e,t,4,3)?c.STANDARD_4_3:O(e,t,5,4)?c.STANDARD_5_4:M(e,t,16,9)?c.WIDE_16_9:M(e,t,16,10)?c.WIDE_16_10:c.CUSTOM}function N(e){e.id===U.nvSystemGame.id&&(J.info("state update for game ",U.nvSystemGame.shortName),x())}function L(){J.info("selected game changed for game ",U.nvSystemGame.shortName),U.cancelCustomSettings()}function P(){w(),S(),_()}function k(){J.info("Initializing custom ops dialog"),u.on(g.WINDOW_RESIZE,P),u.on(d.SELECTED_GAME_CHANGED,L),U.showProgressIndicator=!0,h.getStateInfo().then(function(e){X=e.supported&&e.enabled})}function G(){J.info("Destroying custom ops dialog"),u.off(g.WINDOW_RESIZE,P),u.off(d.SELECTED_GAME_CHANGED,L),u.off(f.GAMESTATE_UPDATED,N),Z&&(Z.cancel(),Z=null),F()}var F,U=this,V=null,B=null,z=null,$=null,W=null,H=null,j=null,q={},Y=0,K=0,Q=!1,Z=null,X=!1,J=t.getInstance("main.games/CustomOpsController");U.showProgressIndicator=!1,U.controlDisabled=!0,U.customSettings=null,U.maxIndex=0,U.applyButtonDisabled=!1,U.selectedResolution=null,U.resolutionRecommended=null,U.resolutions=[],U.selectedDisplayMode=null,U.displayModeRecommended=null,U.displayModes=[],U.currentSliderIndex=0,U.optimalSliderIndex=null,U.OpsTweakPosition=null,U.showErrorMessage=!1,U.restoreOptimalSliderPosition=!1,J.info("open custom ops for game ",U.nvSystemGame.shortName),U.getHeading=function(){return U.nvCurrentSettingType===s.SETTING_AC?y():"l10n.customSettingsOnBattery"},U.isCurrentSettingTypeAC=function(){return U.nvCurrentSettingType===s.SETTING_AC},U.applyCustomSettings=function(){if(U.showProgressIndicator=!0,J.info("applying custom ops for game",U.nvSystemGame.shortName),u.off(f.GAMESTATE_UPDATED,N),U.nvCurrentSettingType===s.SETTING_AC){var e=m.startView(p.GAMEOPTIMIZATIONS_OPTIMIZE_TIME_CUSTOM_OPS);U.nvSystemGame.customizeAC(U.selectedResolution.value,U.selectedDisplayMode.name,U.currentSliderIndex).then(function(){m.push(p.GAMEOPTIMIZATIONS_APPLIED_CUSTOM_OPS,U.nvSystemGame.shortName),m.endView(p.GAMEOPTIMIZATIONS_OPTIMIZE_TIME_CUSTOM_OPS,e)}).catch(function(e){E(),m.push(p.GAMEOPTIMIZATIONS_APPLY_CUSTOM_OPS_FAILED,U.nvSystemGame.shortName)}).finally(function(){U.showProgressIndicator=!1,l.hide()})}else{var t=m.startView(p.GAMEOPTIMIZATIONS_OPTIMIZE_TIME_CUSTOM_BOPS);U.nvSystemGame.customizeDC(U.selectedResolution.value,U.selectedDisplayMode.name,U.currentSliderIndex).then(function(){m.push(p.GAMEOPTIMIZATIONS_APPLIED_CUSTOM_BOPS,U.nvSystemGame.shortName),m.endView(p.GAMEOPTIMIZATIONS_OPTIMIZE_TIME_CUSTOM_BOPS,t)}).catch(function(e){E(),m.push(p.GAMEOPTIMIZATIONS_APPLY_CUSTOM_BOPS_FAILED,U.nvSystemGame.shortName)}).finally(function(){U.showProgressIndicator=!1,l.hide()})}},U.cancelCustomSettings=function(){J.info("leaving custom ops for game ",U.nvSystemGame.shortName),l.cancel()},U.applyOptimalValue=function(){J.info("leaving optimal ops with slider index ",U.optimalSliderIndex),U.currentSliderIndex=U.optimalSliderIndex,U.currentSliderChanged()},U.isResolutionDisabled=function(){return U.resolutions.length<=1||U.controlDisabled},U.isDisplayModeDisabled=function(){return U.displayModes.length<=1||U.controlDisabled},U.getDisplayModeString=function(e){return e.name===U.displayModeRecommended.name?n("translate")("l10n.recommended",{string:e.translation}):e.translation},U.getResolutionString=function(e){return e.value===U.resolutionRecommended.value?n("translate")("l10n.recommended",{string:e.value}):e.value},U.resolutionOrDisplayModeChanged=function(){U.currentSliderIndex===U.optimalSliderIndex&&(U.restoreOptimalSliderPosition=!0),I()},U.currentSliderChanged=function(){U.nvCustomSettingsCallback&&U.customSettings?U.OpsTweakPosition&&U.OpsTweakPosition.tweak.displayMode===U.selectedDisplayMode.name&&U.OpsTweakPosition.tweak.resolution===U.selectedResolution.value&&U.OpsTweakPosition.settingsIndex===U.currentSliderIndex?(U.nvCustomSettingsCallback(a.APPLIED_SETTING_SELECTED),U.applyButtonDisabled=!0):(U.nvCustomSettingsCallback(a.CUSTOM_SETTINGS_UPDATED,{settings:U.customSettings.settings[U.currentSliderIndex],atOptimalPosition:U.currentSliderIndex===U.optimalSliderIndex}),U.applyButtonDisabled=!1):J.error("Custom ops slider cannot be changed due to unvailable custom setting for game id",U.nvSystemGame.id)},r.ready(function(){J.info("custom ops document ready for game ",U.nvSystemGame.shortName);var e=angular.element(r[0].querySelector(".games-custom-ops"));V=angular.element(e[0].querySelector(".md-track-ticks")),V.find("canvas").css("display","none"),H=angular.element("<canvas>").css("position","absolute"),V.append(H),V.css("display","block"),V.css("z-index","0"),W=angular.element(e[0].querySelector(".md-track-container")),B=angular.element(e[0].querySelector(".optimal-button-container")),S(),D(),x(),u.on(f.GAMESTATE_UPDATED,N)}),U.groupResolutions=function(){U.resolutions&&(U.resolutions=n("orderBy")(U.resolutions,"width",!0),U.resolutions=n("orderBy")(U.resolutions,function(e){return R(e.width,e.height,e.DSR)}))},U.showResolutionHeader=function(e){return 0===e||R(U.resolutions[e-1].width,U.resolutions[e-1].height,U.resolutions[e-1].DSR)!==R(U.resolutions[e].width,U.resolutions[e].height,U.resolutions[e].DSR)},U.resolutionHeader=function(e){var t=R(e.width,e.height,e.DSR);switch(t){case c.HYPERSAMPLE:return"l10n.dynamicSuperResolutions";case c.WIDE_16_10:return"l10n.wideScreen1610";case c.WIDE_16_9:return"l10n.wideScreen169";case c.STANDARD_4_3:return"l10n.standard43";case c.STANDARD_5_4:return"l10n.standard54";case c.CUSTOM:default:return"l10n.custom"}},F=e.$on("$stateChangeStart",function(e,t,n,r,i){J.info("state changed in custom ops for game ",U.nvSystemGame.shortName),U.cancelCustomSettings()}),e.$on("$destroy",G),k()}]);t.customOpsController=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvDsrInfo=void 0;var i=n(14),o=n(814),a=r(o),l=i.ngGamesModule.directive("nvDsrInfo",function(){return{restrict:"E",template:a.default,link:function(e,t){function n(){e.$destroy()}function r(){t&&(t.off("$destroy",n),t.empty(),t.remove(),t=null)}e.$on("$destroy",r),t.on("$destroy",n)}}});t.nvDsrInfo=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.gameDetailPreviewController=void 0;var i=n(14);n(37);var o=n(819),a=r(o);n(481);var l=i.ngGamesModule.controller("GameDetailPreviewController",["$scope","$log","$mdDialog","dbCacheService","DB_NAMES",function(e,t,n,r,i){var o=this;o.userGame=o.nvUserGame,o.isGameOpsSupported=o.nvOpsSupported,o.userGame&&(o.gameTags=o.userGame.tags);var l=t.getInstance("main.games/GameDetailPreviewController");o.toggleFavorite=function(){o.userGame.favorite=!o.userGame.favorite},o.toggleVisibility=function(){o.userGame.hidden=!o.userGame.hidden},o.showTagsModalDialog=function(){n.show({controller:"GameTagsModalController",controllerAs:"tagsModal",template:a.default,disableParentScroll:!1,locals:{game:o.userGame},bindToController:!0}).then(function(e){angular.copy(e,o.gameTags)}).catch(function(){l.info("cancel was clicked on game details tag dialog")})},o.isPlayed=function(){return!(!o.userGame||!o.userGame.lastLaunchDate)},o.devFeatures=r.getCachedGlobalItem(i.DEV_STORE,i.DEV_FEATURES),e.$watch("nvUserGame",function(e){e&&(o.userGame=e,o.gameTags=o.userGame.tags)})}]);t.gameDetailPreviewController=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGameDetailPreview=void 0;var i=n(14);n(222),n(223),n(224),n(42);var o=n(815),a=r(o);n(474);var l=i.ngGamesModule.component("nvGameDetailPreview",{bindings:{nvUserGame:"=",nvOpsSupported:"@"},template:a.default,controller:"GameDetailPreviewController",controllerAs:"gameDetailPreview"});t.nvGameDetailPreview=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gameDetailsController=void 0;var r=n(14);n(47),n(135),n(11),n(13),n(63),n(25),n(22),n(292);var i=r.ngGamesModule.controller("GameDetailsController",["$state","gamesService","userGamesService","MEDIA_FILE_TYPE","$scope","preferencesService","$log","$window","dbCacheService","DB_NAMES","jarvisService","COMMON_DYNAMIC_REDIRECT","localeService",function(e,t,n,r,i,o,a,l,s,c,u,d,f){function m(){v.opsSupportedRequestInProgress=!0,o.getGameOpsFeature().then(function(e){e?v.doesSystemSupportOPS=e.overallState:(b.error("getGameOps returned null object"),v.doesSystemSupportOPS=!1)}).catch(function(){b.error("Exception getting system support for game Ops"),v.opsNotDetermined=!0}).finally(function(){v.opsSupportedRequestInProgress=!1})}function p(){v.userGame=n.getUserGame(v.userGameId),v.userGame&&(v.gameId=v.userGame.gameId,v.userGame.systemGame=t.getSystemGame(v.userGame.gameId),v.screenShots=v.userGame.systemGame.getScreenShots(),g=v.userGame.systemGame.shortName)}var g,v=this,h=u.getLoggedInUser(),b=a.getInstance("main.gamesGameDetailsController");e.params.userGameId?v.userGameId=e.params.userGameId:v.userGameId=i.nvSelectedGameId,v.mediaFileType=r,v.classicViewEnabled=i.nvClassicViewEnabled,v.doesSystemSupportOPS=!1,v.opsNotDetermined=!1,v.devFeatures=s.getCachedGlobalItem(c.DEV_STORE,c.DEV_FEATURES),v.viewState=s.getCachedUserItem(h.userId,c.VIEW_STORE,c.VIEW_STATE),m(),v.hasScreenshots=function(){return!!(angular.isArray(v.screenShots)&&v.screenShots.length>0)},v.isPlayed=function(){return v.userGame&&v.userGame.lastLaunchDate},v.classicViewEnabled?i.$watch("nvSelectedGameId",function(e){e&&(v.userGameId=e,p())}):p(),v.toggleFavorite=function(e){v.userGame.favorite=!v.userGame.favorite,n.updateFavoriteHiddenState(v.userGame.id,v.userGame.favorite,v.userGame.hidden),e.stopPropagation()},v.toggleVisibility=function(e){v.userGame.hidden=!v.userGame.hidden,n.updateFavoriteHiddenState(v.userGame.id,v.userGame.favorite,v.userGame.hidden),e.stopPropagation()},v.systemNoOpsRequirementLink=function(){l.open(d.BASE_URL+f.getCurrentLocaleWithUnderscore()+"&page="+d.SYSTEM_REQS)},v.showOpsNotSupported=function(){return!v.doesSystemSupportOPS&&!v.opsNotDetermined&&!v.opsSupportedRequestInProgress}}]);t.gameDetailsController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGameList=void 0;var i=n(14);n(115),n(15),n(483),n(134);var o=n(817),a=r(o);n(302),n(11),n(13);var l=i.ngGamesModule.directive("nvGameList",["eventAggregator","COMMON_GAME_EVENTS","dbCacheService","DB_NAMES","$log","COMMON_EVENTS","jarvisService",function(e,t,n,r,i,o,l){return{restrict:"E",scope:{nvUserId:"@",nvSelectedGameId:"="},template:a.default,controller:"GameListController",controllerAs:"games",link:function(a,s){function c(e){this.removeClass(e?"constants-display-none":"constants-display-flex").addClass(e?"constants-display-flex":"constants-display-none")}function u(){var e=v.scrollTop>0,t=v.scrollTop+v.offsetHeight<v.scrollHeight;c.call(h,e),c.call(b,t)}function d(){v=s[0].querySelector(".md-virtual-repeat-offsetter"),h=angular.element(s[0].querySelector(".game-list-top-gradient")),b=angular.element(s[0].querySelector(".game-list-bottom-gradient")),v&&(v.scrollTop=g.tileViewScrollTop,v.addEventListener("scroll",u),e.on(o.WINDOW_RESIZE,u),c.call(h,!1),c.call(b,!0))}function f(){v&&(g.tileViewScrollTop=v.scrollTop,g.persist_())}function m(){var i=l.getLoggedInUser();g=n.getCachedUserItem(i.userId,r.VIEW_STORE,r.VIEW_STATE),e.on(t.SAVE_GAME_LIST_SCROLL_POSTION,f),e.on(t.RESTORE_GAME_LIST_SCROLL_POSITION,d)}function p(){e.off(t.SAVE_GAME_LIST_SCROLL_POSTION,f),e.off(t.RESTORE_GAME_LIST_SCROLL_POSITION,d),v&&(e.off(o.WINDOW_RESIZE,u),v.removeEventListener("scroll",u)),v=null,h=null,b=null,s.empty(),s.remove(),s=null}var g,v=null,h=(i.getInstance("main.gamesGameListDirective"),null),b=null;a.$on("$destroy",p),s.on("$destroy",function(){a.$destroy()}),m()}}}]);t.nvGameList=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.gameSettingsController=void 0;var o=n(3),a=i(o),l=n(14);n(17),n(19);var s=n(813),c=r(s);n(472);var u=n(812),d=r(u);n(471),n(114);var f=l.ngGamesModule.controller("GameSettingsController",["$scope","$log","$filter","SETTING_TYPE","$mdDialog","CUSTOM_OPS_CALLBACK_ACTION","eventAggregator","GAME_EVENTS","$timeout","OPS_TAB_STATE","$document","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","toastService","quietModeService","framerateLimiterService","performanceModeService","PERFORMANCE_MODES","$state","$q","OPS_USER_ACTION",function(e,t,n,r,i,o,l,s,u,f,m,p,g,v,h,b,y,E,S,_,w){function A(e,t){return Z.aceSupported?e===E.QUIET?t?"l10n.gameIsOptimizedForQuietMode":"l10n.gameIsNotOptimizedForQuietMode":e===E.MAX_P?t?"l10n.gameIsOptimizedForPerformanceMode":"l10n.gameIsNotOptimizedForPerformanceMode":t?Z.nvSystemGame.isCreativeApplication?"l10n.appIsOptimized":"l10n.gameIsOptimized":Z.nvSystemGame.isCreativeApplication?"l10n.appIsNotOptimized":"l10n.gameIsNotOptimized":t?Z.quietModeEnabled?"l10n.gameIsOptimizedForQuietMode":Z.nvSystemGame.isCreativeApplication?"l10n.appIsOptimized":"l10n.gameIsOptimized":Z.quietModeEnabled?"l10n.gameIsNotOptimizedForQuietMode":Z.nvSystemGame.isCreativeApplication?"l10n.appIsNotOptimized":"l10n.gameIsNotOptimized"}function T(e){return Z.aceSupported?e===E.QUIET?Z.nvSystemGame.isCreativeApplication?"l10n.appIsUsingCustomSettingsForQuietMode":"l10n.gameIsUsingCustomSettingsForQuietMode":e===E.MAX_P?"l10n.gameIsUsingCustomSettingsForPerformanceMode":Z.nvSystemGame.isCreativeApplication?"l10n.appIsUsingCustomSettings":"l10n.gameIsUsingCustomSettings":Z.quietModeEnabled?Z.nvSystemGame.isCreativeApplication?"l10n.appIsUsingCustomSettingsForQuietMode":"l10n.gameIsUsingCustomSettingsForQuietMode":Z.nvSystemGame.isCreativeApplication?"l10n.appIsUsingCustomSettings":"l10n.gameIsUsingCustomSettings"}function I(){if(Z.nvCurrentSettingType===Z.settingType.SETTING_DC)switch(Z.optimizationTabState){case f.DC.OPTIMAL_NOT_AVAILABLE:case f.DC.DISABLED:return Z.lastMessage=Z.nvSystemGame.isCreativeApplication?"l10n.appCannotBeOptimized":"l10n.gameCannotBeOptimized",Z.nvSystemGame.isCreativeApplication?"l10n.appCannotBeOptimized":"l10n.gameCannotBeOptimized";case f.DC.CURRENT_NOT_AVAILABLE:return Z.lastMessage="l10n.UnableToRetrieveCurrentSettings","l10n.UnableToRetrieveCurrentSettings";case f.DC.OPTIMIZED:return Z.lastMessage=Z.isBelowMinSpec?"l10n.systemBelowMinspecForGame":Z.nvSystemGame.isCreativeApplication?"l10n.appIsOptimizedForBattery":"l10n.gameIsOptimizedForBattery",Z.isBelowMinSpec?"l10n.systemBelowMinspecForGame":Z.nvSystemGame.isCreativeApplication?"l10n.appIsOptimizedForBattery":"l10n.gameIsOptimizedForBattery";case f.DC.CUSTOMIZED:return Z.lastMessage=Z.isBelowMinSpec?"l10n.systemBelowMinspecForGame":Z.nvSystemGame.isCreativeApplication?"l10n.appIsUsingCustomBatterySettings":"l10n.gameIsUsingCustomBatterySettings",Z.isBelowMinSpec?"l10n.systemBelowMinspecForGame":Z.nvSystemGame.isCreativeApplication?"l10n.appIsUsingCustomBatterySettings":"l10n.gameIsUsingCustomBatterySettings";case f.DC.USE_PLUGGEDIN:return Z.lastMessage=Z.isBelowMinSpec?"l10n.systemBelowMinspecForGame":Z.nvSystemGame.isCreativeApplication?"l10n.appIsUsingPluggedInForBattery":"l10n.gameIsUsingPluggedInForBattery",Z.isBelowMinSpec?"l10n.systemBelowMinspecForGame":Z.nvSystemGame.isCreativeApplication?"l10n.appIsUsingPluggedInForBattery":"l10n.gameIsUsingPluggedInForBattery";default:return Z.lastMessage}else switch(Z.optimizationTabState){case f.AC.OPTIMAL_NOT_AVAILABLE:return Z.lastMessage=Z.nvSystemGame.isCreativeApplication?"l10n.appCannotBeOptimized":"l10n.gameCannotBeOptimized",Z.nvSystemGame.isCreativeApplication?"l10n.appCannotBeOptimized":"l10n.gameCannotBeOptimized";case f.AC.CURRENT_NOT_AVAILABLE:return Z.lastMessage="l10n.UnableToRetrieveCurrentSettings","l10n.UnableToRetrieveCurrentSettings";case f.AC.OPTIMIZED:return Z.lastMessage=Z.isBelowMinSpec?"l10n.systemBelowMinspecForGame":A(Z.powerMode,!0),Z.isBelowMinSpec?"l10n.systemBelowMinspecForGame":A(Z.powerMode,!0);case f.AC.CUSTOMIZED:return Z.lastMessage=Z.isBelowMinSpec?"l10n.systemBelowMinspecForGame":T(Z.powerMode),Z.isBelowMinSpec?"l10n.systemBelowMinspecForGame":T(Z.powerMode);case f.AC.NOT_OPTIMIZED:return Z.lastMessage=Z.isBelowMinSpec?"l10n.systemBelowMinspecForGame":A(Z.powerMode),Z.isBelowMinSpec?"l10n.systemBelowMinspecForGame":A(Z.powerMode);default:return Z.lastMessage}}function C(){if(Z.nvCurrentSettingType===Z.settingType.SETTING_DC)return Z.isOptimized()?"l10n.usingBatteryBoostSettings":"l10n.usingCustomBatterySettings";var e=void 0;return Z.aceSupported?e=Z.powerMode===E.QUIET?Z.isOptimized()?"l10n.usingOptimalSettingsForQuietMode":"l10n.usingCustomSettingsQuietMode":Z.powerMode===E.MAX_P?Z.isOptimized()?"l10n.usingOptimalSettingsForPerformanceMode":"l10n.usingCustomSettingsPerformanceMode":Z.isOptimized()?"l10n.usingOptimalSettings":"l10n.usingCustomSettings":Z.isOptimized()?Z.quietModeEnabled?"l10n.usingOptimalSettingsForQuietMode":"l10n.usingOptimalSettings":Z.quietModeEnabled?"l10n.usingCustomSettingsQuietMode":"l10n.usingCustomSettings"}function x(e,t){if("-"!==e){if(!a.isEmpty(t)&&angular.isDefined(t[e]))return t[e].translation;ee.error("game settings translation not found for game ",Z.nvSystemGame.id,"with value ",e)}return e}function D(){a.isEmpty(J)||a.each(Z.settings,function(e){if(angular.isDefined(J[e.name])){var t=J[e.name];e.name=t.translation,e.value=x(e.value,t.values),e.optimalValue=x(e.optimalValue,t.values)}else ee.error("game settings translation not found for game ",Z.nvSystemGame.id,"with setting name ",e.name)})}function M(){Z.recommendedOptimal=Z.optimalSettings,Z.updateOptimizationTabState(),Z.optimizationTabState!==f.TRANSITION&&(Z.optimized=Z.isOptimized()||Z.isCustomized(),Z.formSettingsArray())}function O(){if(Z.optimizationTabState!==f.TRANSITION){var e=Z.nvSystemGame.getOpsRequestPromise();e?e.finally(function(){Z.requestInProgress=!1}):Z.requestInProgress=!1}}function R(){!a.isEmpty(J)&&a.isNull(Q)&&(M(),O())}function N(e){X.settingName="",X.values=[];var t=Z.nvCurrentSettingType===Z.settingType.SETTING_DC?e.DC.resolution:e.AC.resolution;X.settingName=t.settingName,t.values.forEach(function(e){e.DSR&&X.values.push(e.value)})}function L(){v.showError({textContent:n("translate")("l10n.unableToUpdateGameSettings")})}function P(){var e=angular.element(m[0].querySelector(".game-setting-list-container")),t=angular.element(m[0].querySelector(".games-classic-game-list-container")),n=angular.element(m[0].querySelector(".game-details-toolbar")),r=angular.element(m.find("nv-feedback-float"));e.removeClass("constants-z-layers-modal-plus-three"),t.removeClass("constants-z-layers-modal-plus-three"),n.removeClass("constants-z-layers-modal-plus-three"),r.removeClass("constants-z-layers-modal-plus-three")}function k(e){l.trigger(s.SETTING_ITEM_HOVER,{name:e})}function G(){Z.hoverSetting=null,l.trigger(s.SETTING_ITEM_MOUSE_LEAVE,{})}function F(){Z.hoverSetting=null}function U(e){Z.hoverSetting=e.name}function V(e){e.id===Z.nvSystemGame.id&&(Z.nvSystemGame=e,Z.getGameState(),Z.updateCurrentSettingHeader())}function B(e){e.id===Z.nvSystemGame.id&&(J=e.data,R())}function z(e){e===Z.nvSystemGame.id&&(K&&(K.cancel(),K=null),Q&&(Q.cancel(),Q=null),M(),O())}function $(){Z.nvSystemGame.getGameSettingsTranslation()}function W(){var e=h.getQuietMode2StateInfo(),t=h.getStateInfo();_.all([t,e]).then(function(e){ee.info("QuietMode support state",e),Z.quietModeEnabled=e[1].supported===!0&&e[1].enabled===!0||e[0].supported===!0&&e[0].enabled===!0})}function H(){l.on(s.GAMESTATE_UPDATED,V),l.on(s.VOPS_POPUP_SHOWN,re),l.on(s.SETTINGS_TRANSLATION_FINISHED,B),l.on(s.SETTINGS_TRANSLATION_FAILED,z),l.on(s.GAMEVOPSITEM_UNMATCHED,F),l.on(s.GAMEVOPSITEM_MATCHED,U),l.on(s.GAMEVOPS_FINISHED,$),W(),y.isFeatureAvailableOnAB().then(function(e){ee.info("isFeatureAvailableOnAB",e),e?y.getStateInfo().then(function(e){e.supported&&(Z.aceSupported=e.supported,Z.powerMode=e.performanceMode)}):Z.aceSupported=!1}),b.getBB2SupportInfo().then(function(e){if(e.criteria){var t=e.criteria.states.find(function(e,t,n){return"bb2"===e.name});t&&t.state===!0&&(ne=!0,e.criteria.overallState===!0&&b.getBB2StateInfo().then(function(e){Z.frlEnabled=e.enabled}))}}).finally(function(){ne||j()})}function j(){b.getSupportInfo().then(function(e){e.supported&&b.getStateInfo().then(function(e){Z.frlEnabled=e.enabled})})}function q(){Z.currentSettings=null,Z.targetSettings=null,Z.settings=[],Z.hoverSetting=null,Z.hoverPromise=null,Z.optimalSettings=null,Z.recommendedOptimal=null,Z.isBelowMinSpec=!1,Z.requestInProgress=!0,J=[],X={settingName:"",values:[]},Z.getGameState(),Z.updateCurrentSettingHeader()}function Y(){l.off(s.GAMESTATE_UPDATED,V),l.off(s.VOPS_POPUP_SHOWN,re),l.off(s.SETTINGS_TRANSLATION_FINISHED,B),l.off(s.SETTINGS_TRANSLATION_FAILED,z),l.off(s.GAMEVOPSITEM_UNMATCHED,F),l.off(s.GAMEVOPSITEM_MATCHED,U),l.off(s.GAMEVOPS_FINISHED,$),K&&(K.cancel(),K=null),Q&&(Q.cancel(),Q=null),u.cancel(Z.hoverPromise)}var K,Q,Z=this,X={},J=[],ee=t.getInstance("main.games/GameSettingsController");Z.nvCustomOpsOpen=!1,Z.nvCustomFpsOpen=!1,Z.settingType=r,Z.showBorder=!1,Z.customOpsChanging=!1,Z.optimizationTabState=f.UNINITIALIZED,Z.currentSettingHeader="l10n.current",Z.lastMessage="l10n.unableToRetrieveSettings",Z.quietModeEnabled=!1,Z.frlEnabled=!1,Z.aceSupported=!1;var te=n("translate"),ne=!1;Z.updateOptimizationTabState=function(){Z.optimalSettings||Z.currentSettings?a.isUndefined(Z.optimalSettings)||null==Z.optimalSettings?Z.optimizationTabState=Z.nvCurrentSettingType===Z.settingType.SETTING_DC?f.DC.OPTIMAL_NOT_AVAILABLE:f.AC.OPTIMAL_NOT_AVAILABLE:a.isUndefined(Z.currentSettings)||null==Z.currentSettings?Z.optimizationTabState=Z.nvCurrentSettingType===Z.settingType.SETTING_DC?f.DC.CURRENT_NOT_AVAILABLE:f.AC.CURRENT_NOT_AVAILABLE:"REGULAR"===Z.nvSystemGame.getTargetSettingsTarget()?Z.nvCurrentSettingType===Z.settingType.SETTING_DC?Z.nvSystemGame.isDCDisabled()?Z.optimizationTabState=f.DC.DISABLED:Z.nvSystemGame.isDCOptimized()?Z.optimizationTabState=f.DC.OPTIMIZED:Z.nvSystemGame.isDCCustomized()?Z.optimizationTabState=f.DC.CUSTOMIZED:Z.optimizationTabState=f.DC.USE_PLUGGEDIN:Z.nvSystemGame.isACOptimized()?Z.optimizationTabState=f.AC.OPTIMIZED:Z.nvSystemGame.isACCustomized()?Z.optimizationTabState=f.AC.CUSTOMIZED:Z.optimizationTabState=f.AC.NOT_OPTIMIZED:Z.optimizationTabState=f.TRANSITION:Z.optimizationTabState=f.UNINITIALIZED},Z.unableToRetrieveSettings=function(){return Z.optimizationTabState===f.AC.OPTIMAL_NOT_AVAILABLE||Z.optimizationTabState===f.DC.OPTIMAL_NOT_AVAILABLE||Z.optimizationTabState===f.AC.CURRENT_NOT_AVAILABLE||Z.optimizationTabState===f.DC.CURRENT_NOT_AVAILABLE||Z.optimizationTabState===f.UNINITIALIZED},Z.showOptimizeButton=function(){return!Z.optimized&&!Z.unableToRetrieveSettings()},Z.showRevertButton=function(){return Z.optimized&&!Z.unableToRetrieveSettings()},Z.hideCustomization=function(){return Z.unableToRetrieveSettings()||Z.nvSystemGame.isCreativeApplication},Z.getMessage=function(){var e=I(),t=te(e,{whisperModeCustomHtml:"ng-click=gameSettings.onRedirectPreferenceGeneralPage($event)"});return t},Z.getOptimalMessage=function(){var e=C(),t=te(e,{whisperModeCustomHtml:"ng-click=gameSettings.onRedirectPreferenceGeneralPage($event)"});return t},Z.onRedirectPreferenceGeneralPage=function(e){S.go("main.auth.preferences.general")},Z.getOptimalSettingHeader=function(){return Z.customOpsChanging&&!Z.atOptimalIndexPosition?"l10n.custom":"l10n.optimal"},Z.updateCurrentSettingHeader=function(){var e=Z.nvSystemGame.getTargetPowerMode();e&&(Z.nvCurrentSettingType===Z.settingType.SETTING_DC&&"AC"===e?Z.currentSettingHeader="l10n.whenOnBattery":Z.nvCurrentSettingType===Z.settingType.SETTING_AC&&"DC"===e?Z.currentSettingHeader="l10n.whenPluggedIn":Z.currentSettingHeader="l10n.current")},Z.isOptimized=function(){return Z.nvCurrentSettingType===Z.settingType.SETTING_DC?Z.nvSystemGame.isDCOptimized():Z.nvSystemGame.isACOptimized()},Z.isCustomized=function(){return Z.nvCurrentSettingType===Z.settingType.SETTING_DC?Z.nvSystemGame.isDCCustomized():Z.nvSystemGame.isACCustomized()},Z.showUnoptimizedIcon=function(){return!Z.optimized&&!Z.showWarningIcon()},Z.showWarningIcon=function(){return Z.isBelowMinSpec||Z.nvCurrentSettingType===Z.settingType.SETTING_DC&&(Z.optimizationTabState===f.DC.OPTIMAL_NOT_AVAILABLE||Z.optimizationTabState===f.DC.DISABLED)||Z.nvCurrentSettingType===Z.settingType.SETTING_AC&&Z.optimizationTabState===f.AC.OPTIMAL_NOT_AVAILABLE},Z.showOptimizedIcon=function(){return Z.optimized&&!Z.showWarningIcon()},Z.showOptimalSettingsInColumn=function(){return!Z.optimized||Z.customOpsChanging},Z.showIconInColumn=function(){return Z.optimized&&!Z.customOpsChanging},Z.isDsrResolution=function(e,t){return e===X.settingName&&a.indexOf(X.values,t)!==-1},Z.formSettingsArray=function(){if(Z.settings=[],Z.optimizationTabState===f.AC.CURRENT_NOT_AVAILABLE||Z.optimizationTabState===f.DC.CURRENT_NOT_AVAILABLE)Z.optimalSettings.forEach(function(e){var t={name:e.name,type:"DRIVER_ENUM"===e.type?e.type:"ENUM",value:"-",optimalValue:e.value};Z.isDsrResolution(e.name,e.value)&&(t.isOptimalDsrResolution=!0),Z.settings.push(t)});else if(Z.optimizationTabState===f.AC.OPTIMAL_NOT_AVAILABLE||Z.optimizationTabState===f.DC.OPTIMAL_NOT_AVAILABLE||!Z.customOpsChanging&&Z.optimized)Z.targetSettings?Z.targetSettings.forEach(function(e){var t={name:e.name,type:"DRIVER_ENUM"===e.type?e.type:"ENUM",value:e.value,optimalValue:"-"};Z.isDsrResolution(e.name,e.value)&&(t.isCurrentDsrResolution=!0),Z.settings.push(t)}):ee.error("targetSettings not set");else if(Z.targetSettings){var e=a.union(a.pluck(Z.targetSettings,"name"),a.pluck(Z.optimalSettings,"name"));e.forEach(function(e){var t=n("filter")(Z.optimalSettings,{name:e},!0),r=n("filter")(Z.targetSettings,{name:e},!0),i={};r.length?(i={name:r[0].name,type:"DRIVER_ENUM"===r[0].type?r[0].type:"ENUM",value:r[0].value},t.length?i.optimalValue=t[0].value:i.optimalValue="-"):i={name:t[0].name,
type:"DRIVER_ENUM"===t[0].type?t[0].type:"ENUM",value:"-",optimalValue:t[0].value},Z.isDsrResolution(i.name,i.value)&&(i.isCurrentDsrResolution=!0),Z.isDsrResolution(i.name,i.optimalValue)&&(i.isOptimalDsrResolution=!0),Z.settings.push(i)})}!a.isEmpty(Z.settings)&&Z.nvSystemGame.isCreativeApplication&&(Z.settings=a.reject(Z.settings,function(e){return"Resolution"===e.name||"Display Mode"===e.name})),D(),Z.settings=n("orderBy")(Z.settings,["-type","+name"])},Z.isOptimalSettingDifferent=function(e,t){return"-"!==t&&e!==t},Z.getGameState=function(){K&&(K.cancel(),K=null),Q&&(Q.cancel(),Q=null),K=Z.nvSystemGame.getState(),K.then(function(e){Z.currentSettings=Z.nvSystemGame.getCurrentSettings(),"REGULAR"===Z.nvSystemGame.getTargetSettingsTarget()&&(Z.nvCurrentSettingType===Z.settingType.SETTING_DC?Z.targetSettings=Z.nvSystemGame.getRegularTargetSettingsDC():Z.targetSettings=Z.nvSystemGame.getRegularTargetSettingsAC());var t=Z.nvSystemGame.getSliderSettings();if(t){N(t);var n,r;Z.nvCurrentSettingType===Z.settingType.SETTING_DC?(n=Z.nvSystemGame.getRecommendedDCResolution(),r=Z.nvSystemGame.getRecommendedDCDisplayMode()):(n=Z.nvSystemGame.getRecommendedACResolution(),r=Z.nvSystemGame.getRecommendedACDisplayMode()),Q=Z.nvSystemGame.getSettingsSpace(n,r),Q.then(function(e){Z.nvCurrentSettingType===Z.settingType.SETTING_DC?Z.optimalSettings=Z.nvSystemGame.getOptimalDCSettings(e):Z.optimalSettings=Z.nvSystemGame.getOptimalACSettings(e),Z.nvCurrentSettingType===Z.settingType.SETTING_DC&&(Z.isOptimized()||Z.isCustomized())?Z.isBelowMinSpec=Z.nvSystemGame.getRecommendedDCBelowMinspec(e):Z.isBelowMinSpec=Z.nvSystemGame.getRecommendedACBelowMinspec(e)}).catch(function(e){ee.error("get settings space failed for game:",Z.nvSystemGame.displayName,"with error:",e)}).finally(function(){Q=null,R()})}else ee.error("slider settings not found for game:",Z.nvSystemGame.displayName),M(),O()}).catch(function(e){ee.error("get State failed for game:",Z.nvSystemGame.displayName,"with error:",e),M(),O()}).finally(function(){K=null})},Z.resetOptimization=function(){Z.requestInProgress=!0,Z.nvCurrentSettingType===Z.settingType.SETTING_DC?Z.nvSystemGame.revertDCOptimization().catch(function(e){ee.error("unable to revert DC OPS for game ",Z.nvSystemGame.id),L()}).finally(function(){Z.getGameState()}):Z.nvSystemGame.revertACOptimization().catch(function(e){ee.error("unable to revert AC OPS for game ",Z.nvSystemGame.id),L()}).finally(function(){Z.getGameState()})},Z.optimizeSettings=function(){if(Z.requestInProgress=!0,Z.nvCurrentSettingType===Z.settingType.SETTING_DC){var e=p.startView(g.GAMEOPTIMIZATIONS_OPTIMIZE_TIME_BOPS);Z.nvSystemGame.optimizeDC().then(function(){p.push(g.OPS_CHANGED,{isCreativeApplication:Z.nvSystemGame.isCreativeApplication?"true":"false",appShortName:Z.nvSystemGame.shortName,userAction:w.APPLIED_BOPS}),Z.getGameState(),p.endView(g.GAMEOPTIMIZATIONS_OPTIMIZE_TIME_BOPS,e)}).catch(function(e){ee.error("unable to apply DC OPS for game ",Z.nvSystemGame.id),p.push(g.OPS_CHANGED,{isCreativeApplication:Z.nvSystemGame.isCreativeApplication?"true":"false",appShortName:Z.nvSystemGame.shortName,userAction:w.APPLY_BOPS_FAILED}),Z.getGameState(),L()})}else{var t=p.startView(g.GAMEOPTIMIZATIONS_OPTIMIZE_TIME);Z.nvSystemGame.optimizeAC().then(function(){p.push(g.OPS_CHANGED,{isCreativeApplication:Z.nvSystemGame.isCreativeApplication?"true":"false",appShortName:Z.nvSystemGame.shortName,userAction:w.APPLIED_OPS}),Z.getGameState(),p.endView(g.GAMEOPTIMIZATIONS_OPTIMIZE_TIME,t)}).catch(function(e){ee.error("unable to apply AC OPS for game ",Z.nvSystemGame.id),p.push(g.OPS_CHANGED,{isCreativeApplication:Z.nvSystemGame.isCreativeApplication?"true":"false",appShortName:Z.nvSystemGame.shortName,userAction:w.APPLY_OPS_FAILED}),Z.getGameState(),L()})}},Z.optimizeGame=function(){Z.optimized?Z.resetOptimization():(Z.optimizeSettings(),Z.setShowBorder(!1))},Z.showOptimalBorder=function(){return Z.showBorder&&!Z.optimized},Z.showHeader=function(e){return 0===e||Z.settings[e-1].type!==Z.settings[e].type},Z.headerValue=function(e){return"ENUM"===e?Z.nvSystemGame.isCreativeApplication?"l10n.inApp":"l10n.inGame":"DRIVER_ENUM"===e?"l10n.nvidia":void 0},Z.setShowBorder=function(e){Z.showBorder=e},Z.openCustomOps=function(){Z.nvCustomOpsOpen=!0;var e=i.show({template:c.default,locals:{nvCustomSettingsCallback:Z.customSettingsCallback,nvSystemGame:Z.nvSystemGame,nvCurrentSettingType:Z.nvCurrentSettingType,nvClassicViewEnabled:Z.nvClassicViewEnabled,nvDesktopMode:Z.nvDesktopMode,nvGameSettingsTranslationData:J,nvAceSupported:Z.aceSupported,nvPoweMode:Z.powerMode},clickOutsideToClose:!0,controller:"CustomOpsController",controllerAs:"opsCtrl",bindToController:!0,hasBackdrop:!1});e.then(function(){Z.customOpsChanging=!1}).catch(function(){Z.customOpsChanging=!1,Z.optimalSettings=Z.recommendedOptimal,Z.optimalSettings&&Z.formSettingsArray()}).finally(function(){Z.nvCustomOpsOpen=!1,P()})},Z.openCustomFps=function(){Z.nvCustomFpsOpen=!0;var e=i.show({template:d.default,locals:{nvSystemGame:Z.nvSystemGame,nvCurrentSettingType:Z.nvCurrentSettingType,nvClassicViewEnabled:Z.nvClassicViewEnabled},clickOutsideToClose:!0,controller:"CustomFpsController",controllerAs:"fpsCtrl",bindToController:!0,hasBackdrop:!1});e.finally(function(){Z.nvCustomFpsOpen=!1,P()})},Z.customSettingsCallback=function(e,t){e===o.CUSTOM_SETTINGS_UPDATED?(Z.customOpsChanging=!0,Z.optimalSettings=t.settings,Z.atOptimalIndexPosition=t.atOptimalPosition,Z.formSettingsArray()):e===o.APPLIED_SETTING_SELECTED&&(Z.customOpsChanging=!1,Z.formSettingsArray())},Z.isMouseHover=function(e){return e===Z.hoverSetting},Z.mouseOver=function(e){u.cancel(Z.hoverPromise),null===e?G():Z.hoverPromise=u(function(){k(e)},100)};var re=function(t){Z.isMouseHover(t.name)||(Z.hoverSetting=t.name,e.$applyAsync())};Z.isOptimizeOrCustomOpsButtonDisabled=function(){return Z.requestInProgress||Z.nvCustomOpsOpen||Z.nvCustomFpsOpen},Z.showQuietModeFpsCtrl=function(){return!Z.unableToRetrieveSettings()&&Z.nvCurrentSettingType===Z.settingType.SETTING_AC&&Z.quietModeEnabled},Z.showBatteryBoostFpsCtrl=function(){return!Z.unableToRetrieveSettings()&&Z.nvCurrentSettingType===Z.settingType.SETTING_DC&&Z.frlEnabled&&!Z.nvSystemGame.isDCDisabled()},H(),Z.nvClassicViewEnabled?e.$watch("gameSettings.nvSystemGame",function(e){e&&q()}):q(),e.$on("$destroy",Y)}]);t.gameSettingsController=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvGameSettingsItem=void 0;var r=n(14),i=r.ngGamesModule.directive("nvGameSettingsItem",["eventAggregator","GAME_EVENTS","$interval","SCROLL_STEPS","GRADIENT_HEIGHT",function(e,t,n,r,i){function o(e,t,n,r){return n*(Math.pow(e/r-1,3)+1)+t}function a(a,s){function c(e,t,i){n.cancel(l);var a=0;l=n(function(){e.scrollTop=o(a,t,i,r),a++,a>r&&n.cancel(l)},0)}function u(e){if(!angular.isUndefined(a.setting)&&a.setting.name===e.name){var t=s.parent()[0],n=parseFloat(s[0].offsetTop),r=parseInt(s[0].clientHeight),o=0,l=parseFloat(t.clientHeight),u=t.scrollTop;n+r>u+l?(o=n-u-l+r,o+=i.FOR_GAME_SETTINGS_TABLE,c(t,u,o)):n<u&&(o=n-u,c(t,u,o))}}function d(){e.off(t.VOPS_POPUP_SHOWN,u),n.cancel(l),l=null,s.off("$destroy",f),s.empty(),s.remove(),s=null}function f(){a.$destroy()}e.on(t.VOPS_POPUP_SHOWN,u),a.$on("$destroy",d),s.on("$destroy",f)}var l;return{restrict:"E",transclude:!0,template:"<ng-transclude></ng-transclude>",link:a}}]);t.nvGameSettingsItem=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGameSettings=void 0;var i=n(14);n(479),n(473),n(15);var o=n(818),a=r(o);n(478);var l=i.ngGamesModule.directive("nvGameSettings",["$document","eventAggregator","COMMON_EVENTS",function(e,t,n){return{require:["^nvOptimization","nvGameSettings"],restrict:"E",scope:{nvSystemGame:"=",nvCurrentSettingType:"=",nvClassicViewEnabled:"@",nvDesktopMode:"=",nvCustomOpsOpen:"="},template:a.default,controller:"GameSettingsController",controllerAs:"gameSettings",bindToController:!0,link:function(r,i){function o(e){u.removeClass(e?"constants-display-none":"constants-display-flex").addClass(e?"constants-display-flex":"constants-display-none")}function a(){var e=c.scrollTop+c.offsetHeight<c.scrollHeight;if(e)return void o(!0);var t=d.scrollTop+d.offsetHeight<d.scrollHeight;o(t)}function l(){c&&d&&u&&(t.on(n.WINDOW_RESIZE,a),d.addEventListener("scroll",a),o(!0))}function s(){f(),m(),c&&d&&(t.off(n.WINDOW_RESIZE,a),d.removeEventListener("scroll",a)),c=null,u=null,d=null,i.empty(),i.remove(),i=null}var c=angular.element(e[0].querySelector(".games-game-optimization"))[0],u=angular.element(i[0].querySelector(".common-container-gradient")),d=i[0].querySelector(".game-settings-container"),f=r.$watchGroup(["gameSettings.requestInProgress","$parent.optimization.selectedTab"],function(t,n){t!==n&&e.ready(function(){a()})}),m=r.$on("ui.layout.resize",a);r.$on("$destroy",s),i.on("$destroy",function(){r.$destroy()}),l()}}}]);t.nvGameSettings=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gameTagsModalController=void 0;var r=n(14),i=r.ngGamesModule.controller("GameTagsModalController",["$mdDialog","$state",function(e,t){var n=this;angular.isDefined(n.game)&&angular.isDefined(n.game.tags)?(n.gameDisplayName=n.game.displayName,n.gameTags=angular.copy(n.game.tags)):(n.gameDisplayName="",n.gameTags={}),n.accept=function(){e.hide(n.gameTags)},n.cancel=function(){e.cancel()},n.managetags=function(){e.cancel(),t.go("main.auth.debugSettings")}}]);t.gameTagsModalController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gameTileController=void 0;var r=n(14);n(135);var i=r.ngGamesModule.controller("GameTileController",["$scope","$state","userGamesService",function(e,t,n){var r=this;r.game=e.nvGame,r.isGameOpsSupported=e.nvOpsSupported,r.overlayVisible=!1,r.detailsButtonClickHandler=function(){t.go("main.auth.home.gamesAndFriends.gameDetails",{userGameId:r.game.id})},r.toggleFavorite=function(e){r.userGame.favorite=!r.userGame.favorite,n.updateFavoriteHiddenState(r.userGame.id,r.userGame.favorite,r.userGame.hidden),e.stopPropagation()},r.toggleVisibility=function(e){r.userGame.hidden=!r.userGame.hidden,n.updateFavoriteHiddenState(r.userGame.id,r.userGame.favorite,r.userGame.hidden),e.stopPropagation()},r.showOverlay=function(e){r.overlayVisible=e},r.userGame=n.getUserGame(r.game.id)}]);t.gameTileController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGameTile=void 0;var i=n(14);n(15),n(223),n(222),n(35),n(166);var o=n(820),a=r(o);n(482);var l=i.ngGamesModule.directive("nvGameTile",["$timeout",function(e){return{restrict:"E",scope:{nvGame:"=",nvGameSelected:"=",nvIndex:"=",nvOpsSupported:"<"},template:a.default,controller:"GameTileController",controllerAs:"gameTile",link:function(t,n,r,i){function o(){e.cancel(a),n.empty(),n.remove(),n=null}var a,l=n[0];i.showTooltip=!1,a=e(function(){var e=angular.element(l.querySelector(".color-white-hue-1"));i.showTooltip=e[0].scrollWidth>e[0].offsetWidth}),t.$on("$destroy",o),n.on("$destroy",function(){t.$destroy()})}}}]);t.nvGameTile=l},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.optimizationController=void 0;var i=n(3),o=r(i),a=n(14);n(113),n(11),n(13);var l=a.ngGamesModule.controller("OptimizationController",["$scope","SETTING_TYPE","framerateLimiterService","dbCacheService","DB_NAMES","OPS_TAB","POWER_MODE","jarvisService",function(e,t,n,r,i,a,l,s){function c(){o.isNull(b)||(b.cancel(),b=null),b=g.systemGame.getState(),b.then(function(e){y=!!g.systemGame.getCurrentSettings()}).finally(function(){b=null})}function u(){var e=o.indexOf(v.userTabSelectionList,g.systemGame.id);e!==-1?v.targetPowerMode===l.DC?g.selectedTab=a.PLUGGED_IN:g.selectedTab=a.ON_BATTERY:v.targetPowerMode===l.DC?g.selectedTab=a.ON_BATTERY:g.selectedTab=a.PLUGGED_IN}function d(){var e=g.systemGame.getTargetPowerMode();e&&v.targetPowerMode!==e&&(v.targetPowerMode=e,v.userTabSelectionList=[],g.customOpsOpen?g.changeSelectedTab(g.selectedTab):v.targetPowerMode===l.DC?g.selectedTab=a.ON_BATTERY:g.selectedTab=a.PLUGGED_IN)}function f(){v=r.getCachedUserItem(h.userId,i.VIEW_STORE,i.VIEW_STATE),v.targetPowerMode&&(d(),u()),e.$watch("optimization.systemGame.getTargetPowerMode()",d)}function m(){n.getSupportInfo().then(function(e){e.supported&&(g.frlSupport=e.supported,n.getStateInfo().then(function(e){g.frlEnabled=e.enabled,g.frlEnabled&&f()}))})}function p(){var e=!1;n.getBB2SupportInfo().then(function(t){if(t.criteria){var r=t.criteria.states.find(function(e,t,n){return"bb2"===e.name});r&&r.state===!0&&(e=!0,g.frlSupport=t.criteria.overallState,t.criteria.overallState===!0&&n.getBB2StateInfo().then(function(e){g.frlEnabled=e.enabled,g.frlEnabled&&f()}))}}).finally(function(){e===!1&&m()})}var g=this,v={},h=s.getLoggedInUser(),b=null;g.systemGame=e.nvSystemGame,g.settingType=t,g.frlSupport=!1,g.frlEnabled=!1,g.classicViewEnabled=e.nvClassicViewEnabled,g.opsTab=a,g.selectedTab=a.PLUGGED_IN,g.customOpsOpen=!1;var y=!1;c(),p(),g.frlSupportAndEnabled=function(){return g.frlSupport&&g.frlEnabled&&!g.systemGame.isDCDisabled()&&y},g.changeSelectedTab=function(e){g.selectedTab=e;var t=o.indexOf(v.userTabSelectionList,g.systemGame.id);v.targetPowerMode===l.AC&&e===a.ON_BATTERY||v.targetPowerMode===l.DC&&e===a.PLUGGED_IN?t===-1&&v.userTabSelectionList.push(g.systemGame.id):t!==-1&&v.userTabSelectionList.splice(t,1)},g.classicViewEnabled&&e.$watch("nvSystemGame",function(e){e&&(g.systemGame=e,c(),u())}),e.$on("$destroy",function(){g.frlSupport&&g.frlEnabled&&v.persist_(),o.isNull(b)||(b.cancel(),b=null)})}]);t.optimizationController=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvOptimization=void 0;var i=n(14);n(480);var o=n(821),a=r(o);n(484);var l=i.ngGamesModule.directive("nvOptimization",function(){return{restrict:"E",scope:{nvSystemGame:"=",nvClassicViewEnabled:"@"},template:a.default,controller:"OptimizationController",controllerAs:"optimization",link:function(e,t){function n(){t.empty(),t.remove(),t=null}e.$on("$destroy",n),t.on("$destroy",function(){e.$destroy()})}}});t.nvOptimization=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OptimizedIconController=void 0;var r=n(14),i=r.ngGamesModule.controller("OptimizedIconController",["$scope","$log","eventAggregator","GAME_EVENTS",function(e,t,n,r){function i(e){l.nvSystemGame&&e.id===l.nvSystemGame.id&&(l.optimized=l.nvSystemGame.isACorDCoptimized(),l.warning=!l.nvSystemGame.isACRecommendationAvailable()&&(l.nvSystemGame.isDCDisabled()||!l.nvSystemGame.isDCRecommendationAvailable())||l.nvSystemGame.isRecommendedACBelowMinspecFromState()&&l.nvSystemGame.isRecommendedDCBelowMinspecFromState(),l.fontIconClass=l.getFontIcon())}function o(){n.on(r.GAMESTATE_UPDATED,i),n.on(r.GAMESTATE_INITIALIZED,i),n.on(r.GAMESTATE_FAIL_INITIALIZE,i),s=e.$watch("optimizedIcon.nvSystemGame",function(){i({id:l.nvSystemGame.id})}),l.initIcon()}function a(){n.off(r.GAMESTATE_UPDATED,i),n.off(r.GAMESTATE_INITIALIZED,i),n.off(r.GAMESTATE_FAIL_INITIALIZE,i),s()}var l=this;l.fontIconClass="";var s=angular.noop;t.getInstance("main.games/OptimizedIconController");l.getFontIcon=function(){return l.optimized||l.warning?l.optimized&&!l.warning?"icon-optimized_sm":"icon-alert-circle_sm":"icon-notoptimized_sm"},l.initIcon=function(){l.nvSystemGame&&l.nvSystemGame.hasGameState()&&i(l.nvSystemGame)},o(),e.$on("$destroy",a)}]);t.OptimizedIconController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.playGameController=void 0;var r=n(14),i=r.ngGamesModule.controller("PlayGameController",["telemetryService",function(e){function t(e){e.launchCloud(),event.stopPropagation()}var n=this;n.playLocalGame=function(r){var i=n.nvSystemGame();if("false"===n.nvLocal)return t(i);if(n.nvTelemetry){var o=JSON.parse(n.nvTelemetry);e.push(o.tarconID,o.url)}i.launch(),r.stopPropagation()}}]);t.playGameController=i},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.vopsController=void 0;var i=n(3),o=r(i),a=n(14);n(11),n(13);var l=a.ngGamesModule.controller("VopsController",["$scope","$log","eventAggregator","GAME_EVENTS","GAME_VOPS_STATUS","dbCacheService","DB_NAMES","jarvisService","localeService","GAME_SETTINGS_TRANSLATION_STATUS","BACKEND_STATE_EVENTS",function(e,t,n,r,i,a,l,s,c,u,d){function f(e){C.systemGame.shortName===e&&(A=i.UNAVAILABLE)}function m(e){C.systemGame.shortName===e&&(A=i.STARTED)}function p(e){C.systemGame.shortName===e&&(A=i.PROGRESS)}function g(e){C.systemGame.shortName===e&&(A=i.FAILED)}function v(e,t,n){angular.isDefined(t.name)&&(angular.isDefined(x[t.name])?t.name=x[t.name].translation:D.error("vops settings translation not found for game ",C.systemGame.id,"with setting name ",t.name),t.textInfo[e]&&t.textInfo[e].length>0?t.textInfo=t.textInfo[e]:t.textInfo=t.textInfo[c.getDefaultLocaleWithUnderscore()],n.settingInfo.push(t))}function h(){if(!o.isEmpty(x)&&!o.isEmpty(C.gameVops)&&!o.isEmpty(C.gameVops.settingInfo)){var e=[],t=c.getCurrentLocaleWithUnderscore();o.each(C.gameVops.settingInfo,function(n){n.vopsSettingEnName=n.name;var r=o.find(e,{image:n.image});angular.isUndefined(r)?(r={},r.image=n.image,r.settingInfo=[],v(t,n,r),e.push(r)):v(t,n,r)}),C.gameVops=e,A=i.FINISHED}}function b(e){C.systemGame.shortName===e.shortName&&(o.isUndefined(e.vopsData)||(C.gameVops=e.vopsData),o.isEmpty(C.gameVops)?A=i.UNAVAILABLE:C.systemGame.getGameSettingsTranslation())}function y(e){e.id===C.systemGame.id&&(x=e.data,T=u.FINISHED,h())}function E(e){e===C.systemGame.id&&(T=u.FAILED)}function S(){o.isEmpty(C.gameVops)&&C.systemGame.getVOPS()}function _(){n.on(r.GAMEVOPS_STARTED,m),n.on(r.GAMEVOPS_READY,p),n.on(r.GAMEVOPS_NOTREADY,p),n.on(r.GAMEVOPS_UNAVAILABLE,f),n.on(r.GAMEVOPS_FINISHED,b),n.on(r.GAMEVOPS_FAILED,g),n.on(r.SETTINGS_TRANSLATION_FINISHED,y),n.on(r.SETTINGS_TRANSLATION_FAILED,E),n.on(d.READY,S)}function w(){n.off(r.GAMEVOPS_STARTED,m),n.off(r.GAMEVOPS_READY,p),n.off(r.GAMEVOPS_NOTREADY,p),n.off(r.GAMEVOPS_UNAVAILABLE,f),n.off(r.GAMEVOPS_FINISHED,b),n.off(r.GAMEVOPS_FAILED,g),n.off(r.SETTINGS_TRANSLATION_FINISHED,y),n.off(r.SETTINGS_TRANSLATION_FAILED,E),n.off(d.READY)}var A,T,I,C=this,x=[],D=t.getInstance("main.games/VopsController"),M=s.getLoggedInUser(),O=a.getCachedUserItem(M.userId,l.VIEW_STORE,l.VIEW_STATE),R=Date.now();C.gameVops={},C.systemGame=e.nvSystemGame,C.classicViewEnabled=e.nvClassicViewEnabled,e.$on("$destroy",function(){w(),I()}),_(),C.showUnavailable=function(){return A===i.UNAVAILABLE},C.showVopsPreview=function(){return A===i.FINISHED&&T===u.FINISHED},C.showVopsFailed=function(){return!C.showUnavailable()&&(A===i.FAILED||T===u.FAILED)},C.showLoadingIndicator=function(){return Date.now()-R>500&&!(C.showVopsPreview()||C.showUnavailable()||C.showVopsFailed())},I=e.$on("ui.layout.resize",function(e,t,n){try{var r=t.size/(t.size+n.size)*100;n.size<=n.minSize?(t.uncollapsedSize="auto",n.uncollapsedSize=n.size):(t.uncollapsedSize=r+"%",n.uncollapsedSize=100-r+"%"),O.vopsImageContainerSize=r+"%",O.persist_()}catch(e){D.error("ui.layout.resize event error",e)}}),C.classicViewEnabled?e.$watch("nvSystemGame",function(e){e&&(x=[],C.gameVops={},R=Date.now(),C.systemGame=e,C.systemGame.getVOPS())}):C.systemGame.getVOPS()}]);t.vopsController=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvVops=void 0;var i=n(14);n(134),n(281);var o=n(824),a=r(o);n(488);var l=i.ngGamesModule.directive("nvVops",function(){return{restrict:"E",scope:{nvSystemGame:"=",nvClassicViewEnabled:"@"},template:a.default,controller:"VopsController",controllerAs:"vops",link:function(e,t){function n(){t.empty(),t.remove(),t=null}e.$on("$destroy",n),t.on("$destroy",function(){e.$destroy()})}}});t.nvVops=l},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.gfnCloudGamesService=void 0;var i=n(3),o=(r(i),n(136));n(171),n(63);var a=o.ngGfnCloudGamesModule.service("gfnCloudGamesService",["$log","$q","gfnCloudGamesEndpoints","jarvisService","eventAggregator","COMMON_EVENTS","GFECLIENT_CONFIG",function(e,t,n,r,i,o,a){function l(e){e?s():(p=!1,g=!1,v=null,i.trigger(o.GFN_CLOUD_GAMES_FEATURE_UPDATED,p))}function s(){var e=r.getLoggedInUser();return g||!e?t.resolve():v?v:v=t.when(!1).then(function(e){d.info("cloud games feature toggle status",e),p=e,i.trigger(o.GFN_CLOUD_GAMES_FEATURE_UPDATED,p)}).catch(function(e){d.error("failed to get gfn cloud game variant",e)}).finally(function(){g=!0,v=null})}function c(){return m=n.getSupportedTitles().then(function(e){d.info("supported titles response:",e);var t=e.data;return f={},Array.isArray(t)&&t.forEach(function(e){f[e.gfnGameId]=e}),f}).catch(function(e){return d.error("failed to get supported titles: ",e),t.reject()}).finally(function(){m=null})}var u=this,d=e.getInstance("main.gfnCloudGames/gfnCloudGamesService"),f=null,m=null,p=!1,g=!1,v=null;u.initialize=function(){i.on(o.LOGIN_STATUS_CHANGE,l),s()},u.isGameSupportedForStreaming=function(e){return s().then(function(){return p?u.getSupportedTitles().then(function(){return e in f}):t.reject("feature not supported")})},u.getSupportedTitles=function(){return f?t.when(f):m?m:c()},u.launchGame=function(e){var i=f[e];if(!i)return d.error("game not supported or not present: ",e),t.reject("game not supported for streaming");var o=i.launcher,l=i.launcherGameId;return r.getDelegateToken(a.jarvis.gfnClientId).then(function(r){var i=r.data.delegateToken;n.startgameStream(o,l,i).then(function(t){d.info("success launching Cloud Game: ",e)}).catch(function(n){return d.error("failed to launch cloud game for id: "+e+"with error: "+n),t.reject(n)})}).catch(function(e){return d.error("failed to get delegate token: ",e),t.reject(e)})}}]);t.gfnCloudGamesService=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gfnController=void 0;var r=n(31);n(64);var i=r.ngGfnModule.controller("gfnController",["$state","tbdService",function(e,t){var n=this;n.pageNo=e.params.tabId,n.pageNo||(n.pageNo="0"),t.getBannerTexts().then(function(e){n.labels=e})}]);t.gfnController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGfn=void 0;var i=n(31);n(494),n(303),n(503);var o=n(825),a=r(o);n(491);var l=i.ngGfnModule.directive("nvGfn",function(){return{restrict:"E",scope:{},template:a.default,controller:"gfnController",controllerAs:"gfn"}});t.nvGfn=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gfnFeatureController=void 0;var r=n(31);n(64);var i=r.ngGfnModule.controller("gfnFeatureController",["tbdService",function(e){var t=this;e.getBannerTexts().then(function(e){t.bannerTexts=e})}]);t.gfnFeatureController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGfnFeature=void 0;var i=n(31);n(291),n(505);var o=n(826),a=r(o);n(493);var l=i.ngGfnModule.directive("nvGfnFeature",function(){return{restrict:"E",template:a.default,controller:"gfnFeatureController",controllerAs:"gfnFeature"}});t.nvGfnFeature=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gameStoreController=void 0;var r=n(31);n(64);var i=r.ngGfnModule.controller("GameStoreController",["$scope","$log","tbdService","$state",function(e,t,n,r){var i=this;i.gameStoreList=[],i.gameType=e.nvGameType;var o=t.getInstance("main.gfn/GameStoreController");"genre"===i.gameType?n.getGfnStoreGamesByGenre(r.params.id).then(function(e){i.gameStoreList=e},function(e){o.error("getGfnStoreGamesByGenre failed with latestGameList: "+e.status)}):n.getGfnStoreGamesByType(i.gameType).then(function(e){i.gameStoreList=e},function(e){o.error("getGfnStoreGamesByType failed with latestGameList: "+e.status)})}]);t.gameStoreController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gameStoreItemController=void 0;var r=n(31),i=r.ngGfnModule.controller("GameStoreItemController",["$scope",function(e){var t=this,n=e.nvGetGame();t.nvGame=n,t.nvGameType=e.nvShowType,t.onClickedGameItem=function(){},t.isNeedPurchase=function(){if("undefined"==typeof t.nvGame)return!1;var e=!t.nvGame.storeInfo.isPurchased&&0!==t.nvGame.storeInfo.price;return e}}]);t.gameStoreItemController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGameStoreItem=void 0;var i=n(31),o=n(827),a=r(o);n(496);var l=i.ngGfnModule.directive("nvGameStoreItem",function(){return{restrict:"E",scope:{nvGetGame:"&nvGame",nvShowType:"@"},template:a.default,controller:"GameStoreItemController",controllerAs:"gameItem"}});t.nvGameStoreItem=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gfnGenreGamesController=void 0;var r=n(31),i=r.ngGfnModule.controller("gfnGenreGamesController",["$state",function(e){var t=this;switch(t.pageNo=e.params.id,e.params.id){case"action":t.goBackString="l10n.genre.action";break;case"adventure":t.goBackString="l10n.genre.adventure";break;case"arcade":t.goBackString="l10n.genre.arcade";break;case"family":t.goBackString="l10n.genre.family";break;case"fps":t.goBackString="l10n.genre.fps";break;case"puzzle":t.goBackString="l10n.genre.puzzle";break;case"racing":t.goBackString="l10n.genre.racing";break;case"rolePlaying":t.goBackString="l10n.genre.rolePlaying"}}]);t.gfnGenreGamesController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGenreGames=void 0;var i=n(31);n(303);var o=n(829),a=r(o);n(498);var l=i.ngGfnModule.directive("nvGenreGames",function(){return{restrict:"E",template:a.default,controller:"gfnGenreGamesController",controllerAs:"gfnGenreGames"}});t.nvGenreGames=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gfnGenreItemController=void 0;var r=n(31),i=r.ngGfnModule.controller("gfnGenreItemController",["$scope",function(e){var t=this,n=e.nvGenre();t.id=n.genreId,t.img=n.img,t.name=n.spec}]);t.gfnGenreItemController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGenreItem=void 0;var i=n(31),o=n(830),a=r(o);n(500);var l=i.ngGfnModule.directive("nvGenreItem",function(){return{restrict:"E",scope:{nvGenre:"&nvGenre"},template:a.default,controller:"gfnGenreItemController",controllerAs:"gfnGenreItem"}});t.nvGenreItem=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gfnGenresController=void 0;var r=n(31),i=r.ngGfnModule.controller("gfnGenresController",function(){var e=this;e.genreList=[{genreId:"action",img:"mocks/assets/gfn/img/genres-action.png",spec:"l10n.genre.action"},{genreId:"adventure",img:"mocks/assets/gfn/img/genres-adventure2.png",spec:"l10n.genre.adventure"},{genreId:"arcade",img:"mocks/assets/gfn/img/genres-arcade2.png",spec:"l10n.genre.arcade"},{genreId:"family",img:"mocks/assets/gfn/img/genres-family2.png",spec:"l10n.genre.family"},{genreId:"fps",img:"mocks/assets/gfn/img/genres-firstpersonshooter.png",spec:"l10n.genre.fps"},{genreId:"puzzle",img:"mocks/assets/gfn/img/genres-puzzle.png",spec:"l10n.genre.puzzle"},{genreId:"racing",img:"mocks/assets/gfn/img/genres-racing.png",spec:"l10n.genre.racing"},{genreId:"rolePlaying",img:"mocks/assets/gfn/img/genres-roleplaying.png",spec:"l10n.genre.rolePlaying"}]});t.gfnGenresController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGfnGenres=void 0;var i=n(31);n(501);var o=n(831),a=r(o);n(502);var l=i.ngGfnModule.directive("nvGfnGenres",function(){return{restrict:"E",template:a.default,controller:"gfnGenresController",controllerAs:"gfnGenres"}});t.nvGfnGenres=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.latestGamesController=void 0;var r=n(31);n(64);var i=r.ngGfnModule.controller("LatestGamesController",["$log","tbdService",function(e,t){var n=this;n.latestGameList=[];var r=e.getInstance("main.gfn/LatestGamesController");t.getGfnLatestGames().then(function(e){n.latestGameList=e},function(e){r.error("getGfnLatestGames failed with latestGameList: "+e.status)})}]);t.latestGamesController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvLatestGameItem=t.nvLatestGames=void 0;var i=n(31),o=n(833),a=r(o),l=n(832),s=r(l);n(504);var c=i.ngGfnModule.directive("nvLatestGames",function(){return{restrict:"E",template:a.default,controller:"LatestGamesController",controllerAs:"games"}}),u=i.ngGfnModule.directive("nvLatestGameItem",function(){return{restrict:"E",scope:{nvGame:"="},template:s.default}});t.nvLatestGames=c,t.nvLatestGameItem=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.gfwslArticleEndpoints=void 0;var i=n(12),o=r(i),a=n(52),l=a.ngGfwslSdkModule.provider("gfwslArticleEndpoints",[function(){var e,t;return{setConfig:function(n){e=n.server,t=n.defaultTimeout||t},$get:["NvEndpointFactory","gfwslEndpoints","gfeService","httpTelemetryService","TELEMETRY_ORIGINAL_SERVICE_NAME",function(n,r,i,a,l){var s=new n;s.setDefaultTimeout(t),s.setUrlGenerator(function(e,t){var n,i;return t=t||{},t.gfwslParams?(n=r.getParams(JSON.parse(t.gfwslParams)),delete t.gfwslParams):n=r.getParams({}),i=t.articleUrl||"",delete t.articleUrl,_.isEmpty(n)||(i+=(0,o.default)(n)),i}),s.setHttpFunc(function(t){return a.endpointHttpCallback(t,i.onlineState.online,e,l.GFWSL)});var c=s.createEndpoint({url:":articleUrl",method:"GET",headers:{telemetry:"GetArticle"},params:{articleUrl:""}});return{getArticleUrl:s.generateFullUrl,getArticle:c}}]}}]);t.gfwslArticleEndpoints=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.rollbackService=void 0;var i=n(27),o=r(i),a=n(12),l=r(a),s=n(10);n(18);var c=n(322),u=s.ngUpdatesModule.service("rollbackService",["$log","$q","$filter","dbService","DB_NAMES","TASK_STATUS","GFECLIENT_CONFIG",function(e,t,n,r,i,a,s){function u(){return v.getItem(i.GFE_ROLLBACK_DRIVER_LIST).then(function(e){return g=e,e},function(e){S.info("failed to get rollbackList from DB: ",e),t.reject("failed to get rollbackList from DB")})}function d(e){return c._.first(n("orderBy")(e,"installDate",!0),E)}function f(e){if(s.rollbackFeatureAllowExternalDriversExperimental)return e;var t=[];return c._.each(e,function(e){e&&e.downloadStatus&&e.downloadStatus.status&&e.downloadStatus.status!=a.TASK_NOT_STARTED&&(t=c._.union(t,[e]))}),t}function m(e){var t=[];if(e)for(var n=0;n<e.length;n++){var r=e[n];if(r)for(var i=0;i<r.length;i++){for(var o=!1,a=r[i],l=0;l<t.length;l++)a.version?a.version==t[l].version&&a.isCRD==t[l].isCRD&&(angular.isDefined(a.installDate)&&angular.isDefined(t[l].installDate)&&a.installDate>t[l].installDate&&(t[l].installDate=new Date(a.installDate)),o=!0):o=!0;o||(t=c._.union(t,[a]))}}return t}function p(e){if(y){var n=m([e,b]);return n=f(n),n=d(n),v.setItem(i.GFE_ROLLBACK_DRIVER_LIST,n),b=n,t.when(b)}return u().then(function(t){var n=m([e,b,t]);return n=f(n),n=d(n),v.setItem(i.GFE_ROLLBACK_DRIVER_LIST,n),
b=n,y=!0,b}).catch(function(e){y=!1,t.reject("failed updateRollbackList")})}var g,v,h=this,b=[],y=!1,E=2;v=r.getGlobalStore(i.GLOBAL_STORE);var S=e.getInstance("main.updates/rollbackService");h.verbose=function(){return 1},h.getInstallDate=function(e){var t=b.find(function(t){return t.version==e.version});return t?t.installDate:null},h.newDriverInstallComplete=function(e){var t=JSON.parse((0,l.default)(e));return S.info("Called newDriverInstallComplete to update rollbackList DB: ",e),t&&t.downloadStatus&&t.downloadStatus.status&&!c._.isEmpty(t.downloadURL)&&(s.rollbackFeatureAllowExternalDriversExperimental||t.downloadStatus.status!=a.TASK_NOT_STARTED)&&(c._.some(b,function(t){return t.version==e.version&&t.isCRD==e.isCRD})||(t=(0,o.default)({},e),t.installDate=new Date(Date.now()),angular.isDefined(t.firstInstallDate)||(t.firstInstallDate=new Date(t.installDate)),p([t]))),t},h.getRollbackList=function(){return p([])}}]);t.rollbackService=u},,function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.notificationsController=void 0;var i=n(229);n(188),n(17);var o=n(3),a=r(o),l=i.ngNotificationsModule.controller("NotificationsController",["eventAggregator","NOTIFICATION_EVENTS","$scope","jarvisService","dbCacheService","DB_NAMES","COMMON_EVENTS","$log","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","$document","$filter","$timeout",function(e,t,n,r,i,o,l,s,c,u,d,f,m){function p(){_.notificationList.forEach(function(e){e.readableTime=f("convertUTCToTimeAgo")(e.availableTime)})}function g(){return T(),A?(_.isNotificationMenuVisible=!0,void v(!1)):void I.error("notification automatically shown when view state is null returning")}function v(e){_.showIndicator=e,A.showIndicator=e,A.persist_()}function h(e){if(!A)return void I.error("new notification recieved when view state is null returning");var t=new Date,n=e.notifications,r=!1,i=[],o=!1;I.info("notifications data received",n),n.forEach(function(e){if(!a.findWhere(_.notificationList,{callbackData:e.callbackData})){if(A[e.callbackData]){if(A[e.callbackData].removed)return;A[e.callbackData].notificationTs||(A[e.callbackData].notificationTs=t,o=!0),e.availableTime=A[e.callbackData].notificationTs}else r=!0,A[e.callbackData]={notificationTs:t,removed:!1},e.availableTime=t,i.push(e.type);e.readableTime=f("convertUTCToTimeAgo")(e.availableTime),_.notificationList.push(e)}}),I.info("notification list data",_.notificationList),_.notificationList=a.sortBy(_.notificationList,function(e){return e.availableTime.getTime()}).reverse(),o&&!r&&A.persist_(),r&&(_.notificationList[0].firstNotificationHighResolution&&(A.lastBigNotificationShown=_.notificationList[0].availableTime),A.showIndicator=!0,A.persist_(),a.each(a.uniq(i),function(e){c.push(u.NOTIFICATION_IN_APP_NEW_ITEMS_AVAILABLE,{category:e,description:""})})),_.showIndicator=A.showIndicator&&_.notificationList.length>0}function b(e){for(var t=0;t<_.notificationList.length;t++)if(_.notificationList[t].callbackData===e){_.notificationList.splice(t,1);break}}function y(e){for(var t=0;t<e.length;t++)b(e[t].callbackData)}function E(){w=r.getLoggedInUser(),w?(I.info("fetching notification view state at user logged in"),A=i.getCachedUserItem(w.userId,o.JARVIS_GFE_STORE,o.NOTIFICATIONS_VIEW_STATE),I.info("displaying notification view state at user logged in ",A),A?A.wait_().then(function(){e.trigger(t.VIEWSTATE_INITIALIZED)}):I.error("Unable to fetch notifications view state in user logged in")):(I.info("setting notification view state null at user logged out"),w=null,A=null,_.notificationList=[],_.showIndicator=!1)}function S(){I.info("initializing notfications controller"),e.on(t.NEW_NOTIFICATION,h),e.on(t.REMOVE_NOTIFICATION,y),e.on(l.LOGIN_STATUS_CHANGE,E),E()}var _=this,w=r.getLoggedInUser(),A=null,T=null,I=s.getInstance("main.notifications/notificationController");_.notificationList=[],_.showIndicator=!1,_.isNotificationMenuVisible=!1;var C;_.onInit=function(n){T=n,e.on(t.OPEN_NOTIFICATION_MENU,g)},_.getNotificationBadgeNumber=function(){return _.showIndicator&&_.notificationList.length||""},_.onNotificationClicked=function(e){if(!A)return void I.error("notification clicked when view state is null returning");e.clickToRemove&&(A[e.callbackData].removed=!0,m(function(){b(e.callbackData)},300)),v(!1),e.callbackFunction&&e.callbackFunction(e.callbackData);var t=e.telemetryDescription||e.callbackData;c.push(u.NOTIFICATION_IN_APP_ITEM_CLICKED,{category:e.type,description:t||""})},_.showNotifications=function(e){if(!_.nvDisabled){if(e.open(),!A)return void I.error("notification shown when view state is null returning");p(),_.isNotificationMenuVisible=!0,v(!1),c.push(u.NOTIFICATION_IN_APP_ICON_CLICKED)}},_.showBigNotification=function(e,t){return A?!(0!==e||!t.firstNotificationHighResolution)&&A.lastBigNotificationShown<=t.availableTime:void I.error("big notification shown when view state is null returning")},_.showTooltip=function(e,t){if(_.isNotificationMenuVisible){var n=angular.element(d[0].querySelector("#"+t+e));if(n&&n[0])return n[0].scrollWidth>n[0].offsetWidth}return!1},n.$on("$destroy",function(){e.off(t.NEW_NOTIFICATION,h),e.off(t.REMOVE_NOTIFICATION,y),e.off(l.LOGIN_STATUS_CHANGE,E),C()}),C=n.$on("$mdMenuClose",function(){_.isNotificationMenuVisible=!1}),S()}]);t.notificationsController=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvNotifications=void 0;var i=n(229);n(280),n(42);var o=n(835),a=r(o);n(509),n(376);var l=i.ngNotificationsModule.component("nvNotifications",{template:a.default,controller:"NotificationsController",controllerAs:"notifications",bindings:{nvDisabled:"<"}});t.nvNotifications=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.oobeAuthChooseController=void 0;var i=n(243),o=r(i),a=n(9);n(18),n(13),n(17);var l=a.ngOobeModule.controller("OobeAuthChooseController",["$log","gfeService","jarvisService","telemetryService","oobeTelemetryService","OOBE_LOGIN","$q","preferencesService","cefService","GFECLIENT_CONFIG","eventAggregator","COMMON_EVENTS","windowSpawnService","localeService",function(e,t,n,r,i,a,l,s,c,u,d,f,m,p){function g(){d.off(f.CHILD_WINDOW_LOADED,g),A.info("OAuth load completed in time(ms):",new Date-x)}function v(){C||w.onCancelOauth(),d.off(f.CHILD_WINDOW_CLOSED,v),d.off(f.CHILD_WINDOW_LOADED,g)}function h(e){var t=new Date;A.info("user crendentials verification successfull. Attempting session create");var i=n.getUserTokenFromCode(e).then(function(e){return n.loginWithRegistrationToken(e.data.loginToken).then(function(e){return A.info("session create successfull, total time(ms): ",new Date-t),r.setEventsCommonData({userId:e.user.userId},!0),e}).catch(function(e){return A.error("login with registration token failed",e),l.reject(e)})}).catch(function(e){return A.error("get user token from code failed",e),w.message="l10n.loginServerError",w.showLoadingIndicator=!1,l.reject(e)});w.showLoadingIndicator=!0;var o=T[I];return w.oobeAuthCtrl.handleLoginAttempt(i,!1,o)}function b(){A.info("Stop the HttpServer provided from cefService"),c.query({command:"QUERY_HTTPSERVER_STOP"})}function y(e){var t=e.indexOf("?")>-1?e.split("?"):e.split("#");if(t.length<1)return null;var n={},r=new URLSearchParams(t[1]),i=!0,a=!1,l=void 0;try{for(var s,c=(0,o.default)(r.entries());!(i=(s=c.next()).done);i=!0){var u=s.value;n[u[0]]=u[1].split("#")[0]}}catch(e){a=!0,l=e}finally{try{!i&&c.return&&c.return()}finally{if(a)throw l}}return n}function E(e,t){var r,i=u.jarvis.portNumbers,o=u.jarvis.onCompleteRedirectUrl,a=u.jarvis.redirectParams,l={command:"QUERY_HTTPSERVER_START",ports:i,redirectUrl:o,redirectParams:a};try{c.query(l,!0).then(angular.noop,angular.noop,function(i){i=JSON.parse(i);var o;if("serverCreated"===i.callbackReason){var a=decodeURIComponent(e);r=i.portNumber.toString(),n.setJarvisOauthRedirectUrlPort(r),a=a.replace("{portNumber}",r),o=m.openChildWindow(a,"app_oauth_window_with_back_button",t,{},!0,null),d.on(f.CHILD_WINDOW_LOADED,g),A.info("New oauth child window should have opened with url: ",e),A.info("Pop-Up window loaded in time(ms):",new Date-x)}else if("httpRequest"===i.callbackReason){var l=y(i.url);if(w.hideOauthDialog(),!_.isEmpty(l)){var s=l.code;h(s)}o&&(o.close(),o=null),b()}}).catch(function(e){A.error("No valid response provided from cefService",e),b()})}catch(e){A.error("No valid response available to fetch Jarvis Code",e)}}function S(e){return A.debug("Show Oauth Dialog",e),I=e,w.oobeAuthCtrl.loginType=a.SOCIAL,w.oobeAuthCtrl.provider=e,n.getOauthUrl(e).then(function(t){w.showOauthDialog(t,D[e].width,D[e].height)})}var w=this,A=e.getInstance("main.oobe/OobeAuthChooseController"),T={google:"SIGN_IN_WITH_GOOGLE",facebook:"LOGIN_WITH_FACEBOOK",qq:"LOGIN_WITH_QQ",wechat:"LOGIN_WITH_WECHAT",jarvisOAuth:"LOGIN_WITH_JARVIS_OAUTH"},I=void 0,C=!1,x=null,D={google:{width:475,height:675},facebook:{width:475,height:675},qq:{width:475,height:675},wechat:{width:475,height:675},jarvisOAuth:{width:475,height:675}},M=u.starfleet&&u.starfleet.featureEnabled;M=!1,w.$onInit=function(){w.message="",i.updateScreen("SCREEN_OOBE_ACCOUNT_CHOOSER"),w.messageTranslateValues={},w.onlineState=t.onlineState,w.showGoogleLogin=!0,w.showFacebookLogin=!0,w.showNvLogin=!0,w.showQqLogin=!0,w.showWechatLogin=!0,w.showLoadingIndicator=!1,s.onUpdateHighlightsDisplayed().then(function(){w.initLogin()})},w.showOauthDialog=function(e,t,n){c.deleteCookies(".google.com",""),c.deleteCookies(".facebook.com","");var r=n?n:675,i=t?t:475,o=window.screenY+window.innerHeight/2-r/2,a=window.screenX+window.innerWidth/2-i/2,l="toolbar=0,location=0,menubar=0,width="+i+",height="+r+",top="+o+",left="+a;C=!1,d.on(f.CHILD_WINDOW_CLOSED,v),x=new Date,A.info("OAuth Load Started"),E(e,l)},w.hideOauthDialog=function(){C=!0,m.closeChildWindow()},w.onClickNVIDIA=function(){w.onlineState.online&&(i.recordAction("OOBE_LOGIN_WITH_NVIDIA"),w.oobeAuthCtrl.showLogin())},w.initLoginWithJarvisOAuth=function(){if(w.message="",w.onlineState.online){I=a.JARVIS_OAUTH,i.startActionAsync(T[I]);var e=n.getLoginWithOauthUrl({locale:p.getCurrentCMSLocale()});w.showOauthDialog(e,D[I].width,D[I].height)}},w.initLoginWithStarfleetOAuth=function(){},w.onClickGoogle=function(){w.onlineState.online&&(i.startActionAsync("SIGN_IN_WITH_GOOGLE"),S(a.GOOGLE))},w.onClickFacebook=function(){w.onlineState.online&&(i.startActionAsync("LOGIN_WITH_FACEBOOK"),S(a.FACEBOOK))},w.onClickQq=function(){w.onlineState.online&&(i.startActionAsync("LOGIN_WITH_QQ"),S(a.QQ))},w.onClickWeChat=function(){w.onlineState.online&&(i.startActionAsync("LOGIN_WITH_WECHAT"),S(a.WECHAT))},w.messageEventListener=function(e){var t=e.data.code;return A.info("Message received in time(ms) :",new Date-e.data.time),w.hideOauthDialog(),t&&h(t)},w.onCancelOauth=function(){i.endActionAsync(T[I],"CANCELLED")},w.messageBanner=function(){return w.onlineState.online?w.message:"l10n.mustBeOnline"},w.toggleLoginOptions=function(){w.showGoogleLogin=!w.showGoogleLogin,w.showFacebookLogin=!w.showFacebookLogin,w.showNvLogin=!w.showNvLogin,w.showQqLogin=!w.showQqLogin,w.showWechatLogin=!w.showWechatLogin,w.showMoreLogin=!w.showMoreLogin},w.initLogin=function(){M?w.initLoginWithStarfleetOAuth():w.initLoginWithJarvisOAuth()}}]);t.oobeAuthChooseController=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobeAuthChoose=void 0;var i=n(9),o=n(836),a=r(o);n(511);var l=i.ngOobeModule.component("nvOobeAuthChoose",{bindings:{message:"@"},template:a.default,controller:"OobeAuthChooseController",controllerAs:"oobeAuthChooseCtrl",require:{oobeAuthCtrl:"^^nvOobeAuth"}});t.nvOobeAuthChoose=l},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.oobeAuthController=void 0;var i=n(9);n(17),n(23),n(13),n(11),n(55),n(305);var o=n(3),a=r(o),l=i.ngOobeModule.controller("OobeAuthController",["$log","oobeDialogService","telemetryService","dbCacheService","hardwareService","gfeService","nvAccountService","cevoToggleService","jarvisService","oobeTelemetryService","OOBE_STATE","OOBE_LOGIN","eventAggregator","OOBE_EVENTS",function(e,t,n,r,i,o,l,s,c,u,d,f,m,p){function g(e){b.nvActiveAuthView=e,m.trigger(p.AUTH_VIEW_CHANGED,e)}function v(e){var t=!1;i.getLaunchTimeSystemInfo().then(function(e){t=!a.propertyOf(e)("DriverVersion")}).finally(function(){t?b.oobeCtrl.onShowNoDriver():b.oobeCtrl.onLoggedIn(e)})}function h(e){s.getAvatarStore().then(function(t){var n=r.getCachedUserItem(e.userId,t.storeName,t.key);n.sync_().finally(function(){return g("sync"),o.syncData(e).then(function(t){y.info("Sync Complete"),u.endActionAsync("SYNC","SUCCESS"),v(e)})})})}var b=this,y=e.getInstance("main.oobe/OobeAuthController");b.$onInit=function(){b.selectView()},b.selectView=function(){b.nvOobeParams.user?h(b.nvOobeParams.user):(l.deleteJarvisUserToken(),a.propertyOf(b.nvOobeParams)("sessionExpired")?b.showAccountChooser("l10n.sessionExpired"):b.showAccountChooser())},b.showAccountChooser=function(e){b.message=e,g("choose")},b.showLogin=function(e,t){b.loginType=f.TRADITIONAL,b.prefilledLogin=e,b.message=t,g("nvLogin")},b.showRegister=function(){b.registerType=f.TRADITIONAL,g("nvRegister")},b.showRegisterSocial=function(e){b.registerType=f.SOCIAL,b.prefilledRegistration=e,g("nvRegister")},b.showForgotPassword=function(){g("forgotPassword")},b.showEmailVerification=function(e,t){y.debug("showEmailVerification",t),b.sessionObject=e,b.verificationType=t,g("verification")},b.showEditEmail=function(e){y.debug("showEditEmail"),b.sessionObject=e,g("editEmail")},b.showQrCodeForScan=function(e,t){y.debug("showQrCodeScan"),b.sessionObject=e,b.emailVerification=t,y.debug("onRegister",t),"skip"===t?(y.debug("Email verificaiton skipped"),b.handleLoggedIn(e)):(y.debug("Email verificaiont is required"),b.showEmailVerification(e,"registered"))},b.attemptLogin=function(e,t,r){y.info("attempting Login.");var i=c.loginUsernamePassword(e,t).then(function(e){return n.setEventsCommonData({userId:e.user.userId},!0),e});return b.handleLoginAttempt(i,!1,r)},b.handleLoginAttempt=function(e,n,r){return e.then(function(e){e.user.core.primaryEmailVerified?(y.debug("email verified - start session"),u.endActionAsync(r,"SUCCESS"),b.handleLoggedIn(e)):t.skipEmailVerification(e,b.loginType,b.provider).then(function(t){t?(u.endActionAsync(r,"EMAIL_VERIFICATION_SKIPPED"),b.handleLoggedIn(e)):(y.debug("email not verified - show verification dialog. Address changed:",n===!0),n?(u.endActionAsync(r,"EMAIL_NOT_VERIFIED"),b.showEmailVerification(e,"emailUpdated")):b.attemptResendVerification(e.user.core.primaryEmail).then(function(){y.info("automatically resent verification email"),u.endActionAsync(r,"EMAIL_NOT_VERIFIED"),b.showEmailVerification(e)}).catch(function(t){y.error("Failed to re-send verification email automatically. Continue anyway."),u.endActionAsync(r,"EMAIL_NOT_VERIFIED_RESEND_FAILED"),b.showEmailVerification(e)}))})})},b.handleLoggedIn=function(e){c.startSession(e).then(function(){t.getState()!==d.COMPLETED_ALL&&t.setState(d.COMPLETED_LOGIN),h(e.user)}).finally(function(){oobeAuthChooseCtrl.showLoadingIndicator=!1})},b.attemptResendVerification=function(e){return y.debug("re-send verification email pressed."),c.requestVerificationEmail(e)},b.isLeftPaneVisible=function(){return!("choose"===b.nvActiveAuthView)}}]);t.oobeAuthController=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeAuthEditEmailController=void 0;var r=n(9);n(13);var i=r.ngOobeModule.controller("OobeAuthEditEmailController",["$log","jarvisService","oobeTelemetryService",function(e,t,n){function r(){n.updateScreen("SCREEN_OOBE_EMAIL_EDIT")}function i(e,n,r){return a.info("attemptChangeEmailAddress."),t.changeEmailAddressWithSessionObject(e,n,r).then(function(e){var r=t.loginWithRegistrationToken(e.loginToken,n);return o.oobeAuthCtrl.handleLoginAttempt(r,!0,"SUBMIT")})}var o=this,a=e.getInstance("main.oobe/OobeAuthEditEmailController");o.emailChanged=function(){o.emailForm.email.$setValidity("notAvailable",!0)},o.passwordChanged=function(){o.emailForm.password.$setValidity("invalidPassword",!0)},o.onDone=function(){n.startActionAsync("SUBMIT"),o.emailForm.$invalid?(a.debug("tried to submit invalid form"),n.endActionAsync("SUBMIT","INVALID_FORM"),o.emailForm.password.$setTouched(),o.emailForm.email.$setTouched(),o.emailForm.reEnterEmail.$setTouched()):(o.message=null,o.waiting=!0,o.nvSessionObject.user.core.primaryEmail===o.email?(a.debug("Email did not change. Resend verification"),o.oobeAuthCtrl.attemptResendVerification(o.email).then(function(e){n.endActionAsync("SUBMIT","SUCCESS"),o.oobeAuthCtrl.showEmailVerification(o.nvSessionObject,"resent")}).catch(function(e){n.endActionAsync("SUBMIT","HTTP_ERROR",e.status),o.oobeAuthCtrl.showEmailVerification(o.nvSessionObject,"error")})):(a.debug("Email has changed. Attempt to change email address"),i(o.nvSessionObject,o.email,o.password).catch(function(e){n.endActionAsync("SUBMIT","HTTP_ERROR",e.status),o.waiting=!1,401===e.status?(a.debug("Change Email: Invalid credentials"),o.emailForm.password.$setValidity("invalidPassword",!1),o.emailForm.password.$setTouched()):403===e.status?(a.debug("Change Email: Account has no password, must be a social-only account"),o.message="l10n.noPassword"):409===e.status?(a.debug("Change Email: Email address is already being used"),o.emailForm.email.$setValidity("notAvailable",!1),o.emailForm.email.$setTouched()):(a.debug("Change Email: Generic server error. status:",e.status),o.message="l10n.unableToConnect")})))},o.onCancel=function(){a.debug("cancel pressed"),n.recordAction("OOBE_CANCEL"),o.oobeAuthCtrl.showEmailVerification(o.nvSessionObject,"default")},r()}]);t.oobeAuthEditEmailController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobeAuthEditEmail=void 0;var i=n(9),o=n(837),a=r(o);n(514);var l=i.ngOobeModule.directive("nvOobeAuthEditEmail",[function(){return{restrict:"E",scope:{nvSessionObject:"="},bindToController:!0,template:a.default,controller:"OobeAuthEditEmailController",controllerAs:"oobeAuthEditEmailCtrl",require:"^^nvOobeAuth",link:function(e,t,n,r){e.oobeAuthEditEmailCtrl.oobeAuthCtrl=r}}}]);t.nvOobeAuthEditEmail=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeAuthForgotPasswordController=void 0;var r=n(9);n(13);var i=r.ngOobeModule.controller("OobeAuthForgotPasswordController",["$log","jarvisService","oobeTelemetryService",function(e,t,n){function r(){n.updateScreen("SCREEN_OOBE_FORGOT_PASSWORD"),a.sentView=!1}function i(e){n.endActionAsync("SUBMIT","SUCCESS"),a.sentView=!0,a.waiting=!1}function o(e){l.debug("Reset: request failed with status:",e.status),n.endActionAsync("SUBMIT","HTTP_ERROR",e.status),a.waiting=!1,a.message="l10n.unableToSendRecovery"}var a=this,l=e.getInstance("main.oobe/OobeAuthForgotPasswordController");a.onSubmit=function(){n.startActionAsync("SUBMIT"),a.forgotForm.$invalid?(n.endActionAsync("SUBMIT","INVALID_FORM"),l.debug("Submit invalid form"),a.forgotForm.email.$setTouched()):(l.info("attemptResetPassword email"),a.waiting=!0,t.resetPassword(a.email).then(i,o))},a.onCancel=function(){n.recordAction("OOBE_CANCEL"),a.oobeAuthCtrl.showLogin()},a.onDone=function(){n.recordAction("OOBE_DONE"),a.oobeAuthCtrl.showLogin()},r()}]);t.oobeAuthForgotPasswordController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobeAuthForgotPassword=void 0;var i=n(9),o=n(838),a=r(o);n(516);var l=i.ngOobeModule.directive("nvOobeAuthForgotPassword",[function(){return{restrict:"E",scope:{},bindToController:!0,template:a.default,controller:"OobeAuthForgotPasswordController",controllerAs:"oobeAuthForgotPasswordCtrl",require:"^^nvOobeAuth",link:function(e,t,n,r){e.oobeAuthForgotPasswordCtrl.oobeAuthCtrl=r}}}]);t.nvOobeAuthForgotPassword=l},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.oobeAuthNvLoginController=void 0;var i=n(9);n(29),n(17);var o=n(3),a=r(o),l=i.ngOobeModule.controller("OobeAuthNvLoginController",["$log","gfeService","oobeTelemetryService","jarvisService",function(e,t,n,r){function i(){n.updateScreen("SCREEN_OOBE_LOGIN_NVIDIA"),r.getFormValidationObject().then(function(e){angular.merge(o.validationObject,e.AuthenticationData)}),o.message=null,o.messageTranslateValues={},o.onlineState=t.onlineState,a.extend(o,o.nvPrefilled)}var o=this,l=e.getInstance("main.oobe/OobeAuthNvLoginController"),s=0;o.validationObject={email:{},password:{}},o.onSubmit=function(){var e=30;n.startActionAsync("SUBMIT"),o.loginForm.$invalid?(l.debug("Submit invalid form"),n.endActionAsync("SUBMIT","INVALID_FORM"),o.loginForm.email.$setTouched(),o.loginForm.password.$setTouched()):(l.debug("Submit valid form, attempt login"),o.waiting=!0,o.oobeAuthCtrl.attemptLogin(o.email,o.password,"SUBMIT").catch(function(t){if(n.endActionAsync("SUBMIT","HTTP_ERROR",a.propertyOf(t)("status")),o.waiting=!1,401===t.status)s+=1,l.debug("Login: invalid credentials attempts: ",s),o.loginForm.email.$setValidity("invalidCredentials",!1),o.loginForm.password.$setValidity("invalidCredentials",!1),o.loginForm.email.$setTouched(),o.loginForm.password.$setTouched(),o.message="l10n.invalidCredentials";else if(403===t.status){l.debug("Login: account temporarily blocked");try{e=Math.ceil(parseInt(t.headers()["retry-after"])/60)}catch(t){l.error("Login: Error parsing retry-after. Defaulting to ",e," minutes")}o.messageTranslateValues.blockedMinutes=e,o.message="l10n.accountBlocked"}else l.debug("Login: generic server failure with status:",t.status),o.message="l10n.loginServerError"}))},o.onClickRegister=function(){n.recordAction("OOBE_NVIDIA_ACCOUNT_CREATE_NEW_ACCOUNT"),o.oobeAuthCtrl.showRegister()},o.onClickForgotPassword=function(){n.recordAction("OOBE_LOGIN_FORGOT_PASSWORD"),o.oobeAuthCtrl.showForgotPassword()},o.onClickBack=function(){n.recordAction("OOBE_BACK"),o.oobeAuthCtrl.showAccountChooser()},o.fieldsChanged=function(){o.loginForm.email.$setValidity("invalidCredentials",!0),o.loginForm.password.$setValidity("invalidCredentials",!0)},o.messageBanner=function(){return o.onlineState.online?o.message:"l10n.mustBeOnline"},i()}]);t.oobeAuthNvLoginController=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobeAuthNvLogin=void 0;var i=n(9),o=n(839),a=r(o);n(288),n(289),n(518);var l=i.ngOobeModule.directive("nvOobeAuthNvLogin",[function(){return{restrict:"E",scope:{message:"@",nvPrefilled:"="},bindToController:!0,template:a.default,controller:"OobeAuthNvLoginController",controllerAs:"oobeAuthNvLoginCtrl",require:"^^nvOobeAuth",link:function(e,t,n,r){e.oobeAuthNvLoginCtrl.oobeAuthCtrl=r}}}]);t.nvOobeAuthNvLogin=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeAuthNvRegisterController=void 0;var r=n(9);n(13),n(17),n(362),n(22),n(29),n(11);var i=r.ngOobeModule.controller("OobeAuthNvRegisterController",["$log","$translate","$scope","$q","jarvisService","dbCacheService","DB_NAMES","oobeTelemetryService","telemetryService","gfwslService","dialogService","gfeService","oobeOptionsService","gfeTargetService","OOBE_LOGIN","localeService","OOBE_VALIDATION_ELEMENTS","OOBE_VALIDATION_ERRORS",function(e,t,n,r,i,o,a,l,s,c,u,d,f,m,p,g,v,h){function b(){C.locale=g.getCurrentLocale().code,"zh-CHS"===C.locale?C.locale="zh-CN":"zh-CHT"===C.locale&&(C.locale="zh-TW"),x.debug("Locale obtained:",C.locale),C.regView="register",C.nvType===p.SOCIAL?(l.updateScreen("SCREEN_OOBE_REGISTRATION_SOCIAL"),C.title="l10n.almostDone"):(l.updateScreen("SCREEN_OOBE_REGISTRATION_NVIDIA"),C.title="l10n.createAccount"),C.onlineState=d.onlineState,angular.merge(C.regModel,C.nvPrefilled),C.nvType===p.SOCIAL&&C.regModel.email&&C.regModel.email.length>0&&(C.emailDisabled=!0),C.waiting=!0,f.isNewsLetterChecked().then(function(e){C.regModel.subscribe=e}).catch(function(e){C.regModel.subscribe=!1}).finally(function(){C.waiting=!1})}function y(e){return e&&400===e.status&&e.data&&_.findWhere(e.data.details,{field:"birthdate",reason:"VALUE_OUT_OF_RANGE"})}function E(e,t){var n=o.getCachedUserItem(e,a.JARVIS_COMMON_STORE,a.SUBSCRIPTIONS),r=i.getSubscriptionData(n);return r.state=t,n.persist_()}function S(e){try{x.error("status:",e.status),x.error("statusText:",e.statusText),x.error("data:",e.data)}catch(e){x.error("no valid response provided from server",e)}}function w(){x.debug("showTermsAndConditionsDialog"),l.startActionAsync("AGREE_TO_TERMS_LINK"),c.getTermsAndConditions().then(function(e){try{l.endActionAsync("AGREE_TO_TERMS_LINK","SUCCESS"),u.show("nv-dialog-html",{style:"dialog-service-container-size",title:"l10n.termsAndConditions",html:e.data.gfcontent.body,closeButton:{action:u.cancel}})}catch(t){return x.error("parse failure showing terms and conditions"),l.endActionAsync("AGREE_TO_TERMS_LINK","PARSE_ERROR"),r.reject(e)}}).catch(function(e){x.error("http failure showing terms and conditions"),l.endActionAsync("AGREE_TO_TERMS_LINK","HTTP_ERROR",_.propertyOf(e)("status")),S(e)})}function A(){x.debug("showPrivacyPolicyDialog"),l.startActionAsync("PRIVACY_POLICY_LINK"),c.getPrivacyPolicy().then(function(e){try{l.endActionAsync("PRIVACY_POLICY_LINK","SUCCESS"),u.show("nv-dialog-html",{style:"dialog-service-container-size",title:"l10n.privacyPolicy",html:e.data.gfcontent.body,closeButton:{action:u.cancel}})}catch(t){return x.error("parse failure showing terms and conditions"),l.endActionAsync("PRIVACY_POLICY_LINK","PARSE_ERROR"),r.reject(e)}}).catch(function(e){x.error("http failure showing privacy policy"),l.endActionAsync("PRIVACY_POLICY_LINK","HTTP_ERROR",_.propertyOf(e)("status")),S(e)})}function T(){var e="SUBMIT";return C.nvType===p.SOCIAL&&(C.regModel.provider===p.GOOGLE?e="REGISTER_GOOGLE":C.regModel.provider===p.FACEBOOK?e="REGISTER_FACEBOOK":C.regModel.provider===p.QQ?e="REGISTER_QQ":C.regModel.provider===p.WECHAT&&(e="REGISTER_WECHAT")),e}function I(e){var t=e.subscribe;return e=_.omit(e,"subscribe"),x.info("attemptRegistration"),i.register(e).then(function(n){var r=n.data.loginToken;l.updateFlow("LAUNCH_STATE_REGISTRATION"),x.debug("attemptRegistration Success, now login"),i.loginWithRegistrationToken(r,e.email).then(function(e){l.endActionAsync(T(),"SUCCESS"),s.setEventsCommonData({userId:e.user.userId},!0),x.debug("attemptRegistration login success, now remember newsletter preference ",t),o.syncUser(a.JARVIS_COMMON_STORE,e.user.userId).then(E(e.user.userId,t)).finally(function(){l.changeSetting("APPLICATION_SETTING_SUBSCRIBE_NEWSLETTER",t),C.oobeAuthCtrl.isDomainLocked(e)?C.oobeAuthCtrl.handleLoggedIn(e):C.nvType!==p.SOCIAL||C.regModel.provider!==p.QQ&&C.regModel.provider!==p.WECHAT?C.oobeAuthCtrl.showEmailVerification(e,"created"):(m.setMboxThirdPartyId(e.user&&e.user.userId),x.debug("onEmailVerificationEvaluation"),C.regModel.provider===p.WECHAT?C.oobeAuthCtrl.showQrCodeForScan(e,"skip"):(x.debug("Email verification skipped"),C.oobeAuthCtrl.handleLoggedIn(e)))})}).catch(function(e){x.error("Login attempt using registration token failed. Falling back to login page."),l.endActionAsync(T(),"LOGIN_FAILED",_.propertyOf(e)("status")),C.oobeAuthCtrl.showLogin()})})}var C=this,x=e.getInstance("main.oobe/OobeAuthNvRegisterController");C.validationObject={displayName:{},email:{},password:{}},C.today=new Date,C.displayNameErrorWrapper={},C.emailDisabled=!1,C.locale="en",t("l10n.dateOfBirth").then(function(e){C.dateOfBirthTitle=e}),i.getFormValidationObject().then(function(e){angular.merge(C.validationObject,e.RegistrationData)}),C.onSubmit=function(){if(void 0!==C.regForm.$valid){var e;if(l.startActionAsync(T()),C.regForm.displayName.$setTouched(),C.regForm.email.$setTouched(),C.regForm.password&&C.regForm.password.$setTouched(),C.regForm.$invalid){x.debug("Submit invalid form"),l.endActionAsync(T(),"INVALID_FORM");var t=_.reduce(C.regForm.$error,function(e,t){return e.concat(t)})||[];C.regForm.agreeToTerms.$invalid&&1===t.length?C.message="l10n.mustAgreeToTerms":C.message="l10n.fillOutAllFields"}else C.waiting=!0,e=_.pick(C.regModel,"email","password","birthdate","displayName","thirdPartyId","subscribe"),e.birthdate=C.regModel.birthdate,e.thirdPartyId&&(e.password=null),x.debug("Submit valid form, attempt registration"),I(e).catch(function(e){var t=_.propertyOf(e)("status");l.endActionAsync(T(),"HTTP_ERROR",_.propertyOf(e)("status")),C.waiting=!1,y(e)?(x.debug("Register: Failure due to birthdate"),C.regView="coppa"):409===t?e.data&&e.data.details&&e.data.details[0]&&e.data.details[0].field&&e.data.details[0].field===v.NAME&&e.data.details[0].reason&&e.data.details[0].reason===h.DUPLICATE?(x.debug("Register: Failure due to display name not available"),C.regForm.displayName.$setValidity("notAvailable",!1),C.regForm.displayName.$setTouched()):(x.debug("Register: Failure due to email not available"),C.regForm.email.$setValidity("notAvailable",!1),C.regForm.email.$setTouched()):(x.debug("Register: generic server failure with status:",t,e),C.message="l10n.serverErrorRegister")})}else{C.waiting=!0;var r=n.$watch("oobeAuthNvRegisterCtrl.regForm.$valid",function(e,t){void 0!==e&&(r(),C.waiting=!1,C.onSubmit())})}},C.emailChanged=function(){C.regForm.email.$setValidity("notAvailable",!0)},C.regModel={email:"",password:"",birthdate:null,displayName:"",subscribe:!1},C.onClickBack=function(){l.recordAction("OOBE_BACK"),C.nvType===p.SOCIAL?C.oobeAuthCtrl.showAccountChooser():C.oobeAuthCtrl.showLogin()},C.onClickDone=function(){l.recordAction("OOBE_DONE"),C.oobeAuthCtrl.showAccountChooser()},C.onClickAgreeToTerms=function(e){x.debug("click agree to terms"),e.stopPropagation(),w()},C.onClickPrivacyPolicy=function(e){A()},C.messageBanner=function(){return C.onlineState.online?C.message:"l10n.mustBeOnline"},n.$watch("[oobeAuthNvRegisterCtrl.regForm.displayName.$error,oobeAuthNvRegisterCtrl.regForm.displayName.$touched,oobeAuthNvRegisterCtrl.regForm.displayName.$pending]",function(){C.regForm&&!C.regForm.displayName.$pending&&(C.displayNameErrorWrapper=angular.copy(C.regForm.displayName.$error),C.regForm.displayName.$touched&&C.regForm.displayName.$invalid||(C.displayNameErrorWrapper={valid:!0}))},!0),b()}]);t.oobeAuthNvRegisterController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobeAuthNvRegister=void 0;var i=n(9),o=n(840),a=r(o);n(520),n(286),n(288),n(295),n(341),n(168),n(345),n(289);var l=i.ngOobeModule.directive("nvOobeAuthNvRegister",[function(){return{restrict:"E",scope:{nvType:"@",nvPrefilled:"="},bindToController:!0,template:a.default,controller:"OobeAuthNvRegisterController",controllerAs:"oobeAuthNvRegisterCtrl",require:"^^nvOobeAuth",link:function(e,t,n,r){e.oobeAuthNvRegisterCtrl.oobeAuthCtrl=r}}}]);t.nvOobeAuthNvRegister=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeAuthQrCodeController=void 0;var r=n(9),i=r.ngOobeModule.controller("OobeAuthQrCodeController",["$log",function(e){var t=this,n=e.getInstance("main.oobe/OobeAuthQrCodeController");t.onContinue=function(){n.debug("onContinue",t.nvSkipEmailVerification,t.nvSessionObject),"skip"===t.nvEmailVerification?(n.debug("Email verificaiton skipped"),t.oobeAuthCtrl.handleLoggedIn(t.nvSessionObject)):(n.debug("Email verificaiont is required"),t.oobeAuthCtrl.showEmailVerification(t.nvSessionObject,"registered"));
}}]);t.oobeAuthQrCodeController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobeAuthQrCode=void 0;var i=n(9),o=n(841),a=r(o);n(522);var l=i.ngOobeModule.directive("nvOobeAuthQrCode",[function(){return{restrict:"E",scope:{nvSessionObject:"=",nvEmailVerification:"@"},bindToController:!0,template:a.default,controller:"OobeAuthQrCodeController",controllerAs:"oobeAuthQrCodeCtrl",require:"^^nvOobeAuth",link:function(e,t,n,r){e.oobeAuthQrCodeCtrl.oobeAuthCtrl=r}}}]);t.nvOobeAuthQrCode=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeAuthSyncController=void 0;var r=n(9);n(165),n(13),n(11),n(55);var i=r.ngOobeModule.controller("OobeAuthSyncController",["$log","jarvisService","dbCacheService","oobeTelemetryService","cevoToggleService","DEFAULT_AVATAR",function(e,t,n,r,i,o){var a=this;e.getInstance("main.oobe/OobeAuthSyncController");a.$onInit=function(){var e=t.getLoggedInUser();a.defaultAvatarUrl=o.URL,r.updateScreen("SCREEN_OOBE_LOADING_DATA"),a.displayName=e.core.displayName,i.getAvatarStore(e.userId).then(function(t){a.avatar=n.getCachedUserItem(e.userId,t.storeName,t.key)}),r.startActionAsync("SYNC")}}]);t.oobeAuthSyncController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobeAuthSync=void 0;var i=n(9),o=n(842),a=r(o);n(524);var l=i.ngOobeModule.component("nvOobeAuthSync",{template:a.default,controller:"OobeAuthSyncController",controllerAs:"oobeAuthSyncCtrl"});t.nvOobeAuthSync=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeAuthVerificationController=void 0;var r=n(9);n(13),n(17);var i=r.ngOobeModule.controller("OobeAuthVerificationController",["$log","$q","jarvisService","oobeTelemetryService","$element",function(e,t,n,r,i){function o(e){return l.info("attemptRecheckVerification"),n.getUserProfileWithSessionObject(e).then(function(n){return e.user=n.data,e.user.core.primaryEmailVerified?(l.debug("attemptRecheckVerification - now verified"),r.endActionAsync("CONTINUE","SUCCESS"),a.oobeAuthCtrl.handleLoggedIn(e),void 0):(l.debug("attemptRecheckVerification - still unverified"),r.endActionAsync("CONTINUE","EMAIL_NOT_VERIFIED"),t.reject(n))})}var a=this,l=e.getInstance("main.oobe/OobeAuthVerificationController");a.$onInit=function(){r.updateScreen("SCREEN_OOBE_EMAIL_VERIFICATION"),"created"===a.nvType?a.title="l10n.accountCreated":a.title="l10n.emailVerificationPending","resent"===a.nvType?a.message="l10n.verificationEmailResent":"error"===a.nvType?a.message="l10n.unableToSendEmail":"emailUpdated"===a.nvType&&(a.message="l10n.emailAddressUpdated"),a.translateValues={email:a.nvSessionObject.user.core.primaryEmail}},a.onRecheck=function(){l.debug("re-check verification pressed"),r.startActionAsync("CONTINUE"),a.waiting=!0,o(a.nvSessionObject).catch(function(e){a.waiting=!1,200===e.status?(l.debug("Recheck: endpoint request was successful, but email still not verified"),a.message="l10n.notBeenVerified"):401===e.status?(l.debug("Recheck: session is no longer valid"),a.oobeAuthCtrl.nvOobeParams=a.oobeAuthCtrl.nvOobeParams||{},a.oobeAuthCtrl.nvOobeParams.sessionExpired=!0,a.oobeAuthCtrl.selectView(),r.endActionAsync("CONTINUE","HTTP_ERROR",e.status)):(l.debug("Recheck: generic server error. status:",e.status),a.message="l10n.unableToConnect",r.endActionAsync("CONTINUE","HTTP_ERROR",e.status))})},a.onResend=function(){r.startActionAsync("RESEND"),a.waiting=!0,a.oobeAuthCtrl.attemptResendVerification(a.nvSessionObject.user.core.primaryEmail).then(function(e){l.debug("Resend: successfully sent email"),r.endActionAsync("RESEND","SUCCESS"),a.waiting=!1,a.message="l10n.verificationEmailResent"}).catch(function(e){l.debug("Resend: failed to send email."),r.endActionAsync("RESEND","HTTP_ERROR",e.status),a.waiting=!1,a.message="l10n.unableToSendEmail"})},a.isOverflowed=function(e){var t=angular.element(i[0].querySelector("#"+e));return!(!t||!t[0])&&t[0].scrollWidth>t[0].offsetWidth},a.onChangeUser=function(){l.debug("change user pressed"),r.recordAction("OOBE_CHANGE_USER_PROGRESS"),a.oobeAuthCtrl.showAccountChooser()},a.onEditEmail=function(){l.debug("edit email pressed"),r.recordAction("OOBE_EDIT_EMAIL"),a.oobeAuthCtrl.showEditEmail(a.nvSessionObject)}}]);t.oobeAuthVerificationController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobeAuthVerification=void 0;var i=n(9),o=n(843),a=r(o);n(526);var l=i.ngOobeModule.component("nvOobeAuthVerification",{bindings:{nvSessionObject:"<",nvType:"@"},template:a.default,controller:"OobeAuthVerificationController",controllerAs:"oobeAuthVerificationCtrl",require:{oobeAuthCtrl:"^^nvOobeAuth"}});t.nvOobeAuthVerification=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobeAuth=void 0;var i=n(9),o=n(844),a=r(o);n(513),n(512),n(519),n(521),n(525),n(517),n(527),n(515),n(523);var l=i.ngOobeModule.component("nvOobeAuth",{bindings:{nvActiveAuthView:"@",nvOobeParams:"<"},template:a.default,controller:"OobeAuthController",controllerAs:"oobeAuthCtrl",require:{oobeCtrl:"^^nvOobe"}});t.nvOobeAuth=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobeBlocked=void 0;var i=n(9),o=n(845),a=r(o),l=i.ngOobeModule.component("nvOobeBlocked",{template:a.default,bindings:{additionalInfoLink:"@"},controller:function(){var e=this;e.additionalInfoLink="http://www.nvidia.com/object/support.html"},controllerAs:"oobeBlockedCtrl"});t.nvOobeBlocked=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobeDialogLeftSide=void 0;var i=n(9),o=n(846),a=r(o),l=i.ngOobeModule.component("nvOobeDialogLeftSide",{template:a.default});t.nvOobeDialogLeftSide=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeController=void 0;var r=n(9);n(189),n(29);var i=r.ngOobeModule.controller("OobeController",["$log","oobeDialogService","oobeGamesService","gfeService","OOBE_STATE","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","eventAggregator","OOBE_EVENTS","$document",function(e,t,n,r,i,o,a,l,s,c){function u(e){d.nvActiveView=e}var d=this,f=e.getInstance("main.oobe/OobeController"),m=void 0;d.$onInit=function(){d.nvOobeParams.user?d.nvOobeParams.initialState===i.COMPLETED_LOGIN?d.showAuth():(o.push(a.FRONTEND_PARSER_ERROR_OOBE_EXIT_SCREEN_EMPTY,{errorMessage:"Current initialState is "+d.nvOobeParams.initialState}),f.error("Unknown logged in OOBE state",d.nvOobeParams.initialState)):d.showAuth()},d.showAuth=function(){u("auth")},d.onLoggedIn=function(e){f.info("onLoggedIn"),r.login(e),t.getState()!==i.COMPLETED_ALL?(f.info("handleloggedin - show welcome"),u("ulWelcome")):(f.info("handleloggedin - dismiss"),n.initializeGames(e),t.notifyNodeOOBEFinished(),t.close("SUCCESS"))},d.onShowNoDriver=function(){u("noDriver")},d.onJarvisOAuthLogin=function(){return"auth"===d.nvActiveView&&"choose"===m},l.on(s.AUTH_VIEW_CHANGED,function(e){m=e}),c.ready(function(){angular.element(c[0].querySelectorAll(".md-panel-outer-wrapper.ng-scope")).attr("aria-hidden",!0)})}]);t.oobeController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobe=void 0;var i=n(9),o=n(847),a=r(o);n(531),n(537),n(528),n(534);var l=i.ngOobeModule.component("nvOobe",{bindings:{nvActiveView:"@",nvOobeParams:"<"},template:a.default,controller:"OobeController",controllerAs:"oobeCtrl"});t.nvOobe=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeNoDriverController=void 0;var r=n(9),i=r.ngOobeModule.controller("OobeNoDriverController",["$log","oobeDialogService","oobeTelemetryService",function(e,t,n){var r=this,i=e.getInstance("main.oobe/OobeNoDriverController");r.$onInit=function(){n.updateScreen("SCREEN_OOBE_NO_DRIVER")},r.onClickContinue=function(){i.debug("redirect to driver page"),n.recordAction("OOBE_CONTINUE"),t.waitForDriverInstall()}}]);t.oobeNoDriverController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobeNoDriver=void 0;var i=n(9),o=n(848),a=r(o);n(533);var l=i.ngOobeModule.component("nvOobeNoDriver",{template:a.default,controller:"OobeNoDriverController",controllerAs:"oobeNoDriverCtrl"});t.nvOobeNoDriver=l},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.oobeOptionsService=void 0;var i=n(9);n(306),n(11);var o=n(3),a=(r(o),i.ngOobeModule.factory("oobeOptionsService",["$log","dbService","DB_NAMES","$q","gfeTargetService","ACTIVE_EXPERIMENTS",function(e,t,n,r,i,o){var a={},l=(t.getGlobalStore(n.GLOBAL_STORE),e.getInstance("main.oobe/oobeOptionsServices"));return a.isNewsLetterChecked=function(){return i.getVariant({activityName:o.NEWSLETTER_DEFAULT_ENABLED}).then(function(e){return e}).catch(function(e){return l.error("Target response failed",e),r.reject(e)})},a}]));t.oobeOptionsService=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeUlWelcomeController=void 0;var r=n(9);n(305),n(293);var i=r.ngOobeModule.controller("OobeUlWelcomeController",["$log","oobeTelemetryService","oobeFeatureService","oobeGamesService","OOBE_SCAN_STATE","eventAggregator","OOBE_EVENTS","oobeDialogService","OOBE_STATE","productTourService",function(e,t,n,r,i,o,a,l,s,c){function u(){o.on(a.SCAN_FINISHED,f),o.on(a.GAMELIST_UPDATED,m)}function d(){o.off(a.SCAN_FINISHED,f),o.off(a.GAMELIST_UPDATED,m)}function f(e){g.info("oobe scan games finished"),p.gameScanFinished=!0}function m(e){g.info("oobe game list updated ",e),p.translateValues.numGamesScanned=e}var p=this,g=e.getInstance("main.oobe/OobeUlWelcomeController");p.onAutoOptimizeChanged=function(){r.setAutoOptimizeGames(p.autoOptimize)},p.onDismissDialog=function(e){g.info("oobe done"),l.setState(s.COMPLETED_ALL),d(),e?(g.info("oobe Tour Dialog initiated"),t.recordAction("OOBE_SHOW_PRODUCT_TOUR"),c.startOobeTour(!1)):(g.info("oobe Tour Dialog canceled"),t.recordAction("OOBE_SKIP_PRODUCT_TOUR")),n.closeOobeFeaturesDialog()},p.$onInit=function(){t.updateScreen("SCREEN_OOBE_UL_WELCOME"),p.autoOptimize=!0,n.activateDefaultFeatureSettings(p.autoOptimize),p.translateValues={numGamesScanned:r.getGamesCount()},r.getScanState()===i.SCANNING?(g.info("oobe scan state scanning"),p.gameScanFinished=!1,u()):(g.info("oobe scan state done"),p.gameScanFinished=!0)}}]);t.oobeUlWelcomeController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobeUlWelcome=void 0;var i=n(9),o=n(849),a=r(o);n(536),n(530);var l=i.ngOobeModule.component("nvOobeUlWelcome",{template:a.default,controller:"OobeUlWelcomeController",controllerAs:"oobeUlWelcomeCtrl"});t.nvOobeUlWelcome=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.editAvatarController=void 0;var r=n(4);n(13),n(22),n(165),n(55),n(162);var i=r.ngPreferencesModule.controller("EditAvatarController",["$log","jarvisService","dialogService","cmsService","toastService","$filter","dbCacheService","cevoToggleService","DEFAULT_AVATAR","CROPPIE_CONSTANTS","$scope",function(e,t,n,r,i,o,a,l,s,c,u){function d(){i.showError({textContent:o("translate")("l10n.somethingWentWrong")})}function f(){y?(g.hitApply=!0,g.output.then(function(e){g.avatarObject.url=e,angular.merge(p,g.avatarObject),p.persist_()})):(angular.merge(p,g.avatarObject),p.persist_()),h.debug("successfully updated avatar image"),n.cancel()}function m(){l.getUserProfileEnabled().then(function(e){g.userProfileEnabled=e,g.userProfileEnabled&&(E.subTitle=o("translate")("l10n.minimumRequiredSize",w)),angular.merge(g.nvDialogModel,E)}),l.getAvatarStore(v.userId).then(function(e){p=a.getCachedUserItem(v.userId,e.storeName,e.key),g.avatarObject=_.omit(p,function(e,t){return"_"===t.substr(t.length-1)})}),r.getAvatarMetaData("https://static.nvidiagrid.net/avatars/avatars.js").then(function(e){g.avatarList=e.data}).catch(function(e){h.debug("failed to query avatar list "+e),d()})}var p,g=this,v=t.getLoggedInUser(),h=e.getInstance("main.preferences/EditAvatarController"),b=!1,y=!1,E={title:"l10n.updateAvatar",button1:{text:"l10n.done",action:f,disabled:!0},button2:{text:"l10n.cancel",action:n.cancel}},S=({"Image Files":c.SUPPORTED_FILE_TYPES},{w:480,h:200}),w={w:200,h:200};g.avatarList=null,g.defaultAvatarUrl=s.URL,g.hitApply=!1,g.userProfileEnabled=!1,g.croppieBoundary=S,g.croppieViewport=w,g.outputFormat={minSize:w},g.selectAvatar=function(e){e&&(g.nvDialogModel&&g.nvDialogModel.button1&&p&&(g.nvDialogModel.button1.disabled=p.url===e.url),g.avatarObject.url=e.url,y=!1,b=!1)},g.onUpdate=function(e){e.error?(b=!0,g.errorMsg=o("translate")("l10n.fileSelectionError",g.outputFormat.minSize),g.nvDialogModel.button1.disabled=!0,h.error("onUpdate got error",e.error)):e.success&&(b=!1,g.nvDialogModel.button1.disabled=!1)},g.showCroppie=function(){return y&&!b&&g.userProfileEnabled},g.showPreview=function(){return!y&&!b},g.showError=function(){return b},g.onFileSelect=function(e){g.sourceImage=e,y=!0},m(),u.$on("$destroy",function(){h.info("Destroying edit avatar")})}]);t.editAvatarController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvEditEmailResultDialog=void 0;var i=n(9),o=n(851),a=r(o),l=i.ngOobeModule.directive("nvEditEmailResultDialog",[function(){return{restrict:"A",scope:{},bindToController:{nvDialogModel:"="},template:a.default,controller:[function(){}],controllerAs:"emailUpdatedCtrl"}}]);t.nvEditEmailResultDialog=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.editEmailService=void 0;var r=n(4);n(22),n(13),n(539),n(284),n(285);var i=r.ngPreferencesModule.service("editEmailService",["$log","dialogService","jarvisService","$q",function(e,t,n,r){var i=this,o=e.getInstance("main.preferences/preferencesService"),a=n.getLoggedInUser(),l="";i.updateEmail=function(e){l=e,i.attemptResendVerification(e).then(function(e){i.showEmailVerificationDialog(t.model.sessionObject,"l10n.verificationEmailResent")}).catch(function(e){i.showEmailVerificationDialog(t.model.sessionObject,"l10n.unableToSendEmail")})},i.resendVerification=function(){o.info("change email: resendVerification"),o.debug("re-send verification email pressed"),t.model.waiting=!0,i.attemptResendVerification(t.model.translateValues.email).then(function(e){o.debug("Resend: successfully sent email"),t.model.waiting=!1,t.model.error="l10n.verificationEmailResent"}).catch(function(e){o.debug("Resend: failed to send email."),t.model.waiting=!1,t.model.error="l10n.unableToSendEmail"})},i.attemptResendVerification=function(e){return o.info("attemptResendVerification."),r.resolve()},i.changeEmailWithTwoFactorAuthentication=function(){t.model.waiting=!0,i.attemptChangeEmailWithTwoFactorAuthentication(t.model.sessionObject,t.model.translateValues.email).then(function(e){o.debug("changeEmailWithTwoFactorAuthentication: successfully updated email"),t.model.waiting=!1,i.showEmailUpdatedDialog(t.model.translateValues.email)}).catch(function(e){o.debug("changeEmailWithTwoFactorAuthentication: failed updating email."),t.model.waiting=!1})},i.attemptChangeEmailWithTwoFactorAuthentication=function(e,t){return o.info("attemptChangeEmailWithTwoFactorAuthentication."),r.resolve()},i.showEmailUpdatedDialog=function(e){o.info("email updated successfully."),t.show("nv-edit-email-result-dialog",{title:"l10n.emailUpdatedSuccessfully",newEmail:e,button1:{text:"l10n.continue",action:t.cancel}})},i.showEmailVerificationDialog=function(e,n,r){o.debug("change email: show email verification dialog");var s={style:"honeycomb-square",title:n||"l10n.emailVerificationPending",error:r,translateValues:{email:l},sessionObject:e,editMailAddress:function(){o.debug("edit email pressed on email verification dialog"),e.user=a,t.show("nv-dialog-edit-email",{title:"l10n.changeEmailAddress",sessionObject:e,is2FactorAuthentication:!0,actionVerifyEmail:i.updateEmail,actionCancelUpdateEmail:t.cancel()})},button1:{text:"l10n.continue",action:i.changeEmailWithTwoFactorAuthentication},button2:{text:"l10n.cancel",action:t.cancel},button3:{text:"l10n.resendVerification",action:i.resendVerification}};t.show("nv-dialog-email-verification",s)}}]);t.editEmailService=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.editPasswordController=void 0;var r=n(4);n(22),n(13);var i=r.ngPreferencesModule.controller("EditPasswordController",["$log","dialogService","jarvisService","$filter",function(e,t,n,r){function i(){if(a.debug("attempt to send change password request"),o.passwordForm.currentPassword.$setTouched(),o.passwordForm.changedPassword.$setTouched(),o.passwordForm.confirmedPassword.$setTouched(),o.passwordForm.$invalid)return a.debug("password fields are not met validation, cannot make change request"),void(o.nvDialogModel.error="l10n.fillOutAllFields");o.nvDialogModel.error="",o.nvDialogModel.waiting=!0;var e={token:"",currentPassword:o.nvDialogModel.passwordModel.currentPassword,newPassword:o.nvDialogModel.passwordModel.changedPassword};n.changePassword(e).then(function(e){a.debug("change password succeed"),t.cancel()}).catch(function(e){a.error("change password failed"),o.nvDialogModel.waiting=!1,400===e.status?(a.debug("failure due to bad request"),o.nvDialogModel.error="l10n.unableToConnectToNvidia"):401===e.status?(a.debug("failure due to authrization failed"),o.nvDialogModel.error="l10n.incorrectPassword",o.passwordForm.changedPassword.$setValidity("invalidPassword",!1),o.passwordForm.changedPassword.$setTouched()):(a.debug("generic failure with status",e.status),o.nvDialogModel.error="l10n.unableToConnectToNvidia")})}var o=this,a=e.getInstance("main.preferences/EditPasswordController"),l={title:r("translate")("l10n.changePassword"),button1:{text:"l10n.done",action:i},button2:{text:"l10n.cancel",action:t.cancel},passwordModel:{currentPassword:"",changedPassword:"",confirmedPassword:""}};o.validationObject={password:{}},n.getFormValidationObject().then(function(e){angular.merge(o.validationObject,e.RegistrationData)}),angular.merge(o.nvDialogModel,l)}]);t.editPasswordController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvEditPassword=void 0;var i=n(4);n(286),n(287),n(168);var o=n(852),a=r(o);n(541);var l=i.ngPreferencesModule.directive("nvEditPassword",[function(){return{restrict:"A",scope:{},bindToController:{nvDialogModel:"="},template:a.default,controller:"EditPasswordController",controllerAs:"editPasswordCtrl"}}]);t.nvEditPassword=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.featureDescriptionController=void 0;var r=n(4),i=r.ngPreferencesModule.controller("FeatureDescriptionController",["$window","$log","FEATURES_NAME","localeService","COMMON_DYNAMIC_REDIRECT","FEATURE_CRITERIA","preferencesFeatureService","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_UI_PROGRESS_NAMES","TELEMETRY_SCREENS","TELEMETRY_ACTIONS","eventAggregator","COMMON_EVENTS",function(e,t,n,r,i,o,a,l,s,c,u,d,f,m){function p(){var e;switch(h.featureName){case n.GAME_OPS:case n.SHARE:case n.ANSEL:case n.FREESTYLE:e=i.SYSTEM_REQS;break;case n.GAME_STREAM:e=i.GAME_STREAM_REQUIREMENTS;break;case n.VIRTUAL_REALITY:e=i.VR_REQUIREMENTS;break;case n.BATTERY_BOOST:e=null;break;case n.QUIET_MODE:e=null;break;case n.QUIET_MODE2:e=null}return e?{url:i.BASE_URL+r.getCurrentLocaleWithUnderscore()+"&page="+e,text:"l10n.viewSystemRequirements"}:null}function g(){var e;switch(h.featureName){case n.ANSEL:case n.FREESTYLE:e=h.featureName;break;case n.GAME_STREAM:case n.VIRTUAL_REALITY:case n.BATTERY_BOOST:case n.QUIET_MODE:case n.GAME_OPS:case n.SHARE:e=null}return e?{url:i.BASE_URL+r.getCurrentLocaleWithUnderscore()+"&page="+i.SUPPORTED_GAMES+"#"+e.toLowerCase(),text:"l10n.viewSupportedGames"}:null}function v(){h.requirements=h.nvFeatureRequirements,h.featureName=h.nvFeatureName,h.systemRequirement=p(),h.supportedGames=g(),h.updateDriver=!1;try{h.featureState=JSON.parse(h.nvOverallState)}catch(e){b.error("Could not parse overallState for feature",h.featureName),h.featureState=!1}h.featureState||a.isDriverUpdateRequiredForSupport(h.featureName).then(function(e){e&&(h.updateDriver=!0)})}var h=this,b=t.getInstance("main.preferences/FeatureDescriptionController");h.openLink=function(){b.info("SystemRequirements redirects to url:: ",h.systemRequirement.url),e.open(h.systemRequirement.url)},h.openSupportedGamesLink=function(){b.info("Supported Games redirects to url:: ",h.supportedGames.url),e.open(h.supportedGames.url)},h.showDriverDownloadButton=function(e){return(e.name===o.DRIVER||e.name===o.DRIVER_ALT)&&h.updateDriver},h.onDownloadClicked=function(){l.push(s.DOWNLOAD_LATEST_DRIVER_UPDATE,{name:c.LATEST_DRIVER_UPDATE,currentScreen:u.SCREEN_PREFERENCES_GENERAL,action:d.DOWNLOAD}),f.trigger(m.UPDATE_DRIVER_FROM_PREFERENCES)},v()}]);t.featureDescriptionController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvFeatureDescription=void 0;var i=n(4);n(35);var o=n(853),a=r(o);n(543);var l=i.ngPreferencesModule.component("nvFeatureDescription",{bindings:{nvFeatureName:"@",nvFeatureRequirements:"=",nvOverallState:"@"},template:a.default,controller:"FeatureDescriptionController",controllerAs:"featureDescription"});t.nvFeatureDescription=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.featureHeaderController=void 0;var i=n(4),o=n(726),a=r(o),l=n(725),s=r(l),c=i.ngPreferencesModule.controller("FeatureHeaderController",["$scope","FEATURES_NAME",function(e,t){function n(){switch(i.nvFeatureTile){case t.GAME_OPS:return"icon-guage";case t.GAME_STREAM:return"icon-gamestream";case t.ACE_MODES:case t.BATTERY_BOOST:case t.BATTERY_BOOST2:return"icon-batteryboost";case t.QUIET_MODE:return"icon-quiet-mode";case t.SHARE:return"icon-share";case t.VIRTUAL_REALITY:return"icon-VR";case t.ANSEL:return"icon-share_camera";case t.FREESTYLE:return"icon-freestyle";case t.QUIET_MODE2:return r()}}function r(){return"true"==String(i.nvOverallState)?a.default:"false"==String(i.nvOverallState)?s.default:void 0}var i=this;i.featureName=i.nvFeatureName,i.featureDescription=i.nvFeatureDescription,e.quietMode2=t.QUIET_MODE2,i.featureThumbnail=n(),e.$watch("nvFeatureDescription",function(e){i.featureDescription=i.nvFeatureDescription})}]);t.featureHeaderController=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvFeatureHeader=void 0;var i=n(4);n(35),n(15);var o=n(854),a=r(o);n(545);var l=i.ngPreferencesModule.component("nvFeatureHeader",{bindings:{nvFeatureTile:"@",nvFeatureName:"@",nvFeatureDescription:"@",nvOverallState:"@"},template:a.default,controller:"FeatureHeaderController",controllerAs:"featureHeader"});t.nvFeatureHeader=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.licenseAgreementController=void 0;var r=n(4);n(22),n(25);var i=r.ngPreferencesModule.controller("LicenseAgreementController",["$log","$q","preferencesService",function(e,t,n){function r(){n.getLicenseAgreement().then(function(e){i.licenseAgreement=e.data,i.nvDialogModel.title="l10n.licenseTitle"}).catch(function(e){return o.error("error getting license",e),t.reject()})}var i=this;i.licenseAgreement="";var o=e.getInstance("main.preferences/LicenseAgreementController");r(),i.nvDialogModel.titleStyle={"font-size":"1.15em"}}]);t.licenseAgreementController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvLicenseAgreement=void 0;var i=n(4),o=n(855),a=r(o);n(547);var l=i.ngPreferencesModule.directive("nvLicenseAgreement",[function(){return{restrict:"A",scope:{},bindToController:{nvDialogModel:"="},template:a.default,controller:"LicenseAgreementController",controllerAs:"licenseAgreementCtrl"}}]);t.nvLicenseAgreement=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openSourceLicensesController=void 0;var r=n(4);n(22),n(25);var i=r.ngPreferencesModule.controller("OpenSourceLicensesController",["$log","$q","preferencesService",function(e,t,n){function r(){n.getOpenSourceLicenses().then(function(e){i.OpenSourceLicenses=e.data,i.nvDialogModel.title="l10n.OSSLicenseTitle"}).catch(function(e){return o.error("error getting OSS license",e),t.reject()})}var i=this;i.OpenSourceLicenses="";var o=e.getInstance("main.preferences/OpenSourceLicensesController");r(),i.nvDialogModel.titleStyle={"font-size":"1.15em"}}]);t.openSourceLicensesController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvOpenSourceLicenses=void 0;var i=n(4),o=n(856),a=r(o);n(549);var l=i.ngPreferencesModule.directive("nvOpenSourceLicenses",[function(){return{restrict:"A",scope:{},bindToController:{nvDialogModel:"="},template:a.default,controller:"OpenSourceLicensesController",controllerAs:"openSourceLicensesCtrl"}}]);t.nvOpenSourceLicenses=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesAccountsAvatar=void 0;var i=n(4),o=n(857),a=r(o);n(142);var l=i.ngPreferencesModule.directive("nvPreferencesAccountsAvatar",function(){return{restrict:"E",template:a.default,require:"^^nvPreferencesAccounts",link:function(e,t,n,r){e.preferencesAccounts=r}}});t.nvPreferencesAccountsAvatar=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesAccountsController=void 0;var r=n(4);n(13),n(22),n(540),n(11),n(165),n(285),n(542),n(284),n(307),n(296),n(55);var i=r.ngPreferencesModule.controller("PreferencesAccountsController",["$log","jarvisService","dialogService","editEmailService","dbCacheService","DB_NAMES","$window","localeService","cevoToggleService","COMMON_DYNAMIC_REDIRECT","DEFAULT_AVATAR","weChatService","WECHAT_CONSTANTS","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_SCREENS",function(e,t,n,r,i,o,a,l,s,c,u,d,f,m,p,g){function v(){w.debug("refreshing session store status"),t.getSessionStoreStatus().then(function(e){S.isUserRememberedOnMachine=e,w.debug("session store status set to "+S.isUserRememberedOnMachine)}).catch(function(){S.isUserRememberedOnMachine=!1,w.debug("session store status set to disabled")})}function h(){s.getAvatarStore(_.userId).then(function(e){S.avatar=i.getCachedUserItem(_.userId,e.storeName,e.key)})}function b(){S.defaultAvatarUrl=u.URL,v(),h(),S.user=_,S.editUserObject=angular.merge({},S.user.core),E=i.getCachedUserItem(_.userId,o.JARVIS_COMMON_STORE,o.SUBSCRIPTIONS),S.subscribed=t.getSubscriptionData(E),S.devFeatures=i.getCachedGlobalItem(o.DEV_STORE,o.DEV_FEATURES),y()}function y(){d.isFeatureSupported().then(function(e){S.isWeChatSupported=e}).catch(function(){S.isWeChatSupported=!1})}var E,S=this,_=t.getLoggedInUser();S.showNewsletter=!1;var w=e.getInstance("main.preferences/preferencesAccounts");S.toggleNewsletter=function(){E.persist_();var e=t.getSubscriptionData(E);m.setScreen(g.SCREEN_PREFERENCES_ACCOUNT);var n=e&&e.state;m.changeSetting(p.APPLICATION_SETTING_SUBSCRIBE_NEWSLETTER,n)},S.setUserRememberedOnMachine=function(){w.debug("user selects to store remember currently logged in session :"+S.isUserRememberedOnMachine),t.setSessionStoreStatus(S.isUserRememberedOnMachine).then(v,v)},S.isUserRememberedOnMachine=void 0,S.isEditingPersonalInfo=!1,S.removeLinkedAccounts=function(e){},S.linkAccounts=function(){},S.removeAllDevices=function(){},S.tryUpdatePersonalInformation=function(e){var t=c.BASE_URL+l.getCurrentLocaleWithUnderscore()+"&page="+c.ACCOUNT_MANAGEMENT;w.info("Edit personal information redirects to url:: ",t),a.open(t)},S.tryUpdatePrivacyPreferences=function(e){var t=c.BASE_URL+l.getCurrentLocaleWithUnderscore()+"&page="+c.PRIVACY_PREFERENCES;w.info("Edit privacy preferences redirects to: ",t),a.open(t)},S.updateAvatar=n.show.bind(this,"nv-edit-avatar"),S.getRealName=function(){return S.user.core.displayName},S.getPhone=function(){return""},S.editEmailAddress=function(e){w.debug("verify authentication to update password pressed");var i=t.getSession();i.user=S.user,n.show("nv-dialog-edit-email",{title:"l10n.changeEmailAddress",sessionObject:i,is2FactorAuthentication:!0,actionVerifyEmail:r.updateEmail,actionCancelUpdateEmail:n.cancel})},S.isWeChatSupported=!1,S.wechatGroups=[f.NFAN],S.onShowQrCode=function(e){m.push(p.PREFERENCES_ACCOUNT_SHOW_QRCODE),d.showQrCode(e)},b()}]);t.preferencesAccountsController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesAccountsDevices=void 0;var i=n(4),o=n(858),a=r(o),l=i.ngPreferencesModule.directive("nvPreferencesAccountsDevices",function(){return{restrict:"E",template:a.default,require:"^^nvPreferencesAccounts",link:function(e,t,n,r){e.preferencesAccounts=r}}});t.nvPreferencesAccountsDevices=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesAccountsLinked=void 0;var i=n(4),o=n(859),a=r(o),l=i.ngPreferencesModule.directive("nvPreferencesAccountsLinked",function(){return{restrict:"E",template:a.default,require:"^^nvPreferencesAccounts",link:function(e,t,n,r){e.preferencesAccounts=r}}});t.nvPreferencesAccountsLinked=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesAccountsNewsletter=void 0;var i=n(4),o=n(860),a=r(o),l=i.ngPreferencesModule.directive("nvPreferencesAccountsNewsletter",function(){return{restrict:"E",template:a.default,require:"^^nvPreferencesAccounts",link:function(e,t,n,r){e.preferencesAccounts=r}}});t.nvPreferencesAccountsNewsletter=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesAccountsPersonalInfo=void 0;var i=n(4),o=n(861),a=r(o),l=i.ngPreferencesModule.directive("nvPreferencesAccountsPersonalInfo",function(){return{restrict:"E",template:a.default,require:"^^nvPreferencesAccounts",link:function(e,t,n,r){e.preferencesAccounts=r}}});t.nvPreferencesAccountsPersonalInfo=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesAccountsSecurity=void 0;var i=n(4),o=n(862),a=r(o),l=i.ngPreferencesModule.directive("nvPreferencesAccountsSecurity",function(){return{restrict:"E",template:a.default,require:"^^nvPreferencesAccounts",link:function(e,t,n,r){e.preferencesAccounts=r}}});t.nvPreferencesAccountsSecurity=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesAccounts=void 0;var i=n(4);n(295);var o=n(863),a=r(o);n(552),n(551),n(556),n(557),n(554),n(553),n(555);var l=i.ngPreferencesModule.component("nvPreferencesAccounts",{template:a.default,controller:"PreferencesAccountsController",controllerAs:"preferencesAccounts"});t.nvPreferencesAccounts=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesController=void 0;var r=n(4);n(25),n(19);
var i=r.ngPreferencesModule.controller("PreferencesController",["preferencesService","eventAggregator","PREFERENCES_EVENTS","$scope","toastService",function(e,t,n,r,i){function o(t){return e.isLedFeatureSupported().then(function(e){t.isEnabled=e})}function a(t){e.getGameStreamFeature().then(function(n){t.isEnabled=JSON.parse(n.overallState),e.updateGameStreamTelemetry(n)})}function l(){s.Preferences.forEach(function(e){"main.auth.preferences.general"===e.route||"main.auth.preferences.accounts"===e.route||"main.auth.preferences.games"===e.route?e.isEnabled=!0:"main.auth.preferences.shield"===e.route?c(e):"main.auth.preferences.led"===e.route?o(e):e.isEnabled=!1})}var s=this;s.Preferences=[{iconUrl:0,name:"l10n.general",route:"main.auth.preferences.general",isEnabled:!1},{iconUrl:0,name:"l10n.account",route:"main.auth.preferences.accounts",isEnabled:!1},{iconUrl:0,name:"l10n.games",route:"main.auth.preferences.games",isEnabled:!1},{iconUrl:0,name:"l10n.shield",route:"main.auth.preferences.shield",isEnabled:!1},{iconUrl:0,name:"l10n.friendsAndGroups",route:"main.auth.preferences.friendsAndGroups",isEnabled:!1},{iconUrl:0,name:"l10n.ledVisualizer",route:"main.auth.preferences.led",isEnabled:!1}],s.selected=s.Preferences[0];var c=function(t){e.gameStreamAddonLoaded?e.getGameStreamFeatureAvailibilty().then(function(){t.isEnabled=e.isGameStreamFeatureSupported}).catch(function(){a(t)}):a(t)},u=function(){var e=_.where(s.Preferences,{route:"main.auth.preferences.shield"});c(e)};l(),t.on(n.FEATURE_UPDATED_GS,u),r.$on("$destroy",function(){e.resetGameStreamFeatureAvailibilty(),t.off(n.FEATURE_UPDATED_GS,u),i.isOpen()&&i.cancel()})}]);t.preferencesController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferences=void 0;var i=(n(4),n(864)),o=r(i);n(559);var a=angular.module("main.preferences").component("nvPreferences",{template:o.default,controller:"PreferencesController",controllerAs:"preferencesController"});t.nvPreferences=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesFeatureReadinessController=void 0;var r=n(4);n(25);var i=r.ngPreferencesModule.controller("PreferencesFeatureReadinessController",["$scope","$log","$filter","preferencesService","PREFERENCES_EVENTS","eventAggregator","FEATURES_NAME","INSTALLER_EVENTS","quietModeService","QUIET_MODE_EVENTS","$q","BB2_SUPPORT_EVENTS","framerateLimiterService",function(e,t,n,r,i,o,a,l,s,c,u,d,f){function m(){return s.getQuietMode2SupportInfo().then(function(e){A.info("getquietmodesupport info called");var t={oldState:T,newState:T};if(e&&e.criteria){T=e.criteria.overallState,t.newState=T;var n=e.criteria.states,r=n.find(function(e,t,n){return"wm2"===e.name});r&&r.state?S.isQuietMode2Supported=!0:S.isQuietMode2Supported=!1}else A.error("getQuietModeSupporteState(): Something went wrong!");return t}).catch(function(e){return A.error("getQuietMode2SupportInfo() support error!"+e),u.reject()})}function p(){m().then(function(e){A.info("states",e),e.oldState!==e.newState&&r.getFeatures()})}function g(){f.getBB2SupportInfo().then(function(e){r.getFeatures()}).catch(function(e){A.error("getBB2SupportInfo failed with error: ",e)})}function v(){o.on(i.FEATURES_UPDATED,h),o.on(i.FEATURES_RELOAD,b),o.on(i.HWSYSTEMINFO_FAILED,y),o.on(i.AUTOBETA_SETTING_CHANGED,E),o.on(l.INSTALL_DONE,E),o.on(c.SUPPORT_UPDATE,p),o.on(d.CHANGED,g),m(),r.getFeatures()}function h(e){S.features=e,_.each(S.features,function(e){switch(e.featureTile===a.QUIET_MODE2&&S.isQuietMode2Supported?e.shallowStates=e.states.filter(function(e,t,n){return"wm2"!=e.name}):e.featureTile===a.BATTERY_BOOST2?e.shallowStates=e.states.filter(function(e,t,n){return"bb2"!=e.name}):e.shallowStates=e.states,e.visibility=!0,e.featureTile){case a.GAME_STREAM:e.newOverallState=angular.isDefined(e.overallState)&&JSON.parse(e.overallState)&&r.gameStreamAddonLoaded;break;case a.SHARE:e.newOverallState=angular.isDefined(e.overallState)&&JSON.parse(e.overallState)&&r.shareAddonLoaded;break;default:e.newOverallState=e.overallState}}),E().then(function(){S.loadingState=w.DONE})}function b(){S.loadingState=w.LOADING,S.features=[]}function y(){S.loadingState=w.FAILED}function E(){return r.isAnselFeatureSupportedOnSystem().then(function(e){var t=_.findIndex(S.features,{featureTile:a.ANSEL});t>-1&&(S.features[t].visibility=e.isVisible);var r=_.findIndex(S.features,{featureTile:a.SHARE});r>-1&&(S.features[r].message=e.isSupported?n("translate")("l10n.shareDialogDescriptionWithAnsel"):n("translate")("l10n.shareDialogDescription"))})}var S=this,w={LOADING:"LOADING",FAILED:"FAILED",DONE:"DONE"},A=t.getInstance("main.preferences/PreferencesFeatureReadinessController");S.features=[],S.loadingState=w.LOADING,S.isQuietMode2Supported=!1;var T=!1;v(),e.$on("$destroy",function(){o.off(i.FEATURES_UPDATED,h),o.off(i.FEATURES_RELOAD,b),o.off(i.HWSYSTEMINFO_FAILED,y),o.off(i.AUTOBETA_SETTING_CHANGED,E),o.off(l.INSTALL_DONE,E),o.off(d.CHANGED,g)})}]);t.preferencesFeatureReadinessController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesFeatureReadiness=void 0;var i=n(4);n(207),n(546),n(544);var o=n(865),a=r(o);n(561);var l=i.ngPreferencesModule.component("nvPreferencesFeatureReadiness",{template:a.default,controller:"PreferencesFeatureReadinessController",controllerAs:"preferencesFeatureReadiness"});t.nvPreferencesFeatureReadiness=l},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesFeatureService=void 0;var i=n(3),o=r(i),a=n(4),l=a.ngPreferencesModule.service("preferencesFeatureService",["$log","eventAggregator","PREFERENCES_EVENTS","FEATURE_CRITERIA","$q","updatesService","FEATURES_NAME","toastService","$filter","stateService","dialogService","COMMON_EVENTS","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_UI_PROGRESS_NAMES","TELEMETRY_SCREENS","TELEMETRY_ACTIONS","GFECLIENT_CONFIG","gfeUpdatesEndpoints",function(e,t,n,r,i,a,l,s,c,u,d,f,m,p,g,v,h,b,y){function E(e){A.info(e),T=o.filter(e,function(e){return!JSON.parse(e.overallState)}),I.resolve(),t.trigger(f.UNSUPPORTED_FEATURES_UPDATED)}function S(){x=null,w.isAnselFeatureAvailable()}function _(){d.show("nv-dialog-text",{title:"l10n.shareNotReady",style:"feature-error-dialog",text:"l10n.featureErrorMessage",button1:{text:"l10n.gotItText",action:d.cancel}})}var w=this,A=e.getInstance("main.preferences/preferencesFeatureService"),T=[],I=null,C=null,x=null,D=null;w.initialize=function(){I=i.defer(),C=I.promise,t.on(n.FEATURES_UPDATED,E),t.on(n.AUTOBETA_SETTING_CHANGED,S)},w.getUnsupportedFeatures=function(e){return C.then(function(){var t=T;e&&(t=o.filter(T,function(t){var n=o.findWhere(t.states,{name:e});if(e===r.DRIVER&&(n=n||o.findWhere(t.states,{name:r.DRIVER_ALT}),n&&n.message)){var i=n.message.match(/\d*\.\d*/);t.minDriverVersion=parseFloat(i)}return!(!n||JSON.parse(n.state))}));var n=o.findWhere(t,{featureTile:l.ANSEL});return n?w.isAnselFeatureAvailable().then(function(e){return e||(t=o.filter(t,function(e){return e.featureTile!==l.ANSEL})),t}):t})},w.isAnselFeatureAvailable=function(){if(b.anselFeature){if(null!==x)return A.info("isAnselFeatureAvailable returned cached value"),i.when(x);if(D)return A.info("isAnselFeatureAvailable returned old promise"),D;A.info("get isAnselFeatureAvailable");var e=b.anselFeatureExperimental?y.getBetaSetting():i.when({data:"1"});return D=e.then(function(e){return x="1"===e.data}).finally(function(){D=null}),D.then(function(e){return e}),D}return i.when(!1)},w.isDriverUpdateRequiredForSupport=function(e){var t=i.defer();return w.getUnsupportedFeatures(r.DRIVER).then(function(n){var r=o.findWhere(n,{featureTile:e});r?a.getUpdateDetails().then(function(e){var n=0;o.size(e)>0&&(n=parseFloat(e[0].version)),t.resolve(n>=r.minDriverVersion)}).catch(function(e){t.reject(e)}):t.resolve(!1)}),t.promise},w.onDownloadClicked=function(e){m.push(p.DOWNLOAD_LATEST_DRIVER_UPDATE,{name:g.LATEST_DRIVER_UPDATE,currentScreen:v.SCREEN_TOAST_MESSAGE,action:h.DOWNLOAD}),u.gotoDriversTab(e)},w.showDriverUpdateToast=function(){s.showWarning({textContent:c("translate")("l10n.updateDriverToRunFeature"),button:{text:c("translate")("l10n.updateNow"),action:w.onDownloadClicked,actionParams:{startDriverDownload:!0}}})},w.handleShareNotReady=function(){var e=!1;w.isDriverUpdateRequiredForSupport(l.SHARE).then(function(t){e=t}).finally(function(){e?w.showDriverUpdateToast():_()})}}]);t.preferencesFeatureService=l},,,function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesGamesBatteryBoostController=void 0;var i=n(3),o=r(i),a=n(4);n(113),n(19);var l=a.ngPreferencesModule.controller("PreferencesGamesBatteryBoostController",["$scope","$log","$document","framerateLimiterService","$timeout","eventAggregator","COMMON_EVENTS","toastService","$filter",function(e,t,n,r,i,a,l,s,c){function u(){if(o.isNull(A)||A.clearRect(0,0,T.width,T.height),!o.isEmpty(b)){T=b[0].getBoundingClientRect();var e=Math.floor((E-y)/S);A=w[0].getContext("2d"),w[0].width=T.width,w[0].height=T.height;for(var t,n=0;n<=e;n++)t=Math.round(T.width*(n/e)),A.fillStyle="#FFFFFF",A.fillRect(t-1,0,2,T.height)}}function d(){a.on(l.WINDOW_RESIZE,u)}function f(){a.off(l.WINDOW_RESIZE,u)}var m=this,p=null,g=null,v=null,h=null,b=null,y=30,E=60,S=5,_=30,w=null,A=null,T={};m.currentSliderIndex=30,m.enabledBatterySwitch=!0,m.requestInProgress=!0,m.loadingFailed=!1,m.loadingDone=!1;var I=t.getInstance("main.preferences/BatteryBoostController");r.getStateInfo().then(function(e){var t=e;m.currentSliderIndex=t.value,m.enabledBatterySwitch=t.enabled,i(function(){u()}),m.requestInProgress=!1,m.loadingDone=!0,I.info("Battery Boost state info",e)}).catch(function(e){m.requestInProgress=!1,m.loadingFailed=!0,m.loadingDone=!0,I.error("getStateInfo failed with error:",e)}),m.onChangeBatteryBoostState=function(e){m.requestInProgress=e,m.currentSliderIndex=m.currentSliderIndex<_?_:m.currentSliderIndex,r.setStateInfo(m.enabledBatterySwitch,m.currentSliderIndex).then(function(e){m.requestInProgress=!1,I.info("Battery Boost setState info",e)}).catch(function(e){m.requestInProgress=!1,I.error("setStateInfo failed with error:",e);var t=c("translate")("l10n.unableToUpdateSettings");s.showError({textContent:t})})},m.applyOptimalValue=function(){m.currentSliderIndex=_,m.onChangeBatteryBoostState()},n.ready(function(){var e=angular.element(n[0].querySelector(".preferences-games-battery-boost"));p=angular.element(e[0].querySelector(".md-track-ticks")),p.css("display","block"),p.css("z-index","0"),p.find("canvas").css("display","none"),w=angular.element("<canvas>").css("position","absolute"),p.append(w),b=angular.element(e[0].querySelector(".md-track-container")),g=angular.element(e[0].querySelector(".optimal-button-container")),v=angular.element(e[0].querySelector(".optimal-value-button")),h=angular.element(e[0].querySelector(".optimal-line-indicator"));var t=v[0].clientWidth;if(t/2<33){var r=33-Math.round(t/2)+"px";v.css("left",r)}u()}),e.$on("$destroy",f),d()}]);t.preferencesGamesBatteryBoostController=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesGamesBatteryBoost=void 0;var i=n(4);n(15);var o=n(867),a=r(o);n(566);var l=i.ngPreferencesModule.component("nvPreferencesGamesBatteryBoost",{template:a.default,controller:"PreferencesGamesBatteryBoostController",controllerAs:"preferencesGamesBatteryBoost"});t.nvPreferencesGamesBatteryBoost=l},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesGamesBatteryBoost2Controller=void 0;var i=n(3),o=(r(i),n(4));n(113),n(19);var a=o.ngPreferencesModule.controller("PreferencesGamesBatteryBoost2Controller",["$log","$document","framerateLimiterService","toastService","$filter","BB2_STATE_EVENTS","$scope","eventAggregator","TELEMETRY_CRIMSON_EVENT_NAMES","telemetryService",function(e,t,n,r,i,o,a,l,s,c){function u(){n.getBB2StateInfo().then(function(e){var t=e;p.enabledBatterySwitch=t.enabled,p.requestInProgress=!1,p.loadingDone=!0,g.info("Battery Boost2 state info",e)}).catch(function(e){p.requestInProgress=!1,p.loadingFailed=!0,p.loadingDone=!0,g.error("getBB2StateInfo failed with error:",e)})}function d(e){u()}function f(){l.on(o.CHANGED,d),u()}function m(){l.off(o.CHANGED,d)}var p=this;p.enabledBatterySwitch=!0,p.requestInProgress=!0,p.loadingFailed=!1,p.loadingDone=!1;var g=e.getInstance("main.preferences/BatteryBoost2Controller");p.onChangeBatteryBoostState=function(e){p.requestInProgress=e,n.setBB2StateInfo(p.enabledBatterySwitch).then(function(e){c.changeSetting(s.APPLICATION_SETTING_ENABLE_BATTERY_BOOST2,p.enabledBatterySwitch.toString()),p.requestInProgress=!1,g.info("Battery Boost2 setState info",e)}).catch(function(e){c.changeSettingFail(s.APPLICATION_SETTING_ENABLE_BATTERY_BOOST2_FAILED,p.enabledBatterySwitch.toString(),e.status),p.enabledBatterySwitch=!p.enabledBatterySwitch,p.requestInProgress=!1,g.error("setStateInfo failed with error:",e);var t=i("translate")("l10n.unableToUpdateSettings");r.showError({textContent:t})})},p.applyOptimalValue=function(){p.onChangeBatteryBoostState()},t.ready(function(){}),a.$on("$destroy",m),f()}]);t.preferencesGamesBatteryBoost2Controller=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesGamesBatteryBoost2=void 0;var i=n(4);n(15);var o=n(868),a=r(o);n(568);var l=i.ngPreferencesModule.component("nvPreferencesGamesBatteryBoost2",{template:a.default,controller:"PreferencesGamesBatteryBoost2Controller",controllerAs:"preferencesGamesBatteryBoost2"});t.nvPreferencesGamesBatteryBoost2=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesGamesController=void 0;var r=n(4);n(113),n(114);var i=r.ngPreferencesModule.controller("PreferencesGamesController",["$log","preferencesService","performanceModeService",function(e,t,n){function r(){t.getGameOpsFeature().then(function(e){i.isOpsSupported=JSON.parse(e.overallState),o.info("getGameOpsFeature success: ",e.overallState)}).catch(function(e){o.error("getGameOpsFeature failed with error:",e)}),n.isFeatureAvailableOnAB().then(function(e){e?n.getStateInfo().then(function(e){o.info("Performance Mode getSupportInfo success: ",e),i.isPerfModeSupported=e.supported,i.selectedPowerMode=e.performanceMode},function(e){o.error("Performance Mode getSupportInfo failed with error: ",e),i.isPerfModeSupported=!1,i.loadingAceModeFailed=!0}):i.isPerfModeSupported=!1})}var i=this;i.isOpsSupported=!1,i.isPerfModeSupported=!1,i.loadingAceModeFailed=!1;var o=e.getInstance("main.preferences/PreferencesGamesController");r(),i.showAceMode=function(){return i.isPerfModeSupported}}]);t.preferencesGamesController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesGames=void 0;var i=n(4);n(581),n(574),n(576),n(567),n(308),n(578);var o=n(869),a=r(o);n(570);var l=i.ngPreferencesModule.component("nvPreferencesGames",{template:a.default,controller:"PreferencesGamesController",controllerAs:"preferencesGames"});t.nvPreferencesGames=l},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesGamesLocationController=void 0;var i=n(3),o=r(i),a=n(4);n(47),n(18),n(19);var l=a.ngPreferencesModule.controller("PreferencesGamesLocationController",["$log","gamesService","cefService","$filter","toastService","$document","$timeout","$scope",function(e,t,n,r,i,a,l,s){function c(e){i.showError({textContent:r("translate")(e)})}function u(){p=l(function(){var e=angular.element(a[0].querySelector(".scan-location-section"))[0],t=angular.element(e.querySelector(".bg-green-hv-hue-1"))[0],n=t.offsetTop+t.offsetHeight-e.offsetHeight;e.scrollTop=n,p=null})}function d(){p&&(b.info("pending scroll to timeout cancelled"),l.cancel(p)),v&&(b.info("cancelling pending add promise"),t.searchPathsAddCancel(v)),h&&(b.info("cancelling pending remove promise"),t.searchPathsRemoveCancel(h)),g&&(b.info("cancelling pending get search path promise"),t.getSearchPathsCancel(g))}var f=this,m=null,p=null,g=null,v=null,h=null;f.addBtnDisabled=!0,f.removeBtnDisabled=!1;var b=e.getInstance("main.preferences/PreferencesGameslocationController");f.scanGamesLocation=[],f.selectedPathChanged=function(e){m=e},g=t.getSearchPaths().then(function(e){f.scanGamesLocation=e.data,f.scanGamesLocation.length>0&&f.selectedPathChanged(f.scanGamesLocation[0]),b.info("PreferencesGamesLocationController - got getSearchPaths response",f.scanGamesLocation)}).catch(function(e){e.cancelled||b.error("error getting getSearchPaths "+e)}).finally(function(){f.addBtnDisabled=!1,g=null}),f.add=function(){return b.info("user adding game scan location"),n.localDirectoryExplorer(!1,{},!0).then(function(e){o.contains(f.scanGamesLocation,e)?(b.info("Game scan location already added ",e),f.selectedPathChanged(e),u()):(f.addBtnDisabled=!0,v=t.searchPathsAdd(e),v.then(function(t){f.scanGamesLocation.push(e),b.info("search path added",e),f.selectedPathChanged(e),u()}).catch(function(e){e.cancelled||(b.error("SearchPathsAdd failed: ",e),c("l10n.addScanPathFailed"))}).finally(function(){f.addBtnDisabled=!1,v=null}))}).catch(function(e){e.isCancelled||(b.error("cefService.localDirectoryExplorer: failed or cancelled",e),c("l10n.somethingWentWrong"))})},f.remove=function(){f.removeBtnDisabled=!0,b.info("user removing game scan location"),h=t.searchPathsRemove(m),h.then(function(e){b.info("SearchPathsRemove success: ",m);var t=f.scanGamesLocation.indexOf(m);f.scanGamesLocation.splice(t,1),f.scanGamesLocation.length>0?f.selectedPathChanged(f.scanGamesLocation[0]):m=null}).catch(function(e){e.cancelled||(b.error("SearchPathsRemove failed: ",e),c("l10n.somethingWentWrong"))}).finally(function(){f.removeBtnDisabled=!1,h=null})},f.isSelected=function(e){return m===e},f.canRemovePath=function(){return!(m&&!f.removeBtnDisabled)},s.$on("$destroy",d)}]);t.preferencesGamesLocationController=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesGamesLocationItem=void 0;var o=n(3),a=i(o),l=n(4),s=n(870),c=r(s),u=l.ngPreferencesModule.directive("nvPreferencesGamesLocationItem",["$log","$timeout",function(e,t){return{restrict:"E",bindToController:{nvLocation:"@",nvClickAction:"&"},template:c.default,controller:[function(){}],controllerAs:"preferencesGamesLocationItem",link:function(n,r,i,o){function l(){t(function(){o.showTooltip=a.size(c)>0&&c[0].scrollWidth>c[0].offsetWidth})}function s(){r.off("mouseover",l),c=null}var c=(e.getInstance("main.preferences/PreferencesGamesLocationItemDirective"),r.find("p"));o.showTooltip=!1,r.on("mouseover",l),n.$on("$destroy",s)}}}]);t.nvPreferencesGamesLocationItem=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferenceGamesLocation=void 0;var i=n(4),o=n(871),a=r(o);n(572),n(573);var l=i.ngPreferencesModule.component("nvPreferenceGamesLocation",{template:a.default,controller:"PreferencesGamesLocationController",controllerAs:"preferencesGameslocation"});t.nvPreferenceGamesLocation=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesGamesOpsController=void 0;var r=n(4);n(47);var i=r.ngPreferencesModule.controller("PreferencesGamesOpsController",["$log","gamesService",function(e,t){function n(){t.isAutoOptimizeEnabled().then(function(e){r.autoOptimize=e}).catch(function(e){i.error("isAutoOptimizeEnabled failed with error:",e)})}var r=this;r.autoOptimize=null;var i=e.getInstance("main.preferences/PreferencesGeneralGameOpsController");r.setAutoOptimize=function(){i.info("setting autoOptimize to ",r.autoOptimize),t.setAutoOptimizeEnabled(r.autoOptimize)},n()}]);t.preferencesGamesOpsController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferenceGamesOps=void 0;var i=n(4),o=n(872),a=r(o);n(575);var l=i.ngPreferencesModule.component("nvPreferenceGamesOps",{template:a.default,controller:"PreferencesGamesOpsController",controllerAs:"preferencesGamesOps"});t.nvPreferenceGamesOps=l},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesGamesPerfModeController=void 0;var i=n(3),o=(r(i),n(4));n(19),n(47),n(114);var a=o.ngPreferencesModule.controller("preferencesGamesPerfModeController",["$log","toastService","$filter","eventAggregator","gamesService","GAME_EVENTS","$scope","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_SCREENS","performanceModeService","PERFORMANCE_MODES",function(e,t,n,r,i,o,a,l,s,c,u,d){function f(){b.isGameOpsSupported=i.getGameOpsSupported(),_.info("opsfeaturestatus on init ",b.isGameOpsSupported)}function m(){b.aceSupported=JSON.parse(b.nvAceModeSupported),b.selectedPowerMode=JSON.parse(b.nvSelectedPowerMode),b.loadingFailed=JSON.parse(b.nvLoadingFailed)}function p(){f(),m()}function g(e){_.info("Power Mode setState info",e),b.selectedPowerMode=e,l.setScreen(c.SCREEN_TOAST_MESSAGE),l.changeSetting(s.APPLICATION_SETTING_ENABLE_WHISPER_MODE,"");var r=b.isGameOpsSupported&&i.shouldProceedWithOptimizeAll(),o=e===d.MAX_P?"l10n.toastPerfModeIsEnabled":e===d.QUIET?"l10n.toastQuietModeIsEnabled":"l10n.toastBalanceModeIsEnabled";b.selectedPowerMode=e,r&&t.show({textContentUseTranslate:o,isCustomIcon:!0,icon:"icon-optimized_reg",customColor:"color-green",hideDelay:0,button:{text:n("translate")("l10n.optimize"),action:function(){b.optimizeGames(),l.push(s.TOAST_CLICKED_WHISPER_MODE_OPTIMIZE_ALL)}}})}function v(e){_.error("setStateInfo failed with error:",e),l.setScreen(c.SCREEN_TOAST_MESSAGE),l.changeSettingFail(s.APPLICATION_SETTING_ENABLE_WHISPER_MODE_FAILED,!0,e.status);var r=n("translate")("l10n.unableToUpdateSettings");t.showError({textContent:r})}function h(){t.showProgress({textContent:n("translate")("l10n.optimizing")}),y()}var b=this;b.loadingFailed=!1,b.powerModes=d,b.selectedPowerMode=b.powerModes.INVALID;var y,E,S,_=e.getInstance("main.preferences/PerfModeController");b.disablePowerModeButtons=function(){return b.requestInProgress||i.isOptimizeInProgress()},p(),b.updatePowerMode=function(e){b.requestInProgress=!0,_.info("setting power mode",e),u.setStateInfo(e).then(g).catch(v).finally(function(){b.requestInProgress=!1})},b.optimizeGames=function(){_.info("optimize all games for quiet mode"),h();var e=i.optimizeLocalGames();e||S()},y=function(){_.debug("registering game optimize events"),r.on(o.OPTIMIZE_GAMES_UPDATE,S)},E=function(){_.debug("unregistering game optimize events"),r.off(o.OPTIMIZE_GAMES_UPDATE,S)},S=function(e){E(),t.show({textContent:n("translate")("l10n.optimizeFinished")})},r.on(o.OPSFEATURE_UPDATED,f),a.$on("$destroy",function(){E(),r.off(o.OPSFEATURE_UPDATED,f)})}]);t.preferencesGamesPerfModeController=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesGamesPerfMode=void 0;var i=n(4);n(15);var o=n(873),a=r(o);n(577);var l=i.ngPreferencesModule.component("nvPreferencesGamesPerfMode",{bindings:{nvAceModeSupported:"@",nvSelectedPowerMode:"@",nvLoadingFailed:"@"},template:a.default,controller:"preferencesGamesPerfModeController",controllerAs:"preferencesGamesPerfMode"});t.nvPreferencesGamesPerfMode=l},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesGamesQuietModeController=void 0;var i=n(3),o=(r(i),n(4));n(383),n(19),n(47);var a=o.ngPreferencesModule.controller("PreferencesGamesQuietModeController",["$log","quietModeService","toastService","eventAggregator","gamesService","GAME_EVENTS","$scope","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_SCREENS","$filter",function(e,t,n,r,i,o,a,l,s,c,u){function d(){m.isGameOpsSupported=i.getGameOpsSupported(),h.info("opsfeaturestatus on init ",m.isGameOpsSupported)}function f(){n.showProgress({textContent:u("translate")("l10n.optimizing")}),p()}var m=this;m.enabledQuietSwitch=!0,m.requestInProgress=!0,m.loadingFailed=!1,m.loadingDone=!1,m.isGameOpsSupported=!1;var p,g,v,h=e.getInstance("main.preferences/QuietModeController");m.disableQuietModeSwitch=function(){return m.requestInProgress||i.isOptimizeInProgress()},d(),t.getStateInfo().then(function(e){var t=e;m.enabledQuietSwitch=t.enabled,m.requestInProgress=!1,m.loadingDone=!0,h.info("Quiet Mode state info",e)}).catch(function(e){m.requestInProgress=!1,m.loadingFailed=!0,m.loadingDone=!0,h.error("getStateInfo failed with error:",e)}),m.onChangeQuietModeState=function(e){m.requestInProgress=e,t.setStateInfo(m.enabledQuietSwitch).then(function(e){h.info("Quiet Mode setState info",e),l.setScreen(c.SCREEN_TOAST_MESSAGE),l.changeSetting(s.APPLICATION_SETTING_ENABLE_WHISPER_MODE,m.enabledQuietSwitch);var t=m.isGameOpsSupported&&i.shouldProceedWithOptimizeAll(),r=m.enabledQuietSwitch?"l10n.toastQuietModeIsEnabled":"l10n.toastQuietModeIsDisabled";t?n.show({textContentUseTranslate:r,isCustomIcon:!0,icon:"icon-optimized_reg",customColor:"color-green",hideDelay:0,button:{text:"l10n.optimize",action:function(){m.optimizeGames(),l.push(s.TOAST_CLICKED_WHISPER_MODE_OPTIMIZE_ALL)}}}):m.enabledQuietSwitch===!1&&n.cancel()}).catch(function(e){h.error("setStateInfo failed with error:",e),l.setScreen(c.SCREEN_TOAST_MESSAGE),l.changeSettingFail(s.APPLICATION_SETTING_ENABLE_WHISPER_MODE_FAILED,!0,e.status);var t=u("translate")("l10n.unableToUpdateSettings");n.showError({textContent:t}),m.enabledQuietSwitch=!m.enabledQuietSwitch}).finally(function(){m.requestInProgress=!1})},m.optimizeGames=function(){h.info("optimize all games for quiet mode"),f();var e=i.optimizeLocalGames();e||v()},p=function(){h.debug("registering game optimize events"),r.on(o.OPTIMIZE_GAMES_UPDATE,v)},g=function(){h.debug("unregistering game optimize events"),r.off(o.OPTIMIZE_GAMES_UPDATE,v)},v=function(e){g(),n.show({textContent:u("translate")("l10n.optimizeFinished")})},r.on(o.OPSFEATURE_UPDATED,d),a.$on("$destroy",function(){g(),r.off(o.OPSFEATURE_UPDATED,d)})}]);t.preferencesGamesQuietModeController=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesGamesScanController=void 0;var r=n(4);n(47),n(19);var i=r.ngPreferencesModule.controller("PreferencesGamesScanController",["$log","GAME_EVENTS","gamesService","eventAggregator","$window","$scope","$filter","toastService","GAME_SCAN_STATE","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","localeService","userGamesService","jarvisService","dbCacheService","DB_NAMES","COMMON_DYNAMIC_REDIRECT",function(e,t,n,r,i,o,a,l,s,c,u,d,f,m,p,g,v){function h(){l.showProgress({textContent:T.scanStatus})}function b(){r.on(t.GAMELIST_UPDATED,w),r.on(t.SCAN_FINISHED,y),r.on(t.SCAN_FAILED,E),x===s.UI_SCAN?(T.scanStatus=C("l10n.scanning"),T.scanInProgress=!0,h()):(T.scanStatus=C("l10n.scanNow"),T.scanInProgress=!1),O(),T.totalGames=_.size(T.gameList)}var y,E,S,w,A,T=this,I=e.getInstance("main.preferences/PreferencesGamesScanController"),C=a("translate"),x=n.getUiScanState(),D=m.getLoggedInUser(),M=p.getCachedUserItem(D.userId,g.JARVIS_GFE_STORE,g.JARVIS_VIEW_STATE);T.gameList=null;var O=function(){var e=f.getUserGames();I.debug("get all games count:",e.length),T.gameList=_.map(e,function(e){var t=n.getSystemGame(e.gameId),r={};return _.extend(r,e),_.isUndefined(t)?I.error("systemGame undefined"):r.systemGame=t,r})};T.scanGames=function(){c.push(u.PREFERENCES_GAMES_SCAN_NOW),T.scanStatus=C("l10n.scanning"),T.scanInProgress=!0,h(),n.scanLocalGames(!1)};var R=function(){I.debug("registering game optimize events"),r.on(t.OPTIMIZE_GAMES_UPDATE,L)},N=function(){I.debug("unregistering game optimize events"),r.off(t.OPTIMIZE_GAMES_UPDATE,L)},L=function(e){c.endLoad(u.HOME_OPTIMIZETIME_GAMES,A),N(),l.show({textContent:a("translate")("l10n.optimizeFinished")})},P=function(){l.showProgress({textContent:a("translate")("l10n.optimizing")}),R()};T.optimizeGamesFromScan=function(){I.info("optimize local games after scan"),P(),A=c.startLoad(u.HOME_OPTIMIZETIME_GAMES),n.optimizeLocalGames()},T.scanGamesProgressText=function(e){var t="l10n.scanGamesProgress";return 0===e?t="l10n.noGamesFound":1===e&&(t="l10n.scanGameProgress"),t};var y=function(){O(),T.totalGames=_.size(T.gameList),S(),T.scanStatus=C("l10n.scanNow"),T.scanInProgress=!1;var e={textContent:a("translate")(T.scanGamesProgressText(T.totalGames),{numGamesScanned:T.totalGames})};n.hasNoGame(T.gameList)||n.allGamesFullyOptimized(T.gameList)||n.hasHiddenGame(T.gameList,null,M)?l.show(e):(I.info("game optimization required"),n.isAutoOptimizeEnabled().then(function(t){t||angular.extend(e,{button:{text:a("translate")("l10n.optimize"),action:T.optimizeGamesFromScan}})}).finally(function(){l.show(e)}))},E=function(){T.scanStatus=C("l10n.scanNow"),T.scanInProgress=!1,l.showError({textContent:a("translate")("l10n.scanningFailed")})};T.onLaunchUrl=function(){var e=v.BASE_URL+d.getCurrentLocaleWithUnderscore()+"&page="+v.SUPPORTED_GAMES;I.info("SupportedGames redirects to url:: ",e),i.open(e)},w=function(){O(),T.totalGames=_.size(T.gameList)},b(),o.$on("$destroy",function(){r.off(t.GAMELIST_UPDATED,w),r.off(t.SCAN_FINISHED,y),r.off(t.SCAN_FAILED,E),N()}),(S=function(){n.getLastRefreshTime().then(function(e){T.lastRereshTime=e,I.info("last gamesscanned time is",T.lastRereshTime)}).catch(function(e){I.error("getlastRefreshTime failed with error:",e)})})()}]);t.preferencesGamesScanController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferenceGamesScan=void 0;var i=n(4),o=n(875),a=r(o);n(580);var l=i.ngPreferencesModule.component("nvPreferenceGamesScan",{template:a.default,controller:"PreferencesGamesScanController",controllerAs:"preferencesGamesScan"});t.nvPreferenceGamesScan=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesGeneralAboutController=void 0;n(4);n(22),n(29),n(25),n(19),n(548),n(208),n(550);var i=n(194),o=(r(i),angular.module("main.preferences").controller("PreferencesGeneralAboutController",["$log","gfeService","preferencesService","toastService","$filter","GFE_DOWNLOAD_PROGRESS_STATUS","GFE_UPDATE_EVENTS","TASK_STATUS","eventAggregator","$scope","cefService","POST_PROCESSING_STATES","PARTNER_DYNAMIC_REDIRECT","$window",function(e,t,n,r,i,o,a,l,s,c,u,d,f,m){function p(){r.showError({textContent:i("translate")("l10n.checkInternetConnectivity")})}function g(){var e=i("translate")("l10n.ExpFeatureUpdatesDisabled"),t="error_outline";1==C.clientBetaUpdateEnabled&&(e=i("translate")("l10n.ExpFeatureUpdatesEnabled"),
t="check"),h(e,t)}function v(){C.clientBetaUpdateCheckboxEnabled=!(C.clientBetaUpdateEnabled===!0&&C.gfeBetaUpdate&&C.gfeBetaUpdate.downloadStatus&&!C.showDownloadButton(C.gfeBetaUpdate.downloadStatus.status))}function h(e,t){r.isOpen()?r.cancel().then(function(){r.show({textContent:e,icon:t})}):r.show({textContent:e,icon:t})}function b(e){h(e,"error_outline")}function y(){return n.betaPostProcessingStatus===d.FINISHED}function E(){return n.betaPostProcessingStatus===d.FAILED}function S(){return n.betaPostProcessingStatus===d.STARTED}function w(e){if(C.clientBetaUpdateCheckboxEnabled=!0,e.status===l.TASK_PAUSED_UNABLE_TO_REACH_SERVER||e.status===l.TASK_CHECK_SUM_ERROR||e.status===l.TASK_SIGNATURE_VERIFICATION_FAILS)b(D("l10n.downloadFailed"));else if(e.status===l.TASK_FAILED_UNABLE_TO_REACH_SERVER)b(D("l10n.unableToConnectToNvidia"));else if(e.status===l.TASK_DISK_WRITE_FAIL){var t=i("convertBytesToKBMBGB")(e.totalBytes);if(e.downloadedLocation.length>0){var n=e.downloadedLocation.split(":")[0];n=n.toUpperCase();var r=D("l10n.downloadDiskSpace",{value:t,drive:n});b(r)}}}function A(e){e&&e.isBeta===!0&&(C.GFECheckForUpdateInProgress=!0,C.clientBetaUpdateCheckboxEnabled=!1)}function T(e){e&&e.isBeta===!0&&(C.clientBetaUpdateCheckboxEnabled=!0,C.GFECheckForUpdateInProgress=!1,b(D("l10n.unableToConnectToNvidia")))}function I(e){if(e&&e.isBeta===!0){if(C.gfeBetaUpdate=e.updateData,C.clientBetaUpdateCheckboxEnabled=!(C.gfeBetaUpdate&&C.gfeBetaUpdate.downloadURL&&!_.isEmpty(C.gfeBetaUpdate.downloadURL)),x.info("checkforupdate finished",C.gfeBetaUpdate),C.clientBetaUpdateCheckboxEnabled){var t=i("translate")("l10n.noUpdatesAreAvailable"),n="check";h(t,n)}C.GFECheckForUpdateInProgress=!1}}var C=this,x=e.getInstance("main.preferences/PreferencesFeatureReadinessController");C.gfeBetaUpdate={},C.version=t.version,C.GFECheckForUpdateInProgress=!1,C.clientBetaUpdateEnabled=!1;var D=i("translate");C.clientBetaUpdateCheckboxEnabled=!0,C.beta="",n.isGFEBetaBuild().then(function(e){C.beta=e===!0?i("translate")("l10n.beta"):"",C.beta=C.beta.toUpperCase()}),C.setClientBetaUpdateEnabled=function(){x.info("set experimental feature flag:",C.clientBetaUpdateEnabled),g(),n.setClientBetaUpdateEnabled(C.clientBetaUpdateEnabled).then(function(){C.clientBetaUpdateCheckboxEnabled=!C.clientBetaUpdateEnabled}).catch(function(e){x.error("setClientBetaUpdateEnabled failed: "+e),p(),C.clientBetaUpdateCheckboxEnabled=!0})},n.getClientBetaUpdateEnabled().then(function(e){C.clientBetaUpdateEnabled="1"===e.data,v()}).catch(function(e){x.error("getClientBetaUpdateEnabled failed: "+e),p()}),C.onShowReleaseHighlight=function(e){n.onShowReleaseHighlight(!1)},C.onShowLicense=function(e){n.showEula()},C.onOpenSourceLicenses=function(e){n.showOpenSourceLicensesText()},C.onLaunchFaq=function(){n.showFaq()},C.onLaunchPrivacyPolicy=function(){n.showPrivacyPolicy()},C.onLaunchYouTubeTOS=function(){var e=f.YouTube_TOS_URL;x.info("YouTube Terms of service redirects to url:: ",e),m.open(e)},C.onLaunchGoogleSecuritySettings=function(){var e=f.GOOGLE_SECURITY_SETTINGS_URL;x.info("Google security settings redirects to url:: ",e),m.open(e)},C.onLaunchGooglePrivacyPolicy=function(){var e=f.GOOGLE_PRIVACY_POLICY_URL;x.info("Google Privacy policy redirects to url:: ",e),m.open(e)},n.getGFEBetaUpdate().then(function(e){C.gfeBetaUpdate=e,v()}).catch(function(e){x.error("getGFEBetaUpdate failed: "+e)}),C.isDownloadStarted=function(e){return e===l.TASK_RUNNING||e===l.TASK_RETRY},C.isDownloadPaused=function(e){return e===l.TASK_PAUSED||e===l.TASK_PAUSED_UNABLE_TO_REACH_SERVER},C.isDownloadCompleted=function(e){return e===l.TASK_COMPLETED},C.showRestartGfeMessage=function(e){return C.isDownloadCompleted(e)&&(y()||E())},C.showDownloadButton=function(e){var t=C.clientBetaUpdateEnabled===!0&&C.GFECheckForUpdateInProgress===!1&&(e===l.TASK_PAUSED||e===l.TASK_PAUSED_UNABLE_TO_REACH_SERVER||e===l.TASK_CHECK_SUM_ERROR||e===l.TASK_FAILED_UNABLE_TO_REACH_SERVER||e===l.TASK_SIGNATURE_VERIFICATION_FAILS||e===l.TASK_DISK_WRITE_FAIL);return t},C.showPreparingForInstall=function(e,t){var n=C.clientBetaUpdateEnabled===!0&&e===l.TASK_RUNNING&&100===t||C.isDownloadCompleted(e)&&S();return n},C.startDownload=function(e){n.startDownload(e.version,e.downloadURL).then(function(t){x.info("download started",t.data),e.downloadStatus=t.data,C.clientBetaUpdateCheckboxEnabled=!1}).catch(function(e){x.error("GFE download failed to start",e),b(D("l10n.driverDownloadFailed"))})},C.pauseDownload=function(e){n.pauseDownload(e.downloadStatus.taskId).then(function(t){e.downloadStatus=t.data,x.info("GFE download paused",e.downloadStatus)}).catch(function(e){x.error("GFE download failed to pause with error",e)})},C.resumeDownload=function(e){n.resumeDownload(e.downloadStatus.taskId).then(function(t){e.downloadStatus=t.data,x.info("GFE download resume",e.downloadStatus)}).catch(function(e){x.error("GFE download failed to resume with error",e)})},C.stopDownload=function(e){n.stopDownload(e.downloadStatus.taskId).then(function(t){e.downloadStatus=t.data,x.info("GFE download stoped",e.downloadStatus)}).catch(function(e){x.error("GFE download failed to stop with error",e)})},C.getProgressString=function(e){var t="";if(e&&e.downloadStatus){var n=i("convertBytesToKBMBGB")(e.downloadStatus.totalBytes),r=i("convertBytesToKBMBGB")(e.downloadStatus.bytesDone);t=r+"/"+n}return t},C.restartNow=function(){u.restartApp()},C.getDownloadStatusMessage=function(e){var t="";return e===l.TASK_RUNNING?t=D("l10n.downloading"):C.isDownloadPaused(e)?t=D("l10n.paused"):e===l.TASK_RETRY&&(t=D("l10n.retrying")),t},C.showCheckingForUpdate=function(){var e=C.GFECheckForUpdateInProgress===!0||!_.isEmpty(C.gfeBetaUpdate)&&!_.isEmpty(C.gfeBetaUpdate.downloadURL)&&C.gfeBetaUpdate.downloadStatus&&C.gfeBetaUpdate.downloadStatus.status===l.TASK_NOT_STARTED;return e},s.on(o.FAILED,w),s.on(a.SCAN_STARTED,A),s.on(a.SCAN_FAILED,T),s.on(a.SCAN_FINISHED,I),c.$on("$destroy",function(){s.off(a.SCAN_STARTED,A),s.off(a.SCAN_FAILED,T),s.off(a.SCAN_FINISHED,I),s.off(o.FAILED,w)})}]));t.preferencesGeneralAboutController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferenceGeneralAbout=void 0;var i=n(4);n(35);var o=n(876),a=r(o);n(582);var l=i.ngPreferencesModule.component("nvPreferenceGeneralAbout",{template:a.default,controller:"PreferencesGeneralAboutController",controllerAs:"preferencesGeneralAbout"});t.nvPreferenceGeneralAbout=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreferencesGeneralController=void 0;var r=n(4);n(114),n(308),n(310),n(309),n(569);var i=r.ngPreferencesModule.controller("PreferencesGeneralController",["$log","quietModeService","performanceModeService","framerateLimiterService","eventAggregator","$scope","QUIET_MODE_EVENTS","nisService","telemetryService","NIS_STATE_EVENTS","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_FEATURE_SUPPORTED_STATE","BB2_SUPPORT_EVENTS",function(e,t,n,r,i,o,a,l,s,c,u,d,f){function m(){t.getQuietMode2SupportInfo().then(function(e){if(e&&e.criteria){var t=e.criteria.states,n=t.find(function(e,t,n){return"wm2"===e.name});E=!(!n||!n.state),y=e.criteria.overallState,S.info("WM2 capability",E,y)}else S.error("getQuietModeSupporteState(): Something went wrong!")}).catch(function(e){E=!1,S.error("getQuietMode2SupportInfo() support error!"+e)})}function p(){l.getStateInfo().then(function(e){if(h.isNISSupported=e.supported,S.info("NIS state info",h.isNISSupported),!h.isNISFeatureSupportTelemetrySent||!h.isNISSupported){h.isNISFeatureSupportTelemetrySent=!0;var t=h.isNISSupported?d.TRUE:d.FALSE;s.push(u.NIS_MODE_CAPABILITY_STATE,{serviceSupportedState:d.UNKNOWN,endpointSupportedState:t})}}).catch(function(e){h.isNISSupported=!1,s.push(u.NIS_MODE_CAPABILITY_STATE,{serviceSupportedState:d.UNKNOWN,endpointSupportedState:d.UNKNOWN}),S.error("get nisStateInfo failed with error:",e)})}function g(){r.getBB2SupportInfo().then(function(e){h.isBatteryBoost2Supported=!!e.criteria&&e.criteria.overallState,S.info("Framerate Limiter getBB2SupportInfo success: ",e);var t=h.isBatteryBoost2Supported?d.TRUE:d.FALSE;s.push(u.BB2_CAPABILITY_STATE,{serviceSupportedState:d.UNKNOWN,endpointSupportedState:t})}).catch(function(e){S.error("Framerate Limiter getBB2SupportInfo failed with error: ",e),s.push(u.BB2_CAPABILITY_STATE,{serviceSupportedState:d.UNKNOWN,endpointSupportedState:d.UNKNOWN})})}function v(){g(),m(),p(),t.getStateInfo().then(function(e){b=e.supported,S.info("Quiet Mode getSupportInfo success: ",e)},function(e){S.error("Quiet Mode getSupportInfo failed with error: ",e)}),r.getSupportInfo().then(function(e){h.isBatteryBoostSupported=e.supported,S.info("Framerate Limiter getSupportInfo success: ",e)}).catch(function(e){S.error("Framerate Limiter getSupportInfo failed with error: ",e)}),n.isFeatureAvailableOnAB().then(function(e){e?n.getStateInfo().then(function(e){S.info("Performance Mode getSupportInfo success: ",e),h.isPerfModeSupported=e.supported,h.selectedPowerMode=e.performanceMode},function(e){S.error("Performance Mode getSupportInfo failed with error: ",e),h.isPerfModeSupported=!1,h.loadingAceModeFailed=!0}):h.isPerfModeSupported=!1}),i.on(a.SUPPORT_UPDATE,m),i.on(c.CHANGED,p),i.on(f.CHANGED,g)}var h=this;h.isPerfModeSupported=!1,h.loadingAceModeFailed=!1,h.isBatteryBoostSupported=!1,h.isBatteryBoost2Supported=!1;var b=!1,y=!1,E=!1;h.isNISSupported=!1,h.isNISFeatureSupportTelemetrySent=!1;var S=e.getInstance("main.preferences/PreferencesGeneralController");v(),h.showQuietMode=function(){return b&&!E&&!h.isPerfModeSupported},h.showQuietMode2=function(){return y&&!h.isPerfModeSupported},o.$on("$destroy",function(){i.off(a.SUPPORT_UPDATE,m),i.off(c.CHANGED,p),i.off(f.CHANGED,g)})}]);t.PreferencesGeneralController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesGeneral=void 0;var i=n(4);n(583),n(589),n(595),n(592),n(587),n(608),n(562);var o=n(877),a=r(o);n(584),n(310),n(309);var l=i.ngPreferencesModule.component("nvPreferencesGeneral",{template:a.default,controller:"PreferencesGeneralController",controllerAs:"preferencesGeneral"});t.nvPreferencesGeneral=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesGeneralDownloadsController=void 0;var r=n(4);n(25),n(19);var i=r.ngPreferencesModule.controller("PreferencesGeneralDownloadsController",["$scope","$log","preferencesService","eventAggregator","PREFERENCES_EVENTS","toastService","$filter",function(e,t,n,r,i,o,a){function l(){o.showError({textContent:a("translate")("l10n.somethingWentWrong")})}function s(){n.getAutoDownloadDriverUpdates().then(function(e){u.autoDownloadDriverUpdates=e}).catch(function(e){l(),d.error("getAutoDownloadDriverUpdates failed: "+e)})}function c(){s(),r.on(i.AUTOMATIC_DRIVERDOWNLOAD,s)}var u=this;u.autoDownloadDriverUpdates=!1;var d=t.getInstance("main.preferences/PreferencesGeneralDownloadsController");u.setAutoDownloadDriverUpdates=function(){n.setAutoDownloadDriverUpdates(u.autoDownloadDriverUpdates).catch(function(e){l(),d.error("setAutoDownloadDriverUpdates failed: "+e)})},c(),e.$on("$destroy",function(){r.off(i.AUTOMATIC_DRIVERDOWNLOAD,s)})}]);t.preferencesGeneralDownloadsController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferenceGeneralDownloads=void 0;var i=n(4),o=n(878),a=r(o);n(586);var l=i.ngPreferencesModule.component("nvPreferenceGeneralDownloads",{template:a.default,controller:"PreferencesGeneralDownloadsController",controllerAs:"preferencesGeneralDownloads"});t.nvPreferenceGeneralDownloads=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesGeneralLanguageController=void 0;var r=n(4);n(11),n(63);var i=r.ngPreferencesModule.controller("PreferencesGeneralLanguageController",["dbCacheService","DB_NAMES","localeService","$log","TELEMETRY_CRIMSON_EVENT_NAMES","telemetryService","TELEMETRY_SCREENS",function(e,t,n,r,i,o,a){function l(){o.setScreen(a.SCREEN_PREFERENCES_GENERAL)}var s=this,c=r.getInstance("main.preferences/PreferencesGeneralLanguageController");s.EditMode=!1,s.languages=n.getSupportedLanguages();var u=n.getCurrentLocale();s.selectedLanguage=u.name,s.changedLanguage=s.selectedLanguage,s.onCancel=function(){s.EditMode=!1,s.changedLanguage=s.selectedLanguage},s.onApply=function(){s.EditMode=!1,s.selectedLanguage=s.changedLanguage;var e=n.getLocaleFromLocaleName(s.selectedLanguage);n.changeLocale(e).then(function(){c.info("Changed language to: ",e.code),o.changeSetting(i.APPLICATION_SETTING_LANGUAGE_SELECTION,e.code)}).catch(function(t){c.error("Failed to change language to: ",e.code),u=n.getCurrentLocale(),s.selectedLanguage=u.name,o.changeSettingFail(i.APPLICATION_SETTING_LANGUAGE_SELECTION_FAILED,e.code,t.status)})},s.openChangeLocale=function(){s.EditMode=!0},s.devFeatures=e.getCachedGlobalItem(t.DEV_STORE,t.DEV_FEATURES),l()}]);t.preferencesGeneralLanguageController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferenceGeneralLanguage=void 0;var i=n(4),o=n(879),a=r(o);n(588);var l=i.ngPreferencesModule.component("nvPreferenceGeneralLanguage",{template:a.default,controller:"PreferencesGeneralLanguageController",controllerAs:"preferencesGeneralLanguage"});t.nvPreferenceGeneralLanguage=l},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.PreferencesGeneralNISController=void 0;var i=n(3),o=(r(i),n(4));n(113),n(19);var a=o.ngPreferencesModule.controller("PreferencesGeneralNISController",["$scope","$log","nisService","eventAggregator","toastService","NIS_SHARPEN_SLIDER","gamesService","GAME_EVENTS","NIS_STATE_EVENTS","$filter","COMMON_EVENTS","$document","KEYBOARD_EVENT_KEYCODE","$timeout","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_SCREENS","telemetryService",function(e,t,n,r,i,o,a,l,s,c,u,d,f,m,p,g,v){function h(){x.isGameOpsSupported=a.getGameOpsSupported(),k.info("opsfeaturestatus on init ",x.isGameOpsSupported)}function b(e){w()}function y(e){return e.scrollWidth>e.clientWidth||e.clientWidth<M}function E(){var e=angular.element(d[0].querySelectorAll(".render-resolution-string"));if(e)for(var t=!1,n=0;n<e.length;n++){var r=angular.element(e[n]);y(e[n])||t?(t=!0,r.css("visibility","hidden"),r.css("height","0")):(r.css("visibility","visible"),r.css("height","auto"))}}function S(){r.on(l.OPSFEATURE_UPDATED,h),r.on(u.WINDOW_RESIZE,E),r.on(s.CHANGED,b),h(),w(),T()}function _(){r.off(s.CHANGED,b),r.off(u.WINDOW_RESIZE,E),R(),r.off(l.OPSFEATURE_UPDATED,h),L&&m.cancel(L)}function w(){n.getStateInfo().then(function(e){x.nisStateInfo=e,x.sharpenInDecimal=x.nisStateInfo.sharpen,x.requestInProgress=!1,x.loadingDone=!0,k.info("NIS state info",x.nisStateInfo)}).catch(function(e){x.requestInProgress=!1,x.loadingFailed=!0,x.loadingDone=!0,k.error("get nisStateInfo failed with error:",e)})}function A(){i.showProgress({textContent:c("translate")("l10n.optimizing")}),O()}function T(){var e=a.isOptimizeInProgress();k.info("optimize in progress ",e),e&&A()}function I(){return a.isOptimizeInProgress()?(k.error("optimizeAll - optimize already in progress"),!1):0!==a.getGamesCount()||(k.info("optimizeAll - no games to optimize"),!1)}function C(){x.onChangeSharpenState(!1)}var x=this,D=500,M=48;x.nisStateInfo=null,x.sharpenInDecimal=0,x.requestInProgress=!0,x.loadingFailed=!1,x.loadingDone=!1,x.nisSharpnessSlider=o,x.isGameOpsSupported=!1;var O,R,N,C,L,P=!1,k=t.getInstance("main.preferences/NISController");x.disableNISSwitch=function(){return x.requestInProgress||a.isOptimizeInProgress()},x.isControlDisabled=function(){return x.nisStateInfo&&!x.nisStateInfo.enabled||x.requestInProgress||a.isOptimizeInProgress()},x.applyOptimizedResolution=function(e){x.nisStateInfo.selectedResolutionIndex=e;var t=("Percent : "+x.nisStateInfo.resolutions[e].percent+" Resolution : "+x.nisStateInfo.resolutions[e].resolution).toString();v.changeSetting(p.APPLICATION_SETTING_NIS_RENDER_RESOLUTION,t),k.info(" Resolution value changed : "+t),x.onChangeNISState(!0,!1,!0)},x.onChangeSharpenState=function(e){x.sharpenInDecimal=x.nisStateInfo.sharpen,v.changeSetting(p.APPLICATION_SETTING_NIS_SHARPEN_SLIDER,x.sharpenInDecimal.toString()),k.info(" sharpnessChanged : "+x.nisStateInfo.sharpen),x.onChangeNISState(e,!0,!1)},x.resolutionClass=function(e){return x.nisStateInfo.selectedResolutionIndex===e?"md-accent md-primary":"md-secondary"},x.optimizeGames=function(){k.info("optimize all games for NIS"),A();var e=a.optimizeLocalGames();e||N()},O=function(){k.debug("registering game optimize events"),r.on(l.OPTIMIZE_GAMES_UPDATE,N)},R=function(){k.debug("unregistering game optimize events"),r.off(l.OPTIMIZE_GAMES_UPDATE,N)},N=function(e){R(),i.show({textContent:c("translate")("l10n.optimizeFinished")})},x.onChangeNISState=function(e,t,r){k.info("settingType changed",x.nisStateInfo.enabled),x.requestInProgress=e,n.setStateInfo(x.nisStateInfo).then(function(n){k.info("NIS setState info",n),!e||t||r||v.changeSetting(p.APPLICATION_SETTING_NIS_MODE,x.nisStateInfo.enabled.toString());var o=e&&!t&&x.isGameOpsSupported&&I(),a=x.nisStateInfo.enabled?"l10n.toastNISStateIsEnabled":"l10n.toastNISIsDisabled";o?i.show({textContentUseTranslate:a,isCustomIcon:!0,icon:"icon-optimized_reg",customColor:"color-green",hideDelay:1e4,button:{text:"l10n.optimize",action:function(){x.optimizeGames(),v.push(p.TOAST_CLICKED_NIS_MODE_OPTIMIZE_ALL)}}}):x.nisStateInfo.enabled===!1&&i.cancel()}).catch(function(e){k.error("setNISState failed with error:",e),v.setScreen(g.SCREEN_TOAST_MESSAGE),v.changeSettingFail(p.APPLICATION_SETTING_ENABLE_NIS_MODE_FAILED,x.nisStateInfo.enabled.toString(),e.status);var t=c("translate")("l10n.unableToUpdateSettings");i.showError({textContent:t}),w()}).finally(function(){x.requestInProgress=!1})},x.onSharpenSliderKeyUp=function(e){e.keyCode!==f.LEFT_ARROW&&e.keyCode!==f.RIGHT_ARROW||x.onChangeSharpenState(!1)};var G=function(e,t){P||(P=!0,L=m(function(){e(),m.cancel(L),P=!1},t))};x.onSharpenSliderChanged=function(){G(C,D)},d.ready(function(){E(),angular.element(d[0].querySelector(".md-slider-wrapper")).attr("tabindex",0)}),e.$on("$destroy",_),S()}]);t.PreferencesGeneralNISController=a},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesGeneralNotificationsController=void 0;var i=n(4);n(25),n(19),n(188),n(122),n(17);var o=n(3),a=r(o),l=i.ngPreferencesModule.controller("PreferencesGeneralNotificationsController",["$log","preferencesService","toastService","$filter","rewardsService","$q","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES",function(e,t,n,r,i,o,l,s){function c(){n.showError({textContent:r("translate")("l10n.somethingWentWrong")})}function u(){g.driverUpdateFetchInProgress=!0,t.getNotifyGeforceDriverUpdate().then(function(e){g.driverUpdateFetchInProgress=!1,p(),g.notifyGeforceDriverUpdate=e}).catch(function(e){g.driverUpdateFetchInProgress=!1,p(),c(),v.error("getNotifyGeforceDriverUpdate failed: "+e)})}function d(){g.rewardUpdateFetchInProgress=!0,t.getRewardsNotificationPreference().then(function(e){g.rewardUpdateFetchInProgress=!1,p(),a.isUndefined(e)?(v.info("No defined preference exists for reward notification, setting as enabled"),g.notifyRewardsUpdate=!0):g.notifyRewardsUpdate=e}).catch(function(e){g.rewardUpdateFetchInProgress=!1,p(),c(),v.error("getRewardsNotificationPreference failed with error:",e)})}function f(){var e=o.defer();return i.getRewardsEnabled().then(function(t){t?e.resolve():e.reject()}).catch(function(){e.reject()}),e.promise}function m(){u(),f().then(function(){d()})}function p(){g.driverUpdateFetchInProgress||g.rewardUpdateFetchInProgress||(g.requestInProgress=!1)}var g=this;g.notifyGeforceDriverUpdate=!1,g.notifyRewardsUpdate=!0,g.requestInProgress=!0,g.driverUpdateFetchInProgress=!1,g.rewardUpdateFetchInProgress=!1;var v=e.getInstance("main.preferences/PreferencesGeneralNotificationsController");g.setNotifyGeforceDriverUpdate=function(){t.setNotifyGeforceDriverUpdate(g.notifyGeforceDriverUpdate).catch(function(e){c(),v.error("setNotifyGeforceDriverUpdate failed: "+e)})},g.setNotifyRewardsUpdate=function(){l.changeSetting(s.APPLICATION_SETTING_DESKTOP_REWARDS_NOTIFICATION,g.notifyRewardsUpdate),t.setRewardsNotificationPreference(g.notifyRewardsUpdate).catch(function(e){c(),v.error("setRewardsNotificationPreference failed with error:",e)})},m()}]);t.preferencesGeneralNotificationsController=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferenceGeneralNotifications=void 0;var i=n(4),o=n(881),a=r(o);n(591);var l=i.ngPreferencesModule.component("nvPreferenceGeneralNotifications",{template:a.default,controller:"PreferencesGeneralNotificationsController",controllerAs:"preferencesGeneralNotifications"});t.nvPreferenceGeneralNotifications=l},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesGeneralQuiteMode2Controller=void 0;var o=n(27),a=i(o),l=n(3),s=r(l),c=n(4);n(113),n(19);var u=c.ngPreferencesModule.controller("PreferencesGeneralQuiteMode2Controller",["$scope","$log","$document","quietModeService","$timeout","eventAggregator","COMMON_EVENTS","toastService","QUITE_MODE_2_FAN_VOLUME_SLIDER","QUITE_MODE_2_BASE_FRAME_RATE_SLIDER","QUITE_MODE_2_FAN_VOLUME_MODES","gamesService","GAME_EVENTS","QUIET_MODE_EVENTS","TELEMETRY_CRIMSON_EVENT_NAMES","telemetryService","$filter","QUIET_MODE_2_SETTING_TYPE",function(e,t,n,r,i,o,l,c,u,d,f,m,p,g,v,h,b,y){function E(){D.isGameOpsSupported=m.getGameOpsSupported(),F.info("opsfeaturestatus on init ",D.isGameOpsSupported)}function S(){var e=0;D.sliders.forEach(function(t){if(t.tractContainer){L=t.tractContainer.getBoundingClientRect();var n=Math.floor((t.max-t.min)/t.step);N=t.tickCanvas.getContext("2d"),t.tickCanvas.width=L.width,t.tickCanvas.height=L.height,e++,s.isNull(N)||N.clearRect(0,0,L.width,L.height);for(var r,i=0;i<=n;i++)r=Math.round(L.width*(i/n)),N.fillStyle="#FFFFFF",N.fillRect(r-1,0,2,L.height)}})}function _(e){e&&D.quietStateInfo&&(e.enabled!==D.quietStateInfo.enabled||e.fanVolume!==D.quietStateInfo.fanVolume||e.baseFrameRate!==D.quietStateInfo.baseFrameRate)&&T()}function w(){o.on(l.WINDOW_RESIZE,S),o.on(p.OPSFEATURE_UPDATED,E),o.on(g.CHANGED,_),E(),T()}function A(){o.off(l.WINDOW_RESIZE,S),o.off(g.CHANGED,_),k(),o.off(p.OPSFEATURE_UPDATED,E)}function T(){r.getQuietMode2StateInfo().then(function(e){D.quietStateInfo=(0,a.default)({},e),i(function(){S()}),D.requestInProgress=!1,D.loadingDone=!0,F.info("Quiet Mode2 state info",e)}).catch(function(e){D.requestInProgress=!1,D.loadingFailed=!0,D.loadingDone=!0,F.error("get Quiet Mode2 StateInfo failed with error:",e)})}function I(){c.showProgress({textContent:b("translate")("l10n.optimizing")}),P()}function C(e){return(s.isNull(e)||s.isUndefined(e))&&(e=""),e.toString()}function x(e,t,n){var r=1===D.quietStateInfo.fanVolume?"Quieter":2===D.quietStateInfo.fanVolume?"Quiet":"Balanced";h.push(v.APPLICATION_SETTING_CHANGD_WHISPER_MODE_2,{enabled:D.quietStateInfo.enabled?"true":"false",fanVolume:r,baseFrameRate:D.quietStateInfo.baseFrameRate,status:e,errorDetails:t,changedSettingType:n})}var D=this,M=null,O=null,R=null,N=null,L={};D.quietStateInfo={baseFrameRate:30,fanVolume:1,enabled:!1},D.settingType=y,D.requestInProgress=!0,D.loadingFailed=!1,D.loadingDone=!1,D.isGameOpsSupported=!1;var P,k,G,F=t.getInstance("main.preferences/QuietMode2Controller");D.fanVolumeStrings=["l10n.quieter","l10n.quiet","l10n.balancedMode"],D.sliders=[{min:u.MIN,max:u.MAX,step:u.STEP,tractContainer:null,tickCanvas:null},{min:d.MIN,max:d.MAX,step:d.STEP,tractContainers:null,tickCanvas:null}],D.disableQuiteModeSwitch=function(){return D.requestInProgress||m.isOptimizeInProgress()},D.onChangeFanSpeedState=function(e,t){switch(D.quietStateInfo.fanVolume){case f.QUIETER:D.quietStateInfo.baseFrameRate=30;break;case f.QUIET:D.quietStateInfo.baseFrameRate=40;break;case f.BALANCED:D.quietStateInfo.baseFrameRate=60}D.onChangeQuiteMode2State(e,t)},D.optimizeGames=function(){F.info("optimize all games for quiet mode2"),I();var e=m.optimizeLocalGames();e||G()},P=function(){F.debug("registering game optimize events"),o.on(p.OPTIMIZE_GAMES_UPDATE,G)},k=function(){F.debug("unregistering game optimize events"),o.off(p.OPTIMIZE_GAMES_UPDATE,G)},G=function(e){k(),c.show({textContent:b("translate")("l10n.optimizeFinished")})},D.disableQuietMode2Switch=function(){return D.requestInProgress||m.isOptimizeInProgress()},D.onChangeQuiteMode2State=function(e,t){F.info("settingType changed",t),D.requestInProgress=e,r.setQuietMode2StateInfo(D.quietStateInfo).then(function(n){F.info("Quite mode 2 setState info",n),x("success","",t);var r=e&&D.isGameOpsSupported&&m.shouldProceedWithOptimizeAll(),i=D.quietStateInfo.enabled?"l10n.toastQuietModeIsEnabled":"l10n.toastQuietModeIsDisabled";r?c.show({textContentUseTranslate:i,isCustomIcon:!0,icon:"icon-optimized_reg",customColor:"color-green",hideDelay:0,button:{text:"l10n.optimize",action:function(){D.optimizeGames(),h.push(v.TOAST_CLICKED_WHISPER_MODE_2_OPTIMIZE_ALL)}}}):D.quietStateInfo.enabled===!1&&c.cancel()}).catch(function(e){F.error("setQuietMode2 failed with error:",e),x("failure",C(e.status),t);var n=b("translate")("l10n.unableToUpdateSettings");c.showError({textContent:n}),T()}).finally(function(){D.requestInProgress=!1})},n.ready(function(){var e=[".fan-control-slider",".fps-control-slider"],t=0;e.forEach(function(e){var r=angular.element(n[0].querySelector(e));r&&(M=angular.element(r[0].querySelector(".md-track-ticks")),M.css("display","block"),M.css("z-index","0"),M.find("canvas").css("display","none"),R=angular.element("<canvas>").css("position","absolute"),M.append(R),D.sliders[t].tickCanvas=R[0],O=angular.element(r[0].querySelector(".md-track-container")),D.sliders[t].tractContainer=O[0]),t++}),S()}),e.$on("$destroy",A),w()}]);t.preferencesGeneralQuiteMode2Controller=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesGeneralShareController=void 0;var r=n(4);n(25),n(367),n(19);var i=r.ngPreferencesModule.controller("PreferencesGeneralShareController",["$scope","preferencesService","$log","toastService","$filter","eventAggregator","COMMON_EVENTS","socketService","SHARE_SOCKET_EVENTS","keyboardService","SHARE_CONSTANTS","COMMON_HTTP_ERROR_CODES","PREFERENCES_EVENTS","INSTALLER_EVENTS","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","$timeout","preferencesFeatureService",function(e,t,n,r,i,o,a,l,s,c,u,d,f,m,p,g,v,h){function b(){t.getHotkeyShortcut(u.SHARE_HOTKEY_ID).then(function(e){P.translateValues.assignedKey=c.shortcutToStr(e.keys),P.shareHotkeyFetched=!0,k.info("Share hotkey: ",P.translateValues.assignedKey)}).catch(function(e){P.shareHotkeyFetched=!1,k.error("Error in retrieving shortcut for OpenShare:",e)})}function y(e){P.toggleState=!1,P.enabledShare=e.ready,k.info("Got OSC ready event with data",e.ready),D()}function E(){r.showError({textContent:i("translate")("l10n.tryRestartSystem")})}function S(){r.showError({textContent:i("translate")("l10n.openShareFailure")})}function _(){t.getShareRunningStatus().then(function(e){P.enabledShare=e,k.info("getShareRunningStatus returned: ",P.enabledShare),P.loadingDone=!0}).catch(function(e){k.error("getShareRunningStatus failed."),P.loadingDone=!0,P.enabledShare=!1})}function w(){_()}function A(){P.isAnselSupported?P.shareDialogDescription=i("translate")("l10n.shareDialogDescriptionWithAnsel"):P.shareDialogDescription=i("translate")("l10n.shareDialogDescription")}function T(){P.isShareSupported&&t.isAnselFeatureSupportedOnSystem().then(function(e){P.isAnselSupported=e.isSupported,A()})}function I(){t.isShareFeatureSupportedOnSystem().then(function(e){P.isShareSupported=e,k.info("isShareFeatureSupportedOnSystem response: ",P.isShareSupported),T()}).catch(function(e){k.error("isShareFeatureSupportedOnSystem failed.")})}function C(){k.info("onSysInfoUpdated event."),I(),_()}function x(e){P.toggleState=e,e===!0?M():D()}function D(){G&&(k.info("Stop OSC notification timer"),v.cancel(G),G=null)}function M(){D(),k.info("Start OSC notification timer"),G=v(function(){k.info("OSC ready notification timeout"),P.toggleState=!1,D(),_()},u.OSC_READY_EVENT_NOTIFICATION_INTERVAL)}function O(e){k.info("Hotkey changed notification:",e.notification,e.hotkeyId),e.notification===u.HOTKEY_CHANGED&&e.hotkeyId===u.SHARE_HOTKEY_ID&&b()}function R(){P.shareLoaded=t.shareAddonLoaded,P.shareLoaded||(P.enabledShare=!1)}function N(){R(),P.translateValues={assignedKey:i("translate")("l10n.shareShortcut")},b(),l.register(s.OSCREADY_UPDATE,a.OSC_READY),l.register(s.OSCHOTKEY_CHANGED_NOTIFICATION,a.OSC_HOTKEY_CHANGED),o.on(a.SHARE_STATUS_CHANGED,w),o.on(a.OSC_READY,y),o.on(a.SYSTEMINFO_UPDATED,C),o.on(a.SHARE_OPEN_IN_PROGRESS,x),o.on(a.OSC_HOTKEY_CHANGED,O),o.on(f.AUTOBETA_SETTING_CHANGED,T),o.on(m.INSTALL_DONE,T),o.on(a.GFWSL_LOCALE_PARAMS_UPDATED,A)}function L(){o.off(a.SHARE_STATUS_CHANGED,w),o.off(a.OSC_READY,y),o.off(a.SYSTEMINFO_UPDATED,C),o.off(a.SHARE_OPEN_IN_PROGRESS,x),o.off(a.OSC_HOTKEY_CHANGED,O),o.off(f.AUTOBETA_SETTING_CHANGED,T),o.off(m.INSTALL_DONE,T),o.off(a.GFWSL_LOCALE_PARAMS_UPDATED,A),D()}var P=this;P.enabledShare=!1,P.isShareSupported=!1,P.shareHotkeyFetched=!1,P.shareLoaded=!1,P.isAnselSupported=!1,P.shareDialogDescription=i("translate")("l10n.shareDialogDescription");var k=n.getInstance("main.preferences/PreferencesGeneralShareController");P.loadingDone=!1;var G;P.onChangeShareState=function(){x(!0),o.trigger(a.SHARE_STATUS_CHANGE_IN_PROGRESS,P.toggleState),t.toggleShareState(P.enabledShare).then(function(e){k.info("toggleShareState status: ",e),P.enabledShare?b():(x(!1),o.trigger(a.SHARE_STATUS_CHANGE_IN_PROGRESS,P.toggleState)),p.changeSetting(g.APPLICATION_SETTING_ENABLE_SHARE,!!P.enabledShare)}).catch(function(e){k.error("toggleShareState failed."),o.trigger(a.SHARE_STATUS_CHANGE_IN_PROGRESS,P.toggleState),P.enabledShare&&!P.shareLoaded&&e.status===d.NOT_FOUND?h.handleShareNotReady():E(),P.enabledShare=!1,x(!1),p.changeSettingFail(g.APPLICATION_SETTING_ENABLE_SHARE_FAILED,!!P.enabledShare,e.data&&e.data.code||e.status)})},_(),I(),P.showHotkeyInfoAndIcon=function(){return P.shareHotkeyFetched&&P.enabledShare&&!P.toggleState},P.openOscSettings=function(){t.openOscPreferences().then(function(e){k.info("Opened OSC Settings page successfully. ",e)}).catch(function(e){k.error("Error in opening OSC Settings page:",e),S()})},N(),e.$on("$destroy",L)}]);t.preferencesGeneralShareController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferenceGeneralShare=void 0;var i=n(4);n(15);var o=n(883),a=r(o);n(594);var l=i.ngPreferencesModule.component("nvPreferenceGeneralShare",{template:a.default,controller:"PreferencesGeneralShareController",controllerAs:"preferencesGeneralShare"});t.nvPreferenceGeneralShare=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesLedController=void 0;var i=n(4),o=n(723),a=r(o);n(385);var l=i.ngPreferencesModule.controller("PreferencesLedController",["$log","preferencesService","cefService","LED_EFFECT","ANIMATION","DEVICE_TYPE","VARIATION","$filter","LED_SELECTION","ZONE_LOCATION","LED_DEFAULTS","$document","$timeout",function(e,t,n,r,i,o,l,s,c,u,d,f,m){
function p(){C.showBrightnessSliderPanel=!0,C.sliderBrightness=C.selectedGpu.zone[C.selectedZoneIndex].variationParameter,C.selectedLedEffect===r.LED_ILLUMINATION_GPU_PROPERTY_LIMIT_REACHED?(C.brightnessSliderMin=0,C.selectedVariation===l.LED_ILLUMINATIONVARIATION_GPU_UTILIZATION?(C.labelBrightnessSlider=M("l10n.gpuUtilization")+" ("+M("l10n.percentageSign")+")",C.brightnessSliderMax=d.MAX_GPU_UTILIZATION):C.selectedVariation===l.LED_ILLUMINATIONVARIATION_GPU_TEMP?(C.labelBrightnessSlider=M("l10n.gpuTemparature")+" ("+M("l10n.centigrateSign")+")",C.brightnessSliderMax=d.MAX_GPU_TEMP):C.selectedVariation===l.LED_ILLUMINATIONVARIATION_GPU_CLOCK?(C.labelBrightnessSlider=M("l10n.gpuClock")+" ("+M("l10n.hertzSign")+")",C.brightnessSliderMax=d.MAX_GPU_CLOCK):C.selectedVariation===l.LED_ILLUMINATIONVARIATION_GPU_FANSPEED?(C.labelBrightnessSlider=M("l10n.gpuFanSpeed")+" ("+M("l10n.rpmSign")+")",C.brightnessSliderMax=d.MAX_GPU_FANSPEED):(C.labelBrightnessSlider=M("l10n.gpuVoltage")+" ("+M("l10n.volateSign")+")",C.brightnessSliderMax=d.MAX_GPU_VOLTAGE)):(C.selectedAnimationType===i.VARIABLE_BRIGHTNESS?C.labelBrightnessSlider=M("l10n.maxBrightness"):C.labelBrightnessSlider=M(C.showSliderBrightness===!0?"l10n.brightness":"l10n.brightnessRange"),C.brightnessSliderMin=d.MIN_BRIGHTNESS,C.brightnessSliderMax=d.MAX_BRIGHTNESS,C.selectedVariation===l.LED_ILLUMINATIONVARIATION_FIXED&&C.selectedAnimationType===i.NONE&&(C.brightnessSliderMin=0))}function g(){if(C.showAnimationSliderPanel=!0,C.selectedAnimationType===i.VARIABLE_BRIGHTNESS||C.selectedAnimationType===i.AUDIO_FLASHING)C.labelBrightnessSlider=M("l10n.maxBrightness"),C.showAnimationSliderPanel=!1;else{var e=_.findWhere(C.styleList,{animation:C.selectedAnimationType});C.labelAnimationSpeed=e?M(e.style)+" "+M("l10n.speed"):M("l10n.animationSpeed"),C.animationSliderMax=d.MAX_OTHER_ANIMATION_SPEED_SLIDER,C.animationSliderMin=C.selectedAnimationType===i.BREATHING?d.MIN_BRETHING_ANIMATION_SPEED_SLIDER:d.MIN_ANIMATION_SPEED_SLIDER}C.sliderAnimation=C.animationSliderMax+C.animationSliderMin-C.selectedGpu.zone[C.selectedZoneIndex].animationSpeed}function v(){C.showLabelLedeffects=!0,C.showComboLedEffects=!0,C.ledEffects=[{name:"l10n.ledOn",ledEffect:r.LED_ILLUMINATION_ON},{name:"l10n.ledOff",ledEffect:r.LED_ILLUMINATION_OFF}],C.syncAll===!1&&C.selectedGpu.deviceType==o.LOGO&&C.ledEffects.push({name:"l10n.ledOngpuProperty",ledEffect:r.LED_ILLUMINATION_GPU_PROPERTY_LIMIT_REACHED}),C.sliCount>0&&C.ledEffects.push({name:"l10n.onSliIsEnabled",ledEffect:r.LED_ILLUMINATION_SLI_ENABLED})}function h(){C.showComboVariation=!0,C.isEnableComboVariation=!0,C.variationList=[],C.selectedLedEffect===r.LED_ILLUMINATION_ON||C.selectedLedEffect===r.LED_ILLUMINATION_SLI_ENABLED?C.selectedAnimationType===i.NONE?C.variationList.push({name:"l10n.ledFixedBrightness",variation:l.LED_ILLUMINATIONVARIATION_FIXED}):C.syncAll===!0?C.variationList.push({name:"l10n.ledStyleBased",variation:l.LED_ILLUMINATIONVARIATION_NONE}):(C.selectedAnimationType!==i.VARIABLE_BRIGHTNESS&&C.variationList.push({name:"l10n.ledStyleBased",variation:l.LED_ILLUMINATIONVARIATION_NONE}),C.syncAll===!1&&C.selectedGpu.deviceType===o.LOGO&&C.selectedAnimationType!==i.AUDIO_FLASHING&&C.variationList.push({name:"l10n.gpuTemparature",variation:l.LED_ILLUMINATIONVARIATION_GPU_TEMP},{name:"l10n.gpuUtilization",variation:l.LED_ILLUMINATIONVARIATION_GPU_UTILIZATION},{name:"l10n.gpuClock",variation:l.LED_ILLUMINATIONVARIATION_GPU_CLOCK},{name:"l10n.gpuFanSpeed",variation:l.LED_ILLUMINATIONVARIATION_GPU_FANSPEED},{name:"l10n.gpuVoltage",variation:l.LED_ILLUMINATIONVARIATION_GPU_VOLTAGE})):C.variationList.push({name:"l10n.gpuTemparature",variation:l.LED_ILLUMINATIONVARIATION_GPU_TEMP},{name:"l10n.gpuUtilization",variation:l.LED_ILLUMINATIONVARIATION_GPU_UTILIZATION},{name:"l10n.gpuClock",variation:l.LED_ILLUMINATIONVARIATION_GPU_CLOCK},{name:"l10n.gpuFanSpeed",variation:l.LED_ILLUMINATIONVARIATION_GPU_FANSPEED},{name:"l10n.gpuVoltage",variation:l.LED_ILLUMINATIONVARIATION_GPU_VOLTAGE});var e=_.findWhere(C.variationList,{variation:C.selectedGpu.zone[C.selectedZoneIndex].variationType});C.selectedVariation=_.isUndefined(e)?C.variationList[0].variation:C.selectedGpu.zone[C.selectedZoneIndex].variationType,C.onLedVariationChange()}function b(){C.showAnimationStyle=!0,C.showComboAnimation=!0,C.styleList=[{style:"l10n.ledBreathing",animation:i.BREATHING},{style:"l10n.ledFlashing",animation:i.FLASHING},{style:"l10n.ledDualFlashing",animation:i.DUAL_FLASHING},{style:"l10n.ledRandom",animation:i.RANDOM},{style:"l10n.multiColor",animation:i.MULTICOLOR},{style:"l10n.colorCycle",animation:i.CYCLICCOLOR}],C.gpuCount>1&&C.syncAll===!0&&C.styleList.push({style:"l10n.ledAnimationElectric",animation:i.ELECTRIC}),C.sliCount>0&&C.syncAll===!0&&(C.styleList.push({style:"l10n.flowIn",animation:i.FLOW_IN}),C.styleList.push({style:"l10n.flowOut",animation:i.FLOW_OUT}),C.styleList.push({style:"l10n.reverseBreathing",animation:i.BREATHINGPUBREATHOUTSLI})),C.selectedLedEffect===r.LED_ILLUMINATION_ON&&(C.styleList.push({style:"l10n.ledNoAnimation",animation:i.NONE}),C.styleList.push({style:"l10n.ledAudioFlashing",animation:i.AUDIO_FLASHING}),C.gpuCount>2&&C.syncAll===!0&&C.styleList.push({style:"l10n.wave",animation:i.WAVE}),C.gpuCount>1&&C.syncAll===!0&&C.styleList.push({style:"l10n.ripple",animation:i.RIPPLE}),C.syncAll===!1&&C.styleList.push({style:"l10n.ledVariableBrighness",animation:i.VARIABLE_BRIGHTNESS}))}function y(e){var t=_.findWhere(C.styleList,{animation:C.selectedGpu.zone[C.selectedZoneIndex].animationType});C.selectedAnimationType=_.isUndefined(t)?C.styleList[0].animation:e}function E(e){var t=_.findWhere(C.ledEffects,{ledEffect:e});C.selectedLedEffect=void 0===t?C.ledEffects[0].ledEffect:e}function S(){t.getLedSettings().then(function(e){C.currentConfig=e,C.devices=e.ledConfig.devices,C.featureState=e.ledConfig.featureState,x.info("Get LED config: ",C.currentConfig),D=angular.copy(C.devices),C.gpuCount=0,C.sliCount=0,angular.forEach(D,function(e){e.deviceType===o.LOGO?C.gpuCount++:C.sliCount++}),C.selectedGpu=C.devices[0],C.selectedZoneIndex=0,C.syncAll=!1,C.selectedAnimationType=C.selectedGpu.zone[C.selectedZoneIndex].animationType,C.selectedLedEffect=C.selectedGpu.zone[C.selectedZoneIndex].ledEffect,C.selectedVariation=C.selectedGpu.zone[C.selectedZoneIndex].variationType,C.selectGpu(C.devices[0])}).catch(function(e){x.error("getLedSettings failed: "+e)})}function w(){var e=[];if(!angular.equals(D,C.devices))for(var t=0;t<C.devices.length;t++){for(var n,r=0;r<C.devices[t].zone.length;r++)if(!angular.equals(D[t].zone[r],C.devices[t].zone[r])){var i=angular.copy(C.devices[t].zone[r]);i.deviceId=C.devices[t].deviceId,i.deviceType=C.devices[t].deviceType,e.push(i);var o=D[t].zone[r].ledSelection;if(n=C.devices[t].zone[r].ledSelection,o!==n&&(n===c.ALL_LED||n===c.GPU_WIDE_LED))break}if(n===c.ALL_LED)break}return e}function A(e){var t=angular.element(f[0].querySelector(".red"));t[0].innerHTML=e.R;var n=angular.element(f[0].querySelector(".green"));n[0].innerHTML=e.G;var r=angular.element(f[0].querySelector(".blue"));if(r[0].innerHTML=e.B,C.preview){var i="rgb("+e.R+", "+e.G+", "+e.B+")";C.preview.style.background=i}}function T(e){var t=angular.element(f[0].querySelector(".red1"));t[0].innerHTML=e.R;var n=angular.element(f[0].querySelector(".green1"));n[0].innerHTML=e.G;var r=angular.element(f[0].querySelector(".blue1"));if(r[0].innerHTML=e.B,C.secondPreview){var i="rgb("+e.R+", "+e.G+", "+e.B+")";C.secondPreview.style.background=i}}function I(e,t){var n=e.getImageData(t.x,t.y,1,1);return n.data}var C=this,x=e.getInstance("main.preferences/PreferencesLedController"),D=void 0;C.selectedGpu=void 0,C.selectedLedEffect,C.selectedAnimationType,C.styleList,C.selectedVariation,C.variationList,C.defaultMinimumBrightness=d.MIN_BRIGHTNESS,C.defaultBrightness=d.DEFAULT_BRIGHTNESS,C.animationSliderMin=d.MIN_ANIMATION_SPEED_SLIDER,C.isSliLedSelected=!1,C.animationSliderMax=d.MAX_ANIMATION_SPEED_SLIDER,C.brightnessRangeSliderMin=d.MIN_BRIGHTNESS_RANGESLIDER,C.brightnessRangeSliderMax=d.MAX_BRIGHTNESS_RANGESLIDER;var M=s("translate");C.currentConfig={},C.devices=[],C.canvas=null,C.showColorPickerControl=!0,C.selectedMultiColorAnimation=!1;var O=[];O.push({name:"icon-gpu",zoneLocation:u.GPU_ILLUM_ZONE_LOCATION_NORTH_EDGE}),O.push({name:"icon-home",zoneLocation:u.GPU_ILLUM_ZONE_LOCATION_OUTER_FAN_EAST}),O.push({name:"icon-nvlogo",zoneLocation:u.GPU_ILLUM_ZONE_LOCATION_OUTER_FAN_WEST}),C.onLedEffectChange=function(){C.selectedGpu.zone[C.selectedZoneIndex].ledEffect=C.selectedLedEffect,C.selectedLedEffect===r.LED_ILLUMINATION_OFF?(C.showComboAnimation=!1,C.showAnimationSliderPanel=!1,C.showComboVariation=!1,C.showBrightnessSliderPanel=!1):(C.showSliderBrightness=!0,C.showSliderBrightnessRange=!1,b(),y(C.selectedGpu.zone[C.selectedZoneIndex].animationType),C.onAnimationTypeChange())},C.onAnimationTypeChange=function(){C.selectedGpu.zone[C.selectedZoneIndex].animationType=C.selectedAnimationType,C.showColorPickerControl=!0,C.selectedMultiColorAnimation=!1,C.isSecondPreviewControl=!1,C.selectedAnimationType===i.NONE?(C.showAnimationSliderPanel=!1,C.showComboVariation=!0,C.showBrightnessSliderPanel=!0,C.showSliderBrightness=!0,C.showSliderBrightnessRange=!1,h()):C.selectedAnimationType===i.AUDIO_FLASHING||C.selectedAnimationType===i.VARIABLE_BRIGHTNESS?(C.showSliderBrightness=!0,C.showSliderBrightnessRange=!1,h(),g()):C.selectedAnimationType===i.CYCLICCOLOR?(C.showColorPickerControl=!1,h()):C.selectedAnimationType===i.MULTICOLOR?(C.selectedMultiColorAnimation=!0,h(),m(function(){C.secondPreview=f[0].querySelector(".secondPreview"),C.startRGBColor=C.selectedGpu.zone[C.selectedZoneIndex].startRGB,T(C.selectedGpu.zone[C.selectedZoneIndex].endRGB)},10)):(C.selectedLedEffect!==r.LED_ILLUMINATION_GPU_PROPERTY_LIMIT_REACHED&&(C.showSliderBrightness=!1,C.showSliderBrightnessRange=!0),g(),h()),C.buttonApply=!0,C.buttonCancel=!0},C.onLedVariationChange=function(){C.selectedGpu.zone[C.selectedZoneIndex].variationType=C.selectedVariation,x.info("onLedVariationChange",C.selectedGpu.zone),C.selectedLedEffect!==r.LED_ILLUMINATION_OFF?p():(C.showBrightnessSliderPanel=!1,C.showAnimationSliderPanel=!1),C.selectedLedEffect!==r.LED_ILLUMINATION_ON&&C.selectedLedEffect!==r.LED_ILLUMINATION_SLI_ENABLED||(C.selectedVariation===l.LED_ILLUMINATIONVARIATION_GPU_CLOCK||C.selectedVariation===l.LED_ILLUMINATIONVARIATION_GPU_FANSPEED||C.selectedVariation===l.LED_ILLUMINATIONVARIATION_GPU_TEMP||C.selectedVariation===l.LED_ILLUMINATIONVARIATION_GPU_UTILIZATION||C.selectedVariation===l.LED_ILLUMINATIONVARIATION_GPU_VOLTAGE||C.selectedVariation===l.LED_ILLUMINATIONVARIATION_SYSTEM_VOLUME||C.selectedVariation===l.LED_ILLUMINATIONVARIATION_FIXED?C.showAnimationSliderPanel=!1:C.showAnimationSliderPanel=!0),C.buttonApply=!0,C.buttonCancel=!0},C.selectedZone=function(e){C.selectedZoneIndex=e,C.selectedAnimationType=C.selectedGpu.zone[C.selectedZoneIndex].animationType,C.selectedVariation=C.selectedGpu.zone[C.selectedZoneIndex].variationType,v(),E(C.selectedGpu.zone[C.selectedZoneIndex].ledEffect),C.onLedEffectChange(),A(C.selectedGpu.zone[C.selectedZoneIndex].startRGB)},C.selectGpu=function(e){C.syncAll=e.zone[0].ledSelection===c.ALL_LED,C.syncZones=e.zone[0].ledSelection===c.ALL_LED||C.selectedGpu.zone[0].ledSelection===c.GPU_WIDE_LED,C.selectedGpu=e,C.selectedZone(0)},C.onSyncAllChanged=function(){C.syncZones=!0,C.selectedGpu=C.devices[0],C.syncAll===!0?(C.selectedGpu.zone[0].ledSelection=c.ALL_LED,x.info("All led option is selected")):(x.info("all Led option is un-selected."),C.selectedGpu.zone.length>1?(C.selectedGpu.zone[0].ledSelection=c.GPU_WIDE_LED,x.info("set syncZone to true")):(C.selectedGpu.zone[0].ledSelection=c.INDIVIDUAL_LED,C.syncZones=!1,x.info("set syncZone to false"))),C.selectedZone(0)},C.onSyncZonesChanged=function(){C.syncZones===!0?(C.selectedGpu.zone[0].ledSelection=c.GPU_WIDE_LED,x.info("sync zone is is selected")):(x.info("sync zone is un-seleced, set indivisual LED option"),C.selectedGpu.zone[0].ledSelection=c.INDIVIDUAL_LED),C.selectedZone(0)},C.onBrightnessRangeSliderChange=function(){},C.onBrightnessSliderChange=function(){C.selectedGpu.zone[C.selectedZoneIndex].variationParameter=C.sliderBrightness},C.onAnimationSliderChange=function(){C.selectedGpu.zone[C.selectedZoneIndex].animationSpeed=C.animationSliderMax-C.sliderAnimation},C.isSliDevice=function(e){return e.deviceType===o.SLI},C.getZoneIcon=function(e){var t=_.findWhere(O,{zoneLocation:e});return t.name},C.isIndivisualLedSelected=function(){var e=C.selectedGpu.zone[0].ledSelection===c.INDIVIDUAL_LED;return e},C.showZones=function(){return C.selectedGpu&&C.selectedGpu.zone.length>1},C.showAllLedOption=function(){return C.gpuCount>1},C.applySettings=function(){var e={};if(C.featureState===!1)e={requestType:2,featureState:!1};else{var t=w();e=0===t.length&&C.featureState===!0?{requestType:2,featureState:!0}:{requestType:2,ledSettings:t}}n.onJsonMessage(e,"cefExtensionNvLedApi").then(function(e){var t=JSON.parse(e);x.info("Apply LED Settings response: ",t)})},C.cancelSettings=function(){C.devices=angular.copy(D),C.selectedZoneIndex=0,C.syncAll=!1,C.selectGpu(C.devices[0])},C.colorPreviewClicked=function(e){1===e?C.isSecondPreviewControl=!1:2===e&&(C.isSecondPreviewControl=!0)},C.showColorPicker=function(){if(C.canvas=f[0].getElementById("picker"),C.preview=f[0].querySelector(".preview"),C.secondPreview=f[0].querySelector(".secondPreview"),C.canvas){var e=function(e,t){var n=e.getBoundingClientRect();return{x:t.clientX-n.left,y:t.clientY-n.top}},t=C.canvas.getContext("2d");C.mouseDown=!1,C.canvas.onmousedown=function(){var e=C.canvas.getContext("2d"),t=new Image,n=a.default;t.src=n,e.clearRect(0,0,t.width,t.height),e.drawImage(t,0,0,t.width,t.height),C.mouseDown=!0},C.canvas.onmouseup=function(t){var n=C.canvas.getContext("2d"),r=new Image,i=a.default;r.src=i,n.clearRect(0,0,r.width,r.height),n.drawImage(r,0,0,r.width,r.height);var o=e(C.canvas,t),l=I(n,o),s={R:l[0],G:l[1],B:l[2]};C.isSecondPreviewControl?(C.selectedGpu.zone[C.selectedZoneIndex].startRGB=C.startRGBColor,C.selectedGpu.zone[C.selectedZoneIndex].endRGB=s):(C.selectedGpu.zone[C.selectedZoneIndex].startRGB=s,C.selectedGpu.zone[C.selectedZoneIndex].endRGB=s,C.startRGBColor=s),n.beginPath(),n.moveTo(o.x,o.y-12),n.lineTo(o.x,o.y+12),n.moveTo(o.x-12,o.y),n.lineTo(o.x+12,o.y),n.strokeStyle="#DB14C1",n.stroke(),n.closePath(),C.mouseDown=!1},C.canvas.onmousemove=function(t){if(C.mouseDown!==!1){var n=C.canvas.getContext("2d"),r=e(C.canvas,t),i=I(n,r),o={R:i[0],G:i[1],B:i[2]};C.isSecondPreviewControl?T(o):A(o)}};var n=new Image,r=a.default;n.src=r,n.onload=function(){t.drawImage(n,0,0,n.width,n.height)}}},C.applyAllGpu=function(){C.syncAll=!0,C.onSyncAllChanged()},C.applyEachGpu=function(){C.syncAll=!1,C.onSyncAllChanged()},C.isSelectedGpu=function(e){return angular.equals(e,C.selectedGpu)},C.onfeatureStateChange=function(){},f.ready(function(){C.showColorPicker()}),S()}]);t.preferencesLedController=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesLed=void 0;var i=n(4),o=n(884),a=r(o);n(596);var l=i.ngPreferencesModule.directive("nvPreferencesLed",[function(){return{restrict:"E",template:a.default,controller:"PreferencesLedController",controllerAs:"preferencesLed"}}]);t.nvPreferencesLed=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesShieldController=void 0;var r=n(4);n(25),n(19);var i=r.ngPreferencesModule.controller("PreferencesShieldDevicesController",["preferencesService","$log","toastService","$filter",function(e,t,n,r){var i=this,o=t.getInstance("main.preferences/PreferencesShieldDevicesController");i.removeAllDevices=function(){e.unpairAllShieldDevices().then(function(e){o.info("Unpaired all shield devices"),n.showError({textContent:r("translate")("l10n.shieldDevicesRemoved")})}).catch(function(e){o.error("unpairAllShieldDevices failed: ",e),n.showError({textContent:r("translate")("l10n.shieldDevicesRemoveFailed")})})}}]);t.preferencesShieldController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesShieldDevices=void 0;var i=n(4),o=n(885),a=r(o);n(598);var l=i.ngPreferencesModule.component("nvPreferencesShieldDevices",{template:a.default,controller:"PreferencesShieldDevicesController",controllerAs:"preferencesShieldDevices"});t.nvPreferencesShieldDevices=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesShieldController=void 0;var r=n(4);n(25);var i=r.ngPreferencesModule.controller("preferencesShieldController",["preferencesService","$scope","eventAggregator","PREFERENCES_EVENTS","COMMON_DYNAMIC_REDIRECT","$window","$log","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES",function(e,t,n,r,i,o,a,l,s){function c(){e.gameStreamAddonLoaded&&e.isGameStreamFeatureSupported?u.showContent=!0:u.showContent=!1}var u=this,d=a.getInstance("main.preferences/preferencesShieldController");u.onTroubleshootLinkClick=function(){var e=i.BASE_URL+"enu&page="+i.SHIELD_TROUBLESHOOTING;d.info("SHIELD troubleshooting redirects to url:: ",e),l.push(s.SHIELD_TROUBLESHOOTING_HELP),o.open(e)},c(),n.on(r.FEATURE_UPDATED_GS,c),t.$on("$destroy",function(){n.off(r.FEATURE_UPDATED_GS,c)})}]);t.preferencesShieldController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesShield=void 0;var i=n(4);n(604),n(599);var o=n(886),a=r(o);n(600);var l=i.ngPreferencesModule.component("nvPreferencesShield",{template:a.default,controller:"preferencesShieldController",controllerAs:"preferencesShield"});t.nvPreferencesShield=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appCollectorEditDialogController=void 0;var r=n(4),i=r.ngPreferencesModule.controller("AppcollectorEditDialogController",["cefService","$mdDialog","$log","$timeout","$document",function(e,t,n,r,i){function o(){var e=angular.element(i[0].querySelector(".app-target"))[0];l.showTargetTooltip=e.scrollWidth>e.offsetWidth}function a(){var e=angular.element(i[0].querySelector(".app-startin"))[0];l.showDirectoryTooltip=e.scrollWidth>e.offsetWidth}var l=this,s=n.getInstance("main.preferences/AppcollectorEditDialogController");l.maxSize=256,l.target=null,l.startIn=null,l.showTargetTooltip=!1,l.showDirectoryTooltip=!1,l.selectedApp.AppData.OriginalFilename=l.selectedApp.AppData.Name;var c=_.extend({},l.selectedApp.AppData);l.openTargetFileDialog=function(){var t={"Programs and shortcuts":"*.exe; *.lnk; *.bat; *.url"};return e.localDirectoryExplorer(!0,t,!0).then(function(e){l.selectedApp.AppData.TargetPath=e,r(o,10)}).catch(function(e){s.error("AppCollector:OpenTargetFileDialog failed or cancelled")})},l.openStartInFileDialog=function(){return e.localDirectoryExplorer(!1,{},!0).then(function(e){l.selectedApp.AppData.WorkingDirectory=e,r(a,10)}).catch(function(e){s.error("AppCollector:OpenTargetFileDialog failed or cancelled")})},l.openBoxArtFileDialog=function(){var t={"All Pictures":"*.png; *.bmp; *.jpg; *.jpeg"};return e.localDirectoryExplorer(!0,t,!0).then(function(e){l.selectedApp.AppData.BoxArtPath=e}).catch(function(e){s.error("AppCollector:OpenTargetFileDialog failed or cancelled")})},l.cancel=function(){t.cancel()},l.done=function(){l.selectedApp.AppData.ModifiedFilename=l.selectedApp.AppData.Name;var e=l.selectedApp.AppData.BoxArtPath.indexOf("?");e>0&&(l.selectedApp.AppData.BoxArtPath=l.selectedApp.AppData.BoxArtPath.substring(0,e)),l.updateApplication(l.selectedApp.AppData),t.hide()},l.remove=function(){l.removeApp(),t.hide()},l.canSubmit=function(){return void 0!==l.selectedApp.AppData.Name&&null!==l.selectedApp.AppData.Name&&""!==l.selectedApp.AppData.Name&&!_.isEqual(l.selectedApp.AppData,c)},r(function(){o(),a()})}]);t.appCollectorEditDialogController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesShieldGamestreamController=void 0;var i=n(4);n(25),n(168),n(35),n(15);var o=n(887),a=r(o);n(602),n(18),n(19);var l=i.ngPreferencesModule.controller("PreferencesShieldGamestreamController",["preferencesService","$log","$window","cefService","toastService","$filter","$mdDialog","$document","$timeout","localeService","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_SCREENS","COMMON_DYNAMIC_REDIRECT","dialogService","COMMON_HTTP_ERROR_CODES","$scope",function(e,t,n,r,i,o,l,s,c,u,d,f,m,p,g,v,h){function b(){C.gameStreamLoaded=e.gameStreamAddonLoaded,C.gameStreamLoaded||(C.isStreamingEnabled=!1)}function y(){b(),d.setScreen(m.SCREEN_PREFERENCES_SHIELD)}function E(){i.showError({textContent:o("translate")("l10n.tryRestartSystem")})}function S(){M=c(function(){var e=angular.element(s[0].querySelector(".appcollector-content-height"))[0],t=angular.element(e.querySelector(".shield-tile-content-outline"))[0],n=t.offsetTop+t.offsetHeight-e.offsetHeight;e.scrollTop=n,M=null})}function w(e){if(e.data&&e.data.NodeError)switch(e.data.NodeError){case 7:case 2:i.showError({textContent:o("translate")("l10n.unsupportedFileType")});break;case 11:i.showError({textContent:o("translate")("l10n.fileNotFound")});break;case 8:var t=_.find(C.streamApps,function(t){return t.AppData.TargetPath===e.config.data.Path});x.error("duplicate app being added ",t),C.selectedAppChanged(t),S();break;default:x.error("gameStream Add or Edit failed"),E()}else x.error("gameStream Add or Edit failed with unexpected format"),E()}function A(e){return e=e+"?"+(new Date).getTime()}function T(){g.show("nv-dialog-text",{title:"l10n.gameStreamNotReady",style:"feature-error-dialog",text:"l10n.featureErrorMessage",button1:{text:"l10n.gotItText",action:g.cancel}})}function I(){M&&(x.info("pending scroll to timeout cancelled"),c.cancel(M))}var C=this,x=t.getInstance("main.preferences/PreferencesShieldGamestreamController"),D=null,M=null;C.isStreamingEnabled=!1,C.isServerStatusCheckDone=!1,C.streamApps=[],C.gameStreamLoaded=!1,C.requestInProgress=!0,C.selectedAppChanged=function(e){D=e},e.getStreamApp().then(function(e){x.info("Streaming Apps Found",e.data.AppsData),C.streamApps=e.data.AppsData,C.streamApps.forEach(function(e){e.AppData.BoxArtPath=A(e.AppData.BoxArtPath)}),C.streamApps&&C.streamApps.length>0&&C.selectedAppChanged(C.streamApps[0])}).catch(function(e){x.error("getStreamApp failed with error: ",e),E()}).finally(function(){C.requestInProgress=!1}),e.getGameStreamServerStatus().then(function(e){C.isStreamingEnabled=e.data.streamingEnabled,C.isServerStatusCheckDone=!0,x.info("getGameStreamServerStatus: streamingEnabled-",e.data.streamingEnabled,", streamingSupported-",e.data.streamingSupported)}).catch(function(e){C.isServerStatusCheckDone=!0,x.error("getGameStreamServerStatus failed with error:"),E()}),C.onChangeServerState=function(){C.toggleState=!0,e.updateGameStreamServerStatus(C.isStreamingEnabled).then(function(e){d.changeSetting(f.APPLICATION_SETTING_ENABLE_GAMESTREAM,C.isStreamingEnabled.toString()),x.info("updateGameStreamServerStatus status: ",e),C.toggleState=!1}).catch(function(e){x.error("updateGameStreamServerStatus failed with error:"),C.toggleState=!1,d.changeSettingFail(f.APPLICATION_SETTING_ENABLE_GAMESTREAM_FAILED,C.isStreamingEnabled.toString(),e.status),C.isStreamingEnabled&&!C.gameStreamLoaded&&e.status===v.NOT_FOUND?T():E(),C.isStreamingEnabled=!1})},C.onLaunchUrl=function(){var e=p.BASE_URL+u.getCurrentLocaleWithUnderscore()+"&page="+p.GAME_STREAM_REQUIREMENTS;x.info("Gamestream redirects to url:: ",e),n.open(e)},C.add=function(){var t={"Programs and shortcuts":"*.exe; *.lnk; *.bat; *.url"};return x.info("User adding new game stream App"),r.localDirectoryExplorer(!0,t,!0).then(function(t){C.requestInProgress=!0,x.info("Adding new game stream App: ",t),e.appCollectorAdd(t).then(function(e){C.streamApps.push(e.data),x.info("new stream app added: ",e),C.selectedAppChanged(e.data),S()}).catch(function(e){w(e)}).finally(function(){C.requestInProgress=!1})}).catch(function(e){e.isCancelled||(x.error("addAppCollector app localDirectoryExplorer: failed"),E())})},C.remove=function(){C.requestInProgress=!0,x.info("deleting stream app: ",D),e.appCollectorRemove(D.AppData.Name).then(function(e){C.streamApps.splice(C.streamApps.indexOf(D),1),D=null,C.streamApps.length>0&&C.selectedAppChanged(C.streamApps[0]),x.info("Deleted stream app")}).catch(function(e){x.error("gameStream Remove failed:"),E()}).finally(function(){C.requestInProgress=!1})},C.canNotRemove=function(){return void 0===D||null===D||C.requestInProgress===!0},C.updateApp=function(t){x.info("AppCollector:Edit:: ",t),C.requestInProgress=!0,e.appCollectorEdit(t).then(function(e){e.data.AppData.BoxArtPath=A(e.data.AppData.BoxArtPath),C.streamApps[C.streamApps.indexOf(D)]=e.data,D=e.data,x.info("Stream app updated")}).catch(function(e){w(e)}).finally(function(){C.requestInProgress=!1})},C.edit=function(){var e=l.show({template:a.default,locals:{selectedApp:angular.copy(D),removeApp:C.remove,updateApplication:C.updateApp},clickOutsideToClose:!0,controller:"AppcollectorEditDialogController",controllerAs:"vm",bindToController:!0});e.then(function(){}).catch(function(){x.error("AppCollector:Edit - can not open dialog winodw")})},C.hasAppsAndServerStatusDone=function(){return C.isServerStatusCheckDone&&C.streamApps.length>0},C.isSelected=function(e){return void 0!==D&&null!==D&&D.AppData.Name===e.AppData.Name},y(),h.$on("$destroy",I)}]);t.preferencesShieldGamestreamController=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesShieldGamestream=void 0;var i=n(4);n(606);var o=n(888),a=r(o);n(603);var l=i.ngPreferencesModule.component("nvPreferencesShieldGamestream",{template:a.default,controller:"PreferencesShieldGamestreamController",controllerAs:"preferencesShieldGamestream"});t.nvPreferencesShieldGamestream=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesShieldTileController=void 0;var r=n(4),i=r.ngPreferencesModule.controller("PreferencesShieldTileController",[function(){var e=this,t=!1;e.showOverlay=function(e){t=e},e.isOverlayVisible=function(){return t}}]);t.preferencesShieldTileController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesShieldTile=void 0;var i=n(4);n(15),n(35);var o=n(889),a=r(o);n(605);var l=i.ngPreferencesModule.component("nvPreferencesShieldTile",{bindings:{nvApp:"="},template:a.default,controller:"PreferencesShieldTileController",controllerAs:"vm"});t.nvPreferencesShieldTile=l},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesSystemInfoController=void 0;var i=n(3),o=r(i),a=n(4);n(23);var l=a.ngPreferencesModule.controller("PreferencesSystemInfoController",["$log","hardwareService","$translate","$q","eventAggregator","COMMON_EVENTS","$scope",function(e,t,n,r,i,a,l){function s(e,t){return Number(Math.round(e+"e"+t)+"e-"+t)}function c(e){var t,n;try{return o.isString(e)?(n=e/T/T/T,t=s(n,2),isNaN(t)?A:t+" GB RAM"):A}catch(e){return x.error("failed to format memory",e),A}}function u(e){var t,n,r;try{return o.isString(e)?(t=e.split("@"),2===t.length&&(n=t[0].split("x"),2===n.length)?r=n[0]+" x "+n[1]+", "+t[1]+"Hz":A):A}catch(e){return x.error("failed to format resolution",e),A}}function d(){var e,t;return w={},_?(w.cpuName=o.isString(_.CPUName)?_.CPUName:A,w.driverVersion=o.isString(_.DriverVersion)?y+_.DriverVersion:A,w.totalPhysicalMemory=c(_.TotalPhysicalMemory),w.currentResolution=u(_.CurrentResolution),e=o.isArray(_.GPU)?_.GPU.length:0,0===e?w.gpuName=A:1===e?w.gpuName=_.GPU[0].LongGPUName:(t=o.rest(_.GPU),w.gpuName=_.GPU[0].LongGPUName,w.gpuSubItems=o.pluck(t,"LongGPUName")),void x.info("createItems - systemInfo",w)):(x.info("createItems - hardware info not available"),r.reject())}function f(){return y?r.when(y):E?E:E=n(["l10n.driverVersion"]).then(function(e){y=e["l10n.driverVersion"]+" "})}function m(e,t){S.systemInfoItems[t]=e}function p(){S.systemInfoItems=[],m({icon:"icon-gpu",description:w.gpuName,subItems:w.gpuSubItems},I.GPU),m({icon:"icon-nvlogo",description:w.driverVersion},I.DRIVER_VERSION),m({icon:"icon-memory",description:w.cpuName},I.CPU),m({icon:"icon-ram",description:w.totalPhysicalMemory},I.RAM),m({icon:"icon-monitor",description:w.currentResolution},I.RESOLUTION)}function g(e){return _=e,f().then(d).then(p).then(function(){S.loadingState=C.DONE})}function v(e){x.info("sysinfo updated"),S.loadingState=C.LOADING,_=null,g(e).catch(function(e){S.loadingState=C.FAILED,x.error("failed to update system info",e)})}function h(){x.info("Controller initialized"),i.on(a.SYSTEMINFO_UPDATED,v),i.on(a.LOCALE_CHANGED,b),l.$on("$destroy",function(){i.off(a.SYSTEMINFO_UPDATED,v),i.off(a.LOCALE_CHANGED,b)}),t.getSystemInfo().then(g).catch(function(e){S.loadingState=C.FAILED,x.error("failed to init system info",e)})}function b(){_?(x.info("System info updated on locale change"),y=null,E=null,g(_)):x.info("No hardware information to update system information.")}var y,E,S=this,_=null,w={},A="-",T=1024,I={GPU:0,DRIVER_VERSION:1,CPU:2,RAM:3,RESOLUTION:4},C={LOADING:"LOADING",FAILED:"FAILED",DONE:"DONE"},x=e.getInstance("main.games/PreferencesSystemInfoController");S.systemInfoItems=[],S.ITEM_POSITION=I,S.LOADING_STATE=C,S.loadingState=C.LOADING,h()}]);t.preferencesSystemInfoController=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesSystemInfo=void 0;var i=n(4),o=n(890),a=r(o);n(607);var l=i.ngPreferencesModule.component("nvPreferencesSystemInfo",{template:a.default,controller:"PreferencesSystemInfoController",controllerAs:"preferencesSystemInfo"});t.nvPreferencesSystemInfo=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.couponInputController=void 0;var r=n(53),i=r.ngRewardsModule.controller("CouponInputController",["$log","REWARDS_CONSTANTS","eventAggregator","$scope","REWARDS_EVENTS",function(e,t,n,r,i){function o(){s.couponCode="",s.validateCoupon()}function a(){s.codeInvalid=!0,s.actionButtonDisabled=!0}function l(){n.on(i.COUPON_INPUT.CLEAR_CODE,o),n.on(i.COUPON_INPUT.INVALIDATE_CODE,a),s.validateCoupon()}var s=this,c=(e.getInstance("main.rewards/CouponInputController"),"");s.couponCode=c,s.validateCoupon=function(){if(s.codeInvalid=!1,s.couponCode){s.couponCode=s.couponCode.replace(/\s+/g,"");var e=new RegExp(/^[a-zA-Z0-9]*$/);if(s.codeInvalid=!e.test(s.couponCode),s.couponCode.length>t.REWARDS_COUPONS.CODE_LENGTH_NO_DASHES-1?(s.couponCode=s.couponCode.slice(0,t.REWARDS_COUPONS.CODE_LENGTH_NO_DASHES),s.codeInvalid=!e.test(s.couponCode),s.actionButtonDisabled=s.codeInvalid):s.actionButtonDisabled=!0,s.couponCode.length>c.length){if(s.couponCode.replace(/-/g,"").length-c.replace(/-/g,"").length>1||0===s.couponCode.indexOf(c))n.trigger(i.COUPON_INPUT.RESTORE_CARET);else for(var r=0;r<s.couponCode.length;r++)if(s.couponCode.charAt(r)!==c.charAt(r)){n.trigger(i.COUPON_INPUT.RESTORE_CARET,++r);break}}else if(s.couponCode.length===c.length&&s.couponCode!==c){for(var o=0;o<s.couponCode.length;o++)if(s.couponCode.charAt(o)!==c.charAt(o)){n.trigger(i.COUPON_INPUT.RESTORE_CARET,++o);break}}else if(s.couponCode===c||c.length-s.couponCode.length>1)n.trigger(i.COUPON_INPUT.RESTORE_CARET,-1);else for(var a=0;a<s.couponCode.length;a++)if(s.couponCode.charAt(a)!==c.charAt(a)){n.trigger(i.COUPON_INPUT.RESTORE_CARET,a);break}c=s.couponCode}else s.actionButtonDisabled=!0,c=""},s.redeemCoupon=function(){s.nvButton.action(s.couponCode);
},l(),r.$on("$destroy",function(){n.off(i.COUPON_INPUT.CLEAR_CODE,o),n.off(i.COUPON_INPUT.INVALIDATE_CODE,a)})}]);t.couponInputController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvCouponInput=void 0;var i=n(53),o=n(318),a=r(o);n(609);var l=i.ngRewardsModule.directive("nvCouponInput",["eventAggregator","REWARDS_EVENTS","$log","$timeout","COMMON_KEYBOARD_KEYCODES",function(e,t,n,r,i){return{restrict:"E",scope:{nvInputPlaceholder:"=",nvButton:"=",nvErrorMessage:"@"},bindToController:!0,template:a.default,controller:"CouponInputController",controllerAs:"couponInput",link:function(o,a,l){function s(){p[0].focus()}function c(){p[0].blur()}function u(e){g=e}function d(e){if(g.ctrlKey&&g.which===i.V||_.isNull(e)||isNaN(e))r(function(){p[0].value=p[0].value});else if(e===-1){var t=p[0].selectionStart;r(g.which===i.SPACE?function(){p[0].setSelectionRange(t--,t--)}:function(){p[0].setSelectionRange(t,t)})}else r(function(){p[0].setSelectionRange(e,e)})}function f(){e.off(t.COUPON_INPUT.FOCUS,s),e.off(t.COUPON_INPUT.BLUR,c),e.off(t.COUPON_INPUT.RESTORE_CARET,d),p&&p.off("keydown",u),a.empty(),a.remove(),a=null,p=null}function m(){e.on(t.COUPON_INPUT.FOCUS,s),e.on(t.COUPON_INPUT.BLUR,c),e.on(t.COUPON_INPUT.RESTORE_CARET,d),p.on("keydown",u),o.$on("$destroy",f),a.on("$destroy",function(){o.$destroy()})}var p=(n.getInstance("main.rewards/CouponInputDirective"),angular.element(a.find("input"))),g={which:i.DEFAULT};m()}}}]);t.nvCouponInput=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.rewardCardController=void 0;var i=n(53),o=n(242);r(o);n(230),n(15),n(42),n(166);var a=i.ngRewardsModule.controller("RewardCardController",["$filter","$log","REWARDS_CONSTANTS","eventAggregator","REWARDS_EVENTS","TELEMETRY_CRIMSON_EVENT_NAMES","telemetryService","TELEMETRY_AFFINITY_ACTION","TELEMETRY_AFFINITY_ELEMENT","REWARDS_ASSET_DIMENSIONS","rewardsService",function(e,t,n,r,i,o,a,l,s,c,u){function d(){var t=f.nvReward.campaign.rules.end_date,n=f.nvReward.redemptionDate;t=e("date")(t,"dd MMM yyyy"),n=e("date")(n,"dd MMM yyyy"),f.cardTitle="",f.isRewardRedeemed()?(f.rewardImageUrl=u.getFormattedImageUrl(f.nvReward.product[0].imageLink,c.CARD),f.cardTitle=f.nvReward.product[0].title,f.showOverlay=!0,f.rewardStatusIcon=p.REDEEMED,f.rewardStatusMessage=e("translate")("l10n.redeemed"),n?f.rewardDate=e("translate")("l10n.redeemedOn",{date:n}):(v.error("Unexpected scenario: Got a redeemed reward with no transaction date"),f.rewardDate=null)):(f.rewardImageUrl=u.getFormattedImageUrl(f.nvReward.campaign.imageLink,c.CARD),f.cardTitle=f.nvReward.campaign.title,f.isRewardExpired()?(f.showOverlay=!0,f.rewardStatusIcon=p.EXPIRED,f.rewardStatusMessage=e("translate")("l10n.expired"),t?f.rewardDate=e("translate")("l10n.expiredOn",{date:t}):(v.error("Unexpected scenario: Got an expired reward with no expiration date"),f.rewardDate=null)):f.isRewardLocked()?(f.perkLevel=f.nvReward.campaign.rules.perkLevel,f.showOverlay=!0,f.rewardDate=null):(f.showOverlay=!1,t?f.rewardDate=e("translate")("l10n.availableTill",{date:t}):(v.info("Reward with this uuid is set to never expire: ",m),f.rewardDate=null)))}var f=this,m=f.nvReward.campaign.uuid,p={REDEEMED:"done",EXPIRED:"error_outline"},g=!1,v=t.getInstance("main.rewards/RewardCardController");f.isPushedReward=function(){return f.isRewardAvailable()&&f.nvReward.state!==n.REDEMPTION_STATES.CLAIMABLE||!1},f.isRewardAvailable=function(){return f.nvReward.status===n.REDEMPTION_STATES.AVAILABLE},f.isRewardRedeemedOrExpired=function(){return f.isRewardRedeemed()||f.isRewardExpired()},f.isRewardRedeemed=function(){return f.nvReward.redemptionStatus===n.REDEMPTION_STATES.REDEEMED},f.isRewardExpired=function(){return f.nvReward.redemptionStatus===n.REDEMPTION_STATES.EXPIRED},f.isRewardLocked=function(){return f.nvReward.redemptionStatus===n.REDEMPTION_STATES.LOCKED},f.onMouseEnter=function(){g=!0,f.isRewardAvailable()&&(f.showOverlay=!0)},f.onMouseLeave=function(){g=!1,f.isRewardAvailable()&&(f.showOverlay=!1)},f.isDetailsButtonVisible=function(){return f.isRewardRedeemed()&&g},f.redeemReward=function(e){f.isRewardExpired()||(f.nvReward.redemptionStatus===n.REDEMPTION_STATES.UNREDEEMED?a.push(o.REWARDS_REDEEM_AVAILABLE_REWARD,{campaignName:a.getString(m)}):f.nvReward.redemptionStatus===n.REDEMPTION_STATES.LOCKED?a.push(o.USER_AFFINITY_READ_MORE,{action:l.READ_INFO,useCase:s.PERK,description:a.getString(m)}):f.nvReward.redemptionStatus===n.REDEMPTION_STATES.CLAIMABLE?a.push(o.REWARDS_CLAIM_AVAILABLE_REWARD,{campaignName:a.getString(m)}):f.nvReward.redemptionStatus===n.REDEMPTION_STATES.REDEEMED&&a.push(o.REWARDS_VIEW_REDEEMED_REWARD,{campaignName:a.getString(m)}),r.trigger(i.REWARD_REDEEM_CLICKED,f.nvReward))},d()}]);t.rewardCardController=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvRewardCard=void 0;var i=n(53),o=n(891),a=r(o);n(611),n(42);var l=i.ngRewardsModule.component("nvRewardCard",{bindings:{nvReward:"="},template:a.default,controller:"RewardCardController",controllerAs:"rewardCard"});t.nvRewardCard=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.rewardsCenterController=void 0;var i=n(12),o=r(i),a=n(53);n(122);var l=n(242),s=r(l);n(230);var c=n(318);r(c);n(610),n(15),n(19),n(29),n(297),n(13),n(37),n(55);var u=a.ngRewardsModule.controller("RewardsCenterController",["rewardsService","$filter","$log","REWARDS_CONSTANTS","$mdDialog","eventAggregator","REWARDS_EVENTS","COMMON_EVENTS","toastService","gfeService","$scope","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","windowSpawnService","$window","jarvisService","dbCacheService","DB_NAMES","$state","$q","COMMON_DEFAULT_STATES","$interval","$timeout","NOTIFICATION_EVENTS","cevoToggleService","gfeGeolocationService","COMMON_COUNTRY_CODES","USER_PROFILE_EVENTS","GFECLIENT_CONFIG","REWARDS_ENTITLEMENT_TYPES","PORTAL_EVENT_CATEGORIES","PORTAL_EVENT_TYPES",function(e,t,n,r,i,a,l,c,u,d,f,m,p,g,v,h,b,y,E,S,w,A,T,I,C,x,D,M,O,R,N,L){function P(){pe.filteredUnRedeemedList=[],pe.filteredRedeemedOrExpiredList=[],pe.unRedeemedList=[],pe.redeemedOrExpiredList=[],pe.lockedPerksList=[]}function k(e){e&&u.cancel(),pe.requestInProgress=e}function G(e,t,n,r,i){d.onlineState&&d.onlineState.online===!1?u.showOffline():e(t,n,r,i)}function F(){ae(Oe)}function U(){return _.find(pe.unRedeemedList,function(e){return e.entitlementId===Ae})}function V(){var e=U();if(e){var n=t("translate")("l10n.tryAgain"),r="l10n.redemptionIncomplete";se(e)&&(n=t("translate")("l10n.redeem"),r="l10n.moreItemsAvailable"),$(r,n,F)}}function B(){m.push(p.REWARDS_REDEMPTION_PORTAL_CLOSE,{couponCode:pe.couponCode||""}),pe.couponCode="",a.trigger(l.COUPON_INPUT.CLEAR_CODE),Ce?Ce=!1:Ie?(Ie=!1,q().then(function(e){G(V)})):Te?Te=!1:G(V),a.off(c.CHILD_WINDOW_CLOSED,B)}function z(){xe||De||!e.getRewardsTabSelected()||(De=u.showProgress({textContent:t("translate")("l10n.updatingContent")}).finally(function(){De=null}))}function $(n,r,i){e.getRewardsTabSelected()&&u.showError({textContent:t("translate")(n||"l10n.unableToReachNvidia"),button:{text:r||t("translate")("l10n.learnMore"),action:i||e.openLearnMoreWindow}})}function W(e){return e.status+(e.state||"")+(e.entitlementId||"")+(e.redemptionId||"")+e.campaign.uuid}function H(){be&&(be.unRedeemedList=pe.unRedeemedList,be.redeemedOrExpiredList=pe.redeemedOrExpiredList,be.lockedPerksList=pe.lockedPerksList,be.persist_())}function j(){var n=S.defer(),i=!1;return xe=!1,Re.info("getting Rewards"),e.getRedemptionHistory().then(function(e){i=!0,P(),_.size(e.available)>0&&(pe.unRedeemedList=e.available,pe.unRedeemedList.map(function(e){return e.redemptionStatus=e.state||r.REDEMPTION_STATES.UNREDEEMED,e.uID=W(e),e}),pe.unRedeemedList=t("orderBy")(pe.unRedeemedList,"campaign.rules.end_date",!0),pe.unRedeemedList=t("orderBy")(pe.unRedeemedList,"entitlementDate",!0),i=!1),_.size(e.locked)>0&&(pe.lockedPerksList=e.locked,pe.lockedPerksList.map(function(e){return e.redemptionStatus=r.REDEMPTION_STATES.LOCKED,e.uID=W(e),e}),pe.lockedPerksList=t("orderBy")(pe.lockedPerksList,"campaign.rules.perkLevel",!1),i=!1),(_.size(e.redeemed)>0||_.size(e.expired)>0)&&(e.redeemed.map(function(e){return e.redemptionStatus=r.REDEMPTION_STATES.REDEEMED,e.uID=W(e),e}),e.redeemed=t("orderBy")(e.redeemed,"redemptionDate",!0),e.expired.map(function(e){return e.redemptionStatus=r.REDEMPTION_STATES.EXPIRED,e.uID=W(e),e}),e.expired=t("orderBy")(e.expired,"campaign.rules.end_date",!0),pe.redeemedOrExpiredList=e.redeemed.concat(e.expired),i=!1),H(),pe.couponBannerExpanded=i,n.resolve(e),u.cancel()}).catch(function(e){Re.error("Failed to get user rewards"),n.reject(e)}).finally(function(){xe=!0,oe()}),T(z),n.promise}function q(){return he?(Re.error("Building rewards already in progress"),he):he=j().catch(function(){Re.error("Build rewards failed"),$("l10n.couldNotRetrieveRedemptionHistory")}).finally(function(){he=null})}function Y(e,t){var n=i.show({template:s.default,locals:e,bindToController:!0,autoWrap:!1,clickOutsideToClose:!1,controller:"RedeemRewardController",controllerAs:"redeemReward"});return t&&n.then(function(){a.trigger(l.COUPON_INPUT.FOCUS)}).finally(function(){k(!1),pe.couponCode="",a.trigger(l.COUPON_INPUT.CLEAR_CODE)}),n}function K(e){if(Re.debug("VRS postMessage received",e),e.origin&&e.origin===O.vrs.server&&e.data)switch(Re.info("VRS postMessage received event details: ",e.data),e.data.type){case L.INITIALIZE:Q(e.data);break;case L.PROGRESS:Z(e.data);break;case L.SUCCESS:X(e.data);break;case L.FAILURE:J(e.data);break;default:Re.info("Unexpected post message received",e)}else Re.info("Unexpected post message received",e)}function Q(t){e.getDelegateToken(r.UNIFIED_REDEMPTION_ID).then(function(t){var n={user:t,sysInfo:e.getRedeemRequestData().sysInfo,reward:Oe},r=JSON.parse((0,o.default)(n));r.hasOwnProperty("user")&&r.user.hasOwnProperty("delegateToken")?delete r.user.delegateToken:Re.error("The user delegateToken does not exist in the postMessage reward object."),r.hasOwnProperty("reward")&&r.reward.hasOwnProperty("accessToken")?delete r.reward.accessToken:Re.error("The reward accessToken does not exist in the postMessage object."),Re.info("The postMessage details sent to the VRS child window ",r),Me.postMessage(n,"*")})}function Z(e){var t={realm:"",campaignName:e.campaign.uuid||"",campaignType:e.campaign.type||"",redemptionId:e.entitlementId||""};switch(e.category){case N.ACCOUNT:m.push(p.REWARDS_PORTAL_ACCOUNT_LINK_CONTINUE_CLICK,t);break;case N.TERMS_AND_CONDITIONS:m.push(p.REWARDS_PORTAL_VIEW_TERMS_AND_CONDITIONS,t);break;case N.PRODUCTS:m.push(p.REWARDS_PORTAL_SELECT_PRODUCTS_CONTINUE_CLICK,t)}}function X(e){var t={realm:"",connector:e.campaign.publisher||"",campaignName:e.campaign.uuid||"",campaignType:e.campaign.type||"",redemptionId:e.redemptionId||"",productId:e.product.id||""};switch(e.category){case N.REDEEM:m.push(p.REWARDS_PORTAL_ENTITLEMENT_RESULT_PRODUCT_SUCCESS,t);var n=U();n&&!Ie&&(pe.unRedeemedList=_.without(pe.unRedeemedList,n),n.redemptionStatus=n.status=n.state=r.REDEMPTION_STATES.REDEEMED,n.redemptionDate=new Date,pe.redeemedOrExpiredList.unshift(n),Te=!0,H(),oe());break;case N.ACCOUNT:m.push(p.REWARDS_PORTAL_ACCOUNT_LINK_SUCCESS,t)}}function J(e){var t={realm:"",connector:e.campaign.publisher||"",campaignName:e.campaign.uuid||"",campaignType:e.campaign.type||"",redemptionId:e.redemptionId||"",productId:e.product.id||"",message:e.error.message||""};switch(e.category){case N.REDEEM:m.push(p.REWARDS_PORTAL_ENTITLEMENT_RESULT_PRODUCT_FAILED,t);break;case N.ACCOUNT:m.push(p.REWARDS_PORTAL_ACCOUNT_LINK_FAILED,t)}}function ee(e,t){var n=r.PORTAL_WINDOW_HEIGHT,i=r.PORTAL_WINDOW_WIDTH,o=v.screenY+v.innerHeight/2-n/2,a=v.screenX+v.innerWidth/2-i/2,l="toolbar=0,location=0,menubar=0,width="+i+",height="+n+",top="+o+",left="+a,s={message:t||"",urlToLoad:e},c="external-page-loader-app.html#/rewards-portal";Me=g.openChildWindow(c,"app_rewards",l,s,!0,K),Re.info("New browser window should have opened with url: ",e)}function te(e){pe.unRedeemedList.map(function(t){return t.entitlementId===e.entitlementId?e:t}),a.trigger(I.REMOVE_NOTIFICATION,[{callbackData:e.campaign.uuid}]),H(),oe()}function ne(n,i){k(!0),a.trigger(l.COUPON_INPUT.BLUR),ue(),ve.couponCode=n;var o=!1;return o=i===R.COUPON,e.redeemEntitlement(n,i).then(function(e){if(Oe=e,ge=e.campaign.uuid,Ae=e.entitlementId,ve.campaignName=ge,Te=!1,o){var n=t("translate")("l10n.codeVerified");ee(e.entitlementUrl,n)}else i===R.AVAILABLE_REWARD&&te(Oe),ee(e.entitlementUrl,"");a.on(c.CHILD_WINDOW_CLOSED,B),k(!1),Ie=!0}).catch(function(e){Re.error("Redemption for "+n+" failed with error: "+e.message),k(!1),e.message&&e.message===r.VALIDATION_ERRORS.COUPONS.NOT_FOUND?a.trigger(l.COUPON_INPUT.INVALIDATE_CODE):Y({nvRedemptionError:e},!0)})}function re(e,n){return t("filter")(e,function(e){return e.status===r.REDEMPTION_STATES[n]})}function ie(){pe.unRedeemedListLimitTo<pe.filteredUnRedeemedList.length&&!Se?Se=A(function(){pe.unRedeemedListLimitTo+=r.LIMIT_TO_FILTER.ITEMS_AT_ONCE,pe.unRedeemedListLimitTo>=pe.filteredUnRedeemedList.length&&(pe.unRedeemedListLimitTo=pe.filteredUnRedeemedList.length,A.cancel(Se),Se=null)},r.LIMIT_TO_FILTER.INTERVAL_LENGTH):pe.unRedeemedListLimitTo>pe.filteredUnRedeemedList.length&&(pe.unRedeemedListLimitTo=pe.filteredUnRedeemedList.length),pe.redeemedOrExpiredListLimitTo<pe.filteredRedeemedOrExpiredList.length&&!_e?_e=A(function(){pe.redeemedOrExpiredListLimitTo+=r.LIMIT_TO_FILTER.ITEMS_AT_ONCE,pe.redeemedOrExpiredListLimitTo>=pe.filteredRedeemedOrExpiredList.length&&(pe.redeemedOrExpiredListLimitTo=pe.filteredRedeemedOrExpiredList.length,A.cancel(_e),_e=null)},r.LIMIT_TO_FILTER.INTERVAL_LENGTH):pe.redeemedOrExpiredListLimitTo>pe.filteredRedeemedOrExpiredList.length&&(pe.redeemedOrExpiredListLimitTo=pe.filteredRedeemedOrExpiredList.length)}function oe(){pe.filteredUnRedeemedList=pe.unRedeemedList,pe.filteredRedeemedOrExpiredList=pe.redeemedOrExpiredList,be?be.rewardsFilters?be.rewardsFilters.available?pe.isFilterButtonDisabled("available")?(Re.info("No unredeemed items available, reverting filter to all state"),pe.setFilter("all")):pe.filteredUnRedeemedList=re(pe.filteredUnRedeemedList,r.REDEMPTION_STATES.AVAILABLE):be.rewardsFilters.expired?pe.isFilterButtonDisabled("expired")?(Re.info("No expired items available, reverting filter to all state"),pe.setFilter("all")):pe.filteredRedeemedOrExpiredList=re(pe.filteredRedeemedOrExpiredList,r.REDEMPTION_STATES.EXPIRED):be.rewardsFilters.redeemed?pe.isFilterButtonDisabled("redeemed")?(Re.info("No redeemed items available, reverting filter to all state"),pe.setFilter("all")):pe.filteredRedeemedOrExpiredList=re(pe.filteredRedeemedOrExpiredList,r.REDEMPTION_STATES.REDEEMED):Re.info("Rewards filters set to show all, no specifics applied"):(Re.info("Setting default filter to show all Rewards"),pe.setFilter("all")):Re.error("Rewards view state not available to persist filters"),ie()}function ae(e){Oe=e,e.redemptionStatus===r.REDEMPTION_STATES.LOCKED?Y({perkDetails:e},!1):e.status===r.REDEMPTION_STATES.AVAILABLE?e.campaign.type===r.REWARD_PACKAGE_TYPES.SWEEPSTAKE?x.getGeolocation().then(function(t){t.countryCode===D.CANADA?Y({sweepDetails:e}).then(function(){G(ne,e.campaign.uuid,R.AVAILABLE_REWARD)},!1):G(ne,e.campaign.uuid,R.AVAILABLE_REWARD)}):e.state&&e.state===r.REDEMPTION_STATES.CLAIMABLE?G(le,e):G(ne,e.campaign.uuid,R.AVAILABLE_REWARD):G(ce,e)}function le(t){ue(),ge=t.campaign.uuid,se(t)&&(e.clearCachedRewards(),Ie=!0),Ae=t.entitlementId,ee(t.entitlementUrl,""),a.on(c.CHILD_WINDOW_CLOSED,B)}function se(e){var t=e.campaign.rules.maxselect;return!!(t&&parseInt(t,10)>1)}function ce(e){e.redemptionStatus===r.REDEMPTION_STATES.REDEEMED&&(Ce=!0),ue(),ge=e.campaign.uuid,ee(e.entitlementUrl,"")}function ue(){ve=e.getRedeemRequestData()}function de(e){q().then(function(){G(ne,e,R.AVAILABLE_REWARD)})}function fe(e){pe.userProfileEnabled=e}function me(){P(),ye=b.getCachedUserItem(Ee.userId,y.VIEW_STORE,y.VIEW_STATE),be=b.getCachedUserItem(Ee.userId,y.JARVIS_GFE_STORE,y.REWARDS_VIEW_STATE),be&&(be.dbUpdatedForVrs?(pe.redeemedOrExpiredList=be.redeemedOrExpiredList||[],pe.unRedeemedList=be.unRedeemedList||[],pe.lockedPerksList=be.lockedPerksList||[]):(pe.redeemedOrExpiredList=[],pe.unRedeemedList=[],pe.lockedPerksList=[],be.dbUpdatedForVrs=!0),oe(),0===pe.unRedeemedList.length&&0===pe.redeemedOrExpiredList.length&&(pe.couponBannerExpanded=!0)),a.on(l.REWARD_REDEEM_CLICKED,ae),a.on(l.REWARDS_UPDATED,q),a.on(l.REWARD_NOTIFICATION_CLICKED,de),a.on(c.USER_PROFILE_STATUS_UPDATED,fe),a.on(M.PROFILE_TAB_CHANGED,z),f.$on("$destroy",function(){a.off(c.CHILD_WINDOW_CLOSED,B),a.off(l.REWARD_REDEEM_CLICKED,ae),a.off(l.REWARDS_UPDATED,q),a.off(l.REWARD_NOTIFICATION_CLICKED,de),a.off(c.USER_PROFILE_STATUS_UPDATED,fe),a.off(M.PROFILE_TAB_CHANGED,z),Se&&(A.cancel(Se),Se=null),_e&&(A.cancel(_e),_e=null)}),pe.translatedInputPlaceholder=t("translate")("l10n.enterCouponCode"),pe.nvCouponInputButton={text:"l10n.redeem",action:pe.redeemCoupon},pe.userProfileEnabled=!1,C.getUserProfileEnabled().then(fe),ue(),we&&we.rewardPackageId?de(we.rewardPackageId):G(q)}var pe=this,ge=null,ve=null,he=null,be=null,ye=null,Ee=h.getLoggedInUser(),Se=null,_e=null,we=E.params,Ae=null,Te=!1,Ie=!1,Ce=!1,xe=!1,De=null,Me=null,Oe={},Re=n.getInstance("main.rewards/RewardsCenterController");pe.requestInProgress=!1,pe.redeemButtonDisabled=!0,pe.couponBannerExpanded=!1,pe.perksSectionExpanded=!0,pe.redeemedOrExpiredListLimitTo=pe.unRedeemedListLimitTo=r.LIMIT_TO_FILTER.ITEMS_AT_ONCE,pe.couponsLearnMoreMessages=["l10n.checkCouponRetailer","l10n.gfeGiveaway"],pe.rewardsTrackBy=function(e){return e.uID||W(e)},pe.redeemedOrExpiredItemsExist=function(){return pe.redeemedOrExpiredList.length>0},pe.unRedeemedItemsExist=function(){return pe.unRedeemedList.length>0},pe.showPerksSection=function(){return pe.userProfileEnabled&&pe.lockedPerksList.length>0},pe.showAvailableCards=function(){return pe.matchFilter("all")||pe.matchFilter("available")},pe.showNoRedeemedItemsMessage=function(){return!pe.redeemedOrExpiredItemsExist()&&pe.matchFilter("all")},pe.backToPreviousState=function(){ye&&ye.lastRouterFromState?E.go(ye.lastRouterFromState,ye.lastRouterFromStateParams,{location:"replace"}):(Re.error("Unable to go back to previous state, local view state unavailable"),E.go(w.HOME_STATE,{},{location:"replace"}))},pe.redeemCoupon=function(e){pe.couponCode=e,m.push(p.REWARDS_REDEEM_CODE,{couponCode:pe.couponCode||""}),G(ne,e,R.COUPON)},pe.isFilterButtonDisabled=function(e){switch(e){case"all":return 0===pe.getRewardsCount("all");case"available":return 0===pe.getRewardsCount("available");case"redeemed":return 0===pe.getRewardsCount("redeemed");case"expired":return 0===pe.getRewardsCount("expired");default:return!1}},pe.setFilter=function(e){be?(be.rewardsFilters={all:!1,available:!1,redeemed:!1,expired:!1},be.rewardsFilters[e]=!0,be.persist_(),"available"===e?m.push(p.REWARDS_TOOLBAR_FILTER_AVAILABLE):"redeemed"===e?m.push(p.REWARDS_TOOLBAR_FILTER_REDEEMED):"expired"===e?m.push(p.REWARDS_TOOLBAR_FILTER_EXPIRED):m.push(p.REWARDS_TOOLBAR_FILTER_ALL),oe(),a.trigger(l.RESET_SCROLL_POSITION)):Re.error("Unable to set filter, rewards view state unavailable")},pe.matchFilter=function(e){return be&&be.rewardsFilters&&be.rewardsFilters[e]||!1},pe.getRewardsCount=function(e){switch(e){case"all":return _.size(pe.redeemedOrExpiredList)+_.size(pe.unRedeemedList);case"available":return _.size(re(pe.unRedeemedList,r.REDEMPTION_STATES.AVAILABLE));case"redeemed":return _.size(re(pe.redeemedOrExpiredList,r.REDEMPTION_STATES.REDEEMED));case"expired":return _.size(re(pe.redeemedOrExpiredList,r.REDEMPTION_STATES.EXPIRED));default:return 0}},pe.toggleCouponBannerExpansionState=function(){pe.couponBannerExpanded=!pe.couponBannerExpanded,pe.couponBannerExpanded&&m.push(p.REWARDS_REDEEM_COUPON_BANNER_EXPANDED)},pe.togglePerksSectionExpansionState=function(){pe.perksSectionExpanded=!pe.perksSectionExpanded},me()}]);t.rewardsCenterController=u},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.searchController=void 0;var i=n(190),o=n(3),a=r(o),l=i.ngSearchModule.controller("SearchController",["$scope","$log","$state","$timeout","jarvisService","eventAggregator","gfeSearchService","DB_NAMES","dbCacheService","gamesService","COMMON_EVENTS","$document","KEYBOARD_EVENT_KEYCODE","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_SCREENS","TELEMETRY_SEARCH_TYPE","TELEMETRY_ONOFF_STATE",function(e,t,n,r,i,o,l,s,c,u,d,f,m,p,g,v,h){function b(){S.searchInputVisble=!1,S.query="",T=i.getLoggedInUser(),T?(A=c.getCachedUserItem(T.userId,s.JARVIS_GFE_STORE,s.JARVIS_SEARCH_STATE),A&&A.wait_().then(function(){S.recentSearchesCache=A.recentSearches,S.recentSearchesCache.length>0?S.searchResult="recentQueries":S.searchResult=""})):(T=null,A=null)}function y(){o.on(d.LOGIN_STATUS_CHANGE,b),b()}function E(){o.off(d.LOGIN_STATUS_CHANGE,b),S.categorizedResult=null,T=null,A=null,S.query="",S.searchResult=""}var S=this,_=t.getInstance("main.searchsearchController"),w=null,A=null,T=null,I=74,C=!1;S.query="",S.searchInputVisble=!1,S.searchInputFocused=!1,S.browsingResult=!1,S.categorizedResult=null,S.recentSearchesAvailable=!1,S.searchResult="",S.selectedSearchResultIndex=0,S.selectedCategoryIndex=0,S.selectedRecentSearchIndex=-1,S.currentCategory="",S.searchCategories={"main.auth.rewards":"l10n.rewards","main.auth.home.gamesAndFriends.gameDetails":"l10n.games","main.auth.updates":"l10n.drivers","main.auth.preferences":"l10n.settings"},S.recentSearchesCache=[];var x={"main.auth.home.gamesAndFriends.gameDetails":g.SCREEN_GAMES,"main.auth.home.gamesAndFriends":g.SCREEN_HOME,"main.auth.updates":g.SCREEN_DRIVERS,"main.auth.rewards":g.SCREEN_REWARDS,"main.auth.preferences.general":g.SCREEN_PREFERENCES_GENERAL,"main.auth.preferences.accounts":g.SCREEN_PREFERENCES_ACCOUNT,"main.auth.preferences.games":g.SCREEN_PREFERENCES_GAMES,"main.auth.preferences.shield":g.SCREEN_PREFERENCES_SHIELD};S.setInputElement=function(e){w||(w=e)},S.focusSearchInput=function(){S.searchInputVisble=!0,r(function(){w[0].focus()},210),l.pushTelemetry(p.SEARCH_INPUT_TOGGLE,{currentScreen:x[n.current.name],settingName:p.SEARCH_INPUT_TOGGLE.enumId,settingValue:h.ON})},S.neglectSearchInput=function(){S.searchInputVisble=!1,S.query="",S.categorizedResult=null,S.searchInputFocused=!1,S.browsingResult=!1,S.searchResult="",l.pushTelemetry(p.SEARCH_INPUT_TOGGLE,{currentScreen:x[n.current.name],settingName:p.SEARCH_INPUT_TOGGLE.enumId,settingValue:h.OFF})},S.toggleSearchInput=function(){S.searchInputVisble=!S.searchInputVisble,S.searchInputVisble?S.focusSearchInput():S.neglectSearchInput()},S.showRecentSearches=function(){S.searchInputFocused=!0,S.categorizedResult||0!=S.query.length||S.performSearch(S.query)},S.resultsShouldBeVisible=function(){return!!(S.searchInputVisble&&S.searchInputFocused||S.browsingResult)},S.performSearch=function(e){if(0==e.length)S.recentSearchesCache.length>0?S.searchResult="recentQueries":S.searchResult="",S.selectedRecentSearchIndex=-1;else{var t=0,r={},i={"main.auth.rewards":{hasIcon:!0,icon:"card_giftcard"},"main.auth.updates":{hasIcon:!0,icon:"archive"},"main.auth.preferences":{hasIcon:!0,icon:"settings"}},o=l.searchDoc(e);a.forEach(o,function(e,t){var n=e;a.size(n)&&(r[t]=[]),a.forEach(n,function(e){if(i[t])a.extend(e,i[t]);else if(e.hasThumbnail=!0,e.param){var n=parseInt(e.param);e.thumbnail=u.getSystemGame(n).tvBannerImage}e.title=e.title.charAt(0).toUpperCase()+e.title.slice(1);var o=a.clone(e);o.preview="",a.forEach(a.first(e.preview,3),function(e){e.toLowerCase()!==o.title.toLowerCase()&&(o.preview+=e.charAt(0).toUpperCase()+e.slice(1)+", ")}),o.preview=o.preview.slice(0,-2),r[t].push(o)})});var s=n.current.name;if(s.includes("main.auth.preferences")?s="main.auth.preferences":s.includes("main.auth.home.gamesAndFriends")&&(s="main.auth.home.gamesAndFriends.gameDetails"),a.has(r,s)){var c={};c[s]=r[s],a.forEach(r,function(e,t,n){t!==s&&(c[t]=e)}),r=c}a.forEach(r,function(e){t+=e.length}),_.info("PerformSearch"),a.keys(r).forEach(function(e){r[e]=a.first(r[e],5)}),t>0?(S.categorizedResult=r,S.searchResult="resultAvailable",S.initializeSearchResultListIndices(),S.initializeScroll()):(S.categorizedResult=null,S.searchResult="resultNotAvailable")}},S.initializeSearchResultListIndices=function(){S.selectedCategoryIndex=0,S.selectedSearchResultIndex=0;var e=a.keys(S.categorizedResult);S.currentCategory=e[S.selectedCategoryIndex]},S.addQuery=function(e){l.pushTelemetry(p.SEARCH_RECENT_RESULT_CLICK,{searchType:v.RECENT_SEARCH_RESULT,searchQuery:"",searchPreview:"",selectedResult:e.title}),C=!0,S.redirect(e)},S.redirect=function(e){S.browsingResult=!1;var t=e;e.param?n.go(e.path,{userGameId:e.param}):n.go(e.path),C||l.pushTelemetry(p.SEARCH_NEW_RESULT_CLICK,{searchType:v.NEW_SEARCH_RESULT,searchQuery:S.query,searchPreview:e.preview,selectedResult:e.title}),C=!1,S.recentSearchesCache=a.without(S.recentSearchesCache,a.findWhere(S.recentSearchesCache,{title:t.title})),A&&(S.recentSearchesCache.unshift(t),S.recentSearchesCache.length>5&&S.recentSearchesCache.pop(),A.recentSearches=S.recentSearchesCache,A.persist_())},S.initializeScroll=function(){r(function(){S.searchResultListElement=angular.element(f[0].querySelector("#search-result-list")),S.searchResultListElement&&S.searchResultListElement[0]&&S.searchResultListElement[0].scrollHeight>S.searchResultListElement[0].offsetHeight&&(S.searchResultListElement[0].scrollTop=0)})},S.updateScroll=function(e){S.searchResultListElement&&S.searchResultListElement[0]&&S.searchResultListElement[0].scrollHeight>S.searchResultListElement[0].offsetHeight&&(S.searchResultListElement[0].scrollTop+=e)},S.isSearchItemSelected=function(e,t){return S.selectedSearchResultIndex===e&&S.currentCategory===t},S.keydownevt=function(e){switch(e.keyCode){case m.KEY_DOWN:if(e.stopPropagation(),e.preventDefault(),"recentQueries"!==S.searchResult){var t=a.keys(S.categorizedResult);S.selectedSearchResultIndex<S.categorizedResult[S.currentCategory].length-1?S.selectedSearchResultIndex=S.selectedSearchResultIndex+1:S.selectedCategoryIndex<t.length-1&&(S.selectedCategoryIndex=S.selectedCategoryIndex+1,S.currentCategory=t[S.selectedCategoryIndex],S.selectedSearchResultIndex=0),S.updateScroll(I)}else S.selectedRecentSearchIndex<S.recentSearchesCache.length-1&&(S.selectedRecentSearchIndex=S.selectedRecentSearchIndex+1);break;case m.KEY_UP:if(e.stopPropagation(),e.preventDefault(),"recentQueries"!==S.searchResult){var t=a.keys(S.categorizedResult);S.selectedSearchResultIndex>0?S.selectedSearchResultIndex=S.selectedSearchResultIndex-1:S.selectedCategoryIndex>0&&(S.selectedCategoryIndex=S.selectedCategoryIndex-1,S.currentCategory=t[S.selectedCategoryIndex],S.selectedSearchResultIndex=S.categorizedResult[S.currentCategory].length-1),S.updateScroll(-I)}else S.selectedRecentSearchIndex>0&&(S.selectedRecentSearchIndex=S.selectedRecentSearchIndex-1);break;case m.KEY_ENTER:if("recentQueries"!==S.searchResult){var n=S.categorizedResult[S.currentCategory][S.selectedSearchResultIndex];n&&(S.redirect(n),w[0].blur())}else{var n=S.recentSearchesCache[S.selectedRecentSearchIndex];n&&(S.addQuery(n),w[0].blur())}break;case m.KEY_ESCAPE:S.neglectSearchInput()}},e.$on("$destroy",E),y()}]);t.searchController=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvSearch=void 0;var i=n(190),o=n(893),a=r(o);n(614),n(42),n(707);var l=i.ngSearchModule.directive("nvSearch",["hotkeys",function(e){return{restrict:"E",template:a.default,controller:"SearchController",controllerAs:"searchCtrl",link:function(t,n,r,i){function o(){i.browsingResult=!0}function a(){i.browsingResult=!1}function l(){i.performSearch(i.query)}function s(){u=angular.element(n[0].querySelector(".search-input")),i.setInputElement(u),d=angular.element(n[0].querySelector(".search-result-container")),d.on("mouseenter",o),d.on("mouseleave",a),u.on("focusin",l),e.add({combo:"ctrl+f",description:"listening to ctrl+f key press for focusing search bar",callback:function(e,t){i.focusSearchInput(),u[0].setSelectionRange(0,i.query.length)}}),e.add({combo:"esc",description:"listening to esc key press for neglecting search bar",callback:function(e,t){i.neglectSearchInput()}})}function c(){d.off("mouseenter",o),d.off("mouseleave",a),u.off("focusin",l),u=null,d=null,e.del("ctrl+f"),e.del("esc")}var u=null,d=null;i.showTooltip=function(e,t){var r=angular.element(n[0].querySelector("#"+t+e));return!(!r||!r[0])&&r[0].scrollWidth>r[0].offsetWidth},s(),t.$on("$destroy",c),n.on("$destroy",function(){t.$destroy()})}}}]);t.nvSearch=l},,,,,,,,function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.httpTelemetryService=void 0;var o=n(12),a=i(o),l=n(26),s=n(3),c=r(s),u=l.ngTelemetryModule.service("httpTelemetryService",["$log","$http","$q","TELEMETRY_STATUS","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_PRODUCT_COMPONENT","cefService","TELEMETRY_API_SUB_USECASES","DEFAULT_DESTINATION_IPS","TELEMETRY_ORIGINAL_SERVICE_NAME",function(e,t,n,r,i,o,l,s,u,d,f){function m(e,t,n,r,i,o,l,s,c,u){if(e){var d="";(i<200||i>=300)&&l&&(d=l&&(0,a.default)(l)||"",d=d.substring(0,1024)),p(t,n,r,i,o,d,s,c,u)}}function p(e,t,n,r,a,s,c,u,d){g(e,c).then(function(e){t=e}).finally(function(){i.push(o.GFE_HTTPSUCCESS,{sourceComponent:l.GFE_UI,originalService:c,serviceUseCase:u,serviceSubUseCase:d,url:a,httpStatus:r,durationMs:n,responseData:s,destinationIp:t})})}function g(e,t){var r=y[t]||"";if(r)return n.resolve(r);if(!e)return y.LOCAL_HOST;var i=c.first(e.replace(/^(http|https):\/\//gi,"").split("/"));return s.dnsLookup(i).then(function(e){if(e){var n=JSON.parse(e);r=c.has(n,"hostname")?n.hostname:""}else r="";return y[t]=r,r})}function v(e,t,n,r,i,o,l,s,c,u){e&&(i&&i>0?(l=l&&(0,a.default)(l)||"",p(t,n,r,i,o,l,s,c,u)):h(t,n,""+i,o,s,c,u))}function h(e,t,n,r,a,s,c){g(e,a).then(function(e){t=e}).finally(function(){i.push(o.GFE_HTTPFAILURE,{sourceComponent:l.GFE_UI,originalService:a,serviceUseCase:s,serviceSubUseCase:c,url:r,networkErrorCode:n,destinationIp:t})})}var b=(e.getInstance("main.telemetry/httpTelemetryService"),this),y={};y[f.LOCALHOST]=d.LOCALHOST,b.endpointHttpCallback=function(e,i,o,a){var l=e.headers.telemetry||r.OTHER,s=e.headers.telemetrySubUseCase||u.NA,c=Date.now(),d=y[a]||"";return t(e).then(function(e){var t=Date.now()-c,n=e.status,r=e&&e.config&&e.config.url?e.config.url:"";return m(i,o,d,t,n,r,e.data,a,l,s),e}).catch(function(e){var t=Date.now()-c,r=e&&e.config&&e.config.url?e.config.url:"";return v(i,o,d,t,e.status,r,e.data,a,l,s),n.reject(e)})},b.sendSdkHttpTelemetry=function(e,t,n,i,o,a,l,s){var c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:r.OTHER,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:u.NA,f=c||r.OTHER,p=d||u.NA,g=y[s]||"";e?m(t,n,g,i,o,a,l,s,f,p):v(t,n,g,i,o,a,l,s,f,p)}}]);t.httpTelemetryService=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gfeUpdatesService=void 0;var r=n(10);n(51),n(18),n(77);var i=r.ngUpdatesModule.service("gfeUpdatesService",["socketService","GFE_SOCK_MESSAGE","gfeUpdatesEndpoints","$log",function(e,t,n,r){var i=this,o=r.getInstance("main.updates/gfeUpdatesService");i.initialize=function(){e.register("/autoGFEdownload/newversion",t.NEW_VERSION_AVAIL),n.forceCheckUpdate().then(function(e){},function(e){o.error("GFE update check failed "+e);
})}}]);t.gfeUpdatesService=i},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.gfwslDriverInformationService=void 0;var i=n(3),o=r(i),a=n(10);n(52),n(29),n(121),n(23);var l=a.ngUpdatesModule.service("gfwslDriverInformationService",["$log","gfwslEndpoints","$q","eventAggregator","COMMON_EVENTS","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","gfwslArticleEndpoints","settingsEndpoints","hardwareService","gfeGeolocationService",function(e,t,n,r,i,a,l,s,c,u,d){function f(e){var t="";return e&&e.status&&(t=e.status.toString()),t}function m(e,t,n,r){var i={};i.version=n,i.driverTypePreference=r,i.data=t,e.push(i)}function p(){return o.isUndefined(_)?w?(x.info("request for editorPreviewMode is in progress.."),w):w=c.getEditorPreviewMode().then(function(e){return x.info("getEditorPreviewMode status:",e),_=e&&e.data?e.data.enabled:"0"}).catch(function(e){return x.error("failed to getEditorPreviewMode, set it to 0",e),_="0"}).finally(function(){w=null}):(x.info("Returning cached value for editorPreviewMode",_),n.when(_))}function g(){return t.hasHardwareInfo()?n.when(!0):u.getSystemInfo().then(function(e){return t.updateHardwareInfo(e),!0})}function v(e,t){return C&&C.DriverVersion===e&&C.DriverType===t.toString()?"1":"0"}function h(e,r){var i="US",s=n.defer();o.isUndefined(r)?"0":r.toString();return d.getGeolocation().then(function(e){i=e.countryCode}).finally(function(){x.info("call GFWSL with driver type preference",r);var n=v(e,r);t.driver.getDriverInformation({gfwslParams:{GFPV:e,prvMd:_,go:i,isInst:n}}).then(function(e){a.push(l.UPDATES_GRD_CONTENT_SUCCESS),s.resolve(e)}).catch(function(e){a.push(l.UPDATES_GRD_CONTENT_FAILURE,f(e)),s.reject(e)})}),s.promise}function b(e,r){return g().then(function(i){return t.getParams().dIDa?p().then(function(t){return x.info("getEditorPreviewMode response:",t),h(e,r)}).catch(function(e){return x.error("failed to getEditorPreviewMode",e),n.reject(e)}):(x.error("hardware system info provided insufficient primary gpu information"),n.reject())})}function y(e,t){var r=o.find(A,function(n){return n.version===e&&n.driverTypePreference===t});if(!r&&!I.data){var i=b(e,t),a=i.then(function(n){return n&&n.data?(m(I,n.data,e,t),n.data):(x.error("gfwsl driver information returned null data for driver version",e),null)}).catch(function(e){return n.reject()}).finally(function(){var n=o.find(A,function(n){return n.version===e&&n.driverTypePreference===t});A.splice(A.indexOf(n),1)});return m(A,a,e,t),a}return r.data}function E(e,r,i){return t.getParams().dIDa?g().then(function(e){var o=v(i,r);return t.installer.getInstallationDriverData({gfwslParams:{isInst:o}}).then(function(e){return a.push(l.UPDATES_INSTALL_BB_HTML_SUCCESS),x.info("response from server to installation information ",e),e}).catch(function(e){return a.push(l.UPDATES_INSTALL_BB_HTML_FAILURE,f(e)),x.error("request to get driver installation content failed with : ",e),n.reject("gfwslEndpoints error")})}):(x.error("hardware system info provided insufficient primary gpu information"),n.reject())}function S(e){C=e,T.resetDriverInformation()}var _,p,w,A=[],T=this,I=[],C=null,x=e.getInstance("main.updates/gfwlsDriverInformationService");T.resetDriverInformation=function(){o.each(A,function(e){t.driver.getDriverInformation.cancel(e.data)}),A=[],I=[],x.debug("reset driver information cache to empty")},T.initialize=function(){u.getSystemInfo().then(function(e){C=e}),r.on(i.SYSTEMINFO_UPDATED,S),r.on(i.LOCALE_CHANGED,T.resetDriverInformation),r.on(i.LOGIN_STATUS_CHANGE,T.resetDriverInformation)},T.getDriverInformation=function(e,t){var r=o.find(I,function(n){return n.version===e&&n.driverTypePreference===t});return r?(x.debug("Driver information from cache for driver version:",e),n.when(r.data)):y(e,t)},T.getInstallationDriverData=function(e,t,r){return E(e,t,r).then(function(e){if(e&&e.data&&e.data.html&&e.data.html.head&&e.data.html.head.response&&e.data.html.head.response.url){var t={};return t.billboardURL=e.data.html.head.response.url,t}return x.error("gfwsl driver installation content returned null data"),n.reject()}).catch(function(e){return n.reject()})},T.getArticleInformation=function(e,r,i){return t.getParams().dIDa?(r.GFPV=i,r.jUid=t.getParams().jUid||"",s.getArticle({articleUrl:e,gfwslParams:r})):(x.error("hardware system info provided insufficient primary gpu information"),n.reject())}}]);t.gfwslDriverInformationService=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.highlightTileController=void 0;var i=n(10);n(208),n(124);var o=n(194),a=r(o),l=i.ngUpdatesModule.controller("HighlightTileController",["$scope","$mdDialog","DRIVER_TYPE","updatesService","$q","$log","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","gfeService","VIDEO_TYPE","mediaDialogService","toastService","$filter","TELEMETRY_GRD_CONTENT_TYPE","TELEMETRY_GRD_DISPLAY_SECTION",function(e,t,n,r,i,o,l,s,c,u,d,f,m,p,g){function v(e){try{return JSON.parse(e)}catch(t){return I.error("Json parsing exception for ",e),null}}function h(){if(w&&w.gfeLoadUrl){var e=w.gfeLoadUrl;e=e.replace(/\\/g,"");var t=e.split("{");if(2!==t.length)return I.error("Cannot request for article as gfeloadUrl is incorrect ",w.gfeLoadUrl),i.reject();t[1]="{"+t[1];var n=v(t[1]);return n?r.getDriverArticle(t[0],n,T).then(function(e){if(l.push(s.UPDATES_GRD_ARTICLE_SUCCESS),e&&e.data&&e.data.gfcontent){I.debug("get driver article returns content");var t={},n=e.data.gfcontent;return t.title=n.title,t.subTitle=n.author_date?n.author_date.by_on_date:null,t.body=n.body,t.style="article-content",t}return I.debug("get driver article returns null content"),null}).catch(function(e){return l.push(s.UPDATES_GRD_ARTICLE_FAILURE,e&&e.status&&e.status.toString()||""),i.reject(e)}):(I.error("Cannot request for article as gfeloadUrl has incorrect json ",w.gfeLoadUrl),i.reject())}return I.error("article url empty for ",w.gfeLoadUrl),i.reject("no article url")}function b(e,t){if(c.onlineState&&c.onlineState.online===!0){var n=t.video.type!==u.YOUTUBE;I.info("video type",t.video.type,"defaultVideoControl",n);var r=d.customPreset().event(e);r=r.video({source:t.video.url,type:t.video.type,defaultVideoControl:n}),d.show(r)}else{var i=m("translate")("l10n.unableToFetchVideo");f.show({textContent:i,icon:"cloud off"})}}function y(e){return e.indexOf("youtu.be")!==-1?u.YOUTUBE:e.indexOf(".mp4")!==-1?u.LOCAL:""}function E(){return S.isVideoAvailable(w)?p.VIDEO:p.ARTICLE}var S=this,w=e.nvContent,A=e.nvDriverType,T=e.nvDriverVersion,I=o.getInstance("main.updates/HighlightTileController");S.showDetails=function(e){S.isVideoAvailable(w)?(w.video.type=y(w.video.url),b(e,w)):t.show({controller:"ArticleInformationController",controllerAs:"vm",template:a.default,disableParentScroll:!1,locals:{getArticleCallback:h},bindToController:!0})},S.isVideoAvailable=function(e){return e.video&&!_.isEmpty(e.video)&&e.video.url&&!_.isEmpty(e.video.url)},S.getTelemetryEventInfo=function(){var e={contentType:"",displaySection:"",url:""};return e.contentType=E(),e.displaySection=g.CONTENT,e.url=w.linksTo||"",e},S.getTelemetryEventName=function(){var e=w.featureId||!this.isContentGame()?s.UPDATES_VIEW_AVAILABLE_DRIVER_FEATURE:s.UPDATES_VIEW_AVAILABLE_DRIVER_GAME;return A===n.CURRENT&&(e=w.featureId||!this.isContentGame()?s.UPDATES_VIEW_CURRENT_DRIVER_FEATURE:s.UPDATES_VIEW_CURRENT_DRIVER_GAME),e},S.isContentGame=function(){return w&&"true"===w.isGfeSupportedGame}}]);t.highlightTileController=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvHighlightTile=void 0;var i=n(10);n(15),n(142),n(35),n(42);var o=n(897),a=r(o);n(626);var l=i.ngUpdatesModule.directive("nvHighlightTile",function(){return{restrict:"E",scope:{nvContent:"=",nvDriverType:"=",nvDriverVersion:"@"},template:a.default,controller:"HighlightTileController",controllerAs:"highlightTile",link:function(e,t){function n(){t.empty(),t.remove(),t=null}e.$on("$destroy",n),t.on("$destroy",function(){e.$destroy()})}}});t.nvHighlightTile=l},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.updateDetailsController=void 0;var o=n(12),a=i(o),l=n(3),s=r(l),c=n(10);n(124);var u=c.ngUpdatesModule.controller("UpdateDetailsController",["$scope","updatesService","$log","$sce",function(e,t,n,r){function i(){t.getDriverInformation(o.driverVersion,o.isCRD).then(function(e){e&&e.DriverAttributes?(o.driverInformation=e.DriverAttributes,e.DriverAttributes.ReleaseNotes&&(o.driverInformation.releaseNotes=r.trustAsHtml(e.DriverAttributes.ReleaseNotes))):l.error("No content avaliable for GRD version: ",o.driverVersion)}).catch(function(e){l.error("getDriverInformation failed with error: ",e),o.driverInformation=null,t.setServerWarn(!0)}).finally(function(){o.showLoadingIndicator=!1})}var o=this;o.showLoadingIndicator=!0,o.driverInformation=null,o.isCRD=e.nvIsCrd;var l=n.getInstance("main.updates/UpdateDetailsController");o.driverVersion=e.nvDriverVersion,o.driverType=e.nvDriverType;var c=e.$watchGroup(["nvDriverVersion","nvIsCrd"],function(e,t){(0,a.default)(e)!==(0,a.default)(t)&&(o.driverVersion=e[0],o.isCRD=e[1],i())});i(),o.showHighLights=function(){return!(!o.driverInformation||s.isEmpty(o.driverInformation.ReleaseNotesAbstract)&&(!o.driverInformation.highlightGfeNg||s.isEmpty(o.driverInformation.highlightGfeNg.tiles)))},o.showDefaultBanner=function(){return o.showLoadingIndicator===!1&&!s.isNull(o.driverInformation)&&s.isNull(o.driverInformation.bannerGfeNg)},o.showDefaultContentImage=function(){return o.showLoadingIndicator===!1&&s.isNull(o.driverInformation)},e.$on("$destroy",function(){c()})}]);t.updateDetailsController=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvUpdateDetails=void 0;var i=n(10);n(134),n(636),n(634);var o=n(898),a=r(o);n(628);var l=i.ngUpdatesModule.directive("nvUpdateDetails",function(){return{restrict:"E",scope:{nvDriverVersion:"@",nvDriverType:"=",nvIsCrd:"="},template:a.default,controller:"UpdateDetailsController",controllerAs:"updateDetails",link:function(e,t){function n(){t.empty(),t.remove(),t=null}e.$on("$destroy",n),t.on("$destroy",function(){e.$destroy()})}}});t.nvUpdateDetails=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvUpdates=void 0;var i=n(10);n(632);var o=n(899),a=r(o),l=i.ngUpdatesModule.directive("nvUpdates",function(){return{restrict:"E",scope:{},template:a.default,link:function(e,t){function n(){t.empty(),t.remove(),t=null}e.$on("$destroy",n),t.on("$destroy",function(){e.$destroy()})}}});t.nvUpdates=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.updatesDriverController=void 0;var o=n(3),a=i(o),l=n(10);n(124),n(333),n(17),n(11),n(19),n(29);var s=n(316),c=r(s),u=n(317),d=r(u),f=l.ngUpdatesModule.controller("UpdatesDriverController",["$scope","$log","TASK_STATUS","$filter","$timeout","updatesService","$state","CHECK_FOR_UPDATE","COMMON_EVENTS","eventAggregator","UPDATE_EVENTS","DOWNLOAD_PROGRESS_STATUS","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","DRIVER_TYPE","dbService","DB_NAMES","INSTALLER_EVENTS","toastService","gfeService","dbCacheService","jarvisService","SOCKETIO_EVENTS","DOWNLOAD_TYPE","DRIVERTYPE","$templateCache","productTourService","PRODUCT_TOUR_NAMES","PRODUCT_TOUR_EVENTS","uiTourService","$document","$interval","CRD_STATE_EVENT",function(e,t,n,r,i,o,l,s,u,f,m,p,g,v,h,b,y,E,S,_,w,A,T,I,C,x,D,M,O,R,N,L,P){function k(e,t){var n={state:t,version:e};se.setItem(y.DRIVER_DOWNLOAD_STATE,n)}function G(){if(!a.isNull(ve)&&!a.isUndefined(ve)&&!a.isUndefined(ve.version)){var e=r("filter")(le.driverUpdateList,{version:ve.version,isCRD:ve.isCRD});e&&e.length>0?(fe.info("resume installation for recommended driver",ve.version),o.beginInstallation(e[0],ve.isCustomInstall,!0)):(fe.info("resume installation for installed driver",ve.version),o.beginInstallation(ve,ve.isCustomInstall,!0))}ve=null}function F(){if(fe.info("check for auto download Driver"),U()){var e=le.driverUpdateList;if(le.driverUpdateList.length>1&&(e=r("filter")(le.driverUpdateList,{isBeta:!1})),e&&e[0]&&(le.isStatusPending(e[0].downloadStatus.status)||le.isStatusPaused(e[0].downloadStatus.status))&&e[0].downloadStatus.failureCount<3){fe.info("autodownloadDriver for driver updates",e);var t;se.getItem(y.DRIVER_DOWNLOAD_STATE).then(function(e){t=e},function(e){fe.error("failed to read driverDownloadState key in database: ",e)}).finally(function(){var n=!0;!t||t.version!==e[0].version||"paused"!==t.state&&"stop"!==t.state||(n=!1),n&&le.startDownload(e[0])})}}}function U(){return le.driverUpdateList&&(!ae&&a.isNull(ve)&&!be||he)}function V(){if(ae){if(_e===ye.FAILED||le.driverUpdateList&&le.driverUpdateList.length>0)le.installedDriverHeaderText=de("l10n.currentlyInstalled");else{var e=JSON.parse(le.currentlySelectedDriver)===le.driverType.GRD?"l10n.latestGeforceUpdate":"l10n.latestGeforceCRDUpdate";le.installedDriverHeaderText=de(e)}le.installedDriverHeaderText=le.installedDriverHeaderText.toUpperCase()}else le.installedDriverHeaderText=""}function B(e){o.getUpdateDetails().then(function(e){if(we&&(!le.driverUpdateList||e&&e[0]&&le.driverUpdateList[0]&&(le.driverUpdateList[0].isCRD!==e[0].isCRD||le.driverUpdateList[0].version!==e[0].version))){var t=JSON.parse(le.currentlySelectedDriver)===le.driverType.GRD?"l10n.newGRDDriverAvailable":"l10n.newCRDDriverAvailable";S.show({textContent:r("translate")(t),icon:"file_download"})}else S.isOpen()&&S.cancel();fe.debug("driver updates list is: ",e,le.driverUpdateList),le.driverUpdateList=e,F()}).catch(function(e){if(le.installedDriver&&we){var t=JSON.parse(le.currentlySelectedDriver)===le.driverType.GRD?"l10n.latestGeforceUpdate":"l10n.latestGeforceCRDUpdate";S.show({textContent:r("translate")(t),icon:"check"})}else S.isOpen()&&S.cancel();le.driverUpdateList=null,fe.error("getUpdates failed with error: ",e)}).finally(function(){fe.info("refreshAvailableUpdates finally IN"),G(),le.installedDriver=ae,e&&(fe.info("call cb",e),e()),le.anydriverInfoOrUpdatesFound=!(!le.driverUpdateList&&!le.installedDriver),V(),ue=!0,we=!1,fe.info("refreshAvailableUpdates finally OUT")})}function z(e){S.show({textContent:e,icon:"error_outline"})}function $(e){if(e)switch(e.status){case n.TASK_FAILED_UNABLE_TO_REACH_SERVER:case n.TASK_CHECK_SUM_ERROR:case n.TASK_DISK_WRITE_FAIL:case n.TASK_SIGNATURE_VERIFICATION_FAILS:case n.TASK_COMPLETED:case n.TASK_DOWNLOAD_ERROR:f.off(T.CONNECT,W),f.off(p.PROGRESS,$)}}function W(){fe.info("downloader update last state on reconnect"),le.refreshUI()}function H(){le.updateState===s&&o.canCheckForUpdate()&&a.isNull(ve)?o.checkForUpdates():o.scanCompleted&&a.isNull(ve)?(fe.info("scan completed, refreshing state"),B()):o.manualCheckForUpdate&&!o.scanCompleted&&a.isNull(ve)&&(S.showProgress({textContent:r("translate")("l10n.checkingforUpdates")}),we=!0)}function j(){fe.info("showProductTour drivers initiated"),L.cancel(Ae);var e=0;Ae=L(function(){var t=angular.element(N[0].getElementById("driver-icon"));t[0]?(fe.info("driver tour element found"),D.startDriverTour(),L.cancel(Ae),Ae=null):(fe.info("check for Driver product tour html element",e),e++),e>=Ee&&(L.cancel(Ae),Ae=null,fe.info("Driver product tour id not found"))},Se)}function q(e){e!==M.DRIVER&&(Y(),fe.info("other tour closed, show driver product tour"),j())}function Y(){f.off(O.PAUSED,q),f.off(O.END,q)}function K(){f.on(O.PAUSED,q),f.on(O.END,q)}function Q(){le.installedDriver=null,ae=null,o.getInstalledDriver().then(function(e){ae=e,ae.isExpanded=!1,ae.reInstalledDriver=ae.downloadStatus&&le.isDownloadStarted(ae.downloadStatus.status)||ae.reInstalledDriver||!1,fe.info("getInstalledDriver get called",e)}).catch(function(e){fe.error("getInstalledDriver failed with error: ",e)}).finally(function(){le.refreshUI(),i.cancel(ge),ge=i(function(){H()})})}function Z(){o.isCRDFeatureSupported()}function X(e){fe.info("crd state updated by event",e),le.CRDSupported=e,le.CRDSupported===!0&&(D.isTourRunning()?(fe.info("register tour listener"),K()):(fe.info("show driver tour"),j()))}function J(){oe(),Q(),o.setUpdatesListener(le.refreshUI),f.on(P.CRD_STATE_UPDATED,X),Z()}function ee(){_e=ye.SCANNING}function te(){we=!1,z(de("l10n.unableToConnectToNvidia")),_e=ye.FAILED}function ne(){_e=ye.FINISHED}function re(e){var t=le.installedDriver&&le.installedDriver.downloadStatus.taskId==e.taskId;if(t&&(le.installedDriver.reInstalledDriver=!1),e.status===n.TASK_PAUSED_UNABLE_TO_REACH_SERVER)z(de("l10n.downloadPausedUnableToReachNvidia")),t&&(le.installedDriver.reInstalledDriver=!0);else if(e.status===n.TASK_CHECK_SUM_ERROR||e.status===n.TASK_SIGNATURE_VERIFICATION_FAILS)z(de("l10n.driverDownloadFailed"));else if(e.status===n.TASK_FAILED_UNABLE_TO_REACH_SERVER)z(de("l10n.unableToConnectToNvidia"));else if(e.status===n.TASK_DISK_WRITE_FAIL){var i=r("convertBytesToKBMBGB")(e.totalBytes);if(e.downloadedLocation.length>0){var o=e.downloadedLocation.split(":")[0];o=o.toUpperCase();var a=de("l10n.downloadDiskSpace",{value:i,drive:o});z(a)}}}function ie(){fe.info("got online event"),Q()}function oe(){o.getDriverTypePreference().then(function(e){fe.info("getDriverTypePreference is",e),le.currentlySelectedDriver=e}).catch(function(e){fe.error("getDriverTypePreference failed with error: ",e),le.currentlySelectedDriver=le.driverType.GRD})}var ae,le=this,se=b.getGlobalStore(y.GLOBAL_STORE),ce=Date.now(),ue=!1;le.driverUpdateList=null,le.installedDriver=null,le.taskStatus=n;var de=r("translate"),fe=t.getInstance("main.updates/updatesdrivercontroller");le.driverTypeConstant=h;var me,pe,ge,ve=null,he=!1,be=!1;fe.info("controller created"),le.installedDriverHeaderText="";var ye={NOT_STARTED:"NOT_STARTED",FAILED:"FAILED",FINISHED:"FINISHED",SCANNING:"SCANNING"};le.driverType=C;var Ee=3,Se=1e3;x.put("tour-step-popup.html",c.default),x.put("tour-step-template.html",d.default);var _e=ye.NOT_STARTED;le.user=A.getLoggedInUser(),le.viewState=w.getCachedUserItem(le.user.userId,y.VIEW_STORE,y.VIEW_STATE),le.anydriverInfoOrUpdatesFound=!0;var we=!1;le.CRDSupported=!1;var Ae;le.currentlySelectedDriver=le.driverType.GRD,le.getProgressString=function(e){var t="";if(e&&e.downloadStatus){var n=r("convertBytesToKBMBGB")(e.downloadStatus.totalBytes),i=r("convertBytesToKBMBGB")(e.downloadStatus.bytesDone);t=i+"/"+n}return t},le.startDownload=function(e){if(_.onlineState&&_.onlineState.online===!1)S.showOffline();else{var t=e.isCRD===le.driverType.CRD?I.CRD_DRIVER_DOWNLOAD:I.GRD_DRIVER_DOWNLOAD;o.startDownload(e.version,e.downloadURL,t).then(function(t){fe.info("download started",t.data),f.on(T.CONNECT,W),f.on(p.PROGRESS,$),k(e.version,"start"),e.downloadStatus=t.data}).catch(function(t){fe.error("download failed to start",t),z(de("l10n.driverDownloadFailed")),le.installedDriver&&le.installedDriver.version===e.version&&(le.installedDriver.reInstalledDriver=!1),null===e.version&&(e.version="unknown"),g.push(v.UPDATES_DOWNLOAD_DRIVER_FAILED,e.version)})}},le.pauseDownload=function(e){o.pauseDownload(e.downloadStatus.taskId).then(function(t){k(e.version,"paused"),e.downloadStatus=t.data,fe.info("download paused",e.downloadStatus)}).catch(function(e){fe.error("download failed to pause with error",e)})},le.resumeDownload=function(e){o.resumeDownload(e.downloadStatus.taskId).then(function(t){e.downloadStatus=t.data,k(e.version,"resume"),fe.info("download resume",e.downloadStatus)}).catch(function(e){fe.error("download failed to resume with error",e)})},le.stopDownload=function(e,t){t&&(le.installedDriver.reInstalledDriver=!1),o.stopDownload(e.downloadStatus.taskId).then(function(t){f.off(T.CONNECT,W),f.off(p.PROGRESS,$),e.downloadStatus=t.data,k(e.version,"stop"),fe.info("download stoped",e.downloadStatus)}).catch(function(e){fe.error("download failed to stop with error",e)})},le.startInstall=function(e,t){o.beginInstallation(e,t,!1)},le.isDownloadStarted=function(e){return e===n.TASK_PAUSED||e===n.TASK_RUNNING||e===n.TASK_RETRY||e===n.TASK_PAUSED_UNABLE_TO_REACH_SERVER},le.isExtractionStarted=function(e){return e===n.TASK_EXTRACTING},le.isStatusPaused=function(e){return e===n.TASK_PAUSED||e===n.TASK_PAUSED_UNABLE_TO_REACH_SERVER},le.isStatusCompleted=function(e){return e===n.TASK_COMPLETED},le.isStatusPending=function(e){return e===n.TASK_NOT_STARTED||e===n.TASK_CHECK_SUM_ERROR||e===n.TASK_FAILED_UNABLE_TO_REACH_SERVER||e===n.TASK_SIGNATURE_VERIFICATION_FAILS||e===n.TASK_DISK_WRITE_FAIL},le.updateDriverExpandedState=function(){var e=le.viewState.driverExpandState||{};fe.debug("driverExpandState IN",e),ae&&(angular.isDefined(e[le.installedDriver.version])?ae.isExpanded=e[le.installedDriver.version]:le.driverUpdateList||(le.installedDriver.isExpanded=ae.isExpanded=!0),e[le.installedDriver.version]=ae.isExpanded),le.driverUpdateList&&1===le.driverUpdateList.length&&(le.driverUpdateList[0].isExpanded=e[le.driverUpdateList[0].version]!==!1,e[le.driverUpdateList[0].version]=le.driverUpdateList[0].isExpanded),le.viewState.driverExpandState=e,le.viewState.persist_(),fe.debug("driverExpandState OUT",e)},le.isScanCompleted=function(){return o.scanCompleted},le.onExpand=function(e){i.cancel(me),me=i(function(){e.isExpanded=!0,le.viewState.driverExpandState&&(le.viewState.driverExpandState[e.version]=!0,le.viewState.persist_())})},le.onCollapse=function(e){i.cancel(pe),pe=i(function(){e.isExpanded=!1,le.viewState.driverExpandState&&(le.viewState.driverExpandState[e.version]=!1,le.viewState.persist_())})},le.refreshUI=function(){B(le.updateDriverExpandedState)},le.updateState=l.params.updateState,ve=l.params.resumeDriverInstallation,he=l.params.startDriverDownload,ve&&se.setItem(y.DRIVER_INSTALL_STATE,null),le.isCheckForUpdateDisabled=function(){return!o.canCheckForUpdate()||_e===ye.SCANNING},le.isInstallDisabled=function(){return we},le.onCheckForUpdate=function(){_.onlineState&&_.onlineState.online===!1?S.showOffline():o.canCheckForUpdate()&&(S.showProgress({textContent:r("translate")("l10n.checkingforUpdates")}),o.checkForUpdates(!0),we=!0)},J(),le.getDownloadStatusMessage=function(e){var t="";return e===n.TASK_EXTRACTING?t=r("translate")("l10n.preparingPackage"):e===n.TASK_RUNNING?t=de("l10n.downloading"):le.isStatusPaused(e)?t=de("l10n.paused"):e===n.TASK_RETRY&&(t=de("l10n.retrying")),t},le.getAvlDriverTelemetryEventName=function(t){return t?e.$root.telemetryEventNames.UPDATES_VIEW_AVAILABLE_BETA_DRIVER:e.$root.telemetryEventNames.UPDATES_VIEW_AVAILABLE_DRIVER},le.getAvlDriverType=function(e){return e?h.AVAILABLE_BETA:h.AVAILABLE},le.canToggleDownload=function(e,t){var n=[],r=le.isStatusPending(e);if(r){if(ae&&ae.downloadStatus&&ae.version!==t&&le.isDownloadStarted(ae.downloadStatus.status))return!1;le.driverUpdateList&&(n=a.filter(le.driverUpdateList,function(e){return!(e.version===t||!le.isDownloadStarted(e.downloadStatus.status))}))}return 0===n.length&&r&&!we},le.reInstalledDriverMenuItemDisabled=function(){return ae&&ae.downloadStatus&&le.isStatusPending(ae.downloadStatus.status)&&!le.canToggleDownload(ae.downloadStatus.status,ae.version)},le.performReinstalledDriver=function(){le.installedDriver&&(le.installedDriver.reInstalledDriver=!0,le.isStatusPending(ae.downloadStatus.status)&&le.startDownload(ae))},le.showReInstallButtons=function(){return le.installedDriver.reInstalledDriver},le.showLoadingIndicator=function(){return ue===!1&&Date.now()-ce>500},le.onRecommendedDriverTypeChanged=function(e){le.currentlySelectedDriver!=e&&(le.currentlySelectedDriver=e,be=!0,fe.info("onRecommendedDriverTypeChanged ",le.currentlySelectedDriver),o.setDriverTypePreference(e).then(function(){le.onCheckForUpdate()}))},le.onTourStepShown=function(){D.onStepShown()},f.on(E.INSTALL_DONE,Q),f.on(p.FAILED,re),f.on(m.SCAN_STARTED,ee),f.on(m.SCAN_FAILED,te),f.on(u.ONLINE,ie),f.on(m.SCAN_FINISHED,ne),f.on(m.INSTALLED_DRIVER_UPDATE,Q),f.on(u.DRIVER_PREFERENCE_UPDATED,oe),e.$on("$destroy",function(){if(Ae&&(fe.info("cancle tour interval"),L.cancel(Ae)),D.isTourRunning(M.DRIVER)){var e=R.getTourByName(M.DRIVER);e?(fe.info("close driver tour before moving to other page"),e.end().catch(function(e){fe.error("failed to end driver tour",e)})):fe.error("Failed to find driver tour element")}Y(),f.off(E.INSTALL_DONE,Q),f.off(m.SCAN_STARTED,ee),f.off(m.SCAN_FAILED,te),f.off(m.SCAN_FINISHED,ne),f.off(p.FAILED,re),f.off(u.ONLINE,ie),f.off(m.INSTALLED_DRIVER_UPDATE,Q),f.off(P.CRD_STATE_UPDATED,X),f.off(u.DRIVER_PREFERENCE_UPDATED,oe),i.cancel(pe),i.cancel(me),i.cancel(ge),pe=null,me=null,o.removeUpdatesListener(le.refreshUI)})}]);t.updatesDriverController=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvUpdatesDriver=void 0;var i=n(10);n(313),n(312),n(207),n(142),n(629),n(115),n(219);var o=n(901),a=r(o);n(631);var l=i.ngUpdatesModule.directive("nvUpdatesDriver",[function(){return{restrict:"E",scope:{},template:a.default,controller:"UpdatesDriverController",controllerAs:"updatesDriver",link:function(e,t,n,r){function i(){t.empty(),t.remove(),t=null}e.$on("$destroy",i),t.on("$destroy",function(){e.$destroy()})}}}]);t.nvUpdatesDriver=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updatesDriverHighlightsController=void 0;var r=n(10),i=r.ngUpdatesModule.controller("UpdatesDriverHighlightsController",["$scope","$log",function(e,t){var n=this;n.driverHighlights=null,n.driverOverview=null,n.driverType=e.nvDriverType,n.driverVersion=e.nvDriverVersion;var r=t.getInstance("main.updates/UpdatesDriverHighlightsController"),i=e.$watch("nvDriverHighlight",function(){e.nvDriverHighlight?n.driverHighlights=e.nvDriverHighlight:(r.error(" driver highlights is null"),n.driverHighlights=null)});e.$on("$destroy",function(){i()})}]);t.updatesDriverHighlightsController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvUpdatesDriverHighlights=void 0;var i=n(10);n(627);var o=n(902),a=r(o);n(633);var l=i.ngUpdatesModule.directive("nvUpdatesDriverHighlights",function(){return{restrict:"E",scope:{nvDriverHighlight:"=",nvDriverType:"=",nvDriverVersion:"@"},template:a.default,controller:"UpdatesDriverHighlightsController",controllerAs:"updatesDriverHighlights",link:function(e,t){function n(){t.empty(),t.remove(),t=null}e.$on("$destroy",n),t.on("$destroy",function(){e.$destroy()})}}});t.nvUpdatesDriverHighlights=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updatesHighlightsBannerController=void 0;var r=n(10),i=r.ngUpdatesModule.controller("UpdatesHighlightsBannerController",["$scope","DRIVER_TYPE","VIDEO_TYPE","$window","$document","DRIVER_UPDATE","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_GRD_CONTENT_TYPE","TELEMETRY_GRD_DISPLAY_SECTION",function(e,t,n,r,i,o,a,l,s){function c(e,t){return r.getComputedStyle(e[0]).getPropertyValue(t)}function u(){if(!_.isEmpty(m.bannerCarousel)){var e=c(m.bannerCarousel,"width"),t=parseInt(e.substring(0,e.lastIndexOf("px"))),n=o.BANNER_IMAGE_HEIGHT/o.BANNER_IMAGE_WIDTH,r=t*n;m.bannerCarousel.css({height:r+"px"})}}function d(e){return e.indexOf("youtu.be")!==-1?n.YOUTUBE:e.indexOf(".mp4")!==-1?n.LOCAL:""}function f(){return p===t.CURRENT?a.UPDATES_VIEW_CURRENT_DRIVER_BANNER_AD:a.UPDATES_VIEW_AVAILABLE_DRIVER_BANNER_AD}var m=this;m.videoBanner=null;var p=e.nvDriverType,g=e.nvDriverVersion;i.ready(function(){m.bannerCarousel=angular.element(i[0].querySelectorAll(".common-carousel")),u()}),r.addEventListener("resize",u),m.isVideoAvailable=function(e){return e.video&&!_.isEmpty(e.video)&&e.video.url&&!_.isEmpty(e.video.url)};var v=e.$watch("nvDriverBanner",function(){m.videoBanner=e.nvDriverBanner,_.each(e.nvDriverBanner,function(e){m.isVideoAvailable(e)?e.video.type=d(e.video.url):e.driverVersion=g})});m.getTelemetryEventInfo=function(){var e={eventName:{},info:{}};e.eventName=f();var t={contentType:"",displaySection:"",url:""};return t.contentType=l.VIDEO,t.displaySection=s.HEADER,e.info=t,e},e.$on("$destroy",function(){v(),r.removeEventListener("resize",u)})}]);t.updatesHighlightsBannerController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvUpdatesHighlightsBanner=void 0;var i=n(10);n(281);var o=n(903),a=r(o);n(635);var l=i.ngUpdatesModule.directive("nvUpdatesHighlightsBanner",function(){return{restrict:"E",scope:{nvDriverBanner:"=",nvDriverType:"=",nvDriverVersion:"@"},template:a.default,controller:"UpdatesHighlightsBannerController",controllerAs:"updatesHighlightsBanner",link:function(e,t){function n(){t.empty(),t.remove(),t=null}e.$on("$destroy",n),t.on("$destroy",function(){e.$destroy()})}}});t.nvUpdatesHighlightsBanner=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updatesInstallationCustomController=void 0;var r=n(10),i=r.ngUpdatesModule.controller("UpdatesInstallationCustomController",["$filter","updatesInstallerDialogService",function(e,t){var n=this;n.cleanInstall=!1;var r=t.getDialogModel(),i=r.installablePackagesData();n.showPackageSelectionUI=i[0],n.packages=i[1];var o=!0,a=e("translate");n.showPackageSelectionUI?n.cleanInstall=i[2]:o=i[2],n.getStatusText=function(e){return e&&e.length?e:a(o?"l10n.notSelected":"l10n.failed")},n.getUserSelectedCustomDetailsCallback=function(){var e=[];return n.showPackageSelectionUI&&(e.push(n.cleanInstall),e.push(n.packages)),e},t.getUserSelectedCustomDetailsRegister(n.getUserSelectedCustomDetailsCallback)}]);t.updatesInstallationCustomController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvUpdatesInstallationCustom=void 0;var i=n(10),o=n(904),a=r(o);n(637);var l=i.ngUpdatesModule.component("nvUpdatesInstallationCustom",{template:a.default,controller:"UpdatesInstallationCustomController",controllerAs:"updatesInstallationCustom"});t.nvUpdatesInstallationCustom=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateInstallationProgressController=void 0;var r=n(10);n(29);var i=r.ngUpdatesModule.controller("UpdateInstallationProgressController",["$log","updatesService","$sce","updatesInstallerDialogService",function(e,t,n,r){var i=this;i.status="",i.progressValue=0;var o=e.getInstance("main.updates/UpdateInstallationProgressController");i.model=r.getDialogModel(),i.isPreparingInstall=i.model.isExpressInstall();var a=i.model.driverType(),l=i.model.driverVersion();i.isInstalling=!1,i.progressTitle="",i.installationDriverData=null,t.getInstallationDriverData(a,l).then(function(e){i.installationDriverData=e}).catch(function(e){o.error("getInstallationDriverData failed: "+e+". Returning static content."),i.showFallbackImage=!0}),i.refreshInstallingCallback=function(e){i.isPreparingInstall=e},i.progressTitleCallback=function(e){i.progressTitle=e},i.progressSetTotalCallback=function(e,t){i.progressValue=e/t*100},i.updateIsInstallingCallback=function(e){i.progressValue=0,i.isInstalling=e},i.getBillboardUrl=function(){var e="";return i.installationDriverData&&(e=n.trustAsResourceUrl(i.installationDriverData.billboardURL)),e},i.canShowUninstallProgress=function(){return!i.isPreparingInstall&&!i.isInstalling},i.canShowInstallProgress=function(){return!i.isPreparingInstall&&i.isInstalling;
},r.updateRefreshInstallingRegister(i.refreshInstallingCallback),r.updateProgressTitleRegister(i.progressTitleCallback),r.updateProgressSetTotalRegister(i.progressSetTotalCallback),r.updateIsInstallingRegister(i.updateIsInstallingCallback)}]);t.updateInstallationProgressController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvUpdatesInstallationProgress=void 0;var i=n(10),o=n(905),a=r(o);n(639);var l=i.ngUpdatesModule.component("nvUpdatesInstallationProgress",{template:a.default,controller:"UpdateInstallationProgressController",controllerAs:"updateInstallationProgress"});t.nvUpdatesInstallationProgress=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updatesInstallationRebootController=void 0;var r=n(10),i=r.ngUpdatesModule.controller("UpdatesInstallationRebootController",["$scope","$interval","updatesInstallerDialogService",function(e,t,n){var r,i=this;i.interval=60,r=t(function(){i.interval<=1?(t.cancel(r),r=void 0,n.cancel(),n.rebootSystem()):i.interval--},1e3),e.$on("$destroy",function(){angular.isDefined(r)&&(t.cancel(r),r=void 0)})}]);t.updatesInstallationRebootController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvUpdatesInstallationReboot=void 0;var i=n(10),o=n(906),a=r(o);n(641);var l=i.ngUpdatesModule.directive("nvUpdatesInstallationReboot",function(){return{restrict:"E",template:a.default,controller:"UpdatesInstallationRebootController",controllerAs:"updatesInstallationReboot",link:function(e,t){function n(){e.$destroy()}function r(){t&&(t.off("$destroy",n),t.empty(),t.remove(),t=null)}e.$on("$destroy",r),t.on("$destroy",n)}}});t.nvUpdatesInstallationReboot=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvUpdatesInstallerDialogInstallationComplete=void 0;var i=n(10),o=n(907),a=r(o),l=i.ngUpdatesModule.directive("nvUpdatesInstallerDialogInstallationComplete",[function(){return{restrict:"E",template:a.default}}]);t.nvUpdatesInstallerDialogInstallationComplete=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ngUpdatesModule=void 0;var i=n(10),o=n(908),a=r(o);i.ngUpdatesModule.directive("nvUpdatesInstallerDialogInstallationError",[function(){return{restrict:"E",template:a.default}}]),t.ngUpdatesModule=i.ngUpdatesModule},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updatesInstallerDialogController=void 0;var r=n(10),i=r.ngUpdatesModule.controller("UpdatesInstallerDialogController",["updatesInstallerDialogService","cefService","$scope",function(e,t,n){var r=this;r.model=e.getDialogModel(),t.enableCloseButton(!1),r.showTitleContainer=function(){return!(!r.model.title()&&!r.model.subtitle())},r.showActionContainer=function(){return!(!r.model.button2()&&!r.model.button1())},r.refreshDialogData=function(){r.model=e.getDialogModel()},e.refreshDialogDataRegister(r.refreshDialogData),n.$on("$destroy",function(){t.enableCloseButton(!0)})}]);t.updatesInstallerDialogController=i},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.updatesInstallerDialogService=void 0;var i=n(3),o=r(i),a=n(10);n(11),n(643),n(644),n(638),n(642),n(640),n(647);var l=a.ngUpdatesModule.service("updatesInstallerDialogService",["$mdDialog","$rootElement","INSTALLER_PAGE","eventAggregator","INSTALLER_EVENTS","$log","INSTALLER_ACTION","INSTALLER_FORM_EVENT","RESPONSE_TO_INSTALLER","dbService","DB_NAMES","DRIVER_INSTALLATION_FAILED_CONSTRAINT","$filter","INSTALLER_ERROR_CODE","DRIVERTYPE",function(e,t,n,r,i,a,l,s,c,u,d,f,m,p,g){function v(e){return E.preset().html('<nv-updates-installation-progress class="updates-updates-intstallation-progress"></nv-updates-installation-progress>').details(_.name).isExpressInstall(e).driverType(_.isCRD).driverVersion(_.version)}function h(e){var t;switch(e){case l.ACTION_CANCEL:case l.ACTION_RESTART_LATER:case l.ACTION_CLOSE:t=c.ACTION_CANCEL;break;case l.ACTION_TRYAGAIN:case l.ACTION_INSTALL:case l.ACTION_RESTART_NOW:case l.ACTION_NEXT:t=c.ACTION_NEXT;break;default:t=c.ACTION_CANCEL}return t}function b(e){var t="";if(e&&e.constraintFailText&&e.constraintFailText[0]&&(t=e.constraintFailText[0],e.failedConstraintId&&e.failedConstraintId[0])){var n=o.findWhere(f,{failedConstraintId:e.failedConstraintId[0]});if(null!=n)if("SetupNeedsDiskSpaceCheck"===e.failedConstraintId[0]){t=e.constraintFailText[0];var r=e.constraintFailText[0].match(/\d+/g);r=r?r.join("."):"";var i=t.substring(t.lastIndexOf("(")-1,t.lastIndexOf(")")+1),a=m("translate");t=a(n.constrainTextId,{value:r,drive:i})}else t=n.constrainTextId}return t}function y(e,t,n,o){return E.preset().title(_.name).html('<nv-updates-installer-dialog-installation-error class="updates-installer-dialog-installation-error"></nv-updates-installer-dialog-installation-error>').details(t).bullets(Array.isArray(o)?o:[]).showBullets(Array.isArray(o)&&o.length>0).button1({text:e,action:function(){E.cancel(),E.sendResponseToInstaller(E.installerStatus,l.ACTION_CANCEL),r.trigger(i.INSTALL_CANCEL)}}).icon("warning").subtitle("l10n.installationCanNotContinue").showLink(n)}var E=this,S={};E.packages=[];var _,w=!1,A=!1,T=!1,I=a.getInstance("main.updates/updatesInstallerDialogService"),C=function(){function e(e){t[e]=function(r){return null!=r?(n[e]=r,t):n[e]}}var t=this,n={};e("showLink"),e("html"),e("title"),e("icon"),e("subtitle"),e("details"),e("button1"),e("button2"),e("installablePackagesData"),e("isExpressInstall"),e("showBullets"),e("bullets"),e("driverType"),e("driverVersion")};E.show=function(n){e.show({template:'<md-dialog style="min-width: fit-content;"><nv-updates-installer-dialog class="updates-updates-installer-dialog"layout="column"></nv-updates-installer-dialog></md-dialog>',parent:t.find("nv-window"),escapeToClose:!1}),E.setDialogModel(n),r.trigger(i.INSTALL_STARTED)},E.cancel=function(t){I.info("updates installer dialogue cancelled"),e.cancel(),w=!1,A=!1,E.unsubScribeDriverInstallationNotification()},E.setDialogModel=function(e){S=e,E.refreshDialogData()},E.getDialogModel=function(){return S},E.preset=function(){return new C},E.rebootSystem=function(){var e={isCustomInstall:w,version:_.version,name:_.name,downloadStatus:_.downloadStatus,isCRD:_.isCRD};u.getGlobalStore(d.GLOBAL_STORE).setItem(d.DRIVER_INSTALL_STATE,e).then(function(){I.debug("persist driver installation entry in database",e),E.sendResponseToInstaller(E.installerStatus,l.ACTION_RESTART_NOW)})},E.showInstallationForm=function(e,t,n){T=!1,w=t,A=n,_=e,E.show(v(!0))};var x=null;E.sendResponseToInstaller=function(e,t){var n={};n=o.extend(n,e),n.nextAction=h(t),I.debug("send response to installer",n),"function"==typeof x&&x(n)},E.showInstallerForm=function(e){if(E.installerStatus=e,e.method===s.SHOW_FORM){var t;switch(e.form){case n.NVIFORM_PRE_INSTALL_CHECK:E.sendResponseToInstaller(e,l.ACTION_NEXT);break;case n.NVIFORM_INSTALL_INITIAL:case n.NVIFORM_INSTALL_CHECKING:case n.NVIFORM_EULA:case n.NVIFORM_INSTALL_CHECK_WARNINGS:case n.NVIFORM_PRE_REBOOT_INSTALL:var r=E.getDialogModel();r&&r.html&&r.html().indexOf("nv-updates-installation-progress")!=-1||(I.debug("show progress dialog"),E.setDialogModel(v(!0))),E.updateRefreshInstalling(!0),E.sendResponseToInstaller(e,l.ACTION_INSTALL);break;case n.NVIFORM_INSTALL_REMOVE_PROGRESS:E.updateRefreshInstalling(!1);break;case n.NVIFORM_INSTALL_PROGRESS:E.setProgressTitle(""),E.updateRefreshInstalling(!1),E.updateIsInstalling(!0);break;case n.NVIFORM_INSTALL_FINISHED_NO_SUMMARY:E.showInstallationComplete();break;case n.NVIFORM_INSTALL_FINISHED:E.showInstallationCompleteWithSummary(e.packages);break;case n.NVIFORM_INSTALL_CHECK_WAIT:t=!(!e.failedConstraintId||"AllowInstallCheck"!==e.failedConstraintId[0]),E.showInstallationCanNotStartWithCancelBtn(b(e),t),E.sendResponseToInstaller(e,l.ACTION_NEXT);break;case n.NVIPROP_CUSTOM_INSTALL:E.showCustomInstallSelect(e.packages,e.cleanInstall);break;case n.NVIFORM_INSTALL_REMOVE_REBOOT:E.showInstallationContinueRebootRequired();break;case n.NVIFORM_INSTALL_FAILED:E.showInstallationFail(e.packages);break;case n.NVIFORM_INSTALL_REBOOT:E.showInstallationRebootWithSummary(e.packages);break;case n.NVIFORM_INSTALL_CHECK_FAILED:t=!(!e.failedConstraintId||"AllowInstallCheck"!==e.failedConstraintId[0]),E.showInstallationCanNotStartWithCloseBtn(b(e),t);break;case n.NVIFORM_PRE_INSTALL_CHECK_RETRY:t=!(!e.failedConstraintId||"AllowInstallCheck"!==e.failedConstraintId[0]),E.showInstallationCanNotContinueWithTryAgainBtn(b(e),!1,t);break;case n.NVIFORM_INSTALL_START_FAILED:A=(A!==!0||p.NV_INSTALLER_RESUME_CANCLE!==e.errorCode||!_||!_.downloadStatus)&&A,E.showInstallationCanNotContinueWithTryAgainBtn(e.constraintFailText[0],!0,!1,e.bullets);break;default:I.debug("un-handled installer forms",e)}}else E.setProgressTitle(e.progressTitle),E.updateInstallProgress(e.currentProgress,e.totalProgress);return!0};var D=null,M=null,O=null,R=null,N=null,L=null,P=null,k=null;E.updateRefreshInstallingRegister=function(e){D=e},E.unsubScribeDriverInstallationNotificationRegister=function(e){k=e},E.updateProgressTitleRegister=function(e){M=e},E.updateProgressSetTotalRegister=function(e){O=e},E.updateIsInstallingRegister=function(e){R=e},E.refreshDialogDataRegister=function(e){N=e},E.setSendResponseToInstallerRegister=function(e){x=e},E.setInvokeInstallationCallbackRegister=function(e){L=e},E.getUserSelectedCustomDetailsRegister=function(e){P=e},E.updateRefreshInstalling=function(e){"function"==typeof D&&D(e)},E.unsubScribeDriverInstallationNotification=function(){"function"==typeof k&&k()},E.setProgressTitle=function(e){"function"==typeof M&&M(e)},E.updateInstallProgress=function(e,t){"function"==typeof O&&O(e,t)},E.updateIsInstalling=function(e){"function"==typeof R&&R(e)},E.refreshDialogData=function(){"function"==typeof N&&N()},E.updateUserSelectedCustomDetails=function(){if("function"==typeof P){var e=P();o.isNull(e)||2!==e.length||(E.installerStatus.packages=e[1],E.installerStatus.cleanInstall=e[0],T=e[0])}},E.showInstallationComplete=function(){E.setDialogModel(E.preset().title(_.name).html('<nv-updates-installer-dialog-installation-complete class="updates-installer-dialog-installation-complete"></nv-updates-installer-dialog-installation-complete>').details("l10n.installationComplete").button1({text:"l10n.close",action:function(){E.cancel();var e={isCleanInstallSelected:T,isGRDInstalled:_.isCRD!==g.CRD};I.info("Installation complete ",e),r.trigger(i.INSTALL_DONE,e),E.sendResponseToInstaller(E.installerStatus,l.ACTION_CLOSE)}}))},E.showInstallationCanNotContinueWithTryAgainBtn=function(e,t,n,r){E.setDialogModel(y("l10n.close",e,n,r).button2({text:"l10n.tryAgain",action:function(){E.setDialogModel(v(!0)),t?"function"==typeof L?L(_,w,A):I.error("setInvokeInstallationCallback is not a function"):E.sendResponseToInstaller(E.installerStatus,l.ACTION_TRYAGAIN)}}))},E.showCustomInstallSelect=function(e,t){var n=[];n.push(!0),n.push(e),n.push(t),T=t,E.setDialogModel(E.preset().title(_.name).html('<nv-updates-installation-custom class="updates-installation-custom-container"> </nv-updates-installation-custom>').subtitle("l10n.installationOption").button1({text:"l10n.install",action:function(){E.setDialogModel(v(!1)),E.updateUserSelectedCustomDetails(),E.sendResponseToInstaller(E.installerStatus,l.ACTION_INSTALL)}}).button2({text:"l10n.cancel",action:function(){E.cancel(),E.sendResponseToInstaller(E.installerStatus,l.ACTION_CANCEL),r.trigger(i.INSTALL_CANCEL)}}).installablePackagesData(n))},E.showInstallationCompleteWithSummary=function(e){var t=[];t.push(!1),t.push(e),t.push(!0),E.setDialogModel(E.preset().title(_.name).html('<nv-updates-installation-custom class="updates-installation-custom-container"> </nv-updates-installation-custom>').subtitle("l10n.installationHasFinished").button1({text:"l10n.close",action:function(){E.cancel();var e={isCleanInstallSelected:T,isGRDInstalled:_.isCRD!==g.CRD};I.info("Installation complete with summary ",e),r.trigger(i.INSTALL_DONE,e),E.sendResponseToInstaller(E.installerStatus,l.ACTION_CLOSE)}}).installablePackagesData(t).icon("check"))},E.showInstallationFail=function(e){var t=[];t.push(!1),t.push(e),t.push(!1),E.setDialogModel(E.preset().title(_.name).icon("error").html('<nv-updates-installation-custom class="updates-installation-custom-container"> </nv-updates-installation-custom>').subtitle("l10n.installationFail").button1({text:"l10n.close",action:function(){E.cancel(),E.sendResponseToInstaller(E.installerStatus,l.ACTION_CLOSE),r.trigger(i.INSTALL_CANCEL)}}).installablePackagesData(t))},E.showInstallationRebootWithSummary=function(e){var t=[];t.push(!1),t.push(e),t.push(!0),E.setDialogModel(E.preset().title(_.name).icon("warning").html('<nv-updates-installation-custom class="updates-installation-custom-container"> </nv-updates-installation-custom>').subtitle("l10n.installationCompleteRestart").button1({text:"l10n.restartNow",action:function(){E.cancel(),E.sendResponseToInstaller(E.installerStatus,l.ACTION_RESTART_NOW)}}).button2({text:"l10n.restartLater",action:function(){E.sendResponseToInstaller(E.installerStatus,l.ACTION_CANCEL),E.cancel(),r.trigger(i.INSTALL_CANCEL)}}).installablePackagesData(t))},E.showInstallationContinueRebootRequired=function(){E.setDialogModel(E.preset().title(_.name).html('<nv-updates-installation-reboot class="updates-updates-installation-reboot"></nv-updates-installation-reboot>').button1({text:"l10n.restartNow",action:function(){E.cancel(),E.rebootSystem()}}))},E.showInstallationCanNotStartWithCloseBtn=function(e,t){E.setDialogModel(y("l10n.close",e,t))},E.showInstallationCanNotStartWithCancelBtn=function(e,t){E.setDialogModel(y("l10n.cancel",e,t))}}]);t.updatesInstallerDialogService=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvUpdatesInstallerDialog=void 0;var i=n(10);n(164);var o=n(909),a=r(o);n(645);var l=i.ngUpdatesModule.directive("nvUpdatesInstallerDialog",function(){return{restrict:"E",scope:{subview:"@"},template:a.default,controller:"UpdatesInstallerDialogController",controllerAs:"updatesInstallerDialog",link:function(e,t){function n(){t.empty(),t.remove(),t=null}e.$on("$destroy",n),t.on("$destroy",function(){e.$destroy()})}}});t.nvUpdatesInstallerDialog=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updatesNotificationsController=void 0;var r=n(10);n(124);var i=r.ngUpdatesModule.controller("UpdatesNotificationsController",["$log","$state","updatesService","TASK_STATUS","CHECK_FOR_UPDATE",function(e,t,n,r,i){function o(){n.getInstalledDriver().then(function(e){l.installedDriver=e}).catch(function(e){s.error("getInstalledDriver failed: "+e)})}function a(){l.updatesList=null,l.driverUpdatesCount=0,n.getUpdateDetails().then(function(e){l.updatesList=e,l.driverUpdatesCount=l.updatesList?l.updatesList.length:0}).catch(function(e){s.error("getUpdates failed: "+e)})}var l=this;l.updatesList=[],l.installedDriver=null,l.driverUpdatesCount=0,l.taskStatus=r,l.checkForUpdate=i;var s=e.getInstance("main.updates/UpdatesNotificationsController");l.launchUpdateTab=function(e){t.go("main.auth.updates",{updateState:e})},l.isDownloadStarted=function(e){return e===r.TASK_PAUSED||e===r.TASK_RUNNING},l.progressBarValue=function(e){return e.downloadStatus?e.downloadStatus.bytesDone/e.downloadStatus.totalBytes*100:0},l.refreshUI=function(){o(),a()},o(),n.checkForUpdates(),n.setUpdatesListener(l.refreshUI)}]);t.updatesNotificationsController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvUpdatesNotification=void 0;var i=n(10);n(280),n(313),n(312);var o=n(911),a=r(o);n(648);var l=i.ngUpdatesModule.directive("nvUpdatesNotification",function(){return{restrict:"E",scope:{},template:a.default,controller:"UpdatesNotificationsController",controllerAs:"updatesNotifications",link:function(e,t){function n(){t.empty(),t.remove(),t=null}e.$on("$destroy",n),t.on("$destroy",function(){e.$destroy()})}}});t.nvUpdatesNotification=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.editBadgesController=void 0;var i=n(27),o=r(i),a=n(8);n(387);var l=a.ngUserProfileModule.controller("EditBadgesController",["$scope","$log","$mdDialog","gfeService","telemetryService","eventAggregator","PROFILE_EVENTS","TELEMETRY_AFFINITY_ACTION","TELEMETRY_AFFINITY_ELEMENT","TELEMETRY_CRIMSON_EVENT_NAMES",function(e,t,n,r,i,a,l,s,c,u){function d(e){g.groupedAchievements.title.id===e.id&&(g.groupedAchievements.title.isFeatured=null,e.isFeatured=null,g.groupedAchievements.title={id:null})}function f(e){y&&e.id!==g.groupedAchievements.title.id&&(d(g.groupedAchievements.title),e.isFeatured=!0,g.groupedAchievements.title=e)}function m(e){var t={shown:[],hidden:[],pending:[],locked:[],unlocked:[],all:[],title:{id:null}};return e.forEach(function(e){e=(0,o.default)({},e),e.isUnlocked?t.unlocked.push(e):t.locked.push(e),"shown"===e.visibility?t.shown.push(e):"hidden"===e.visibility?t.hidden.push(e):t.pending.push(e),e.isFeatured&&(t.title=e),t.all.push(e)}),t}function p(){g.groupedAchievements=m(g.achievements),g.groupedAchievements.shown.length>0?g.showcase=g.groupedAchievements.shown:g.groupedAchievements.hidden.length>0?g.showcase=[]:g.showcase=_.first(_.sortBy(g.groupedAchievements.unlocked,"earnedStampMicro"),5),g.showcase.forEach(function(e){return e.inShowcase=!0});var e=_.sortBy(g.groupedAchievements.unlocked,"title"),t=_.sortBy(g.groupedAchievements.locked,"title");g.groupedAchievements.all=e.concat(t),null!==g.groupedAchievements.title.id&&(y=!0)}var g=this,v=null,h=!1,b=!1,y=!1;t.getInstance("main.userProfile/editBadgesController");g.showcase=[],g.groupedAchievements={},g.afterDragStarted=function(e){return!!v&&v.id===e.id},g.onDragStart=function(){return function(t,n,r){r.isDragging=!0,v=r,e.$apply()}},g.onDragEnd=function(){return function(t,n,r){r.isDragging=!1,v=null,e.$apply()}},g.onDrop=function(){return function(t,n,r,i){var o=n.data("dragData");o.isDropping=!1;for(var a=0;a<g.showcase.length;a++)g.showcase[a].id===v.id?g.showcase[a]=o:g.showcase[a].id===o.id&&(g.showcase[a]=v);v=null,e.$apply()}},g.onDragLeave=function(){return function(t,n,r,i){var o=n.data("dragData");i.id!=o.id&&(o.isDropping=!1,e.$apply())}},g.onDragOver=function(){return function(t,n,r,i){var o=n.data("dragData");i.id!==o.id&&(o.isDropping=!0,e.$apply())}},g.mouseDown=function(e){e.isDragging=!0},g.mouseUp=function(e){e.isDragging=!1},g.save=function(){n.hide();var e=g.showcase.map(function(e){return e.id}),t=g.currentShowcase.map(function(e){return e.id});if(g.groupedAchievements.title.inShowcase===!1&&d(g.groupedAchievements.title),h=!_.isEqual(e,t),b=g.titleBadge.id!==g.groupedAchievements.title.id,b||h){var r={badgesChanged:h,showcase:g.showcase,titleChanged:b,titleBadge:g.groupedAchievements.title};a.trigger(l.BADGES_UPDATED,r)}},g.cancel=function(){n.cancel()},g.isOnline=function(){return r.onlineState.online},g.selectDisabled=function(e){return!e.inShowcase&&5===g.showcase.length},g.toggleTitle=function(e,t){e.stopPropagation(),t.isFeatured?(d(t),y=!1):(y=!0,f(t),i.push(u.USER_CUSTOMIZE_PROFILE,{customizedResource:c.USER_TITLE,action:s.BOOKMARKED,description:t.title?t.title:""}))},g.achievementSelectChanged=function(e){e.inShowcase&&g.showcase.push(e),g.showcase=g.showcase.filter(function(e){return e.inShowcase})},p()}]);t.editBadgesController=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.editUserDescriptionController=void 0;var r=n(8),i=r.ngUserProfileModule.controller("EditUserDescriptionController",["$log","mdPanelRef",function(e,t){var n=this;e.getInstance("main.userProfile/editUserDescriptionController");n.isValidDescription=function(){return!!n.nvDescription&&(n.nvDescription.trim().length>0&&n.nvDescription.trim().length<=250)},n.commitUpdate=function(){t.close().then(function(){n.isValidDescription()&&n.nvUpdateDescription(n.nvDescription.trim()),t.destroy()})},n.cancelUpdate=function(){t.close().then(function(){t.destroy()})}}]);t.editUserDescriptionController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.featuredRewardController=void 0;var i=n(248),o=r(i),a=n(8),l=n(920),s=r(l);n(662);var c=a.ngUserProfileModule.controller("FeaturedRewardController",["$scope","$log","$filter","$mdDialog","$state","cevoService","gfeService","toastService","eventAggregator","telemetryService","USER_PROFILE_EVENTS","SWEEPSTAKE_EVENTS","USER_PROFILE_DIALOG_NAMES","PROFILE_EVENTS","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_AFFINITY_ELEMENT","TELEMETRY_AFFINITY_ACTION","TELEMETRY_STATUS","TELEMETRY_SCREENS","USER_PROFILE_ERRORS",function(e,t,n,r,i,a,l,c,u,d,f,m,p,g,v,h,b,y,E,S){function w(e){e&&e.errorType==S.CURRENT_GIVEAWAY_EXPIRED&&(G=!0)}function A(e){e&&e.name===p.SWEEPSTAKES_DIALOG&&(R.openSweepstakesDialog(),e.name=null,e.id=null)}function T(e){d.push(v.USER_AFFINITY_EMPTY_STATE,{action:b.LOAD_VIEW,useCase:h.SWEEPSTAKE,status:y.FAILURE,currentScreen:E.SCREEN_WIDGET,additionalMessage:e.toString().substring(0,1024)})}function I(e){R.tokensEntered=e.tokensEntered,R.tokensAvailable=e.availableTokens,N=e.timestamp}function C(e){R.tokensAvailable=e.rewardTokens}function x(e){_.isEmpty(e)||(R.giveaway=k,R.giveawayEntryDetails=e,R.tokensAvailable=+e.tokenBalance,R.giveawayEntryDetails.tokens&&(N=+R.giveawayEntryDetails.enteredStampMicro,R.tokensEntered=R.giveawayEntryDetails.tokens),A(i.params.showDialog))}function D(e){k=e[0];try{R.previewArtwork=k.assets.preview.file.url}catch(e){R.previewArtwork="#",L.error("exception while getting image",e.message,k)}return a.getGiveawayEntryDetails(k.id).then(x).catch(function(e){L.error("getGiveawayEntryDetails failed",e),T(e)})}function M(){a.getCurrentGiveaway().then(D).catch(function(e){L.error("getCurrentGiveaway failed",e),T(e),w(e)}).finally(function(){P=!1}),u.on(f.OPEN_DIALOG,A),u.on(f.EXTENDED_PROFILE_REFRESH,C),u.on(m.TOKENS_ENTERED_CHANGED,I),u.on(g.CURRENT_GIVEAWAY_REFRESHED,D),u.on(g.GIVEAWAY_ENTRY_DETAILS_REFRESHED,x)}function O(){u.off(f.OPEN_DIALOG,A),u.off(f.EXTENDED_PROFILE_REFRESH,C),u.off(m.TOKENS_ENTERED_CHANGED,I),u.off(g.CURRENT_GIVEAWAY_REFRESHED,D),u.off(g.GIVEAWAY_ENTRY_DETAILS_REFRESHED,x)}var R=this,N=null,L=t.getInstance("main.userProfile/FeaturedRewardController"),P=!0,k=null,G=!1;R.tokensAvailable=null,R.tokensEntered=0,R.giveaway=null,R.giveawayEntryDetails=null,R.STATE={NORMAL:"normal",ERROR:"error",EXPIRED:"expired"},R.refreshGiveaway=function(e){L.info("Countdown ended with state-"+e+". Refreshing..."),a.getCurrentGiveaway(!0).catch(function(e){R.giveaway=null,R.giveawayEntryDetails=null,w(e)})},R.openSweepstakesDialog=function(){var e;return l.onlineState.online?(d.push(v.USER_AFFINITY_READ_MORE,{action:b.READ_INFO,useCase:h.SWEEPSTAKE,description:R.giveaway&&R.giveaway.title?R.giveaway.title:""}),void r.show((e={template:s.default,controller:"SweepstakesDialogController",controllerAs:"sweepstakeCtrl",bindToController:!0,disableParentScroll:!0},(0,o.default)(e,"bindToController",!0),(0,o.default)(e,"locals",{giveaway:R.giveaway,tokens:{available:R.tokensAvailable||0,entered:R.tokensEntered||0}}),e))):(L.error("Offline. Ignoring sweepstake open request"),void c.showOffline())},R.updatedMoment=function(){return n("convertUTCToTimeAgo")(N)},R.tokensNotEntered=function(){return!P&&0===R.tokensEntered},R.tokensAlreadyEntered=function(){return!P&&R.tokensEntered>0},R.tokensEnteredStr=function(){return 1===R.tokensEntered?"l10n.tokenEntered":"l10n.tokensEntered"},R.getCurrentState=function(){return R.giveaway&&R.giveawayEntryDetails?R.STATE.NORMAL:G?R.STATE.EXPIRED:R.STATE.ERROR},e.$on("$destroy",O),M()}]);t.featuredRewardController=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvFeaturedReward=void 0;var i=n(8);n(652);var o=n(914),a=r(o);n(283),n(42);var l=i.ngUserProfileModule.component("nvFeaturedReward",{controller:"FeaturedRewardController",controllerAs:"featuredRewardCtrl",template:a.default});t.nvFeaturedReward=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.levelDetailsController=void 0;var r=n(8),i=r.ngUserProfileModule.controller("LevelDetailsController",["$log","$filter",function(e,t){function n(){r.nvLevel.ubound=+r.nvLevel.ubound,r.nvLevel.lbound=+r.nvLevel.lbound,0===r.nvLevel.lbound?r.xpRangeString=t("translate")("l10n.uptoXp",{value:r.nvLevel.ubound}):99999999===r.nvLevel.ubound?r.xpRangeString=t("translate")("l10n.xpMax",{number:r.nvLevel.lbound}):r.xpRangeString=t("translate")("l10n.xpRange",{lower:r.nvLevel.lbound,upper:r.nvLevel.ubound})}var r=this;e.getInstance("main.userProfile/levelDetailsController");r.xpRangeString="-",n()}]);t.levelDetailsController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvLevelDetails=void 0;var i=n(8),o=n(915),a=r(o);n(654);var l=i.ngUserProfileModule.component("nvLevelDetails",{bindings:{nvLevel:"=",nvUserLevel:"=",nvHideProgress:"<"},template:a.default,controller:"LevelDetailsController",controllerAs:"levelDetails"});t.nvLevelDetails=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.levelsDialogController=void 0;var i=n(248),o=r(i),a=n(8);n(655);var l=a.ngUserProfileModule.controller("LevelsDialogController",["$log","$mdDialog","LEVELS",function(e,t,n){var r,i=this,a=(e.getInstance("main.userProfile/LevelsDialogController"),r={},(0,o.default)(r,n.SILVER,["l10n.tokensPerWeekOne"]),(0,o.default)(r,n.GOLD,["l10n.tokensPerWeekThree"]),(0,o.default)(r,n.TITANIUM,["l10n.tokensPerWeekEight"]),r);i.maxLevel=n.MAX_LEVEL,i.nvLevels.forEach(function(e){_.isEmpty(e.perks)&&(e.perks=a[e.level])}),1===i.nvUserLevel.rewardTokens?i.tokenString="l10n.tokenCount":i.tokenString="l10n.tokensCount",i.closeDialog=function(){t.cancel()}}]);t.levelsDialogController=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.missionDetailsController=void 0;var r=n(8),i=r.ngUserProfileModule.controller("MissionDetailsController",["$mdDialog","telemetryService","MISSION_TYPE","MISSION_CONSTANTS","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_AFFINITY_ACTION","TELEMETRY_AFFINITY_ELEMENT","TELEMETRY_STATUS","TELEMETRY_SCREENS",function(e,t,n,r,i,o,a,l,s){var c=this,u=400;c.isCollapsed=!1,c.showCta=!_.isEmpty(c.mission.cta),c.missionExpires=function(){return c.mission.missionType===n.FEATURED_MISSION||c.mission.repeatable===r.TRUE},c.closeDialog=function(){e.cancel()},c.ctaClicked=function(){var e=a.MISSION;c.mission.missionType===n.FEATURED_MISSION&&(e=a.FEATURED_MISSION),t.push(i.USER_AFFINITY_CTA_CLICKED,{action:o.CALL_TO_ACTION,useCase:e,status:l.SUCCESS,currentScreen:s.SCREEN_MISSIONS,additionalMessage:c.mission.id.toString()}),c.closeDialog()},c.collapseToggle=_.debounce(function(){c.isCollapsed=!c.isCollapsed},u,!0)}]);t.missionDetailsController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.missionProgressController=void 0;var r=n(8),i=r.ngUserProfileModule.controller("MissionProgressController",["MISSION_TYPE",function(e){function t(){var e=i.nvMission.completionStatus.mission.tokensEarned,t=+i.nvMission.tokens,n=e/t;return n+"/"+o}function n(){var e=i.nvMission.completionStatus.mission.xpEarned,t=+i.nvMission.xp,n=e/t;return n+"/"+o}function r(){i.isCompleted=1==i.nvMission.completionStatus.mission.isComplete,i.nvMission.missionType===e.TOKEN_MISSION?(i.icon="icon-ranking-token",i.missionValue=i.nvMission.tokens,i.getProgress=t):(i.icon="icon-ranking-XP",i.missionValue=i.nvMission.xp,i.getProgress=n)}var i=this,o=+i.nvMission.repeatNumber;i.showProgress=o>1,i.getProgress=angular.noop,r()}]);t.missionProgressController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvMissionProgress=void 0;var i=n(8),o=n(918),a=r(o);n(658);var l=i.ngUserProfileModule.component("nvMissionProgress",{bindings:{nvMission:"="},controller:"MissionProgressController",controllerAs:"missionProgressCtrl",template:a.default});t.nvMissionProgress=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.missionTileController=void 0;var i=n(8);n(657);var o=n(917),a=r(o),l=i.ngUserProfileModule.controller("MissionTileController",["$scope","$state","$mdDialog","telemetryService","eventAggregator","MISSION_TYPE","USER_PROFILE_EVENTS","USER_PROFILE_DIALOG_NAMES","TELEMETRY_AFFINITY_ACTION","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_AFFINITY_ELEMENT",function(e,t,n,r,i,o,l,s,c,u,d){function f(e){e&&e.name===s.MISSION_DETAILS_DIALOG&&e.id===g.nvMission.id&&(g.showDetails(),e.name=null,e.id=null)}function m(){g.isFeatured=g.nvMission.missionType===o.FEATURED_MISSION,v=g.isFeatured?d.FEATURED_MISSION:d.MISSION,g.isFeatured&&(f(t.params.showDialog),i.on(l.OPEN_DIALOG,f))}function p(){g.isFeatured&&i.off(l.OPEN_DIALOG,f)}var g=this,v=null;g.showDetails=function(e){n.show({template:a.default,controller:"MissionDetailsController",controllerAs:"missionDetailsCtrl",bindToController:!0,disableParentScroll:!0,locals:{mission:g.nvMission}}),r.push(u.USER_AFFINITY_READ_MORE,{action:c.READ_INFO,useCase:v,description:g.nvMission.name})},e.$on("$destroy",p),m()}]);t.missionTileController=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvMissionTile=void 0;var i=n(8),o=n(919),a=r(o);n(660),n(659),n(336);var l=i.ngUserProfileModule.component("nvMissionTile",{bindings:{nvMission:"="},controller:"MissionTileController",controllerAs:"missionTileCtrl",template:a.default});t.nvMissionTile=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sweepstakesDialogController=void 0;var r=n(8);n(164),n(283),n(42),n(209);var i=r.ngUserProfileModule.controller("SweepstakesDialogController",["$scope","$log","$mdDialog","$timeout","$filter","cevoService","gfeService","eventAggregator","telemetryService","SWEEPSTAKE_EVENTS","SWEEPSTAKE_DIALOG_STATES","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_AFFINITY_ELEMENT","TELEMETRY_AFFINITY_ACTION","rewardsService","TELEMETRY_STATUS","TELEMETRY_SCREENS",function(e,t,n,r,i,o,a,l,s,c,u,d,f,m,p,g,v){function h(){I.remainingTokens=I.availableTokens-(I.tokensEntered-C)}function b(){h(),I.validInput=I.tokensEntered>I.minRequiredTokens&&I.remainingTokens>=0,I.sweepstakeForm.tokens.$setValidity("required",I.validInput)}function y(e,t){I.messageOverlayVisible=!0,I.overlayState=e,t&&S()}function E(){x&&(r.cancel(x),x=null)}function S(){return x||(x=r(function(){I.messageOverlayVisible=!1,E()},L)),x}function _(e){y(u.OVERLAY_SUCCESS,!0),D=+e.updatedStampMicro,I.tokensEntered=+e.tokens,I.availableTokens=+e.tokenBalance,I.giveaway.tokensEntered=e.giveawayTokens,I.termsAlreadyAgreed=!0,I.tokensEnteredViewState=u.REVIEW_STAKES,l.trigger(c.TOKENS_ENTERED_CHANGED,{tokensEntered:I.tokensEntered,availableTokens:I.availableTokens,timestamp:+e.enteredStampMicro})}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M;R.error("addTokensToGiveaway failed",e),I.errorMessage=t,y(u.OVERLAY_ERROR,!0)}function A(){o.getCurrentGiveaway().then(function(e){I.giveaway=e[0]}).catch(function(e){R.error("getCurrentGiveaway failed",e)});try{I.boxArt=I.giveaway.assets.hero.file.url;
}catch(e){I.boxArt="#",R.error("exception while getting image",e.message,I.giveaway)}I.agreeToElementHtml="<span>"+i("translate")("l10n.agreeToRules")+"</span>",I.availableTokens=I.tokens.available,I.tokens.entered>0&&(I.tncAgreed=!0,I.termsAlreadyAgreed=!0,C=I.tokens.entered,I.minRequiredTokens=I.tokens.entered,I.tokensEntered=I.minRequiredTokens),h()}function T(){E()}var I=this,C=0,x=null,D=null,M=i("translate")("l10n.errorSubmittingTokens"),O=i("translate")("l10n.errorTryAgain"),R=t.getInstance("main.userProfile/sweepstakesDialogController"),N=3,L=2500;I.dialogState=u.GIVEAWAY_DETAILS,I.overlayState=u.OVERLAY_LOADING,I.tokensEnteredViewState=u.EDIT_STAKES,I.tncAgreed=!1,I.boxArt=null,I.validInput=!0,I.minRequiredTokens=0,I.tokensInputMax=Math.pow(10,N)-1,I.tokensInputMin=0,I.tokensEntered=0,I.messageOverlayVisible=!1,I.termsAlreadyAgreed=!1,I.sweepstakeForm={},I.closeDialog=function(){return n.cancel()},I.tokensSubmitMoment=function(){return i("convertUTCToTimeAgo")(D)},I.goBack=function(e){I.dialogState=u.GIVEAWAY_DETAILS},I.showRules=function(e){s.push(d.USER_AFFINITY_READ_MORE,{action:m.READ_OFFICIAL_RULES,useCase:f.SWEEPSTAKE,description:I.giveaway&&I.giveaway.title?I.giveaway.title:""}),I.dialogState=u.OFFICIAL_RULES},I.isOnline=function(){return a.onlineState.online},I.showRemainingTokens=function(){return I.validInput},I.showInvalidTokensError=function(){return!I.validInput},I.increaseButtonDisabled=function(){return I.remainingTokens<=0},I.decreaseButtonDisabled=function(){return I.tokensEntered<=I.minRequiredTokens},I.submitDisabled=function(){return!I.tncAgreed||!I.validInput||!I.isOnline()||I.availableTokens<=0},I.tncCheckboxDisabled=function(){return!I.isOnline()||I.availableTokens<=0},I.increaseTokens=function(){I.tokensEntered+=1,b()},I.decreaseTokens=function(){I.tokensEntered-=1,b()},I.tokensInputKeypress=function(e){["+","-","e",".","enter"].includes(e.key.toLowerCase())?e.preventDefault():e.currentTarget.value.length>=N&&e.preventDefault()},I.tokensInputDisabled=function(){return I.availableTokens<=0},I.tokensInputBlur=b,I.tokensRemainingStr=function(){return 0===I.availableTokens?"l10n.noTokensAvailable":1===I.remainingTokens?"l10n.tokenRemaining":"l10n.tokensRemaining"},I.tokensEnteredSuccessStr=function(){return 1===I.tokensEntered?"l10n.tokenEnteredSuccessfully":"l10n.tokensEnteredSuccessfully"},I.inputErrorStr=function(){return 0===I.tokensEntered?"l10n.errorOneOrMoreTokens":I.tokensEntered>0&&I.tokensEntered<=I.minRequiredTokens?"l10n.errorAddMoreTokens":I.tokensEntered>I.remainingTokens?"l10n.errorTooManyTokens":void 0},I.submitTokens=function(){b(),I.validInput&&(y(u.OVERLAY_LOADING,!1),I.giveaway.deltaTokens=I.tokensEntered-C,p.trySweepstakeEntry(I.giveaway).then(function(e){if(e.success){var t="GPU Sweepstake entry success";_(e),s.push(d.USER_ENTER_SWEEPSTAKE_SUCCESS,{action:m.ENTERED,useCase:f.SWEEPSTAKE,status:g.SUCCESS,currentScreen:v.SCREEN_SWEEPSTAKE,additionalMessage:t})}else w(e,e.errorMessage||O),s.push(d.USER_ENTER_SWEEPSTAKE_FAILURE,{action:m.ENTERED,useCase:f.SWEEPSTAKE,status:g.ENTRYRESTRICTED,currentScreen:v.SCREEN_SWEEPSTAKE,additionalMessage:e.errorMessage||e.errorDetails||""})}))},I.addMoreTokens=function(){I.minRequiredTokens=I.tokensEntered,C=I.tokensEntered,h(),I.tokensEnteredViewState=u.EDIT_STAKES},I.reviewDone=I.closeDialog,e.$on("$destroy",T),A()}]);t.sweepstakesDialogController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.userAchievementsController=void 0;var i=n(27),o=r(i),a=n(8),l=n(912),s=r(l);n(650);var c=a.ngUserProfileModule.controller("UserAchievementsController",["$scope","$state","$log","$mdDialog","$q","$filter","cevoService","eventAggregator","telemetryService","toastService","PROFILE_EVENTS","USER_PROFILE_DIALOG_NAMES","USER_PROFILE_EVENTS","TELEMETRY_AFFINITY_ACTION","TELEMETRY_AFFINITY_ELEMENT","TELEMETRY_CRIMSON_EVENT_NAMES",function(e,t,n,r,i,a,l,c,u,d,f,m,p,g,v,h){function b(e){e&&e.name===m.BADGES_DIALOG&&(I.viewAll(),e.name=null,e.id=null)}function y(e){d.showError({textContent:a("translate")(e)})}function E(e,t){return l.setAchievementsTitle(e.id).then(function(e){C.info("successfully updated title",e)}).catch(function(e){C.error("failed to update title",e),I.titleBadge=t,y("l10n.errorUserTitle")})}function S(e,t,n){var r=e.map(function(e){return e.id});return l.setBadges(r).then(function(e){C.info("successfully updated badges",e),e.forEach(function(e){return e.isUnlocked=!0});var t=I.achievements.filter(function(e){return!e.isUnlocked});I.achievements=e.concat(t)}).catch(function(e){return C.error("failed to update badges with error",e),I.showcase=t,I.titleBadge=n,y("l10n.errorAchievements"),i.reject()})}function w(e){var t=I.showcase,n=I.titleBadge;return I.showcase=e.showcase,I.titleBadge=e.titleBadge,I.viewAllDisabled=!0,i.when().then(function(r){if(e.badgesChanged)return S(e.showcase,t,n)}).then(function(){if(e.titleChanged)return E(e.titleBadge,n)}).catch(function(){C.info("subsequent request cancelled")}).finally(function(){I.viewAllDisabled=!1,t=null,n=null})}function A(e){var n={shown:[],hidden:[],pending:[]};I.achievements=e,I.unlocked=I.achievements.filter(function(e){return e.isUnlocked}),n=(0,o.default)(n,_.groupBy(I.achievements,"visibility")),n.shown.length>0?I.showcase=n.shown:n.hidden.length>0?I.showcase=[]:I.showcase=_.first(_.sortBy(I.unlocked,"earnedStampMicro"),5),I.titleBadge=_.find(I.showcase,function(e){return e.isFeatured})||D,b(t.params.showDialog)}function T(){l.getAllUserAchievements().then(A).catch(function(e){C.error("get all user achievements failed",e),y("l10n.someInfoMissing")}),c.on(p.OPEN_DIALOG,b),c.on(f.BADGES_UPDATED,w),c.on(f.ALL_USER_ACHIEVEMENTS_REFRESHED,A)}var I=this,C=n.getInstance("main.userProfile/userAchievementsController"),x=0,D={id:null};I.viewAllDisabled=!1,I.achievements=void 0,I.placeholderList=[1,2,3],I.viewAll=function(){return I.viewAllDisabled?void C.info("information is being updated..."):(u.push(h.USER_AFFINITY_READ_MORE,{action:g.READ_INFO,useCase:v.ACHIEVEMENT,description:I.achievements&&x>0?"Number of achievements: "+x:""}),void r.show({clickOutsideToClose:!1,controller:"EditBadgesController",controllerAs:"editBadgesCtrl",template:s.default,locals:{currentShowcase:I.showcase,achievements:I.achievements,titleBadge:I.titleBadge},bindToController:!0}))},I.loading=function(){return void 0===I.achievements},T(),e.$on("$destroy",function(){c.off(p.OPEN_DIALOG,b),c.off(f.BADGES_UPDATED,w),c.off(f.ALL_USER_ACHIEVEMENTS_REFRESHED,A)})}]);t.userAchievementsController=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvUserAchievements=void 0;var i=n(8),o=n(921),a=r(o);n(663);var l=i.ngUserProfileModule.component("nvUserAchievements",{controller:"UserAchievementsController",controllerAs:"userAchievements",template:a.default});t.nvUserAchievements=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.userActivityLogController=void 0;var i=n(8),o=n(201),a=r(o),l=i.ngUserProfileModule.controller("UserActivityLogController",["$scope","$log","$filter","cevoService","preferencesService","eventAggregator","telemetryService","COMMON_EVENTS","PROFILE_EVENTS","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_AFFINITY_ACTION","TELEMETRY_AFFINITY_ELEMENT","TELEMETRY_STATUS","TELEMETRY_SCREENS",function(e,t,n,r,i,o,l,s,c,u,d,f,m,p){function g(e){l.push(u.USER_AFFINITY_EMPTY_STATE,{action:d.LOAD_VIEW,useCase:f.ACTIVITY_LOG,status:m.FAILURE,currentScreen:p.SCREEN_ACTIVITY_LOG,additionalMessage:e.toString().substring(0,1024)})}function v(){return i.getShareRunningStatus().then(function(e){O=e}).catch(function(e){O=!1,R.error("getShareRunningStatus failed.")})}function h(){x=!0,i.isShareFeatureSupportedOnSystem().then(function(e){if(M=e)return v()}).catch(function(e){R.error("isShareFeatureSupported failed",e),g("Failed to get share supported information"),M=!1}).finally(function(){x=!1})}function b(e){return 0===e?n("translate")("l10n.today"):1===e?n("translate")("l10n.yesterday"):(0,a.default)().subtract(e,"days").format("dddd, MMMM DD")}function y(e){var t=(0,a.default)().startOf("day");return _.groupBy(e,function(e){var n=(0,a.default)(+e.stampMicro).startOf("day"),r=a.default.duration(t.diff(n)).asDays();return C[r.toString()]=b(r),r.toString()})}function E(e){try{I.activityLog=y(e.data.data.activity)}catch(e){R.error("Failed to get activities",e.message),g(e.message.substring(0,1024))}}function S(){D=!0,r.getActivityLog().then(E).catch(function(e){R.error("getActivityLog failed",e),g(e.toString().substring(0,1024))}).finally(function(){D=!1})}function w(){return x||D}function A(){S(),h(),o.on(s.SHARE_STATUS_CHANGED,v),o.on(c.ACTIVITY_LOG_REFRESHED,E)}function T(){o.off(s.SHARE_STATUS_CHANGED,v),o.off(c.ACTIVITY_LOG_REFRESHED,E)}var I=this,C={},x=!1,D=!1,M=!1,O=!1,R=t.getInstance("main.userProfile/userActivityLogController");I.activityItemLimitTo=7,I.activityLog=null,I.headerDate=function(e){return C[e]},I.openOSCGallery=function(){l.push(u.ACTIVITY_LOG_VIEW_GALLERY),i.openOscGallery()},I.shareDisabledFallback=function(){return!w()&&!O},I.shareReady=function(){return!w()&&O},I.shareSupported=function(){return!w()&&M},I.emptyState=function(){return!(w()||O&&I.activityLog)},I.activityMoment=function(e){var t=new Date(+e.stampMicro);return n("convertUTCToTimeAgo")(t)},I.showTokensEarned=function(e){return e.tokens>0},I.showXpEarned=function(e){return e.xp>0},A(),e.$on("$destroy",T)}]);t.userActivityLogController=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvUserActivityLog=void 0;var i=n(8),o=n(922),a=r(o);n(665),n(670);var l=i.ngUserProfileModule.component("nvUserActivityLog",{controller:"UserActivityLogController",controllerAs:"userActivityLog",template:a.default});t.nvUserActivityLog=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userGalleryDetailsController=void 0;var r=n(8),i=r.ngUserProfileModule.controller("UserGalleryDetailsController",["$scope","preferencesService","navigationalDialogService","eventAggregator","NAVIGATIONAL_DIALOG_EVENTS","GALLERY_TYPES",function(e,t,n,r,i,o){function a(){c.mediaItem=n.getCurrentItem()}function l(){a(),r.on(i.CURRENT_ITEM_UPDATED,a)}function s(){r.off(i.CURRENT_ITEM_UPDATED,a)}var c=this;c.isVideo=function(){return c.mediaItem.file.type==o.VIDEO},c.isImage=function(){return c.mediaItem.file.type==o.IMAGE},c.upload=function(){t.openOscUpload(c.mediaItem)},l(),e.$on("$destroy",s)}]);t.userGalleryDetailsController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.userGalleryDetails=void 0;var o=n(3),a=(i(o),n(8)),l=n(923),s=r(l);n(667);var c=a.ngUserProfileModule.component("nvUserGalleryDetails",{template:s.default,controller:"UserGalleryDetailsController",controllerAs:"userGalleryDetails"});t.userGalleryDetails=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.userGalleryController=void 0;var i=n(12),o=r(i),a=n(8);n(278),n(120);var l=a.ngUserProfileModule.controller("UserGalleryController",["$log","$q","$scope","eventAggregator","galleryService","gfeService","nvSpCapsEndpoints","COMMON_EVENTS","TELEMETRY_AFFINITY_API_NAME","TELEMETRY_ORIGINAL_SERVICE_NAME","USER_PROFILE_EVENTS","USER_PROFILE_TAB_NAMES","GALLERY_SUBTYPES","httpTelemetryService",function(e,t,n,r,i,a,l,s,c,u,d,f,m,p){function g(e,t,n,r,i){var o=u.LOCALHOST,l=n&&n.config&&n.config.url?n.config.url:"",s=n&&n.status?n.status:0;p.sendSdkHttpTelemetry(e,a.onlineState.online,"",r,s,l,i,o,t)}function v(e){return e.subtype!==m.EXR}function h(){if(T)return T;i.thumbSizes=I;var e=new Date;return T=l.getRecordingPaths().catch(function(n){e=new Date-e;var r=!!(n&&n.status>0);return g(r,c.GET_SHADOWPLAY_RECORDS_PATH,n,e,A),t.reject(n)}).then(function(t){return e=new Date-e,(t.status<200||t.status>=300)&&t.data&&(A=(0,o.default)(t.data)),g(!0,c.GET_SHADOWPLAY_RECORDS_PATH,t,e,A),i.setRecordingPaths(t.data)}).then(function(){return i.getRecentFiles()}).then(function(){return i.checkCachedData()}).then(function(){S.recentlyCaptured=i.populatedRecentFilesFolder.slice(),S.recentlyCaptured=_.filter(i.populatedRecentFilesFolder,function(e){return v(e.file)})}).finally(function(){T=null})}function b(e){e===f.ACTIVITY_TAB?(h(),r.on(s.WINDOW_FOCUS,h)):r.off(s.WINDOW_FOCUS,h)}function y(){S.loading=!0,h().then(angular.noop).catch(function(e){w.error("could not fetch recent items",e)}).finally(function(){S.loading=!1}),i.active(!0),r.on(d.PROFILE_TAB_CHANGED,b)}function E(){r.off(d.PROFILE_TAB_CHANGED,b),r.off(s.WINDOW_FOCUS,h),i.active(!1)}var S=this,w=e.getInstance("main.userProfile/userGalleryController"),A="",T=null,I={width:240,height:135};S.recentlyCaptured=[],S.fallbackState=function(){return!S.loading&&S.recentlyCaptured&&!S.recentlyCaptured.length},n.$on("$destroy",E),y()}]);t.userGalleryController=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvUserGallery=void 0;var i=n(8);n(669);var o=n(924),a=r(o);n(672),n(380);var l=i.ngUserProfileModule.component("nvUserGallery",{controller:"UserGalleryController",controllerAs:"userGallery",template:a.default});t.nvUserGallery=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userGalleryTileController=void 0;var r=n(8);n(668),n(372);var i=r.ngUserProfileModule.controller("UserGalleryTileController",["$log","navigationalDialogService","GALLERY_AUDIOTYPES","preferencesService","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","GALLERY_TYPES",function(e,t,n,r,i,o,a){var l=this;e.getInstance("main.userProfile/userGalleryTileController");l.Item=l.nvFile,l.List=l.nvFileList,l.previewMedia=function(e,n){l.nvFile.file.type===a.VIDEO&&i.push(o.ACTIVITY_LOG_LAUNCH_VIDEO),t.show("<nv-user-gallery-details></nv-user-gallery-details>",{currentItem:l.Item,itemsList:l.List,parent:angular.element(document.querySelector("#DialogContainerParent")),class:"user-gallery-details-dialog"})},l.upload=function(e){i.push(o.ACTIVITY_LOG_SHARE_CAPTURE),e.stopPropagation(),r.openOscUpload(l.nvFile)},l.isFileMultiTrackAudio=function(e){return e===n.SEPARATE}}]);t.userGalleryTileController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvUserGalleryTile=void 0;var i=n(8);n(671);var o=n(925),a=r(o),l=i.ngUserProfileModule.component("nvUserGalleryTile",{bindings:{nvFile:"=",nvFileList:"="},controller:"UserGalleryTileController",controllerAs:"userGalleryTile",template:a.default});t.nvUserGalleryTile=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userMissionsController=void 0;var r=n(8),i=r.ngUserProfileModule.controller("UserMissionsController",["$scope","$log","cevoService","telemetryService","eventAggregator","PROFILE_EVENTS","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_AFFINITY_ELEMENT","TELEMETRY_AFFINITY_ACTION","TELEMETRY_STATUS","TELEMETRY_SCREENS",function(e,t,n,r,i,o,a,l,s,c,u){function d(e){var t=(new Date).getTime(),n={};return t<e.startStampAdjusted?(n.header="l10n.featuredMissionStartCountdown",n.ts=e.startStampAdjusted):t>e.endStampAdjusted?(n.header="l10n.featuredMissionEnded",n.ts=null):(n.header="l10n.featuredMissionEndCountdown",n.ts=e.endStampAdjusted),n}function f(e){var t=d(e);g.featuredCtaHeader=t.header,g.featuredCtaTs=t.ts}function m(e){v.info("getUserMissions refresh"),g.featuredMissions=e.featuredMissions,g.repeatableMissions=e.repeatableMissions,g.timelessMissions=e.timelessMissions;try{var t=e.featuredMissions[0],n=t.cta;_.isEmpty(n)||!n.startStampAdjusted?(g.isFeaturedCtaMission=!1,g.featuredMissionEndTs=t.endStampAdjusted,g.ctaMission=null):(g.isFeaturedCtaMission=!0,g.ctaMission=g.featuredMissions[0],f(n))}catch(e){v.error("failed to extract featured mission timestamp information")}try{g.weeklyMissionEndTs=e.repeatableMissions[0].endStampAdjusted}catch(e){v.error("failed to extract weekly mission timestamp information")}h=!1}function p(){n.getUserMissions().then(m).catch(function(e){v.error("getUserMissions failed",e),h=!0,r.push(a.USER_AFFINITY_EMPTY_STATE,{action:s.LOAD_VIEW,useCase:l.MISSION,status:c.FAILURE,currentScreen:u.SCREEN_MISSIONS,additionalMessage:e.toString().substring(0,1024)})}),i.on(o.MISSIONS_REFRESHED,m)}var g=this,v=t.getInstance("main.userProfile/userMissionsController"),h=void 0;g.featuredCtaHeader="",g.featuredCtaTs=0,g.isFeaturedCtaMission=!1,g.ctaMission=null,g.refreshMission=function(e){v.info("Countdown ended with state-"+e+". Refreshing..."),n.getUserMissions(!0)},g.emptyState=function(){return h},g.featuredCtaMissionActive=function(){return g.isFeaturedCtaMission&&!!g.featuredCtaTs},g.featuredCtaMissionEnded=function(){return g.isFeaturedCtaMission&&!g.featuredCtaTs},g.ctaStateChanged=function(e){v.info("CTA countdown ended with state-"+e),f(g.ctaMission.cta),g.featuredCtaTs||g.refreshMission()},p(),e.$on("$destroy",function(){i.off(o.MISSIONS_REFRESHED,m)})}]);t.userMissionsController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvUserMissions=void 0;var i=n(8),o=n(926),a=r(o);n(673),n(661);var l=i.ngUserProfileModule.component("nvUserMissions",{controller:"UserMissionsController",controllerAs:"userMissionsCtrl",template:a.default});t.nvUserMissions=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.userProfileController=void 0;var i=n(8);n(122),n(311),n(22),n(307),n(651);var o=n(913),a=r(o);n(314);var l=n(319),s=r(l),c=i.ngUserProfileModule.controller("UserProfileController",["$scope","$document","$log","$mdDialog","$mdPanel","$state","$timeout","dbCacheService","dialogService","eventAggregator","cevoService","jarvisService","rewardsService","COMMON_EVENTS","DB_NAMES","USER_PROFILE_EVENTS","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_AFFINITY_ELEMENT","TELEMETRY_AFFINITY_ACTION","USER_PROFILE_TAB_NAMES","REWARDS_EVENTS","IMAGE_UPDATE_STATE","toastService","$filter",function(e,t,n,r,i,o,l,c,u,d,f,m,p,g,v,h,b,y,E,S,w,A,T,I,C){function x(e){return F.profileTabs.findIndex(function(t){return t.name===e})}function D(e){var t=-1,n=0;return t=e.destination?x(e.destination):F.selectedTab,t<0?void $.error("got invalid tab destination",e):(F.selectedTab!==t&&(l(function(){F.selectedTab=t}),n=W),void(_.isFunction(e.callback)&&l(e.callback,n)))}function M(e){V=e,V&&p.triggerGpuAchievement()}function O(e,t,n){if($.error("onUpdate got error",e.error),e.error.status!==-1&&e.error.status!==-100){var r="";try{r=e.error.data.errors.global[0].message}catch(e){r=C("translate")("l10n.errorTryAgain")}I.show({textContentUseTranslate:r,icon:"error",button:{text:C("translate")("l10n.tryAnother"),action:function(){b.push(n),t()}}})}}function R(e){I.cancel(),O(e,F.updateAvatar,y.TOAST_CLICKED_REUPLOAD_AVATAR)}function N(e){I.cancel(),O(e,F.updateCover,y.TOAST_CLICKED_REUPLOAD_COVER)}function L(e){z&&(I.cancel(),z=!1,I.show({icon:"check_circle",textContent:C("translate")("l10n.verificationSuccessfull")}))}function P(e){B&&(I.cancel(),B=!1,I.show({icon:"check_circle",textContent:C("translate")("l10n.verificationSuccessfull")}))}function k(){p.getRewardsEnabled().then(M),F.profileDetail.avatar=c.getCachedUserItem(U.userId,v.CEVO_GFE_STORE,v.AVATAR),F.profileDetail.displayName=U.core.displayName,F.profileDetail.description=c.getCachedUserItem(U.userId,v.JARVIS_COMMON_STORE,v.PERSONALIZATION),F.profileDetail.coverImageUrl=c.getCachedUserItem(U.userId,v.CEVO_GFE_STORE,v.COVER),f.refresh(),d.on(h.SWITCH_TAB,D),d.on(g.WINDOW_FOCUS,f.refresh),d.on(A.FEATURE_STATUS_UPDATED,M),d.on(T.AVATAR_UPDATE_FAILED,R),d.on(T.COVER_UPDATE_FAILED,N),d.on(T.AVATAR_UPDATE_SUCCESSFULL,L),d.on(T.COVER_UPDATE_SUCCESSFULL,P)}function G(){d.off(h.SWITCH_TAB,D),d.off(g.WINDOW_FOCUS,f.refresh),d.off(A.FEATURE_STATUS_UPDATED,M),d.off(T.AVATAR_UPDATE_FAILED,R),d.off(T.COVER_UPDATE_FAILED,N),d.off(T.AVATAR_UPDATE_SUCCESSFULL,L),d.off(T.COVER_UPDATE_SUCCESSFULL,P),I.cancel()}var F=this,U=m.getLoggedInUser(),V=!1,B=!1,z=!1,$=n.getInstance("main.userProfile/userProfileController"),W=500,H={name:w.DEFAULT_TAB,isVisible:function(){return f.getFeatureEnabled("missions")},header:"l10n.missions",directive:"<nv-user-missions flex></nv-user-missions>",active:o.params.startWithTab===w.DEFAULT_TAB},j={name:w.ACTIVITY_TAB,isVisible:function(){return f.getFeatureEnabled("activityLog")},header:"l10n.activityFeed",directive:"<nv-user-activity-log flex></nv-user-activity-log>",telemetryTarconId:y.VIEW_ACTIVITY_LOG,active:o.params.startWithTab===w.ACTIVITY_TAB},q={name:w.REWARDS_TAB,isVisible:function(){return V},header:"l10n.myRewards",directive:"<nv-rewards-center flex></nv-rewards-center>",telemetryTarconId:y.VIEW_MY_REWARDS,active:o.params.startWithTab===w.REWARDS_TAB},Y=7e3,K={w:1280,h:400};F.isAvatarMouseHover=!1,F.isCoverMouseHover=!1,F.isDescriptionMouseHover=!1,F.profileDetail={},F.selectedTab=0,F.profileTabs=[H,j,q],F.updateAvatar=function(){return f.getAvatarUploadInProgress()?(I.showProgress({textContent:C("translate")("l10n.verificationOfUploadInProgress")}),void(z=!0)):void u.show("nv-edit-avatar")},F.getFeatureEnabled=f.getFeatureEnabled,F.updateCoverImage=function(e){$.info("Saving profile cover image"),F.profileDetail.coverImageUrl.url=e,F.profileDetail.coverImageUrl.persist_(),$.info("Saving profile cover image done")},F.isEditCoverButtonVisible=function(){return F.isCoverMouseHover&&!F.isAvatarMouseHover&&!F.isDescriptionMouseHover},F.updateCover=function(){return f.getCoverUploadInProgress()?(I.showProgress({textContent:C("translate")("l10n.verificationOfUploadInProgress")}),void(B=!0)):r.show({controller:"EditProfileCoverController",controllerAs:"editProfileCover",template:s.default,bindToController:!0,locals:{title:"l10n.uploadProfileCover",subTitle:C("translate")("l10n.minimumRequiredSize",K),showRecentlyCaptured:!0,image:F.profileDetail.coverImageUrl.url,updateImageCallback:F.updateCoverImage,dialogClass:"edit-profile-cover-container",outputFormat:{maxSize:{w:2400,h:1200},minSize:K}},escapeToClose:!0,disableParentScroll:!0})},F.updateDescription=function(e){F.profileDetail.description.bio={value:e,ts:Date.now()},F.profileDetail.description.persist_(),b.push(y.USER_CUSTOMIZE_PROFILE,{customizedResource:E.BIO_DESCRIPTION,action:S.UPDATED,description:e}),l(function(){f.refresh()},Y)},F.editUserDescription=function(e){var n=i.newPanelPosition().relativeTo(".desc-edit-button").addPanelPosition(i.xPosition.ALIGN_END,i.yPosition.BELOW);return i.open({controller:"EditUserDescriptionController",controllerAs:"editUserDescription",locals:{nvDescription:F.profileDetail.description.bio.value,nvUpdateDescription:F.updateDescription},template:a.default,attachTo:t[0].getElementById("panel-container"),position:n,hasBackdrop:!0,bindToController:!0})},F.avatarMouseHover=function(e){F.isAvatarMouseHover=e},F.descriptionMouseHover=function(e){F.isDescriptionMouseHover=e},F.coverMouseHover=function(e){F.isCoverMouseHover=e},F.onTabChanged=function(e){p.setRewardsTabSelected(e.name===w.REWARDS_TAB),d.trigger(h.PROFILE_TAB_CHANGED,e.name),e.telemetryTarconId&&b.push(e.telemetryTarconId)},F.refreshProfile=function(){f.refresh()},e.$on("$destroy",G),k()}]);t.userProfileController=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvUserProfile=void 0;var i=n(8);n(675);var o=n(927),a=r(o);n(680),n(678),n(653),n(682),n(666),n(674),n(664),n(684);var l=i.ngUserProfileModule.component("nvUserProfile",{controller:"UserProfileController",controllerAs:"userProfile",template:a.default});t.nvUserProfile=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.userProfileStatusController=void 0;var i=n(27),o=r(i),a=n(8);n(656);var l=n(916),s=r(l);n(142);var c=a.ngUserProfileModule.controller("UserProfileStatusController",["$scope","$log","$mdDialog","cevoService","eventAggregator","telemetryService","USER_PROFILE_EVENTS","PROFILE_EVENTS","SWEEPSTAKE_EVENTS","LEVELS","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_AFFINITY_ACTION","TELEMETRY_AFFINITY_ELEMENT","TELEMETRY_SCREENS","TELEMETRY_STATUS",function(e,t,n,r,i,a,l,c,u,d,f,m,p,g,v){function h(e,t,n){return(e-t)/(n-t)}function b(e){A.profileStatus.rewardTokens=e.availableTokens}function y(e){A.profileStatus=e,A.profileStatus.progress=100*h(A.profileStatus.xp,A.profileStatus.xplevel.lbound,A.profileStatus.xplevel.ubound);var t=r.getLevelDetails(A.profileStatus.xplevel.level);A.profileStatus.levelIcon=t.icon,A.profileStatus.levelName=t.name,1==A.profileStatus.rewardTokens?A.tokenString="l10n.token":A.tokenString="l10n.tokens",T=!0}function E(e){try{var t=(0,o.default)({},e.data.data.levels);A.levelsDescription=e.data.data.description,A.xpLevels=_.map(t,function(e,t){var n=r.getLevelDetails(e.level);return(0,o.default)(e,{icon:n.icon,name:n.name,tokenValue:{value:e.tokensAwarded}})})}catch(t){C.error("getXpLevel exception",t.message,e)}}function S(){r.getExtendedProfile().then(y).catch(function(e){T=!1,a.push(f.USER_AFFINITY_EMPTY_STATE,{action:m.LOAD_VIEW,useCase:p.USER_PROFILE,status:v.FAILURE,currentScreen:g.SCREEN_WIDGET,additionalMessage:e.toString().substring(0,1024)})}).finally(function(){I=!1}),r.getXpLevel().then(E).catch(function(e){C.error("getXpLevels failed",e),a.push(f.USER_AFFINITY_EMPTY_STATE,{action:m.LOAD_VIEW,useCase:p.LEVEL,status:v.FAILURE,currentScreen:g.SCREEN_WIDGET,additionalMessage:e.toString().substring(0,1024)})}),i.on(u.TOKENS_ENTERED_CHANGED,b),i.on(l.EXTENDED_PROFILE_REFRESH,y),i.on(c.XP_LEVEL_REFRESHED,E)}function w(){i.off(u.TOKENS_ENTERED_CHANGED,b),i.off(l.EXTENDED_PROFILE_REFRESH,y),i.off(c.XP_LEVEL_REFRESHED,E)}var A=this,T=!1,I=!0,C=t.getInstance("main.userProfile/userProfileStatusController");A.maxLevel=d.MAX_LEVEL,A.xpLevelProgress=0,A.profileStatus={xp:"─ ─",rewardTokens:"─ ─",xplevel:{name:"─ ─",lbound:"─ ─",ubound:"─ ─"}},A.tokenString="l10n.tokens",A.openLevelsDialog=function(){I||(a.push(f.USER_AFFINITY_READ_MORE,{action:m.READ_INFO,useCase:p.LEVEL,description:A.profileStatus.xplevel.name}),n.show({template:s.default,locals:{nvUserLevel:A.profileStatus,nvLevels:A.xpLevels,description:A.levelsDescription},autoWrap:!1,bindToController:!0,clickOutsideToClose:!0,controller:"LevelsDialogController",controllerAs:"levelsDialog"}))},A.emptyState=function(){return!I&&!T},S(),e.$on("$destroy",w)}]);t.userProfileStatusController=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvUserProfileStatus=void 0;var i=n(8);n(677);var o=n(928),a=r(o),l=i.ngUserProfileModule.component("nvUserProfileStatus",{controller:"UserProfileStatusController",controllerAs:"ctrl",template:a.default});t.nvUserProfileStatus=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userProfileSummaryController=void 0;var r=n(8),i=r.ngUserProfileModule.controller("UserProfileSummaryController",["$log","gamesService","preferencesService",function(e,t,n){function r(){n.getGameStreamFeature().then(function(e){o.isGSSupported="true"==e.overallState})}function i(){r(),t.getCachedGames().then(function(e){o.totalGamesCount=_.size(e),o.anselSupportedGamesCnt="03",o.optimizedGamesCnt=t.optimizedGamesCount(e),o.gsSupportedGamesCount=_.size(_.filter(e,function(e){return e.streamingSupported===!0}))}).catch(function(e){a.error("Error getting cached games!",e)})}var o=this,a=e.getInstance("main.userProfile/userProfileSummaryController");o.isGSSupported=!1,i()}]);t.userProfileSummaryController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvUserProfileSummary=void 0;var i=n(8);n(679);var o=n(929),a=r(o),l=i.ngUserProfileModule.component("nvUserProfileSummary",{controller:"UserProfileSummaryController",controllerAs:"userProfileSummary",template:a.default});t.nvUserProfileSummary=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.userRigController=void 0;var i=n(8);n(23),n(386),n(314);var o=n(319),a=r(o),l=i.ngUserProfileModule.controller("UserRigController",["$scope","$log","$mdDialog","hardwareService","rigService","dbCacheService","jarvisService","eventAggregator","COMMON_EVENTS","DB_NAMES",function(e,t,n,r,i,o,l,s,c,u){function d(e){return i.processSystemInfo(e).then(function(e){b.systemInfoItems=e})}function f(e){y.info("sysinfo updated"),d(e).catch(function(e){y.error("failed to update system info",e)})}function m(){r.getSystemInfo().then(d).catch(function(e){y.error("failed to init system info",e)})}function p(){m(),h=l.getLoggedInUser(),v=o.getCachedUserItem(h.userId,u.CEVO_GFE_STORE,u.MY_RIG),b.rigCoverImageUrl=v.url,s.on(c.SYSTEMINFO_UPDATED,f)}function g(){s.off(c.SYSTEMINFO_UPDATED,f)}var v,h,b=this,y=t.getInstance("main.userProfile/userRigController");b.updateRigCoverImage=function(e){v.url=e,v.persist_(),v=o.getCachedUserItem(h.userId,u.CEVO_GFE_STORE,u.MY_RIG),b.rigCoverImageUrl=v.url},b.updateRigCover=function(){var e={w:600,h:400};return n.show({controller:"EditProfileCoverController",controllerAs:"editProfileCover",template:a.default,bindToController:!0,locals:{title:"Upload Rig Cover",showRecentlyCaptured:!1,image:b.rigCoverImageUrl,updateImageCallback:b.updateRigCoverImage,dialogClass:"edit-rig-image-container",viewport:e,boundary:{w:e.w,h:e.h+6},outputFormat:{maxSize:e,minSize:{w:160,h:160}}},escapeToClose:!0,disableParentScroll:!0})},e.$on("$destroy",g),p()}]);t.userRigController=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvUserRig=void 0;var i=n(8);n(681);var o=n(930),a=r(o);n(142);var l=i.ngUserProfileModule.component("nvUserRig",{controller:"UserRigController",controllerAs:"userRig",template:a.default});t.nvUserRig=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.winnersController=void 0;var r=n(8),i=r.ngUserProfileModule.controller("WinnersController",["$log","$window",function(e,t){var n=this,r=e.getInstance("main.userProfile/WinnersController"),i="https://www.nvidia.com/en-us/geforce/contests/winners/";n.showWinners=function(){r.info("winners list url opened"),t.open(i)}}]);t.winnersController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvWinners=void 0;var i=n(8);n(683);var o=n(931),a=r(o),l=i.ngUserProfileModule.component("nvWinners",{controller:"WinnersController",controllerAs:"winnersCtrl",template:a.default});t.nvWinners=l},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,'input[type=range]{width:300px}ul[rn-carousel]{overflow:hidden;padding:0;white-space:nowrap;position:relative;-webkit-perspective:1000px;-ms-perspective:1000px;perspective:1000px;-ms-touch-action:pan-y;touch-action:pan-y}ul[rn-carousel]>li{color:#000;-webkit-backface-visibility:hidden;-ms-backface-visibility:hidden;backface-visibility:hidden;overflow:visible;vertical-align:top;position:absolute;left:0;right:0;white-space:normal;padding:0;margin:0;list-style-type:none;width:100%;height:100%;display:inline-block}ul[rn-carousel-buffered]>li{display:none}ul[rn-carousel-transition=hexagon]{overflow:visible}div.rn-carousel-indicator span{cursor:pointer;color:#666}div.rn-carousel-indicator span.active{color:#fff}.rn-carousel-control{-webkit-transition:opacity .2s ease-out;transition:opacity .2s ease-out;font-size:2rem;position:absolute;top:40%;opacity:.75;cursor:pointer}.rn-carousel-control:hover{opacity:1}.rn-carousel-control.rn-carousel-control-prev{left:.5em}.rn-carousel-control.rn-carousel-control-prev:before{content:"<"}.rn-carousel-control.rn-carousel-control-next{right:.5em}.rn-carousel-control.rn-carousel-control-next:before{content:">"}',""]);
},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".croppie-container{width:100%;height:100%}.croppie-container .cr-image{z-index:-1;position:absolute;top:0;left:0;transform-origin:0 0;max-height:none;max-width:none}.croppie-container .cr-boundary{position:relative;overflow:hidden;margin:0 auto;z-index:1;width:100%;height:100%}.croppie-container .cr-viewport{position:absolute;border:2px solid #fff;margin:auto;top:0;bottom:0;right:0;left:0;box-shadow:0 0 2000px 2000px rgba(0,0,0,.5);z-index:0}.croppie-container .cr-original-image{display:none}.croppie-container .cr-vp-circle{border-radius:50%}.croppie-container .cr-overlay{z-index:1;position:absolute;cursor:move}.croppie-container .cr-slider-wrap{width:75%;margin:15px auto;text-align:center}.croppie-result{position:relative;overflow:hidden}.croppie-result img{position:absolute}.croppie-container .cr-image,.croppie-container .cr-overlay,.croppie-container .cr-viewport{-webkit-transform:translateZ(0);-moz-transform:translateZ(0);-ms-transform:translateZ(0);transform:translateZ(0)}.cr-slider{-webkit-appearance:none;width:300px;max-width:100%}.cr-slider::-webkit-slider-runnable-track{width:100%;height:3px;background:rgba(0,0,0,.5);border:0;border-radius:3px}.cr-slider::-webkit-slider-thumb{-webkit-appearance:none;border:none;height:16px;width:16px;border-radius:50%;background:#ddd;margin-top:-6px}.cr-slider:focus{outline:0}.cr-slider::-moz-range-track{width:100%;height:3px;background:rgba(0,0,0,.5);border:0;border-radius:3px}.cr-slider::-moz-range-thumb{border:none;height:16px;width:16px;border-radius:50%;background:#ddd;margin-top:-6px}.cr-slider:-moz-focusring{outline:#fff solid 1px;outline-offset:-1px}.cr-slider::-ms-track{width:100%;height:5px;background:0 0;border-color:transparent;border-width:6px 0;color:transparent}.cr-slider::-ms-fill-lower{background:rgba(0,0,0,.5);border-radius:10px}.cr-slider::-ms-fill-upper{background:rgba(0,0,0,.5);border-radius:10px}.cr-slider::-ms-thumb{border:none;height:16px;width:16px;border-radius:50%;background:#ddd;margin-top:1px}.cr-slider:focus::-ms-fill-lower{background:rgba(0,0,0,.5)}.cr-slider:focus::-ms-fill-upper{background:rgba(0,0,0,.5)}.cr-rotate-controls{position:absolute;bottom:5px;left:5px;z-index:1}.cr-rotate-controls button{border:0;background:0 0}.cr-rotate-controls i:before{display:inline-block;font-style:normal;font-weight:900;font-size:22px}.cr-rotate-l i:before{content:'↺'}.cr-rotate-r i:before{content:'↻'}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".ui-splitbar-icon-down,.ui-splitbar-icon-up{border-left:.45em solid transparent;border-right:.45em solid transparent}.stretch{position:absolute;top:0;left:0;right:0;bottom:0;overflow:auto}.animate-row{-webkit-transition:top .8s cubic-bezier(0,1.05,0,1);-moz-transition:top .8s cubic-bezier(0,1.05,0,1);-ms-transition:top .8s cubic-bezier(0,1.05,0,1);-o-transition:top .8s cubic-bezier(0,1.05,0,1);transition:top .8s cubic-bezier(0,1.05,0,1)}.animate-column{-webkit-transition:left .8s cubic-bezier(0,1.05,0,1);-moz-transition:left .8s cubic-bezier(0,1.05,0,1);-ms-transition:left .8s cubic-bezier(0,1.05,0,1);-o-transition:left .8s cubic-bezier(0,1.05,0,1);transition:left .8s cubic-bezier(0,1.05,0,1)}.ui-splitbar{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-justify-content:center;justify-content:center;background-color:#fff;right:auto;position:absolute;z-index:1}.ui-layout-row>.ui-splitbar{height:8px;width:100%;cursor:row-resize;text-align:center;justify-content:center;align-items:center;background:linear-gradient(to bottom,#fff 0,#eee 100%);overflow-y:hidden}.ui-layout-column>.ui-splitbar{width:8px;height:100%;cursor:col-resize;-webkit-flex-direction:column;flex-direction:column;background:linear-gradient(to right,#fff 0,#eee 100%);overflow-x:hidden}.ui-layout-column>.ui-splitbar>a,.ui-layout-row>.ui-splitbar>a{cursor:pointer;text-align:center;font-size:16px;color:#aaa}.ui-layout-column>.ui-splitbar>a:nth-child(2){margin-top:.35rem}.ui-layout-row>.ui-splitbar>a:nth-child(2){margin-left:.35rem}.ui-splitbar-icon{width:0;height:0;display:inline-block}.no-toggle .ui-splitbar-icon,.ui-layout-hidden{display:none}.ui-splitbar-icon-up{border-bottom:.45em solid}.ui-splitbar-icon-down{border-top:.45em solid;margin-right:.45em}.ui-splitbar-icon-left,.ui-splitbar-icon-right{border-top:.45em solid transparent;border-bottom:.45em solid transparent}.ui-splitbar-icon-right{border-left:.45em solid}.ui-splitbar-icon-left{border-right:.45em solid;margin-top:.45em}@media only screen and (max-device-width:480px){.no-mobile-toggle .ui-splitbar-icon{display:none}}@media print{.ui-splitbar{display:none}.stretch{position:relative}.stretch.ui-layout-container:last-child{position:static;overflow:visible}}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,"canvas{z-index:2}canvas.hidden{z-index:-1;visibility:hidden}.annotorious-annotationlayer{position:relative}.annotorious-opacity-fade{-moz-transition-property:opacity;-moz-transition-duration:.5s;-moz-transition-delay:0s;-webkit-transition-property:opacity;-webkit-transition-duration:.5s;-webkit-transition-delay:0s;-o-transition-property:opacity;-o-transition-duration:.5s;-o-transition-delay:0s;transition-property:opacity;transition-duration:.5s;transition-delay:0s}.annotorious-canvas{position:absolute;top:0;left:0}.annotorious-popup{line-height:135%;font-family:Arial,Verdana,Sans;font-size:12px;color:#000;background-color:#fff;border:1px solid #ccc;padding:9px 8px;word-wrap:break-word;width:180px;border-radius:3px;box-sizing:border-box;-moz-border-radius:3px;-webkit-border-radius:3px;-khtml-border-radius:3px;-moz-box-shadow:0 5px 15px #111;-webkit-box-shadow:0 5px 15px #111;box-shadow:0 5px 15px #111;-moz-transition-property:opacity;-moz-transition-duration:.5s;-moz-transition-delay:0s;-webkit-transition-property:opacity;-webkit-transition-duration:.5s;-webkit-transition-delay:0s;-o-transition-property:opacity;-o-transition-duration:.5s;-o-transition-delay:0s;transition-property:opacity;transition-duration:.5s;transition-delay:0s;position:absolute;z-index:1}.annotorious-popup-hide{opacity:0}.annotorious-popup-show{opacity:1}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".nv-croppie-slider{max-width:300px}.nv-croppie-slider .md-thumb:after{border-width:0}md-slider:not([md-discrete]):not([disabled]).md-active .md-slider-wrapper .md-thumb.nv-croppie-thumb{transform:scale(.8)}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,"",""])},690,function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".nv-ui-tour-popup:focus{outline:0;display:block}.nv-ui-tour-popup-orphan{position:fixed;top:50%;left:50%;margin:0;transform:translateX(-50%) translateY(-50%)}.nv-ui-tour-popup.nv-popover.bottom-left>.arrow,.nv-ui-tour-popup.nv-popover.top-left>.arrow{left:25px}.nv-ui-tour-popup.nv-popover.bottom-right>.arrow,.nv-ui-tour-popup.nv-popover.top-right>.arrow{left:auto;right:25px}.nv-ui-tour-popup.nv-popover.left-top>.arrow,.nv-ui-tour-popup.nv-popover.right-top>.arrow{top:25px}.nv-ui-tour-popup.nv-popover.left-bottom>.arrow,.nv-ui-tour-popup.nv-popover.right-bottom>.arrow{top:auto;bottom:25px}.nv-popover{position:absolute;top:0;left:0;z-index:20!important;display:none;width:400px;max-width:400px;padding:1px;font-size:14px;font-style:normal;font-weight:400;line-height:1.42857143;text-align:left;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;word-spacing:normal;word-wrap:normal;white-space:normal;background-color:#363636;-webkit-background-clip:padding-box;background-clip:padding-box;box-shadow:0 5px 10px rgba(0,0,0,.2)}.nv-popover-inner{min-width:400px;min-height:100px}.nv-popover.top{margin-top:-10px}.nv-popover.right{margin-left:10px}.nv-popover.bottom{margin-top:10px}.nv-popover.left{margin-left:-10px}.nv-popover-close-button{height:16px!important;width:16px!important;line-height:16px!important;font-size:16px!important;min-height:16px!important;min-width:16px!important}.nv-popover-content{padding:8px 16px}.nv-popover>.arrow,.nv-popover>.arrow:after{position:absolute;display:block;width:0;height:0;border-color:transparent;border-style:solid}.nv-popover>.arrow{border-width:11px}.nv-popover>.arrow:after{content:'';border-width:10px}.nv-popover.bottom>.arrow:after,.nv-popover.left>.arrow:after,.nv-popover.right>.arrow:after,.nv-popover.top>.arrow:after{content:' '}.nv-popover.top>.arrow{bottom:-11px;left:50%;margin-left:-11px;border-top-color:#46505a;border-bottom-width:0}.nv-popover.top>.arrow:after{bottom:1px;margin-left:-10px;border-top-color:#46505a;border-bottom-width:0}.nv-popover.right>.arrow{top:50%;left:-11px;margin-top:-11px;border-right-color:#46505a;border-left-width:0}.nv-popover.right>.arrow:after{bottom:-10px;left:1px;border-right-color:#46505a;border-left-width:0}.nv-popover.bottom>.arrow{top:-11px;left:50%;margin-left:-11px;border-top-width:0;border-bottom-color:#46505a}.nv-popover.bottom>.arrow:after{top:1px;margin-left:-10px;border-top-width:0;border-bottom-color:#46505a}.nv-popover.left>.arrow{top:50%;right:-11px;margin-top:-11px;border-right-width:0;border-left-color:#46505a}.nv-popover.left>.arrow:after{right:1px;bottom:-10px;border-right-width:0;border-left-color:#46505a}.nv-popover-navigation{width:100%;height:52px}.nv-popover-step-indicator-container{padding:0 2px}.nv-popover-step-indicator{width:12px;height:4px}.ui-tour-backdrop{background-color:rgba(0,0,0,.5)}",""])},,,,,function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".small-notification-height{height:100px}.small-notification-image-width{width:178px}.small-notification-details{max-width:230px}.big-notification-header,.small-notification-header{pointer-events:auto}.large-notification-height{height:361px}.large-notification-image-height{height:253px}.notification-badge-container{width:24px;height:24px;left:-2px;top:6px}.md-button.md-icon-button.notification-menu-button{width:36px;margin-right:8px;margin-left:-8px}.notifications-menu-width{width:456px}.notifications-menu-height{height:500px}.notifications-menu-left-outline-width{width:1px}.notification-color-bar-width{width:4px}.notifications-md-menu-content{max-width:456px!important;max-height:500px!important;box-shadow:3px 3px 16px 0 rgba(0,0,0,.8)}.notifications-md-menu-content .notification-direction{top:-13px}.notifications-md-menu-content .notifications-md-list md-divider{border-top-width:2px;border-top-color:#0e0e0e}.notifications-md-menu-content .notifications-md-list .notification-item:hover{background-color:rgba(255,255,255,.1)!important}.notifications-ellipsis{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;line-height:20px;max-height:40px;-webkit-line-clamp:2;-moz-box-orient:vertical;-ms-box-orient:vertical;-webkit-box-orient:vertical}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,"div.nv-custom-date-ctrl{padding-top:24px;padding-bottom:24px}div.nv-custom-date-ctrl h1{margin:0;padding-left:2px;font-size:12px;color:rgba(255,255,255,.45)!important}div.nv-custom-date-ctrl nv-date-field{padding-right:20px}div.nv-custom-date-ctrl nv-date-field input{border-bottom-color:#363636}div.nv-custom-date-ctrl input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;-moz-appearance:none;margin:0}div.nv-custom-date-ctrl nv-date-field md-select{width:auto;min-width:100px}div.nv-custom-date-ctrl .is-year-field{width:50px}div.nv-custom-date-ctrl .is-day-field{width:40px}div.nv-custom-date-ctrl nv-date-field label{text-transform:capitalize;color:rgba(255,255,255,.3)!important}div.nv-custom-date-ctrl nv-date-field md-select-value{text-transform:capitalize}div.nv-custom-date-ctrl nv-date-field .md-select-value{color:rgba(255,255,255,.45)}div.nv-custom-date-ctrl nv-date-field md-select.ng-valid .md-select-value,div.nv-custom-date-ctrl nv-date-field md-select.ng-valid.ng-pristine .md-select-value{color:#fff}div.nv-custom-date-ctrl nv-date-field md-select:not([disabled]):focus .md-select-value{border-bottom-color:#76b900!important}div.nv-custom-date-ctrl nv-date-field md-input-container.md-input-invalid .md-input:focus{border-bottom-color:#76b900}div.nv-custom-date-ctrl nv-date-field md-select.ng-invalid.ng-touched .md-select-value{border-color:#b5291c!important}div.nv-custom-date-ctrl nv-date-field md-select.ng-invalid .md-select-value,div.nv-custom-date-ctrl nv-date-field md-select.ng-invalid.ng-pristine .md-select-value{color:rgba(255,255,255,.3)!important}div.nv-custom-date-ctrl .error-message{color:#b5291c}md-option{color:#ccc!important}div.nv-custom-date-ctrl nv-date-field md-input-container{padding:0}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".oobe-dialog,.oobe-oauth-login-pane{-webkit-backface-visibility:hidden;-webkit-user-drag:none}.oobe-dialog{width:790px;height:498px;-webkit-user-select:text;-khtml-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}.oobe-dialog .title{padding-top:24px;position:relative}.oobe-dialog .title h1{margin:0 24px;font-family:Roboto-Light;font-size:24px;font-weight:300;-webkit-font-smoothing:antialiased;color:#fff;color:rgba(255,255,255,.9)}.oobe-dialog .subtitle{margin:8px 0 0 24px;font-size:10px;font-weight:400}.oobe-dialog form{position:relative}.oobe-dialog waiting-overlay{position:absolute;min-width:100%;min-height:100%;background-color:rgba(14,14,14,.7);z-index:5}.oobe-oauth-blocker-overlay{position:fixed;width:100%;height:100%;top:0;left:0;z-index:1000}.oobe-link-icon{position:relative}.oobe-link-icon .md-button{height:auto}.oobe-link-icon .md-button>img{position:absolute;right:12px;width:20px;height:auto;top:42px}.oobe-link-icon md-card{background-color:transparent;box-shadow:none;margin:5px auto auto;width:54px}.oobe-link-icon md-card:hover{box-shadow:none}.oobe-link-icon p{text-align:center;font-size:10px;margin:0}.oobe-dialog-scan .text-bottom-margin{margin-bottom:0}.oobe-dialog-scan .scan-top-margin{margin-top:8px}.oobe-loading-data{padding-top:60px}.oobe-loading-data>md-progress-circular{margin-top:38px}.oobe-login-pointer{cursor:pointer}.oobe-dialog-logo-margin{margin-top:150px;margin-left:190px;margin-bottom:40px;padding-left:0}.oobe-welcome-dialog{font-family:Roboto-Light!important;-webkit-font-smoothing:antialiased}.oobe-welcome-dialog-header{height:64px}.oobe-welcome-dialog-header p{color:rgba(255,255,255,.45);margin:3px 24px 0}.oobe-welcome-dialog .md-actions{margin-bottom:2px}.oobe-welcome-card-holder{width:263px;height:329px;position:relative}.oobe-welcome-card-holder img{height:100%;width:100%}.oobe-welcome-card-holder .oobe-welcome-overlay{position:absolute;height:80px;background-image:url("+n(715)+");width:100%;bottom:0}.oobe-welcome-overlay .overlay-grouper{width:60%;margin-left:20%;height:100%;line-height:80px;text-align:center}.oobe-welcome-overlay .overlay-text{font-size:12px;color:rgba(255,255,255,.9);display:inline-block;vertical-align:middle;line-height:normal}.oobe-login-left-side{width:320px;height:497px;background-image:url("+n(713)+");bottom:0}.oobe-blocked-message,.oobe-side-text{width:100%;height:165px;color:rgba(255,255,255,.75);font-family:Roboto!important;-webkit-font-smoothing:antialiased}.oobe-side-text{font-size:16px}.oobe-side-text p{padding-left:140px;padding-right:50px}.oobe-blocked-message{font-size:18px;text-align:center}.oobe-blocked-message p{padding-left:60px;padding-right:60px}.oobe-blocked-link{color:rgba(255,255,255,.75);font-family:Roboto!important;-webkit-font-smoothing:antialiased}.oobe-dialog-left-pane{width:320px;height:497px;overflow:hidden}.oobe-dialog-left-pane img{width:100%;height:100%}.oobe-dialog-right-pane .title h1{margin-top:0}.oobe-dialog-right-pane .title .title-logo{position:absolute;top:18px;left:24px;width:48px;height:48px;font-size:48px;line-height:48px}.oobe-dialog-right-pane .title .title-logo+h1{padding-left:64px}.oobe-dialog-right-pane .title button{width:auto;padding:0;margin:0}.oobe-dialog-right-pane .title .title-close{margin:12px 24px 0 0}.oobe-dialog-right-pane .title .button-close{width:auto;height:24px;font-size:24px}.oobe-dialog-right-pane .secondary-title{font-size:12px;margin:44px 0 16px;color:#a9a9a9;color:rgba(255,255,255,.45)}.oobe-dialog-right-pane .secondary-title+.secondary-title{font-size:12px;margin:0 0 16px;color:#a9a9a9;color:rgba(255,255,255,.45)}.oobe-dialog-right-pane .title.large{min-height:96px}.oobe-dialog-right-pane .title.blank{min-height:60px}.oobe-dialog-right-pane .content{margin:24px 0 0;padding:0 24px}.oobe-dialog-right-pane .login-content{margin:0;padding:0 24px}.oobe-dialog-right-pane .message-banner{margin-top:24px;height:50px;line-height:50px;background-color:#303030;padding-left:24px;padding-right:24px;box-shadow:inset 0 8px 8px -10px #000,inset 0 -8px 8px -10px #000}.oobe-dialog-right-pane .message-banner span{display:inline-block;vertical-align:middle;line-height:normal;font-size:11px;color:#a9a9a9;color:rgba(255,255,255,.45)}.oobe-dialog-right-pane .md-actions{position:relative;padding:20px 8px 8px}.oobe-dialog-right-pane .md-actions button{margin:0}.oobe-dialog-right-pane .md-actions .button-helper{position:absolute;top:0;left:24px;font-size:11px;color:#a9a9a9;color:rgba(255,255,255,.45)}.oobe-dialog-right-pane .input-helper{font-size:11px;color:#a9a9a9;color:rgba(255,255,255,.45);padding-left:2px;padding-top:4px}.oobe-dialog-right-pane .login-button{padding:4px 4px 2px;margin-bottom:4px;position:relative}.oobe-dialog-right-pane .login-button img{width:318px;height:62px}.oobe-dialog-right-pane .login-button[disabled]{cursor:default;-webkit-filter:grayscale(100%) opacity(30%)}.oobe-dialog-right-pane .login-text{left:60px;position:absolute;font-size:18px;top:50%;width:250px;-ms-transform:translateY(-50%);-webkit-transform:translateY(-50%);transform:translateY(-50%)}.oobe-dialog-right-pane .login-button:not([disabled]):hover{background-color:rgba(55,90,162,.5)}.oobe-dialog-right-pane .login-button:not([disabled]):focus{background-color:rgba(55,90,162,.5);outline:0}.oobe-dialog-progress-bar{height:8px;position:absolute;width:100%;z-index:101;color:#363636!important;background:#363636!important}.oobe-dialog-progress-bar .md-accent.foreground{color:#76b900!important}.oobe-dialog-progress-bar .md-accent.background{background-color:#76b900!important}.oobe-dialog-done-pane-content{margin-top:152px}.oobe-dialog-done-first-text-margin{margin-top:24px;margin-bottom:16px}.oobe-dialog-done-second-text-margin{margin-top:0;margin-bottom:5px}.oobe-dialog-done-third-text-margin{margin-top:0;margin-bottom:0}.oobe-dialog-done-nogames-icon{opacity:.45}.oobe-dialog-done-scan-text-margin{margin-top:10px;margin-bottom:16px}.oobe-dialog-right-pane md-input-container.md-icon-right .md-errors-spacer+md-icon{margin-top:18px!important;color:#a9a9a9;color:rgba(255,255,255,.75)}.oobe-dialog-right-pane md-input-container+md-input-container.md-icon-right .md-errors-spacer+md-icon{margin-top:32px!important;color:#a9a9a9;color:rgba(255,255,255,.45)}.oobe-dialog-right-pane md-icon.icon-eye{line-height:20px;min-height:20px;min-width:20px}.oobe-dialog-right-pane md-checkbox.md-checked .md-icon:after{left:6.67px;top:2.22px}.oobe-dialog-right-pane md-input-container.md-input-invalid label{color:gray;color:rgba(255,255,255,.3)}.oobe-dialog-right-pane md-input-container+md-input-container{padding-top:18px}.oobe-dialog-right-pane nv-custom-date{padding-bottom:14px}.forgot-password{position:absolute;left:10px;padding-left:8px!important;padding-right:8px!important;margin-top:0!important}.oobe-dialog a.in-app-link{color:#76b900;text-decoration:none}.oobe-panel{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 13px 19px 2px rgba(0,0,0,.14),0 5px 24px 4px rgba(0,0,0,.12)}.shadow-top{box-shadow:0 -10px 30px -5px rgba(0,0,0,.75)}.oobe-share-text-list{margin-top:0!important;padding-left:0!important}.oobe-done-qr-code{width:200px;height:320px;position:absolute;right:0;top:0;left:0;bottom:0;margin:auto}.oobe-done-qr-code-description{font-size:10px;margin-bottom:10px}.oobe-done-qr-code-scan{padding:10px;margin:0 0 12px}.oobe-oauth-login-pane{width:424px;height:608px}.oobe-oauth-login-image{background-image:url("+n(712)+")}.oobe-oauth-login-text{font-size:16px;height:144px;width:100%;display:flex;padding-left:144px;padding-right:48px;align-items:center;margin-top:10px;color:rgba(255,255,255,.75)}.oobe-oauth-login-top-filler{height:94px}.oobe-oauth-login-scrim{position:absolute;top:104px;height:452px;width:424px;background-color:rgba(0,0,0,.6)}.oobe-oauth-message-banner{margin:0 24px;background-color:#2e2e2e;padding:24px}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".preferences-sidebar-container button,.preferences-sidebar-container md-list-item .md-no-style.md-button{min-height:48px}#overlay,.preferences-shield-edit-dialog .image-container,.preferences-shield-edit-dialog .image-container md-icon,md-switch .md-container{cursor:pointer}.preferences-sidebar-container{width:186px}.preferences-sidebar-container .md-button-selected{background-color:#191919}.preferences-sidebar-container md-list-item .md-list-item-inner{padding-left:20px}.preferences-sidebar-container md-list-item div.md-no-style.md-button{display:inline-block}.preferences-items-container{padding:24px 12px 0}.preferences-preference-section{padding:10px 16px 16px;margin:0 12px 24px}.preferences-overlay{width:calc(100% - 24px);left:12px;height:calc(100% - 24px)}.preferences-preference-section .margin-zero,.preferences-preference-section h3{margin:0}.preferences-preference-section h3.feature-title{margin:0 0 0 32px;font-weight:400}.preferences-preference-section h4{margin:0;font-weight:400;text-transform:uppercase}.preferences-preference-section h5{margin-top:11px;margin-bottom:0;font-weight:400}.preferences-preference-section .md-list-item-text p{margin:4px 0 0 32px;font-weight:400}.preferences-preference-section .scan-location-content .md-list-item-text p{margin:0}.preferences-preference-section .md-3-line p{margin-top:8px;margin-bottom:8px;margin-left:8px;font-weight:400}.preferences-preference-section .md-3-line md-icon,.preferences-preference-section .md-3-line svg{margin:8px 0 8px 48px;line-height:16px;height:16px;width:16px}.preferences-preference-section .preferences-feature-header-section{margin:24px 0 24px 32px}.preferences-preference-section .preferences-feature-description-section{padding:0 0 24px;margin:0}.preferences-preference-section .preferences-feature-description-section .preferences-feature-requirement{padding-left:64px;padding-right:16px;margin-bottom:16px}.preferences-preference-section .preferences-feature-description-section .preferences-feature-requirement .md-16{min-height:16px;min-width:16px;height:16px;width:16px;line-height:16px;font-size:16px!important}.preferences-preference-section .preferences-feature-description-section .preferences-feature-requirement .requirement-recommendation-icon-container{min-width:16px;min-height:16px}.preferences-preference-section .preferences-feature-description-section .preferences-feature-requirement .requirement-recommendation-icon-container .recommendation-circle{width:10px;height:10px;background-color:rgba(255,255,255,.45);border-radius:50%}.common-accordion-hover nv-accordion-pane-content,.common-accordion-hover nv-accordion-pane.collapsed nv-accordion-pane-header-wrapper:hover{background-color:transparent!important}.preferences-preference-section .preferences-feature-description-section .preferences-feature-requirement .feature-driver-update-button{min-width:120px}.preferences-preference-section .requirement-link-container{padding:8px 0 0;margin:0}.preferences-preference-section .top-margin-checkboxes{margin-bottom:16px}.preferences-preference-section .margin-mid-checkbox{margin-bottom:16px;margin-top:0}.preferences-preference-section md-switch{float:right;margin-top:-8px;margin-right:-8px;padding:0}.preferences-preference-section md-switch .md-thumb{height:16px;width:16px}.preferences-preference-section md-switch .md-bar{height:12px;width:27px;left:2px;top:4px}.preferences-preference-section md-checkbox{line-height:normal;margin:0;padding:4pt 0}.preferences-preference-section md-icon.feature-notready-overlay{margin-left:16px}.preferences-preference-section .feature-readiness-content{margin-left:-16px;margin-right:-16px}.preferences-preference-section .preferences-section-content .feature-readiness-content a{margin-left:32px}.preferences-preference-section .language-section p{line-height:36px}.preferences-preference-section .language-section md-input-container{margin-bottom:8px}.preferences-preference-section .language-section .md-select-value{flex-grow:0}.preferences-preference-section .language-section .language-section-button{display:inline-block;text-align:right}.preferences-preference-section .about-section img{width:170px;height:40px}.preferences-preference-section .about-section .gfe-version-container p{margin-left:0;margin-bottom:0}.preferences-preference-section .about-section .gfe-version-container{margin:20px 0 0}.preferences-preference-section .download-progress p{margin-left:0}.preferences-preference-section .about-section .margin-between-links{margin-top:8px}.preferences-preference-section .about-section .links-top-margin{margin-top:16px}.preferences-preference-section .policy-section .margin-zero{margin:0}.preferences-preference-section .gfe-partner-section{margin-bottom:-8px}.common-accordion-hover nv-accordion-pane-content-wrapper,.common-accordion-hover nv-accordion-pane-header-wrapper{background-color:transparent!important;opacity:1!important}.common-accordion-hover md-icon{padding-top:8px;color:#76b900}.common-accordion-hover nv-accordion-pane-header div{padding-top:8px}.preferences-preference-section .about-section md-divider{border-top-color:#111}.preferences-preference-section .about-section md-divider.color-black-hue-2{border-top-color:#3a3a3a}.preferences-preference-section .about-section .title-content-top-margin{margin-top:2px}.preferences-preference-section .about-section .title-content-right-margin{margin-right:4px}.preferences-preference-section .preferences-section-header,.preferences-preference-section .preferences-section-header-button,.preferences-preference-section .preferences-section-header-description,.preferences-preference-section .preferences-section-header-description-switch,.preferences-preference-section .preferences-section-header-switch{margin:0 0 12px}.preferences-preference-section .preferences-section-content{padding:8px 0 12px}.preferences-preference-section .preferences-about-section-content{padding:12px 0}.preferences-preference-section .preferences-section-header-description p,.preferences-preference-section .preferences-section-header-description-switch p{line-height:1.64;margin-top:8px;margin-bottom:-3.5px}.preferences-preference-section .preferences-section-header-description md-switch,.preferences-preference-section .preferences-section-header-description-switch md-switch,.preferences-preference-section .preferences-section-header-switch md-switch{margin-bottom:0}.preferences-accounts-edit-avatar .avatar-image{min-height:110px}.preferences-accounts-edit-avatar .avatar-image-error{height:150px}.preferences-accounts-edit-avatar .avatar-image-error p{width:60%;text-align:center}.preferences-accounts-edit-avatar .avatar-list-item{float:left}.preferences-system-info{padding-bottom:4px}.preferences-preference-section .preferences-system-info .margin-between-links{margin-bottom:12px}.preferences-preference-section .preferences-system-info .span-align-vertical{display:inline-block;vertical-align:middle;margin-left:5px}.preferences-preference-section .preferences-system-info .subitem-margin{margin-top:5px;margin-left:26px}.preferences-preference-section .feature-readiness-container .state-info-content-height,.preferences-preference-section .preferences-system-info .state-info-content-height{height:300px}.preferences-preference-section .language-section md-icon,.preferences-preference-section .preferences-system-info md-icon{min-height:18px;min-width:18px;height:18px;width:18px;line-height:18px;font-size:18px}.range-slider-left md-slider,.range-slider-right md-slider{min-width:0}.preferences-preference-section .preferences-section-content .games-scan-container{height:112px;margin-top:24px;margin-bottom:32px}.preferences-preference-section .preferences-section-content .games-scan-container h4:first-child{padding-top:10px}.preferences-preference-section .preferences-section-content .games-scan-container h4:nth-child(2){padding:16px 0}.preferences-preference-section .preferences-section-content .games-scan-divider{display:inline-block;width:1px;height:100%}.preferences-preference-section .preferences-section-content .scan-location-section{max-height:98px;height:98px}.preferences-preference-section .scan-location-content md-list{padding:0;height:98px}.preferences-preference-section .scan-location-content md-list-item{min-height:24px;height:24px}.preferences-preference-section .scan-location-content .scan-location-md-list-item-button .md-button{height:24px;min-height:11px;line-height:24px;text-align:left}.preferences-preference-section .scan-location-content md-list-item .md-list-item-inner{margin-right:0;min-height:24px;height:24px;padding:0}.preferences-preference-section .scan-location-content md-list-item p{padding-left:8px;padding-right:8px}.preferences-preference-section .preferences-section-content .accounts-section-button,.preferences-preference-section .preferences-section-content .language-section-button,.preferences-preference-section .preferences-section-content .scan-location-content-margin,.preferences-preference-section .preferences-section-content .shield-section-button{margin-left:-16px;margin-right:-16px;margin-top:16px;height:36px}.preferences-preference-section .share-section-button{height:36px;margin-bottom:-28px;margin-left:-16px;margin-right:-16px}.preferences-preference-section .preferences-section-content .accounts-section-button md-button,.preferences-preference-section .preferences-section-content .language-section-button .md-button,.preferences-preference-section .preferences-section-content .scan-location-content-margin .md-button,.preferences-preference-section .preferences-section-content .shield-section-button .md-button,.preferences-preference-section .share-section-button .md-button{margin:8px}.preferences-preference-section .scan-location-section button.md-no-style{background:0 0}.preferences-preference-section .scan-location-content .scan-location-md-list-item-button .md-button:hover{background-color:rgba(91,91,91,.5);box-shadow:0 4px 5px -2px rgba(0,0,0,.75)}.preferences-preference-section .preferences-md-icon .md-container{height:16px;width:16px}.preferences-preference-section .download-progress .md-container{height:3px;width:100%}.preferences-preference-section .download-details-status-container p{margin-top:6px;margin-bottom:0;margin-left:0}.preferences-preference-section .preferences-md-icon md-checkbox div{line-height:1.64}.preferences-preference-section .preferences-md-icon md-checkbox{min-height:16px;line-height:1.64;padding:0}.preferences-preference-section .preferences-md-icon .md-icon,.preferences-preference-section .preferences-md-icon md-icon,.preferences-preference-section .preferences-section-header-button md-icon{height:16px;width:16px;line-height:16px;font-size:16px}.preferences-preference-section .preferences-section-header-button .md-icon-button{min-height:16px;height:16px;width:16px;line-height:0;font-size:16px;margin-top:-4px;margin-right:-2px}.preferences-preference-section .preferences-md-icon .md-label{margin-left:22px}.preferences-preference-section .preferences-md-icon .external-link-icon{font-size:10px}.preferences-accounts-section .accounts-section-personal-info .md-errors-spacer{min-height:0}.preferences-accounts-section .accounts-section-avatar img{width:80px;height:80px;margin:0 24px 24px}.preferences-accounts-section .accounts-section-avatar img+p{padding-bottom:16px}.preferences-accounts-section .accounts-section-personalInfo p{margin-bottom:8px}.preferences-accounts-section .accounts-section-personalInfo .header{min-height:36px}.preferences-accounts-section .accounts-section-personalInfo input:disabled{background-image:none}.preferences-accounts-section .accounts-section-personalInfo .details-spacing,.preferences-accounts-section .accounts-section-personalInfo md-input-container{margin-bottom:16px}.preferences-accounts-section .accounts-section-personalInfo md-input-container .md-input{margin-bottom:0;margin-top:0;padding:0 0 8px;max-height:22px;line-height:12px}.preferences-accounts-section .accounts-section-security p{margin-bottom:8px}.preferences-accounts-section .accounts-section-security md-checkbox{margin-top:8px}.preferences-accounts-section .preferences-accounts-devices button{margin:0}.preferences-accounts-section .accounts-section-newsletter md-progress-circular{margin:0 auto}.preferences-shield-tile{margin:0 8px 8px 0}.preferences-shield-tile md-card-content:focus,.preferences-shield-tile:focus{outline:-webkit-focus-ring-color auto 5px;outline-color:transparent!important}.preferences-shield-tile .item-container .shield-tile-content-outline:focus,.preferences-shield-tile.shield-tile-content-outline md-card,.preferences-shield-tile.shield-tile-content-outline:focus md-card{outline:-webkit-focus-ring-color auto 5px;outline-color:#76b900!important}.preferences-shield-tile md-card:focus md-card-content,.preferences-shield-tile md-card:hover md-card-content{background-color:#414141!important}.preferences-shield-tile.shield-tile-content-outline md-card-content{background-color:#2d2d2d!important}.preferences-preference-section .shield-section h4{margin-bottom:8px}.preferences-preference-section .shield-section md-content{padding:1px 0 0 1px}.preferences-preference-section .shield-section .appcollector-content-height{height:357px}.preferences-preference-section .shield-section .empty-app-list{height:348px;border-style:solid;border-width:1px;border-color:#3c3c3c;margin-bottom:8px;width:100%}.preferences-preference-section .button-text-padding .md-button:not(.md-icon-button){padding-left:16px;padding-right:16px}.preferences-shield-tile .item-container{width:94px;height:170px;display:block}.preferences-shield-tile .item-container img{width:94px;height:134px;display:block}.preferences-shield-tile .item-container .shield-tile-img-border{border:1px solid transparent}.preferences-shield-tile .item-container md-card-content{width:94px;height:36px;display:block;padding:0}.preferences-shield-tile .item-container p{font-size:10px;padding:5px}.preferences-preference-section .preferences-games-battery-boost .battery-boost-content-title,.preferences-preference-section .preferences-games-quiet-mode .quiet-mode-content-title{height:16px;line-height:16px}.preferences-shield-edit-dialog{width:425px;height:270px}.preferences-shield-edit-dialog img{width:94px;min-height:134px;display:block}.preferences-shield-edit-dialog .container{margin:24px}.preferences-shield-edit-dialog md-input-container{margin:0}.preferences-shield-edit-dialog .boxart{margin-left:16px}.preferences-shield-edit-dialog .custom-label-heading{font-size:10px;font-weight:400;text-shadow:none;bottom:inherit;color:rgba(255,255,255,.7);padding-left:3px}.preferences-shield-edit-dialog .custom-label-content{font-size:12px;font-weight:400;text-shadow:none;bottom:inherit;color:#fff;padding-left:3px;margin-top:8px;margin-bottom:8px}.preferences-shield-edit-dialog md-icon:focus{outline:0;border:none}.preferences-shield-edit-dialog .image-container>img{display:block;width:94px;height:134px}.preferences-shield-edit-dialog .image-container:hover{box-shadow:0 3px 15px 1px rgba(0,0,0,.75);color:rgba(0,0,0,.75);opacity:.75}.preferences-shield-edit-dialog .image-container:hover md-icon{color:#fff!important}.preferences-shield-edit-dialog .image-container md-icon[selected],.preferences-shield-edit-dialog .image-container:active,.preferences-shield-edit-dialog .image-container:focus{outline-color:transparent!important}.preferences-preference-section .share-section p{line-height:1.64;margin-top:8px;margin-bottom:-3.5px}.preferences-preference-section .share-section md-icon{margin:0}.preferences-preference-section .share-section .share-hotkey-info{padding-top:24px;padding-bottom:24px}.preferences-preference-section .share-section .share-hotkey-info p{margin-top:3px!important;margin-bottom:0!important;margin-left:6px;font-size:10px}.preferences-share-alert-icon{margin-left:5px!important;line-height:10px!important}.preferences-col-1,.preferences-col-2{float:left;width:90%}@media only screen and (min-width:900px){.preferences-col-1,.preferences-col-2{width:50%}.preferences-sidebar-container{width:236px}}.preference-gfeCheckForUpdate-container,.preferences-preference-section .download-details-container,.preferences-preference-section .download-progress{width:100%}.preferences-preference-section .preference-gfe-check-for-update-container .md-container{width:100%;height:3px}.preferences-preference-section .preference-gfe-check-for-update-container md-progress-linear{margin-left:0}.preferences-preference-section .about-section md-checkbox{margin-bottom:12px}.shield-troubleshooting-link{margin-top:12px}.preferences-functional-data-consent-dialog{min-height:445px;width:528px}.preferences-functional-data-consent-dialog .dialog-service-dialog-contents-footer{min-height:50px!important}.preferences-licence-agreement{min-height:445px;width:528px}.preferences-led .picker{float:left;border:0}.preferences-led .controls{float:right;margin:10px}.preferences-led .controls>div{padding:5px}.preferences-led .controls label{margin-right:10px}.preferences-led .preview,.preferences-led .secondPreview{cursor:pointer;height:30px;width:50px}preferences-led .cancel-apply-container{height:52px}preferences-led .cancel-apply-container button{margin-top:8px;margin-bottom:8px}.preferences-led .preferences-preference-section .preferences-led-switch md-switch{margin-top:7px;margin-bottom:0;margin-left:8px}.preferences-led .preferences-preference-section .led-input-container-position{width:150px;height:50px;margin-top:0;margin-bottom:50px}.preferences-led .preferences-preference-section .section-divider{display:inline-block;width:1px;height:auto;margin:10px}.preferences-open-source-licence{min-height:445px;width:528px}#overlay{display:block;z-index:0;position:absolute;width:100%;height:100%;background-color:transparent;opacity:.5;filter:alpha(opacity=0)}.range-slider-container{position:relative;width:100%;height:48px}.range-slider-left{position:absolute;top:0;width:100%}.range-slider-left md-slider .md-thumb-container{z-index:10}.range-slider-left md-slider .md-track{background-color:#76b900}.range-slider-left md-slider .md-track.md-track-fill,.range-slider-right md-slider .md-track-container .md-track{background-color:#9e9e9e}.range-slider-right{position:absolute;top:0;right:0}.range-slider-right md-slider .md-thumb-container{transition:-webkit-transform 0s linear;transition:transform 0s linear}.range-slider-right md-slider .md-track-container .md-track.md-track-fill{background-color:#76b900;transition:none}md-slider .md-slider-wrapper{width:100%}.fps-control-slider md-slider .md-track-container{height:1px}.common-window .optimized-slider-container.battery-boost{margin-top:-8px}.common-window .optimized-slider-container .optimized-slider-lables{margin-top:-15px}.common-window .optimized-slider-container .optimal-button-container.battery-boost{margin-top:-23px}.performance-mode md-radio-button .md-off,.performance-mode md-radio-button .md-on{width:20px;height:20px}.performance-mode md-radio-button .md-container{top:12px;width:20px;height:20px}.nis-container .sharpen-label-text{min-width:97px}.nis-container .quality-resolution-button{height:auto;padding:0}.nis-container .quality-resolution-button .quality-resolution-button-content{font-size:10px;line-height:19px}.nis-container .quality-resolution-button .quality-resolution-button-content .resolution-button-text{font-size:10px;width:100%}.nis-container .sharpen-slider-width{min-width:auto}",""]);
},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".rewards-dialog.rewards-external-page-container,.rewards-dialog.rewards-redeem-reward{background-image:none;min-height:497px;max-height:497px;min-width:789px;max-width:789px;position:relative;border-radius:0}.rewards-redeem-reward .rewards-dialog-image-container,.rewards-redeem-reward img{width:320px;height:497px}.rewards-redeem-reward .coupon-redemption-header{height:78px}.rewards-redeem-reward .coupon-redemption-header .md-subheader{margin:36px 24px 24px;font-size:18px;font-weight:300}.rewards-redeem-reward .coupon-redemption-header .md-subheader-inner{padding:0}.rewards-external-page-container .iframe-top-toolbar .close-button,.rewards-redeem-reward .coupon-redemption-header .close-button{position:absolute;left:auto;right:8px;top:8px;min-height:24px;max-height:24px}.rewards-redeem-reward .coupon-redemption-block-error-container{height:367px}.rewards-redeem-reward .coupon-redemption-block-error-container .block-error-base-icon{height:32px;line-height:32px;font-size:32px;width:32px}.rewards-redeem-reward .coupon-redemption-block-error-container nv-overlay{height:16px;width:16px;top:155px;left:235px;opacity:1}.rewards-redeem-reward .coupon-redemption-block-error-container .block-error-overlay-icon{height:16px;line-height:16px;width:16px;font-size:16px;opacity:1}.rewards-redeem-reward .coupon-redemption-block-error-container .block-error-message{margin-top:18px}.rewards-redeem-reward .coupon-redemption-block-error-container a{margin-top:12px}.rewards-redeem-reward .coupon-redemption-error-actions{height:52px}.rewards-external-page-container .iframe-top-toolbar{height:48px}.rewards-external-page-container .iframe-scrollbar-spacer{height:24px}.coupon-validation-container{height:56px;margin-top:30px;margin-bottom:10px}.coupon-validation-container .coupon-code-input,.coupon-validation-container .coupon-code-input:focus{height:36px;width:400px;outline:0;border:none}.coupon-validation-container .coupon-code-input::-webkit-input-placeholder{color:rgba(255,255,255,.3)}.coupon-validation-container .coupon-input-error-message{margin-top:8px;width:400px}.rewards-reward-card{width:376px;height:230px}.reward-card:focus,.rewards-feature-card:focus,.rewards-redeem-reward .redeem-details-container .math-answer-input,.rewards-redeem-reward .redeem-details-container .math-answer-input:focus,.rewards-reward-card:focus{outline:0;border:none}.rewards-reward-card .reward-card{width:360px;height:214px;margin:0 16px 16px 0}.rewards-reward-card .reward-card .reward-card-image-container,.rewards-reward-card .reward-card .reward-card-image-container img{width:100%;height:154px}.rewards-feature-card .reward-card .reward-card-image-container,.rewards-feature-card .reward-card .reward-card-image-container img{width:100%;height:240px}.rewards-reward-card .reward-card .reward-card-image-container .reward-card-overlay .reward-status-icon{font-size:16px;line-height:16px;height:16px;width:16px}.rewards-feature-card .reward-card .reward-card-details-container .reward-date,.rewards-feature-card .reward-card .reward-card-details-container .rewards-details-left-message,.rewards-reward-card .reward-card .reward-card-details-container .reward-date,.rewards-reward-card .reward-card .reward-card-details-container .rewards-details-left-message{margin-top:6px}.rewards-reward-card .reward-card .reward-card-details-container .rewards-details-left-message+.reward-date{margin-left:30px}.rewards-reward-card .reward-card.md-accent.background-on-hover:hover .reward-card-details-container .reward-date,.rewards-reward-card .reward-card.md-accent.background-on-hover:hover .reward-card-title{color:#fff!important}.rewards-feature-card .reward-card .reward-card-details-container .rewards-details-left-message+.reward-date{margin-left:70px}.rewards-reward-card .reward-card .rewards-feature-card{width:532px;height:332px}.rewards-feature-card .reward-card{width:500px;height:300px;margin:16px 0 16px 16px;background-color:#464646}.rewards-feature-card .reward-card md-card-content,.rewards-reward-card .reward-card md-card-content{height:60px}.rewards-reward-card .reward-card .new-item-icon-wrapper{position:absolute;z-index:1;width:0;height:0;border-style:solid;border-width:36px 36px 0 0;border-color:rgba(0,0,0,.85) transparent transparent;text-align:center;line-height:30px}.rewards-reward-card .reward-card .new-item-icon-wrapper md-icon{transform:translate(-1px,-41px)}.rewards-center-items-container .rewards-center-section-title{font-weight:400;margin:24px 24px 8px 0}.rewards-center-items-container .rewards-center-top-toolbar{height:56px}.rewards-center-items-container .rewards-center-top-toolbar .back-button{min-height:24px;margin:16px 12px 16px 36px!important}.rewards-center-items-container .rewards-center-top-toolbar .rewards-center-title{margin:22px 0}.rewards-center-items-container .rewards-center-top-toolbar nv-select-menu{margin-right:36px}.rewards-center-items-container .rewards-center-top-toolbar nv-select-menu .common-green-dot{bottom:9px;right:2px}.rewards-center-items-container .featured-reward-container .reward-tag-image{width:112px;height:187px}.rewards-center-items-container .featured-reward-container .featured-reward-details-container .featured-reward-details-description{margin-top:32px}.rewards-center-items-container .rewards-center-top-banner{min-height:150px;max-height:150px}.rewards-center-items-container .rewards-center-top-banner .reward-tag-image-sm{width:56px;height:94px}.rewards-center-items-container .rewards-center-top-banner .reward-banner-details-container .reward-banner-details-description{width:70%}.rewards-center-items-container .rewards-center-coupon-code-banner{height:132px;max-height:132px;transition:height .3s,max-height .3s}.rewards-center-items-container .section-separator-horizontal,.rewards-center-items-container .section-separator-horizontal-center{height:1px}.rewards-center-items-container .section-separator-vertical{width:1px;height:100%}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-header,.rewards-center-items-container .section-separator-horizontal{width:100%}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-header,.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-header-button{height:35px}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-header-button:hover{background-color:#303030!important;opacity:1}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-header-button:active md-icon,.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-header-button:active p{color:rgba(255,255,255,.45)!important}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-content{height:0;margin:0 auto;transition:height .3s}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-content .reward-cards-container{height:100%;clip-path:polygon(0 0,100% 0,100% 0,0 0);transition:clip-path .3s}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-content .learn-more-bullet{width:4px;height:7px}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-content .learn-more-text-container{right:50%;clip-path:polygon(0 0,100% 0,100% 0,0 0);transition:clip-path .3s}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-content img{top:132px;height:224px;clip-path:polygon(0 0,100% 0,100% 0,0 0);transition:clip-path .3s}.rewards-center-items-container .rewards-center-coupon-code-banner.expanded-state .learn-more-expandable-content .learn-more-text-container,.rewards-center-items-container .rewards-center-coupon-code-banner.expanded-state .learn-more-expandable-content img{clip-path:polygon(0 0,100% 0,100% 100%,0 100%)}.rewards-center-items-container .rewards-center-coupon-code-banner.expanded-state .learn-more-expandable-content .reward-cards-container{clip-path:polygon(0 0,100% 0,100% 100%,0 100%);transition:clip-path .3s}.rewards-center-items-container .rewards-center-coupon-code-banner md-icon.toggle-icon{height:16px;width:16px;min-height:16px;min-width:16px}.rewards-center-items-container .rewards-center-coupon-code-banner.expanded-state md-icon.toggle-icon{-moz-transform:rotateX(180deg);-o-transform:rotateX(180deg);-ms-transform:rotateX(180deg);-webkit-transform:rotateX(180deg);transform:rotateX(180deg)}.rewards-center-items-container .rewards-center-coupon-code-banner h2,.rewards-center-items-container .rewards-center-coupon-code-banner h2:hover{height:56px;line-height:36px;cursor:default;margin-top:48px;margin-bottom:28px}.rewards-center-items-container .reward-cards-container{margin:0 auto}.rewards-redeem-reward .redeem-details-container{height:366px}.rewards-redeem-reward .redeem-details-container .math-answer-input{height:36px;width:200px}.rewards-redeem-reward .redeem-details-container .math-incorrect-answer-placeholder{height:20px}@media (min-width:1200px){.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-content,.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-content img,.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-header-button,.rewards-center-items-container.user-profile-disabled .reward-cards-container{width:1128px}.rewards-center-items-container .section-separator-horizontal-center{width:1130px}.rewards-center-items-container .rewards-center-coupon-code-banner.expanded-state{height:356px;max-height:356px}.rewards-center-items-container .rewards-center-coupon-code-banner.expanded-state .learn-more-expandable-content{height:224px}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-content .learn-more-text-container{top:180px;margin-right:-500px}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-content .learn-more-text-container .learn-more-message{width:450px}}@media (min-width:1528px){.rewards-center-items-container .reward-cards-container{width:1128px}}@media (max-width:1199px){.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-content,.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-content img,.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-header-button,.rewards-center-items-container.user-profile-disabled .reward-cards-container{width:752px}.rewards-center-items-container .section-separator-horizontal-center{width:754px}.rewards-center-items-container .rewards-center-coupon-code-banner.expanded-state{height:282px;max-height:282px}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-content img,.rewards-center-items-container .rewards-center-coupon-code-banner.expanded-state .learn-more-expandable-content{height:150px}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-content .learn-more-text-container{top:164px;margin-right:-350px}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-content .learn-more-text-container .learn-more-message{width:300px}}@media (max-width:1523px){.rewards-center-items-container .reward-cards-container{width:752px}}.rewards-center-items-container .filtered-list-separator{height:44px}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".updates-updates-driver nv-accordion-pane-content,.updates-updates-driver nv-accordion-pane-header-wrapper{min-width:768px}.driver-type-selection-container{width:296px}.driver-type-selection-container md-radio-button:focus{outline:0;border:0}.driver-type-selection-container md-radio-button .md-label{margin-left:39px}.updates-updates-driver .md-button,.updates-updates-driver-item{margin:0}.driver-type-selection-container md-radio-button .md-off,.driver-type-selection-container md-radio-button .md-on{width:24px;height:24px}.driver-type-selection-container md-radio-button .md-container{top:27%;width:24px;height:24px}.driver-type-selection-container md-menu-item{height:100%}.driver-type-selection-container .driver-type-title{opacity:.9!important;color:#fff;line-height:24px}.driver-type-selection-container .driver-type-heading2{opacity:.45!important;color:#fff}.driver-type-selection-container .driver-type-heading1{opacity:.75!important;color:#fff;line-height:20px}.updates-updates-driver-item div{padding-left:16px;padding-right:16px}.updates-updates-driver-item md-icon{font-size:32px;line-height:32px;height:32px}.updates-updates-driver-item h3{margin-bottom:6px;margin-top:0;line-height:normal;text-transform:none;text-align:left;font-weight:400}.updates-updates-driver-item p{margin:0;line-height:normal;color:#9f9f9f;text-transform:none;text-align:left}.updates-updates-driver nv-accordion-pane{margin-bottom:1px}.updates-updates-driver nv-accordion-pane-header{height:80px}.updates-reinstall-driver{min-width:184px}.updates-reinstall-driver .updates-reinstall-driver-icon{margin:auto 16px auto 0!important;width:16px!important;height:16px;line-height:16px;min-height:16px;min-width:16px}.updates-updates-notification-md-menu-content .progress-container p{margin:0;line-height:normal;font-size:10px;color:#9f9f9f}.updates-updates-notification-md-menu-content .progress-container{margin-left:10px;margin-bottom:15px;margin-right:10px;line-height:normal}.updates-updates-notification-md-menu-content .notification-header{margin:10px 0 3px 15px;font-size:9px}.updates-updates-notification-md-menu-content .md-button{margin:0;padding:0;width:100%;height:inherit}.updates-updates-notification-md-menu-content md-list-item.md-2-line button.md-button{padding:0;margin:0}.updates-updates-notification-md-menu-content{padding:0;margin-top:-8px;margin-bottom:-8px;max-height:none}.updates-updates-details .highlight-container{height:406px}.updates-updates-notification-md-menu-content .checkforupdate-container{min-height:49px}.updates-updates-notification-md-menu-content .checkforupdate-container p{text-align:center}.updates-updates-details .highlight-container md-list-item{background-color:rgba(51,51,51,.5);margin-bottom:1px;padding:0;height:80px}.updates-updates-details{margin:24px 16px 10px}.updates-updates-container h4{margin-top:24px;margin-bottom:8px;font-weight:400}.updates-updates-details md-list-item img{margin-right:10px}.updates-updates-container md-list-item.md-2-line .md-list-item-text h3{line-height:normal;margin:0}.updates-updates-details md-list-item.md-2-line .md-list-item-text{padding:0}.updates-updates-container .updates-updates-driver-container{width:100%;max-width:100%;font-size:14px}.updates-updates-container .updates-updates-driver-container .checkforupdate-button{margin-top:14px;margin-bottom:-36px}.updates-updates-details .highlight-container md-list-item img{width:60px;height:60px}.updates-updates-details .highlight-container md-list{padding:0;margin:0}.updates-updates-details .highlight-container md-list-item{margin:10px}.updates-updates-container md-list md-list-item.md-2-line .md-list-item-text p,.updates-updates-container p,md-list md-list-item.md-3-line .md-list-item-text p{color:#9f9f9f}.download-progress md-progress-linear{margin-top:6px}.download-install-controls{margin-right:32px}.rollback-install-controls{min-width:fit-content;margin-right:56px}.updates-updates-driver .download-install-controls .expressInstall{margin-right:10px}.updates-updates-installer-dialog{width:790px;height:442px;background-image:url("+n(735)+")}.updates-updates-installer-dialog md-dialog-content{padding:0;overflow:hidden}.updates-updates-intstallation-progress iframe{width:790px;height:376px;border:0}.updates-updates-intstallation-progress .updates-installlation-progress-fallbackImage{width:790px}.updates-updates-intstallation-progress .progress-status-container{margin:10px 15px 5px}.updates-updates-intstallation-progress p{margin:4px 0 0;line-height:10px}.updates-updates-intstallation-progress h4{margin:0 0 4px}.updates-updates-installer-dialog h4{line-height:17px;font-weight:400;margin-top:0}.updates-updates-installer-dialog .updates-updates-installer-dialog-title{margin-bottom:8px}.updates-installer-dialog-installation-complete md-icon{width:48px;height:48px;line-height:normal;font-size:48px;font-weight:700}.updates-installer-dialog-installation-complete div{margin-top:100px}.updates-installer-dialog-installation-error div{margin-left:20px;margin-right:20px}.updates-installer-dialog-installation-error a{margin-top:14px;margin-left:5px;text-decoration:none;height:12px}.updates-installation-custom-container .package-group-table{margin-left:4px;margin-right:4px;height:234px}.updates-installation-custom-container .package-group-header{height:28px;padding-left:20px;margin:0}.updates-installation-custom-container .md-divider{border-top-width:1px;border-bottom-width:1px;border-top-color:#000;border-bottom-color:#1e1e1e}.updates-installation-custom-container md-checkbox,.updates-installation-custom-container p{line-height:normal;margin:0}.updates-installation-custom-container md-divider+div{margin-left:24px;margin-top:16px}.updates-installation-custom-container .warning-clean-install{margin-left:30px}.updates-updates-installer-dialog .updates-installer-dialog-header{margin:24px}.updates-updates-installer-dialog md-icon{margin:0 4px 0 0}.updates-installer-dialog-header:first-child md-icon+p{margin-top:5px}.updates-installer-dialog-header:first-child p{margin:0}.updates-updates-installation-reboot h4,.updates-updates-installation-reboot p{margin:6px 0 0}.updates-updates-installation-reboot div{margin-top:100px}.updates-game-list{padding-left:20px}.updates-game-list .updates-tile-repeater{min-height:232px;max-height:232px}.updates-highlight-tile{width:360px;height:250px;margin:0 16px 16px 0}@media only screen and (min-width:1196px){.updates-highlight-tile:nth-child(3n+0){margin-right:0}}@media only screen and (max-width:1195px){.updates-highlight-tile:nth-child(2n+0){margin-right:0}}.updates-highlight-tile .image-container>img{width:360px;height:154px;display:block}.updates-highlight-tile .image-container .optimal-settings-icon-overlay{width:24px;height:24px;background-color:transparent;top:16px;left:312px}.updates-highlight-tile md-card,.updates-highlight-tile md-card-content{margin:0}.updates-highlight-tile md-card-content>p:last-child{margin-top:4px;margin-bottom:0}.updates-highlight-tile p{line-height:normal;margin:0}.updates-highlight-tile md-card-content .opsTitle{margin-top:3px}.updates-highlight-tile .common-container-gradient{margin:0 16px}.updates-highlight-tile:hover .color-black-hue-1{background-color:#76b900!important}.updates-highlight-tile:hover .color-white-hue-3,.updates-highlight-tile:hover .color-white-hue-4{color:#fff!important}.updates-highlight-tile:hover .common-container-gradient{opacity:0}.updates-updates-details-overlay{margin:0;height:56px;opacity:.45;top:auto;bottom:-10px;position:absolute;width:100%}.updates-updates-details-overlay p{margin:16px}.updates-highlight-tile md-card-content{height:72px;padding-top:12px;padding-bottom:12px}.updates-server-warn{background:#191919;height:56px;border-top:1px solid rgba(255,255,255,.25)}.updates-server-warn .md-button{padding:0 16px!important;color:#fff!important}.updates-server-warn-text{font-size:14px;font-family:Roboto,sans-serif;letter-spacing:.25px;line-height:20px;opacity:.7;color:#fff}.rollback-progress{display:flex;align-items:center;justify-content:center;height:100%;width:100%}.rollback-progress-row{width:auto;background:#393939;text-align:center;padding:24px 48px}.rollback-progress-item{display:inline-block}.updates-updates-driver{max-width:1196px;margin:auto;padding-left:26px;padding-right:26px}.updates-updates-details-releaseAbstract{margin-bottom:24px;color:rgba(255,255,255,.75);line-height:1.67}.updates-highlight-tile .highlight-tile-overlay .md-button.md-icon-button{width:50px;height:50px}.updates-highlight-tile .highlight-tile-overlay .md-button.md-icon-button md-icon{width:auto;height:auto;font-size:50px;line-height:50px;margin:0}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,"nv-user-profile .md-dialog-container{padding:0!important}nv-user-profile .help-tooltip{width:320px;margin-left:-20px;pointer-events:auto;cursor:default}nv-user-profile .help-tooltip .tooltip-arrow-up{position:absolute;margin-left:24px;z-index:4;width:0;height:0;border-left:8px solid transparent;border-right:8px solid transparent;border-bottom:8px solid #272727}nv-user-profile .help-tooltip .help-tooltip-container{position:absolute;z-index:3;top:8px;box-shadow:2px 2px 20px #0c0c0c}nv-user-profile .help-tooltip .help-tooltip-container img{width:24px;height:24px}nv-user-profile .help-tooltip .help-tooltip-container .tokens-table .tokens-table-header{margin-bottom:6px;padding-bottom:6px;border-bottom:1px solid rgba(255,255,255,.2)}nv-user-profile .help-tooltip .help-tooltip-container .tokens-table .tokens-level-column span{min-width:60px}nv-user-profile .help-tooltip .help-tooltip-container .tokens-table .tokens-value-column span{padding-left:16px}nv-user-profile .material-icons.md-11{width:11px;height:11px;line-height:11px;font-size:11px}nv-user-profile .material-icons.md-36{width:36px;height:36px;line-height:36px}nv-user-profile .material-icons.md-48{width:48px;height:48px;line-height:48px}.user-profile-container{max-width:2560px;margin:0 auto}.user-profile{position:relative;z-index:1;padding:0 36px}.user-profile .user-profile-content .md-tab.md-active{color:rgba(255,255,255,.9)}.user-profile .user-profile-content md-tabs{background-color:#242424}.user-profile .user-profile-content md-tabs md-tabs-wrapper{background-color:#191919}.user-profile .link-disabled{opacity:.45;pointer-events:none}.user-profile .profile-section-header{margin-bottom:12px;padding-bottom:12px;border-bottom:1px solid rgba(255,255,255,.2)}.level-icon-gradient.icon-ranking-silver{background:-moz-linear-gradient(top,#dce6f0 33.33%,#b8c2ce 58.33%);background:-webkit-linear-gradient(top,#dce6f0 33.33%,#b8c2ce 58.33%);background:-o-linear-gradient(top,#dce6f0 33.33%,#b8c2ce 58.33%);background:-ms-linear-gradient(top,#dce6f0 33.33%,#b8c2ce 58.33%);background:linear-gradient(to bottom,top,#dce6f0 33.33%,#b8c2ce 58.33%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;display:initial}.level-icon-gradient.icon-ranking-gold{background:-moz-linear-gradient(top,#fff5b5 33.33%,#ffc142 58.33%);background:-webkit-linear-gradient(top,#fff5b5 33.33%,#ffc142 58.33%);background:-o-linear-gradient(top,#fff5b5 33.33%,#ffc142 58.33%);background:-ms-linear-gradient(top,#fff5b5 33.33%,#ffc142 58.33%);background:linear-gradient(to bottom,#fff5b5 33.33%,#ffc142 58.33%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;display:initial}.level-icon-gradient.icon-ranking-titanium{background:-moz-linear-gradient(top,#cee6eb 33.33%,#75a7b8 58.33%);background:-webkit-linear-gradient(top,#cee6eb 33.33%,#75a7b8 58.33%);background:-o-linear-gradient(top,#cee6eb 33.33%,#75a7b8 58.33%);background:-ms-linear-gradient(top,#cee6eb 33.33%,#75a7b8 58.33%);background:linear-gradient(to bottom,#cee6eb 33.33%,#75a7b8 58.33%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;display:initial}.sweepstakes-dialog{min-height:498px;max-height:498px;min-width:790px;max-width:790px;border-radius:0}.sweepstakes-dialog .input-error-container{margin-left:78px;line-height:1em}.sweepstakes-dialog .line-height-18{line-height:18px}.sweepstakes-dialog .line-height-26{line-height:26px}.sweepstakes-dialog .md-32{width:32px;height:32px;line-height:32px}.sweepstakes-dialog .md-48{width:48px;height:48px;line-height:48px;font-size:48px}.sweepstakes-dialog .md-62{width:62px;height:62px;line-height:62px;font-size:62px}.sweepstakes-dialog .md-button.md-fab-24{padding:0!important;width:24px!important;min-width:24px!important;height:24px!important;min-height:24px!important;line-height:24px!important;border-radius:50%!important}.sweepstakes-dialog .width-100{width:100%}.sweepstakes-dialog .message-banner-container{margin-top:20px;height:40px}.sweepstakes-dialog .message-banner-container .message-banner{position:absolute;left:0;width:100%;height:40px;line-height:40px;background-color:#303030;padding-left:24px;padding-right:24px}.sweepstakes-dialog .message-banner-container .message-banner span{line-height:normal;color:rgba(255,255,255,.45)}.sweepstakes-dialog .animate-show-hide.ng-hide{opacity:0}.sweepstakes-dialog .animate-show-hide.ng-hide-add,.sweepstakes-dialog .animate-show-hide.ng-hide-remove{transition:all ease-in-out .2s}.sweepstakes-dialog .md-icon-button.close-button{position:absolute;top:12px;right:12px;z-index:3}.sweepstakes-dialog .giveaway-subview{position:relative;padding:24px 8px 12px 24px}.sweepstakes-dialog .giveaway-subview .giveaway-subview-header{min-height:24px;margin-bottom:24px}.sweepstakes-dialog .giveaway-subview .giveaway-subview-header .md-button{min-height:24px}.sweepstakes-dialog .giveaway-subview .giveaway-subview-content{padding-right:32px}.sweepstakes-dialog .giveaway-subview .giveaway-subview-content-overlay{height:48px;margin:0 24px 12px;background:linear-gradient(transparent,rgba(25,25,25,.9))}.sweepstakes-dialog .giveaway-rules-container p{margin:0}.sweepstakes-dialog .giveaway-rules-container .header{margin:12px 0}.sweepstakes-dialog .message-overlay{position:absolute;opacity:1;z-index:2;background:rgba(0,0,0,.85)}.sweepstakes-dialog .giveaway-details-container .giveaway-info-section{max-height:180px}.sweepstakes-dialog .giveaway-details-container .giveaway-details-description{margin-bottom:24px;margin-top:22px}.sweepstakes-dialog .giveaway-details-container .giveaway-tokens-section{padding:24px 0;border-top:1px solid #5e5e5e;border-bottom:1px solid #5e5e5e}.sweepstakes-dialog .giveaway-details-container .giveaway-box-art{width:352px}.sweepstakes-dialog .giveaway-details-container .giveaway-box-art img{width:100%;height:auto}.sweepstakes-dialog .giveaway-details-container .giveaway-form input[type=number]::-webkit-inner-spin-button,.sweepstakes-dialog .giveaway-details-container .giveaway-form input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.sweepstakes-dialog .giveaway-details-container .giveaway-form .tokens-input-container{width:48px}.sweepstakes-dialog .giveaway-details-container .giveaway-form .tokens-input-container input{font-size:14px!important;color:rgba(255,255,255,.45)}.mission-details-dialog{width:790px;height:501px;border-radius:0}.mission-details-dialog .close-button{position:absolute;top:12px;right:12px;z-index:2}.mission-details-dialog .slideshow-container{height:444px;width:790px;z-index:1}.mission-details-dialog .gradient-overlay{z-index:1}.mission-details-dialog .gradient-overlay .left{top:0;left:0;width:80px;height:444px;background-image:url("+n(728)+");background-repeat:repeat-y}.mission-details-dialog .gradient-overlay .right{top:0;right:0;width:80px;height:444px;background-image:url("+n(729)+");background-repeat:repeat-y}.mission-details-dialog .gradient-overlay .top{top:0;left:0;width:100%;height:36px;background-image:url("+n(730)+");background-repeat:repeat-x}.mission-details-dialog .details-container{bottom:0;z-index:2;width:100%}.mission-details-dialog .details-container .toggle-button{position:absolute;top:-12px;left:50%;transform:translateX(-50%);width:36px;background-color:#191919!important}.mission-details-dialog .details-container .title-container{height:176px;padding-left:24px;padding-right:34px;padding-bottom:12px;background-image:url("+n(727)+");background-repeat:repeat-x}.mission-details-dialog .details-container .collapsable-container{padding:20px 34px 12px 24px;background-color:#191919}.mission-details-dialog .details-container .collapsable-container .collapse-icon{transform:rotate(0)}.mission-details-dialog .details-container .collapsable-container .collapse-icon.rotate{transform:rotate(-180deg)}.mission-details-dialog .details-container .collapsable-container .subtitle{margin-bottom:8px}.mission-details-dialog .details-container .collapsable-container .content{overflow:hidden;-webkit-transition:max-height .4s;-moz-transition:max-height .4s;-ms-transition:max-height .4s;-o-transition:max-height .4s;transition:max-height .4s;max-height:501px}.mission-details-dialog .details-container .collapsable-container .content.collapsed{max-height:0}.featured-reward{min-height:440px}.featured-reward .title-container{height:38px;margin:10px 0}.featured-reward .artwork-container{height:185px;margin-bottom:20px}.featured-reward .artwork-container .drawdate-overlay{position:absolute;background:rgba(0,0,0,.75);z-index:2;padding:16px}.user-profile-cover-container{position:absolute;overflow:hidden;z-index:0;padding-bottom:31.25%;width:100%}.user-profile-cover-container .cover-gradient{position:absolute;z-index:3;background:-moz-linear-gradient(top,transparent 96px,#141414 95%);background:-webkit-linear-gradient(top,transparent 96px,#141414 95%);background:linear-gradient(to bottom,transparent 96px,#141414 95%)}.user-profile-cover-container .cover-dark-overlay{background:rgba(0,0,0,.4);z-index:2}.user-profile-cover-container img{position:absolute;top:0;left:0;width:100%;object-fit:cover;z-index:1}.croppie-dialog{max-width:705px;min-width:408px;overflow-x:hidden;border-radius:0}.croppie-dialog .md-32{width:32px;height:32px;line-height:32px}.croppie-dialog .title{font-size:20px;margin:24px 0 0 24px}.croppie-dialog .subtitle{margin:8px 0 0 24px}.croppie-dialog .gallery-tile-container{max-height:134px}.croppie-dialog .gallery-tile{float:left;padding:0 8px 8px 0}.croppie-dialog .gallery-tile img{width:208px}.croppie-dialog .cover-image-preview p{width:60%;text-align:center}.croppie-dialog.edit-profile-cover-container{max-height:620px}.croppie-dialog.edit-profile-cover-container .cover-image-preview{overflow:hidden;min-height:248px;max-height:248px}.croppie-dialog.edit-rig-image-container{max-height:615px}.croppie-dialog.edit-rig-image-container .cover-image-preview{overflow:hidden;min-height:448px;max-height:448px}.user-profile-bio-container{margin-top:-72px;z-index:2;padding-bottom:31.25%;width:100%}.user-profile-bio-container .user-profile-bio{top:0;left:0;right:0;bottom:0}.user-profile-bio-container .cover-edit-button{top:96px;z-index:2}.user-profile-bio-container .more-options{top:96px;z-index:2;right:20px}.user-profile-bio-container .user-profile-avatar-container{position:relative;width:312px;height:200px;margin-right:24px;top:48px}.user-profile-bio-container .user-profile-avatar-container .avatar-edit-button{right:0;top:0;z-index:2}.user-profile-bio-container .user-profile-avatar-container .profile-avatar-overlay{position:absolute;padding:6px 12px}.user-profile-bio-container .user-profile-avatar-container .md-avatar{height:200px;width:200px;border-radius:50%;box-shadow:2px 2px 6px rgba(25,25,25,.75)}.user-profile-bio-container .user-profile-details{max-width:70%}.user-profile-bio-container .user-profile-details .desc-edit-button{right:0;z-index:2}.edit-user-description-container{width:500px}.edit-user-description-container .buttons-container,.edit-user-description-container .description-input-container{width:100%}.user-profile-widgets-container{width:312px;margin-right:24px}.user-profile-widgets-container .profile-status-placeholder{margin-top:80px}.user-profile-widget{width:100%;margin-bottom:12px;background-color:#242424}.user-profile-widget .user-profile-widget-title{padding-bottom:10px;border-bottom:1px solid rgba(255,255,255,.2)}.user-profile-widget .winners-widget{margin:12px 24px}.user-profile-status{padding-top:62px}.user-profile-status .margin-top-7{margin-top:7px}.user-profile-status .margin-right-10{margin-right:10px}.user-profile-status .level-badge{right:64px;top:4px;z-index:2;width:56px}.user-profile-status .level-badge .icon-level-bg{z-index:1;top:0;color:#000;transform:scale(1.11)}.user-profile-status .level-badge .nv-custom-icons.level-icon-gradient{z-index:2}.user-profile-status .xp-container{max-width:160px}.user-profile-status .xp-container .current-xp{color:rgba(255,255,255,.75)}.user-profile-status .xp-container .xp-progress{width:120px;margin:5px 0!important}.user-profile-status .xp-container .xp-progress .md-container.md-mode-determinate{background-color:rgba(255,255,255,.3);height:5px}.user-profile-status .tokens-container{max-width:80px}.user-profile-status .empty-state{min-height:106px}.user-profile-giveaway p{margin:0}.user-profile-games-summary{margin-bottom:16px;padding:16px}.user-profile-games-summary .games-summary-item{margin-top:16px;margin-bottom:16px}.user-profile-games-summary .games-summary-item.first{margin-top:0!important}.user-profile-games-summary .games-summary-item.last{margin-bottom:0!important}.user-profile-games-summary .games-summary-value{font-size:24px;color:#76b900!important;margin-right:8px}.user-missions{min-height:600px}.user-missions .profile-section-header .countdown{color:rgba(255,255,255,.8)}.user-missions .mission-tile{background-color:#1a1a1a}.user-missions .mission-tile .mission-title{margin-bottom:8px;padding-bottom:8px;border-bottom:1px solid #4d4d4d}.user-missions .mission-tile .artwork-container{width:116px;height:164px}.user-missions .mission-tile .details-container{padding-top:24px;padding-left:16px;padding-bottom:16px}.user-missions .mission-tile .mission-progress-container{padding:18px 20px}.user-missions .mission-tile-margin{margin-bottom:16px}.user-missions .mission-tile-margin:last-child{margin-bottom:0!important}.mission-progress-container .md-30{width:30px;height:30px;font-size:30px;line-height:30px}.mission-progress-container .title{color:rgba(255,255,255,.6)}.mission-progress-container .progress-capsule{width:54px;text-align:center;border:1px solid;border-radius:10px;color:rgba(255,255,255,.45)}.mission-progress-container.completed .nv-custom-icons,.mission-progress-container.completed .title{color:#76b900!important}.mission-progress-container.completed .progress-capsule{color:#76b900;border-color:#76b900}.mission-progress-container .mission-value-container{margin-bottom:6px}.activity-log-empty-state-separator{border-top:1px solid rgba(255,255,255,.2)}.activity-log-empty-state{height:360px}.activity-log-container .activity-log-group{margin-top:30px}.activity-log-container .activity-log-group:first-child{margin-top:6px}.activity-log-container .activity-log{margin-bottom:24px;background-color:#1a1a1a}.activity-log-container .activity-log .activity-log-thumbnail{width:160px;height:90px}.activity-log-container .activity-log .activity-log-details{margin:12px;height:66px}.activity-log-container .activity-log .nv-custom-icons{margin-left:6px}.activity-log-container .activity-log em{color:#fff;font-style:normal;font-weight:700}.activity-log-container .activity-log:last-child{margin-bottom:0}.user-gallery-container{min-height:200px}.user-gallery-container .gallery-carousel{width:100%}.user-gallery-tile{margin:0 12px 0 0}.user-gallery-tile .gallery-video-div{position:relative;width:240px;height:135px}.user-gallery-tile .gallery-video-div-mta{filter:grayscale(100%)}.user-gallery-tile .gallery-text-mta{color:#919191!important}.user-gallery-tile .gallery-text-footer-mta{color:#919191}.user-gallery-tile .gallery-video-duration{box-sizing:border-box;position:absolute;display:block;bottom:0;right:0;padding:0 4px;font-size:10px;margin:0;color:#fff;background-color:#000}.user-gallery-tile .gallery-video-overlay-play-button{box-sizing:border-box;position:absolute;top:0;left:0;height:100%;width:100%;display:flex;align-items:center;justify-content:center}.user-gallery-tile .gallery-video-overlay-play-button-icon{width:33px;height:33px;font-size:33px;margin:0;opacity:.95}.user-gallery-tile .gallery-card-footer{color:#fff;font-size:12px;margin:0;padding:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}nv-user-gallery-details{height:100%;width:100%}.user-gallery-details-controller .gallery-detail-image,.user-gallery-details-controller .gallery-detail-video{object-fit:contain;width:100%;height:100%}.user-rig-info-container .user-rig-image-container img{width:100%;max-width:800px}.user-rig-info-container .user-rig-info-list .user-rig-info-item{padding:12px;min-width:100px;max-width:200px;text-align:center}nv-user-achievements .achievements-container{min-height:16px}nv-user-achievements .achievements-loading-container{min-height:24px}nv-user-achievements .achievements-loading-container .loading-icon{height:12px;width:12px;border-radius:50%;background-color:rgba(255,255,255,.2)}.cevo-icons{font-family:Nvidia;width:auto!important}.edit-badges-dialog{width:720px;height:640px;background-color:#2e2e2e;border-radius:0}.edit-badges-dialog .edit-badges-container{padding:24px 24px 0}.edit-badges-dialog .width-100{width:100%}.edit-badges-dialog .md-56{width:56px;height:56px;line-height:56px;font-size:56px}.edit-badges-dialog .checkbox-16{width:16px;height:16px;min-width:16px;min-height:16px}.edit-badges-dialog .checkbox-16 .md-container{width:16px;height:16px}.edit-badges-dialog .checkbox-16 .md-icon{width:16px;height:16px;line-height:16px}.edit-badges-dialog .showcase-section{min-height:144px}.edit-badges-dialog .badge-tile-container{background-color:#212121}.edit-badges-dialog .badge-tile-container .action-elements-container{left:0;top:0;z-index:2}.edit-badges-dialog .showcase-badge-tile{width:120px;height:144px;margin-right:16px}.edit-badges-dialog .showcase-badge-tile .action-elements-container{top:4px;left:4px}.edit-badges-dialog .showcase-badge-tile .title-toggle-button{width:24px;height:24px;min-height:24px}.edit-badges-dialog .showcase-badge-tile .tile-content{padding:24px 10px 10px;background-color:#212121}.edit-badges-dialog .showcase-badge-tile:last-child{margin-right:0!important}.edit-badges-dialog .showcase-badge-tile.dragging .tile-content{background-color:#76b900}.edit-badges-dialog .showcase-badge-tile.dragging .badge-icon-container{background-color:transparent}.edit-badges-dialog .showcase-badge-tile.dropping .tile-content{box-shadow:inset 0 0 0 2px #76b900}.edit-badges-dialog .badge-tile{width:322px;height:114px;margin-right:16px;margin-top:16px}.edit-badges-dialog .badge-tile .tile-content{padding-left:16px}.edit-badges-dialog .badge-tile .badge-icon-container{min-width:80px;max-width:80px}.edit-badges-dialog .badge-tile .action-elements-container{top:8px;left:8px}.edit-badges-dialog .badge-tile:nth-child(2n){margin-right:0!important}.edit-badges-dialog .badge-tile:nth-child(-n+2){margin-top:0!important}.levels-dialog{width:827px;max-width:827px;max-height:606px;border-radius:0;background-color:#252525}.levels-dialog .font-size-18{font-size:18px}.levels-dialog .md-8{width:8px;height:8px;min-width:8px;min-height:8px;line-height:20px}.levels-dialog .md-42{width:42px;height:42px;line-height:42px;font-size:42px}.levels-dialog .md-64{width:64px;height:64px;line-height:64px;font-size:64px}.levels-dialog .margin-right-15{margin-right:15px}.levels-dialog .margin-top-6{margin-top:6px}.levels-dialog .margin-top-18{margin-top:18px}.levels-dialog .margin-top-20{margin-top:20px}.levels-dialog .line-height-20{line-height:20px}.levels-dialog .width-200{width:200px}.levels-dialog .close-button{right:16px;top:16px;z-index:2}.levels-dialog .profile-status{min-height:160px;background-color:#343434}.levels-dialog .profile-status .polygon-clip{width:260px;background-color:#1a1a1a;-webkit-clip-path:polygon(0 0,100% 0,70% 100%,0 100%);clip-path:polygon(0 0,100% 0,70% 100%,0 100%)}.levels-dialog .profile-status .progress-bar-container{margin-right:80px}.levels-dialog .profile-status .level-badge-container{width:182px}.levels-dialog .profile-status .xp-progress-container{min-width:198px}.levels-dialog .profile-status .xp-progress{width:198px;margin-top:10px;height:7px}.levels-dialog .profile-status .xp-progress .md-container{background-color:#252525;height:7px}.levels-dialog .profile-status .xp-progress .md-container .md-bar{height:7px}.levels-dialog .nv-level-details{margin-right:35px}.levels-dialog .nv-level-details:last-child{margin-right:0}.levels-dialog .nv-level-details .perk-item{margin-left:33px}",""]);
},function(e,t,n){e.exports=n.p+"defaultRig.jpg"},function(e,t,n){e.exports=n.p+"gold.svg"},function(e,t,n){e.exports=n.p+"gray.svg"},function(e,t,n){e.exports=n.p+"DefaultGameArt.png"},,,function(e,t,n){e.exports=n.p+"nvidia-gf-experience-logo.svg"},function(e,t,n){e.exports=n.p+"lineBeak.png"},function(e,t,n){e.exports=n.p+"GDPR_login_bkgrnd.png"},function(e,t,n){e.exports=n.p+"login_left_background.png"},,function(e,t,n){e.exports=n.p+"overlay_bg.png"},,,,,,,,function(e,t,n){e.exports=n.p+"color_selector.png"},function(e,t,n){e.exports=n.p+"wechat.png"},function(e,t,n){e.exports=n.p+"wm-off.svg"},function(e,t,n){e.exports=n.p+"wm-on.svg"},function(e,t,n){e.exports=n.p+"bg-gradient-bottom.png"},function(e,t,n){e.exports=n.p+"bg-gradient-left.png"},function(e,t,n){e.exports=n.p+"bg-gradient-right.png"},function(e,t,n){e.exports=n.p+"bg-gradient-top.png"},function(e,t,n){e.exports=n.p+"bullet_green_arrow.png"},function(e,t,n){e.exports=n.p+"coupons_expandable_banner.png"},function(e,t,n){e.exports=n.p+"redeem_reward_default.png"},function(e,t,n){e.exports=n.p+"default_banner.png"},function(e,t,n){e.exports=n.p+"installer-dialog-background.png"},function(e,t,n){e.exports=n.p+"installer_banner.png"},function(e,t,n){e.exports=n.p+"gfn-background.jpg"},,function(e,t){e.exports=' <div ng-if=ctaCtrl.nvCtaData layout=column layout-align="start center" class=nv-cta> <md-button class="md-accent md-raised color-white-important margin-zero" ng-disabled=ctaCtrl.isDisabled ng-click=ctaCtrl.onClick() translate="{{ ctaCtrl.nvCtaData.text }}" aria-label=ctaCtrl-buttton></md-button> <div ng-if=ctaCtrl.nvCtaData.startStampAdjusted ng-switch=ctaCtrl.ctaCountdownState class="cta-countdown font-size-sm color-white-hue-4 font-uppercase"> <nv-countdown-timer ng-switch-when=pending nv-translate=l10n.ctaStartCountdown nv-end-timestamp="{{ ctaCtrl.nvCtaData.startStampAdjusted }}" nv-format=shortTime nv-callback=ctaCtrl.updateCtaState(state)></nv-countdown-timer> <nv-countdown-timer ng-switch-when=active nv-translate=l10n.ctaEndCountdown nv-end-timestamp="{{ ctaCtrl.nvCtaData.endStampAdjusted }}" nv-format=shortTime nv-callback=ctaCtrl.updateCtaState(state)></nv-countdown-timer> <span ng-switch-when=expired translate=l10n.ctaEnded></span> </div> </div> '},function(e,t){e.exports="<div class=common-carousel-indicator-dimensions> </div> "},function(e,t){e.exports=' <span ng-repeat="slide in ::carouselIndicators.slides" ng-click=carouselIndicators.setIndex($index) tabindex=-1 aria-label="\'carousel-indicators-index-\' + $index"> <nv-carousel-indicator nv-is-selected=carouselIndicators.isSelected($index) class="common-carousel-indicator common-carousel-indicator-dimensions" aria-label="\'carousel-selected-index-\' + $index"></nv-carousel-indicator> </span> '},function(e,t){e.exports=' <div class=common-carousel flex layout=column> <div ng-if=!carousel.isBanner flex layout=column> <ul rn-carousel rn-carousel-buffered rn-carousel-index=carousel.selectedIndex rn-swipe-disabled=true layout-fill flex> <li ng-repeat="image in carousel.slides"> <nv-image-annotation nv-image-src={{::image.image}} nv-image-alt={{::image.image}} nv-annotation=image.annotation layout-fill class=common-container-overflow></nv-image-annotation> </li> </ul> <nv-overlay class="common-overlay no-background mouse-event-passthrough" nv-position=bottom ng-style=carousel.centerIndicators() ng-if=carousel.isIndicatorsVisible()> <nv-carousel-indicators nv-slides=carousel.slides nv-selected-index=carousel.selectedIndex class="rn-carousel-indicator custom-indicator common-carousel-indicators" layout=row layout-align="center end" flex></nv-carousel-indicators> </nv-overlay> </div> <div ng-if=carousel.isBanner class=banner-carousel rn-carousel-controls-allow-loop> <ul rn-carousel rn-carousel-index=carousel.selectedIndex rn-carousel-auto-slide rn-carousel-transition=zoom layout-fill> <li ng-repeat="image in carousel.slides"> <img ng-src={{image.image}} alt={{image.name}} layout-fill nv-image-fallback ng-class="{pointerCursor: carousel.isArticleAvailable(image)}" ng-click=carousel.previewMedia($event,image) /> <nv-overlay layout-fill class="common-overlay no-background" ng-if=carousel.isVideoAvailable(image)> <div layout=column layout-align="center center" flex> <md-button class=md-icon-button ng-click=carousel.previewMedia($event,image) aria-label=carousel-media-buttton> <md-icon md-font-set=material-icons class="md-18 color-white-hue-1" aria-label=outlinePlayCircleIcon aria-hidden=true>play_circle_outline</md-icon> </md-button> </div> </nv-overlay> </li> </ul> <nv-overlay class="common-overlay no-background" nv-position=bottom ng-if=carousel.isIndicatorsVisible()> <nv-carousel-indicators nv-slides=carousel.slides nv-selected-index=carousel.selectedIndex class="rn-carousel-indicator custom-indicator common-carousel-indicators" layout=row layout-align="center end" flex></nv-carousel-indicators> </nv-overlay> </div> </div> '},function(e,t){e.exports='<ng-form name=nvCtrl> <div class=nv-custom-date-ctrl> <h1 class=md-title>{{titleString}}</h1> <div layout=row> <nv-date-field> <md-input-container layout-fill md-no-float> </md-input-container> </nv-date-field> <nv-date-field> <md-input-container layout-fill md-no-float> </md-input-container> </nv-date-field> <nv-date-field> <md-input-container layout-fill md-no-float> </md-input-container> </nv-date-field> </div> <div class="error-message font-size-xxs" ng-messages=errors ng-if="((nvCtrl.year.$touched && !focus) || ((nvCtrl.day.$touched && !focus) && (!nvCtrl.month.$touched && !focus)))"> <div ng-message=pattern> <div translate=l10n.invalidYear></div> </div> <div ng-message="required, min, max, invalid"> <div translate=l10n.invalidDate></div> </div> </div> </div> </ng-form> '},function(e,t){e.exports='<ng-form autocomplete=off flex layout-align="start start" layout=column name=editEmailCtrl.emailForm novalidate> <p class="md-primary md-hue-2 foreground" translate=l10n.enterYourInformation></p> <md-input-container layout-fill ng-if=!editEmailCtrl.nvDialogModel.is2FactorAuthentication> <label translate=l10n.currentPassword></label> <input nv-input name=password ng-model=editEmailCtrl.password ng-change=editEmailCtrl.passwordChanged() ng-required=!editEmailCtrl.nvDialogModel.is2FactorAuthentication tabindex=1 type=password md-no-asterisk/> <div class=error-message ng-messages=editEmailCtrl.emailForm.password.$error ng-show=editEmailCtrl.emailForm.password.$touched md-auto-hide=false> <div ng-message=required> <div translate=l10n.required></div> </div> <div ng-message=invalidPassword> <div translate=l10n.incorrectPassword></div> </div> </div> </md-input-container> <md-input-container layout-fill> <label translate=l10n.newEmailAddress></label> <input nv-input name=email ng-model=editEmailCtrl.email ng-change=editEmailCtrl.emailChanged() required tabindex=2 type=email md-no-asterisk/> <div class=error-message ng-messages=editEmailCtrl.emailForm.email.$error ng-show=editEmailCtrl.emailForm.email.$touched md-auto-hide=false> <div ng-message=email> <div translate=l10n.invalidEmail></div> </div> <div ng-message=required> <div translate=l10n.required></div> </div> <div ng-message=notAvailable> <div translate=l10n.emailAddressInUse></div> </div> </div> </md-input-container> <md-input-container layout-fill> <label translate=l10n.reEnterEmailAddress></label> <input nv-input name=reEnterEmail ng-model=editEmailCtrl.reEnterEmail required nv-fields-match={{editEmailCtrl.emailForm.email.$viewValue}} test=editEmailCtrl.email tabindex=3 type=email md-no-asterisk/> <div class=error-message ng-messages=editEmailCtrl.emailForm.reEnterEmail.$error ng-show=editEmailCtrl.emailForm.reEnterEmail.$touched md-auto-hide=false> <div ng-message=email> <div translate=l10n.invalidEmail></div> </div> <div ng-message=required> <div translate=l10n.required></div> </div> <div ng-message=fieldsMatch> <div translate=l10n.emailAddressesDoNotMatch></div> </div> </div> </md-input-container> </ng-form> '},function(e,t){e.exports=' <div class=dialog-email-verification ng-if=!emailVerificationCtrl.nvDialogModel.isAuthentication> <div class=dialog-email-verification-email flex layout layout-align="center center"> <span>{{emailVerificationCtrl.nvDialogModel.translateValues.email}}</span> <md-button ng-if=emailVerificationCtrl.nvDialogModel.hasPassword class=md-icon-button ng-click=emailVerificationCtrl.nvDialogModel.editMailAddress() aria-label=edit-mail-address-buttton> <md-icon md-font-set=material-icons class=md-18 aria-label="edit password" aria-hidden=true>edit</md-icon> </md-button> </div> <p class="md-primary md-hue-2 foreground" translate-values={{emailVerificationCtrl.nvDialogModel.translateValues}} translate=l10n.verficationEmailHasBeenSent></p> <p class="md-primary md-hue-2 foreground" translate=l10n.clickContinueAfter></p> </div> <div ng-if=emailVerificationCtrl.nvDialogModel.isAuthentication> <p class="md-primary md-hue-2 foreground" translate-values={{emailVerificationCtrl.nvDialogModel.translateValues}} translate=l10n.verficationEmailHasBeenSent></p> <p class="md-primary md-hue-2 foreground" translate=l10n.clickContinueAfter></p> </div> '},function(e,t){e.exports='<div class="md-primary md-hue-2 foreground" ng-bind-html=dialogHtmlCtrl.nvDialogModel.html></div> '},function(e,t){e.exports=' <div class=dialog-message layout-align="start start" layout=column> <div layout=row> <md-icon material-icons class="md-32 font-size-32 margin-top-zero" color-white-hue-4 aria-label=dialogMessage aria-hidden=true>error</md-icon> <div layout=column class=margin-left-20> <span class="md-primary foreground" color-white-hue-4 translate=l10n.somethingWrong></span> <span class="md-primary foreground" color-white-hue-4 translate={{dialogMessageCtrl.nvDialogModel.text}}></span> <div layout=row class=margin-top-20> <span class="md-primary foreground" color-white-hue-4 translate=l10n.errorCode></span> <span>&nbsp;</span> <span class="md-primary foreground" color-white-hue-4>{{dialogMessageCtrl.nvDialogModel.errorCode}}</span> </div> </div> </div> </div> '},function(e,t){e.exports='<p class="md-primary md-hue-2 foreground" translate={{dialogTextCtrl.nvDialogModel.text}} translate-values={{dialogTextCtrl.nvDialogModel.translateValues}}></p> '},function(e,t){e.exports=' <div class="bg-grey-im-hue-3 md-right-section constants-z-layers-modal-minus-one" layout=row ng-class="feedbackFloatCtrl.viewState.feedbackFloatShowState ? \'feedbackfloat-animate\' : \'\'" ng-if=feedbackFloatCtrl.showFeedbackButton()> <div ng-mouseleave=feedbackFloatCtrl.onMouseLeave() ng-mouseenter=feedbackFloatCtrl.onMouseEnter() aria-label=feedback-float-buttton> <md-button class="md-icon-button feedback-button" ng-click=feedbackFloatCtrl.onOpenFeedbackDialog() aria-label=openFeedbackDialog> <md-icon class="md-16 feedback-icon" md-font-set=material-icons aria-label=message aria-hidden=true>message</md-icon> </md-button> <a ng-click=feedbackFloatCtrl.onOpenFeedbackDialog() class="feedbackfloat-state3-margin md-default-theme font-size-sm md-accent foreground feedback-link" ng-show=feedbackFloatCtrl.showFloatStateOpen()>{{\'l10n.sendfeedback\' | translate | uppercase}}</a> </div> <md-button class="md-icon-button feedback-button" ng-click=feedbackFloatCtrl.disableFeedbackFloat() ng-show=feedbackFloatCtrl.viewState.feedbackFloatOverlayEnabled aria-label=disableFeedbackFloat aria-label=feedback-close-dialog-buttton> <md-icon class="md-16 feedback-icon color-white-hue-5" md-font-set=material-icons aria-label=close aria-hidden=true>close</md-icon> </md-button> </div> '},,,,,function(e,t){e.exports="<div layout=row layout-fill> <img class=nv-annotation-image ng-src={{::nvImageSrc}} alt={{::nvImageAlt}} nv-image-fallback/> </div> "},function(e,t,n){e.exports='<div layout=row layout-align="center center" class=constants-position-relative layout-fill flex> <img src='+n(38)+' class=common-image-fallback /> <nv-overlay class="common-overlay constants-z-layers-zero" layout-fill> <span layout-fill layout-align="center center" layout=column> <md-progress-circular id=progressIndicator class=md-accent md-diameter=15 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> </div> '},function(e,t){e.exports="<input class=ng-hide id=input-file-id type=file accept=image/* /> <label for=input-file-id class=margin-zero> <ng-transclude></ng-transclude> </label> "},function(e,t){e.exports=" <md-dialog flex class=common-media-dialog-service-media-dialog> <img ng-if=mediaDialog.model.image() ng-src={{mediaDialog.model.image()}} alt={{galleryImagePreview.image}} ng-mouseenter=mediaDialog.setShowOverlay(true) /> <nv-overlay class=\"common-overlay no-background\" ng-if=mediaDialog.model.image() ng-show=mediaDialog.showOverlay ng-mouseleave=mediaDialog.setShowOverlay(false)> <div layout=column layout-fill> <md-toolbar> <div class=md-toolbar-tools> <span flex></span> <div ng-if=mediaDialog.model.toolbarHtml() nv-bind-html-compile={{mediaDialog.model.toolbarHtml()}}></div> <md-button class=md-icon-button ng-click=mediaDialog.close() aria-label=media-dialog-close-buttton> <md-icon class=material-icons aria-label=close aria-hidden=true>close</md-icon> <md-tooltip> {{'l10n.close' | translate }} </md-tooltip> </md-button> </div> </md-toolbar> </div> </nv-overlay> <nv-video nv-default-video-control={{mediaDialog.model.video().defaultVideoControl}} ng-if=mediaDialog.model.video() nv-src={{mediaDialog.model.video().source}} nv-video-loaded=mediaDialog.setVideoLoaded(value) nv-video-close=mediaDialog.close() nv-video-type={{mediaDialog.model.video().type}}> <md-toolbar> <div class=md-toolbar-tools> <div ng-if=mediaDialog.model.toolbarHtml() nv-bind-html-compile={{mediaDialog.model.toolbarHtml()}}></div> <md-button class=md-icon-button ng-click=mediaDialog.close() aria-label=close-iframe-video-buttton> <md-icon class=material-icons aria-label=close aria-hidden=true>close</md-icon> <md-tooltip> {{'l10n.close' | translate }} </md-tooltip> </md-button> </div> </md-toolbar> </nv-video> </md-dialog> "},function(e,t){e.exports=' <div class=constants-position-relative ng-click=mediaTile.previewMedia($event) layout-fill> <img ng-src={{mediaTile.mediaItem.thumbnail}} alt={{mediaTile.mediaItem.alt}} nv-image-fallback=nv-no-loading-indicator /> <nv-overlay layout-fill class=common-overlay ng-if=mediaTile.isVideo()> <div layout=column layout-align="center center" flex> <md-button class="md-icon-button video-play-btn" aria-label=play-iframe-video-buttton> <md-tooltip> {{\'l10n.play\' | translate}} </md-tooltip> <md-icon md-font-set=material-icons class=material-icons aria-label=playCircleOutline aria-hidden=true>play_circle_outline</md-icon> </md-button> </div> </nv-overlay> </div> '},function(e,t){e.exports=' <div class=navigational-dialog-container layout=row layout-align="center center"> <md-button ng-if=dialogCtrl.showButtons class="md-icon-button dialog-button margin-8" ng-click=dialogCtrl.backward() aria-label=keyboard-left-arrow-buttton> <md-icon md-font-set=material-icons class=md-48 aria-hidden=true aria-label=arrowLeft>keyboard_arrow_left</md-icon> </md-button> <md-dialog class=navigational-dialog ng-class=dialogCtrl.model.class()> <md-button class="md-icon-button navigational-dialog-close-button" ng-click=dialogCtrl.close() aria-label=hide-navigational-dialog-buttton> <md-icon md-font-set=material-icons class=md-24 aria-label=close aria-hidden=true>close</md-icon> </md-button> <md-dialog-content layout=column layout-fill flex class=constants-position-relative nv-bind-html-compile={{dialogCtrl.model.html()}}> </md-dialog-content> </md-dialog> <md-button ng-if=dialogCtrl.showButtons class="md-icon-button dialog-button margin-8" ng-click=dialogCtrl.forward() aria-label=keyboard-right-arrow-button> <md-icon md-font-set=material-icons class=md-48 aria-label=rightArrow aria-hidden=true>keyboard_arrow_right</md-icon> </md-button> </div> '},function(e,t){e.exports=' <md-list-item class="md-3-line bg-dark-hv" layout=row layout-align="start start"> <img ng-src={{$ctrl.nvNews.img}} alt={{$ctrl.nvNews.title}} /> <div class=md-list-item-text> <a href=# nv-ellipsis-lines=2>{{$ctrl.nvNews.title}}</a> <p nv-ellipsis-lines=2>{{$ctrl.nvNews.text}}</p> <a href=# class="hyperlink-no-decorate md-accent foreground">{{\'l10n.readMore\' | translate}}</a> </div> </md-list-item> '},function(e,t){e.exports='<md-content> <md-list> <nv-news-item ng-repeat="newsItem in news.newsList" nv-news=newsItem class=common-news-item></nv-news-item> </md-list> </md-content> '},function(e,t,n){e.exports=' <div layout=column layout-align="center center" flex layout-fill class=common-nv-no-content-fallback> <img ng-src='+n(38)+' ng-hide=nvImageSrc /> <md-icon md-font-set=material-icons class="font-size-100 material-icons margin-zero color-dark-gray" ng-show=nvImageSrc aria-label=contentFallback aria-hidden=true>{{$ctrl.nvImageSrc}}</md-icon> <p class="color-dark-gray common-nv-no-content-fallback-tip" translate={{$ctrl.nvTip}}></p> <ng-transclude></ng-transclude> </div> '},function(e,t){e.exports=' <div class=nv-slider-container> <md-slider md-discrete flex ng-model=sliderCtrl.sliderIndex min="{{ sliderCtrl.nvMinIndex }}" max="{{ sliderCtrl.nvMaxIndex }}" step="{{ sliderCtrl.nvStep }}" ng-change=sliderCtrl.sliderChanged() ng-disabled=sliderCtrl.nvIsDisabled aria-label=slider aria-hidden=true> </md-slider> </div> '},function(e,t){e.exports=' <div flex layout=row class=tile-carousel-container> <div layout=row ng-style=tileCarousel.translateStyle() style="transition:all ease .5s"> <ng-transclude layout=row></ng-transclude> </div> <md-button class="md-raised md-secondary carousel-button carousel-button-prev" ng-click=tileCarousel.moveLeft($event) ng-class="{\'hidden\': !tileCarousel.showLeftCarouselButton}" aria-label=carousel-prev-button> <md-icon md-font-set=material-icons class="carousel-button-icon color-white-hue-1" aria-label=arrowLeft aria-hidden=true>keyboard_arrow_left</md-icon> </md-button> <md-button class="md-raised md-secondary carousel-button carousel-button-next" ng-click=tileCarousel.moveRight($event) ng-class="{\'hidden\': !tileCarousel.showRightCarouselButton}" aria-label=carousel-next-button> <md-icon md-font-set=material-icons class="carousel-button-icon color-white-hue-1" aria-label=arrowRight aria-hidden=true>keyboard_arrow_right</md-icon> </md-button> </div> '},function(e,t){e.exports=' <div class=range-slider-container> <div class=range-slider-left> <md-slider aria-label=upperValue step={{step}} mingap={{minGap}} ng-model=lowerValue min={{minimum}} max={{lowerMax}} ng-change=rangeSliderCtrl.currentSliderPositionChanged() ng-disabled=nvDisabled aria-hidden=true></md-slider> </div> <div class=range-slider-right ng-style="{width: upperWidth}"> <md-slider aria-label=upperValue ng-model=upperValue step={{step}} mingap={{minGap}} min={{upperMin}} max={{maximum}} ng-change=rangeSliderCtrl.currentSliderPositionChanged() ng-disabled=nvDisabled aria-hidden=true></md-slider> </div> <div layout=row layout-align=space-between> <div>{{lowerValue}}</div> <div>{{upperValue}}</div> </div> </div> '},function(e,t){e.exports=' <md-menu-item> <md-button aria-label="" ng-click=selectMenuItem.handleClick() ng-disabled=selectMenuItem.disabled aria-label=select-menu-item-button> <p ng-style=selectMenuItem.itemStyle> <ng-transclude></ng-transclude> </p> </md-button> </md-menu-item> '},function(e,t){e.exports=' <div ng-if=nvFiltered class=common-green-dot></div> <md-menu md-offset="10 36" md-position-mode={{::nvPositionMode}}> <md-button class=md-icon-button ng-click=$mdOpenMenu($event) aria-label=open-menu-button> <md-tooltip> <span translate={{::nvLabel}}></span> </md-tooltip> <md-icon md-font-set=material-icons class=color-white-hue-2 ng-hide={{::nvCustomIcon}} aria-label=select aria-hidden=true>{{::nvMdIcon}}</md-icon> <md-icon class="nv-custom-icons color-white-hue-2" ng-show={{::nvCustomIcon}} md-font-icon={{::nvMdIcon}} aria-label=select aria-hidden=true></md-icon> </md-button> <md-menu-content md-menu-align-target md-menu-origin class="md-primary md-hue-1" aria-label=menu-content> <ng-transclude></ng-transclude> </md-menu-content> </md-menu> '},,,function(e,t){e.exports=" <div class=common-video-directive> <video ng-if=!videoCtrl.isVideoTypeYoutube() autoplay ng-mouseenter=videoCtrl.setShowOverlay(true) ng-mouseleave=videoCtrl.setShowOverlay(false) ng-show=videoCtrl.videoLoaded> <source ng-src={{videoCtrl.nvSrc}} type=video/mp4> </video> <div class=youtube-video-container ng-if=videoCtrl.isVideoTypeYoutube() ng-mouseenter=videoCtrl.setShowOverlay(true) ng-mouseleave=videoCtrl.setShowOverlay(false)> <iframe id=ytPlayer frameborder=0 ng-src={{videoCtrl.nvSrc}} allowfullscreen></iframe> </div> <nv-overlay ng-if=videoCtrl.showDefaultOverlay() class=youtube-overlay ng-show=videoCtrl.showOverlay ng-mouseenter=videoCtrl.setShowOverlay(true) ng-mouseleave=videoCtrl.setShowOverlay(false)> <div layout=row layout-fill> <div flex></div> <ng-transclude></ng-transclude> </div> </nv-overlay> <nv-overlay layout ng-if=!videoCtrl.showDefaultOverlay() class=\"common-overlay no-background\" ng-show=videoCtrl.showOverlay ng-mouseleave=videoCtrl.setShowOverlay(false)> <div layout=column flex layout-align=\"center center\"> <div layout=row layout-fill> <div flex></div> <ng-transclude></ng-transclude> </div> <div layout-fill flex layout-align=\"center center\" layout=column ng-mousedown=videoCtrl.toggleMediaPlay()> <input ng-show=videoCtrl.showPlaybutton() type=image src=../../../assets/main/img/play_btn70.png /> </div> <md-toolbar> <div class=md-toolbar-tools> <md-button ng-if=videoCtrl.showPlaybutton() class=md-icon-button ng-click=videoCtrl.toggleMediaPlay() aria-label=media-play-button> <md-icon class=material-icons aria-label=playArrowIcon aria-hidden=true>play_arrow</md-icon> <md-tooltip> {{'l10n.play' | translate }} </md-tooltip> </md-button> <md-button ng-if=!videoCtrl.showPlaybutton() class=md-icon-button ng-click=videoCtrl.toggleMediaPlay() aria-label=media-pause-button> <md-icon class=material-icons aria-label=pauseIcon aria-hidden=true>pause</md-icon> <md-tooltip> {{'l10n.pause' | translate }} </md-tooltip> </md-button> <md-slider flex min=0 max=100 ng-model=videoCtrl.sliderPosition aria-label=video-control-slider aria-hidden=true></md-slider> <span>&nbsp; &nbsp;{{videoCtrl.currentVideoTime}}</span> <md-button class=md-icon-button ng-if=!videoCtrl.muted() ng-click=videoCtrl.muteUnmute() aria-label=media-volume-button> <md-icon class=material-icons aria-label=volumeUpIcon aria-hidden=true>volume_up</md-icon> <md-tooltip> {{'l10n.volume' | translate }} </md-tooltip> </md-button> <md-button class=md-icon-button ng-if=videoCtrl.muted() ng-click=videoCtrl.muteUnmute() aria-label=media-mute-button> <md-icon class=material-icons aria-label=VolumeOFFIcon aria-hidden=true>volume_off</md-icon> <md-tooltip> {{'l10n.volume' | translate }} </md-tooltip> </md-button> <md-button class=md-icon-button aria-label=media-fullscreen-button> <md-icon class=material-icons aria-label=fullscreenIcon aria-hidden=true>fullscreen</md-icon> <md-tooltip> {{'l10n.fullscreen' | translate }} </md-tooltip> </md-button> </div> </md-toolbar> </div> </nv-overlay> <md-progress-circular md-mode=indeterminate ng-show=videoCtrl.videoWaiting class=\"md-accent progress-circular\" md-diameter=25></md-progress-circular> </div> "},,,,function(e,t){e.exports="<div flex layout=row id=toast-container> <nv-game-list ng-if=!homeCtrl.synchedViewState.classicViewEnabled class=games-game-list nv-user-id={{::homeCtrl.user.userId}} nv-selected-game-id=homeCtrl.selectedGameId flex layout=column></nv-game-list> <nv-classic-game-list ng-if=homeCtrl.synchedViewState.classicViewEnabled class=games-classic-game-list nv-user-id={{::homeCtrl.user.userId}} nv-selected-game-id=homeCtrl.viewState.selectedGameId flex layout=column></nv-classic-game-list> </div> "},function(e,t){e.exports=' <md-button ng-disabled={{nvDisabled}}> <md-icon md-font-set=material-icons aria-label=mainTabIcon aria-hidden=true>{{::nvMdIcon}}</md-icon> <span class="color-medium-gray-hue-2 font-size-lg" translate={{::nvLabel}} aria-label=main-tab-label></span> </md-button> '},function(e,t){e.exports=' <md-button aria-label=mainTab class="md-icon-button md-button md-ink-ripple" ng-disabled={{nvDisabled}}> <md-tooltip md-autohide><span translate={{::nvToolTip}}></span></md-tooltip> <md-icon md-font-set=material-icons class="md-18 ng-binding ng-scope ng-isolate-scope material-icons" ng-hide={{::nvCustomIcon}} aria-label=mainTabIcon aria-hidden=true>{{::nvMdIcon}}</md-icon> <div layout=column class="image-container constants-position-relative" ng-show={{nvCustomIcon}}> <nv-overlay layout-fill class="common-overlay no-background" ng-hide=nvShareAddonLoaded> <md-icon class="nv-custom-icons md-12 feature-notready-toolbar-overlay nv-custom-alert-icon-color" md-font-icon=icon-alert aria-label=mainTabAlertIcon aria-hidden=true></md-icon> </nv-overlay> <md-icon class="nv-custom-icons md-18" md-font-icon={{::nvMdIcon}} aria-label=mainTabIcon aria-label=toolbarIcon aria-hidden=true></md-icon> </div> </md-button> '},function(e,t,n){e.exports=" <div class=main-toolbar-top-dividers flex layout=column> <div class=bg-dark-eh-hue-1></div> <div class=bg-dark-im-hue-6></div> </div> <md-toolbar layout=column class=bg-dark-vh-hue-1 ui-tour=oobeTour ui-tour-on-shown=mainToolbarCtrl.onTourStepShown()> <div class=md-toolbar-tools flex layout=row> <div tour-step=oobe-home tour-step-title=\"{{'l10n.launchYourGames' | translate}}\" tour-step-placement=bottom-left tour-step-order=0> <nv-main-tab-button nv-md-icon=home nv-label=l10n.home nv-telemetry='{\"tarconID\":{{::$root.telemetryEventNames.HOME_VIEW_GAMES_AND_FRIENDS}}}' nv-disabled={{mainToolbarCtrl.driverless}} nv-state=main.auth.home.gamesAndFriends aria-label=home-button></nv-main-tab-button> </div> <img src="+n(97)+" alt=toolbar-divider> <div tour-step=oobe-drivers tour-step-title=\"{{'l10n.getTheLatestGrds' | translate}}\" tour-step-placement=bottom-left tour-step-order=1> <nv-main-tab-button nv-md-icon=archive nv-label=l10n.drivers nv-telemetry='{\"tarconID\":{{::$root.telemetryEventNames.UPDATES_VIEW_UPDATES}}}' nv-state=main.auth.updates aria-label=drivers-button></nv-main-tab-button> </div> <div class=md-toolbar-tools flex layout=row ng-if=::mainToolbarCtrl.devFeatures.experimental> <img src="+n(97)+" alt=toolbar-divider> <nv-main-tab-button nv-md-icon=video_library nv-label=l10n.gallery nv-state=main.auth.gallery nv-disabled={{mainToolbarCtrl.driverless}} aria-label=video-button></nv-main-tab-button> <img src="+n(97)+' alt=toolbar-divider> <nv-main-tab-button nv-md-icon=shopping_basket nv-label=l10n.gfn nv-state=main.auth.gfn nv-disabled={{mainToolbarCtrl.driverless}}></nv-main-tab-button> </div> <span flex></span> <div ng-if=mainToolbarCtrl.searchEnabled> <nv-search></nv-search> </div> <nv-notifications class=notifications nv-disabled=mainToolbarCtrl.driverless></nv-notifications> <div ng-if=::mainToolbarCtrl.devFeatures.experimental> <nv-updates-notification class=updates-updates-notification></nv-updates-notification> </div> <nv-main-tab-icon id=main-share-icon class=margin-right-16 nv-md-icon=icon-share nv-custom-icon=true nv-tab-icon-clicked=mainToolbarCtrl.enableAndLaunchShare() nv-tool-tip=l10n.openGfeInGame ng-if=mainToolbarCtrl.canShowShareIcon() nv-disabled={{mainToolbarCtrl.isShareButtonDisabled}} nv-change-icon-color-green={{mainToolbarCtrl.isShareRunning}} nv-share-addon-loaded=mainToolbarCtrl.shareLoaded></nv-main-tab-icon> <div class="settings-icon-container margin-right-16" tour-step=oobe-settings tour-step-title="{{\'l10n.configureOptions\' | translate}}" tour-step-placement=bottom-right tour-step-order=3> <nv-main-tab-icon class=margin-right-16 nv-md-icon=settings nv-custom-icon=false nv-tool-tip=" l10n.settings" nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.PREFERENCES_VIEW_PREFERENCES}}}\' nv-state=main.auth.preferences nv-disabled={{mainToolbarCtrl.driverless}}></nv-main-tab-icon> </div> <img src='+n(97)+' alt=toolbar-divider> <md-button id=main-user-profile class=user-profile-button layout=row layout-align="start center" nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.USER_VIEW_PROFILE_FROM_AVATAR}}}\' ng-show=mainToolbarCtrl.userProfileEnabled ng-click="mainToolbarCtrl.displayUserProfile(\'DEFAULT_TAB\')" ng-disabled=mainToolbarCtrl.driverless aria-label=user-default-profile-button> <div class=avatar-container layout=column layout-align="center center"> <img nv-circle ng-src={{mainToolbarCtrl.avatar.url}} alt={{::mainToolbarCtrl.displayName}} class=md-avatar nv-fallback-src={{mainToolbarCtrl.defaultAvatarUrl}} alt=circle-avatar /> </div> <h3 class="font-size-lg clickable-element" nv-ellipsis-lines=1 ng-class="{\'color-green\': mainToolbarCtrl.userProfileActive, \'display-name\': mainToolbarCtrl.userProfileEnabled}">{{mainToolbarCtrl.displayName}}</h3> <md-tooltip md-autohide ng-if=mainToolbarCtrl.showTooltip>{{mainToolbarCtrl.displayName}}</md-tooltip> </md-button> <img ng-if=mainToolbarCtrl.userProfileEnabled src='+n(97)+' alt=toolbar-divider> <nv-inline-dropdown nv-collapse-after="{{ mainToolbarCtrl.dropdownCollapseTimeout }}" nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.OOBE_CLICK_USERNAME}}}\' layout-fill ng-class="{\'main-toolbar-compact-dropdown layout-align-start-end\': mainToolbarCtrl.userProfileEnabled, \'constants-friend-list-width\': !mainToolbarCtrl.userProfileEnabled}"> <nv-inline-dropdown-header id=main-user-profile-container> <div ng-if=!mainToolbarCtrl.userProfileEnabled layout=row layout-align="center center"> <img nv-circle ng-src={{mainToolbarCtrl.avatar.url}} alt={{::mainToolbarCtrl.displayName}} class=md-avatar nv-fallback-src={{mainToolbarCtrl.defaultAvatarUrl}} alt=circle-avatar /> <h3 class="display-name font-size-lg" nv-ellipsis-lines=1>{{mainToolbarCtrl.displayName}}</h3> <md-tooltip md-autohide ng-if=mainToolbarCtrl.showTooltip>{{mainToolbarCtrl.displayName}}</md-tooltip> </div> </nv-inline-dropdown-header> <md-list> <md-list-item nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.USER_VIEW_PROFILE_FROM_DROPDOWN}}}\' ng-click="mainToolbarCtrl.displayUserProfile(\'DEFAULT_TAB\')" ng-disabled=mainToolbarCtrl.driverless ng-if=mainToolbarCtrl.userProfileEnabled> <p class=font-size-lg translate=l10n.myProfile></p> </md-list-item> <md-list-item ng-click=mainToolbarCtrl.onClickRedeem($event) ng-disabled=mainToolbarCtrl.driverless nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.HOME_VIEW_REWARDS}}}\'> <p class=font-size-lg translate=l10n.redeem></p> </md-list-item> <md-list-item ng-click="$state.go(\'main.auth.preferences.accounts\')" ng-disabled=mainToolbarCtrl.driverless> <p class=font-size-lg translate=l10n.account></p> </md-list-item> <md-list-item ng-click=mainToolbarCtrl.logout(false,true) nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.OOBE_LOGOUT}}}\'> <p class=font-size-lg translate=l10n.logOut></p> </md-list-item> </md-list> </nv-inline-dropdown> </div> <div class=updates-server-warn ng-if=mainToolbarCtrl.showServerWarn() layout=row layout-align="space-between center"> <div layout=row layout-align=start> <svg width=20px height=20px viewbox="0 0 1 1" style="margin:0 18px"> <circle cx=50% cy=50% r=49% fill=#393939 /> <line x1=50% y1=20% x2=50% y2=65% style=stroke:#191919;stroke-width:10% /> <line x1=50% y1=75% x2=50% y2=85% style=stroke:#191919;stroke-width:10% /> </svg> <span class=updates-server-warn-text>{{\'l10n.serverTrouble\' | translate}}</span> </div> <md-button ng-click=mainToolbarCtrl.dismissServerWarn() aria-label=hide-server-notification-button>{{\'l10n.dismiss\' | translate | uppercase}}</md-button> </div> </md-toolbar> '},function(e,t){e.exports=' <nv-window class=common-window nv-resizable=main.isWindowsOS() nv-movable=main.isWindowsOS() nv-controllable=main.isWindowsOS() flex layout=column> <div layout=column flex aria-label=common-window-section aria-hidden=true> <nv-main-toolbar class=common-main-toolbar aria-label=common-window-toolbar-section></nv-main-toolbar> <md-toolbar class="md-toolbar-tools padding-top-4 padding-left-36 padding-right-28 bg-grey-im" ng-if=main.showTopToolbar() aria-label=toolbar-section> <div layout=row layout-align=end ng-if=main.newVersionAvailable class=highlight aria-label=common-window-newVersionAvailable-section> <md-button ng-click=main.install() ng-disabled=!main.newVersionAvailable aria-label=install-new-version-button> <md-tooltip md-direction=left> <span translate=l10n.installNewVersion></span> </md-tooltip> <span ng-class="{\'md-accent foreground\': main.newVersionAvailable}" translate=l10n.updateNow></span> </md-button> </div> <div layout=row layout-align="space-between center" ng-if=main.driverUpdateRequired flex aria-label=driverUpdateRequired-section> <div layout=row> <md-icon class="material-icons md-24 color-white-hue-3" aria-label=downloadIcon aria-hidden=true>file_download</md-icon> <div layout=row class=margin-left-8 aria-label=driverUpdateText-header-section> <p class="margin-zero line-height-36" translate=l10n.driverUpdateRequired></p> <p class="margin-top-zero margin-bottom-zero margin-right-left-4 line-height-36">&#124;</p> <p class="margin-zero line-height-36">{{main.driverUpdateText}}</p> </div> </div> <div layout=row aria-label=resetDriverUpdateRequired-section> <md-button class=margin-zero ng-click=main.resetDriverUpdateRequired() aria-label=reset-driver-update-button> <p class="margin-zero line-height-36 color-white-hue-3" translate=l10n.later></p> </md-button> <md-button class="margin-zero margin-left-16" ng-click=main.onClickUpdateDriver() aria-label=update-driver-button> <p class="margin-zero line-height-36 color-white-hue-3" translate=l10n.updateDriver></p> </md-button> </div> </div> </md-toolbar> <md-toolbar class="md-toolbar-tools padding-top-4 padding-left-36 padding-right-28 bg-grey-im" ng-if=main.successfulPostprocessing> <div layout=row layout-align="space-between center" flex> <div layout=row> <md-icon class="material-icons md-24 color-white-hue-3">info</md-icon> <div layout=row class=margin-left-8> <p class="margin-zero line-height-36 color-white-hue-3" translate=l10n.relaunchRequired></p> </div> </div> <div layout=row> <md-button class="margin-zero margin-left-16" ng-click=main.onRelaunchRequied()> <p class="margin-zero line-height-36 color-white-hue-3" translate=l10n.relaunchNow> </p> </md-button> </div> </div> </md-toolbar> <div layout flex ui-view> </div> </div> <nv-feedback-float></nv-feedback-float> </nv-window> <nv-prefetch-directive></nv-prefetch-directive> ';
},,,,,,,,,,function(e,t){e.exports=' <div class=friends-friend-about> <div class=content-container flex=100> <div class="left-column bg-dark-hv"> <div class="left-content color-dark-gray font-size-lg"> {{\'l10n.realName\' | translate}}: {{friendAbout.userAboutGeneral.realName}} </div> <div class="left-content color-dark-gray font-size-lg"> {{\'l10n.lastSeen\' | translate}}: {{friendAbout.userAboutGeneral.lastSeen}} </div> <div class="left-content color-dark-gray font-size-lg"> {{\'l10n.memberSince\' | translate}}: {{friendAbout.userAboutGeneral.memberSince}} </div> <div class="left-content color-dark-gray font-size-lg"> {{\'l10n.reputation\' | translate}}: </div> <div class=star-rating> <div ng-repeat="item in friendAbout.getArray() track by $index"> <div name=rating-item class=rating> <img ng-src={{friendAbout.loadRatingImage(item)}} class=golden-star /> </div> </div> </div> </div> <div class="right-column bg-dark-hv"> <div class="right-content color-light-gray"> <md-icon class="material-icons md-default-theme" md-font-set=material-icons aria-label=movieCreation aria-hidden=true>movie_creation</md-icon> {{friendAbout.userAboutSpecification.graphicsHardware}} </div> <div class="right-content color-light-gray"> <md-icon class="material-icons md-default-theme" md-font-set=material-icons aria-label=visibility aria-hidden=true>visibility</md-icon> {{friendAbout.userAboutSpecification.driverVersion}} </div> <div class="right-content color-light-gray"> <md-icon class="material-icons md-default-theme" md-font-set=material-icons aria-label=selectAll aria-hidden=true>select_all</md-icon> {{friendAbout.userAboutSpecification.CPU}} </div> <div class="right-content color-light-gray"> <md-icon class="material-icons md-default-theme" md-font-set=material-icons aria-label=memory aria-hidden=true>memory</md-icon> {{friendAbout.userAboutSpecification.RAM}} </div> <div class="right-content color-light-gray"> <md-icon class="material-icons md-default-theme" md-font-set=material-icons aria-label=desktopWindows aria-hidden=true>desktop_windows</md-icon> {{friendAbout.userAboutSpecification.displayResolution}} </div> <div class="right-content color-light-gray"> <md-icon class="material-icons md-default-theme" md-font-set=material-icons aria-label=favorite aria-hidden=true>favorite</md-icon> {{friendAbout.userAboutSpecification.OS}} </div> <div class="right-content color-light-gray"> <md-icon class="material-icons md-default-theme" md-font-set=material-icons aria-label=mouse aria-hidden=true>mouse</md-icon> {{friendAbout.userAboutSpecification.interface.pointingDevice}} </div> <div class="right-content color-light-gray"> <md-icon class="material-icons md-default-theme" md-font-set=material-icons aria-label=keyboard aria-hidden=true>keyboard</md-icon> {{friendAbout.userAboutSpecification.interface.textInput}} </div> <div class="right-content color-light-gray"> <md-icon class="material-icons md-default-theme" md-font-set=material-icons aria-label=gamepad aria-hidden=true>gamepad</md-icon> {{friendAbout.userAboutSpecification.interface.gameController}} </div> <div class="right-content color-light-gray"> <md-icon class="material-icons md-default-theme" md-font-set=material-icons aria-label=naturePeople aria-hidden=true>nature_people</md-icon> {{friendAbout.userAboutSpecification.interface.augmentedRealityHardware}} </div> </div> </div> </div> '},function(e,t){e.exports='<div class="friends-friend-achievements tile-layout" ng-controller=FriendAchievementsController> <md-content> <div layout=row layout-wrap> <div ng-repeat="achievement in vm.userAchievements" flex=50 class=friends-friend-tile-layout> <div nv-achievement-tile></div> </div> </div> </md-content> </div> '},function(e,t){e.exports="<md-content class=md-padding> </md-content> "},function(e,t,n){e.exports=" <div layout=column class=friends-friend-broadcast> <div flex layout=column class=image-position ng-switch on=friendBroadcast.view> <nv-broadcast-viewer ng-switch-when=broadcast layout=column flex portal={{friendBroadcast.broadcastStatus.data.portal}} channel={{friendBroadcast.broadcastStatus.data.channel}}></nv-broadcast-viewer> <img ng-switch-when=image ng-src="+n(315)+' alt="{{\'l10n.alt.background\' | translate}}" layout-fill="" class=ng-scope src='+n(315)+' /> <nv-overlay nv-position=bottom class=common-overlay> <div layout=row layout-align="start center" class=overlay-width> <div flex=10 class=md-padding> <img ng-src={{friendBroadcast.selectedUser.avatar}} class=rounded-image alt={{friendBroadcast.selectedUser.name}} layout-fill/> </div> <div flex layout=column> <div class="font-size-xxxl line-height-md">{{friendBroadcast.selectedUser.core.displayName}}</div> <span class="font-size-xl color-medium-gray">{{\'l10n.broadcasting\' | translate:friendBroadcast.translateInterpolation}} {{}}</span> </div> <md-button ng-click=friendBroadcast.watchBroadcast() ng-if="friendBroadcast.view === \'broadcast\'" class="md-accent md-raised watch-broadcast-button" aria-label=watch-friend-broadcast-button>{{\'l10n.watchBroadcast\' | translate}}</md-button> </div> </nv-overlay> <div class=label> <div> <div>{{l10n.placeholderText | translate}}</div> </div> </div> </div> </div> '},function(e,t){e.exports='<md-content class="md-padding friend-compare-games-holder"> </md-content> '},function(e,t){e.exports='<md-content flex class="md-padding friends-friend-details"> <p>{{friendDetails.user.core.displayName}}</p> <div layout=column> <div layout=row> <nv-friend-broadcast layout></nv-friend-broadcast> <div flex layout=column class=summary-compare> <md-tabs flex layout=column> <md-tab flex layout label="{{\'l10n.gameSummary\' | translate}}"> <md-tab-body flex layout> <nv-friend-game-summary class="md-primary md-hue-3 background" flex layout=column></nv-friend-game-summary> </md-tab-body> </md-tab> <md-tab label="{{\'l10n.compareGames\' | translate}}"> <md-content class=md-padding> <nv-friend-compare-games></nv-friend-compare-games> </md-content> </md-tab> </md-tabs> </div> </div> <div flex layout=row> <div class=friend-info> <md-tabs md-border-bottom> <md-tab label=Achievements> <nv-friend-achievements></nv-friend-achievements> </md-tab> <md-tab label="Activity Feed"> <nv-friend-activity-feed></nv-friend-activity-feed> </md-tab> <md-tab label="{{\'about\' | translate | uppercase}}"> <nv-friend-about></nv-friend-about> </md-tab> </md-tabs> </div> <div flex class=friends-groups> <md-tabs md-border-bottom> <md-tab label=Friends class=friends-friend-details> <md-content class="md-padding list-layout" flex layout> <nv-friend-list class=friends-friend-list nv-type=grid nv-user-id={{friendDetails.user.userId}} flex layout></nv-friend-list> </md-content> </md-tab> <md-tab label=Groups> <md-content class=md-padding> <nv-friend-group-list nv-type=grid class=friends-friend-group-list nv-user-id={{friendDetails.user.userId}}></nv-friend-group-list> </md-content> </md-tab> </md-tabs> </div> </div> </div> </md-content> '},function(e,t){e.exports='<md-content class=friends-friend-game-summary flex layout=column> <nv-accordion nv-accordion-mode=alwaysOne flex layout=column> <nv-accordion-pane nv-start-expanded=true> <nv-accordion-pane-header flex layout=row layout-align="start center"> <span flex>{{\'l10n.gameSummary\' | translate}}</span> </nv-accordion-pane-header> <nv-accordion-pane-content id=donut-chart layout=column> <style>.friends-friend-game-summary .nvd3.nv-pie path{stroke-width:0}</style> <svg flex ng-show=friendGameSummary.showChart()></svg> <div class=overlay-text layout-align="center center" layout=column> {{\'l10n.numGames\' | translate:friendGameSummary.translateInterpolation()}} </div> </nv-accordion-pane-content> </nv-accordion-pane> <nv-accordion-pane ng-repeat="genreEntry in friendGameSummary.data track by $index"> <nv-accordion-pane-header flex layout=row layout-align="start center"> <md-content flex layout-align="start center" layout=row> <div class=rectangle-bullet ng-style=friendGameSummary.rectColor($index)> &nbsp; </div> {{genreEntry.label | translate}} </md-content> </nv-accordion-pane-header> <nv-accordion-pane-content layout=column> <md-content flex> <div ng-repeat="gameEntry in genreEntry.data"> <img ng-src={{gameEntry.infoImage}} style=width:200px;height:100px /> <p> {{gameEntry.displayName}} </p> </div> </md-content> </nv-accordion-pane-content> </nv-accordion-pane> </nv-accordion> </md-content> '},function(e,t){e.exports='<md-content class="md-primary md-hue-3" flex> <div flex layout=row layout-wrap flex=100 md-cols=2> <div class="md-2-line constants-position-relative" ng-repeat="group in groups.groupList" flex=25 material-card id={{group.displayName}}> <div class=grid-card> <md-list-item layout-margin> <img ng-src={{group.avatar}} class="md-avatar image-align-center margin" alt={{group.displayName}} /> </md-list-item> <div class=friend-name> <h4 nv-ellipsis-lines=1>{{group.displayName}}</h4> </div> </div> </div> </div> </md-content> '},function(e,t){e.exports=' <md-content layout=column class="md-primary md-hue-3"> <md-list flex> <md-subheader class="md-no-sticky md-primary md-hue-3" aria-label=friend-group-list-title>{{\'l10n.friendGroupListTitle\' | translate}}</md-subheader> <md-menu md-align-target md-offset="0 70" ng-repeat="group in groups.groupList"> <md-list-item class=md-2-line flex ng-click=$mdOpenMenu()> <img alt={{group.displayName}} class=md-avatar ng-src={{group.avatar}} /> <div class=md-list-item-text> <h3>{{group.displayName}}</h3> <p nv-ellipsis-lines=1> <span ng-repeat="user in group.users"> {{(!$first ? \', \': \'\') + user.core.displayName}} </span> </p> </div> </md-list-item> <md-menu-content class="md-primary md-hue-2 md-whiteframe-z2" width=4> <md-menu-item> <md-button md-menu-align-target aria-label=menu-item-button> Not Spec\'d </md-button> </md-menu-item> </md-menu-content> </md-menu> </md-list> </md-content> '},function(e,t){e.exports=' <md-content flex layout class="md-primary md-hue-3"> <nv-virtual-grid-list flex layout> <div class=grid-card nv-virtual-grid-list-repeat="friend in friends.friendList track by $index" nv-on-demand> <md-menu md-position-mode="target-right target" md-offset=65,0 id=""> <md-button aria-label=photo class=md-icon-button ng-click=$mdOpenMenu()> <md-icon material-icons class=md-18 aria-label=expandMore aria-hidden=true>expand_more</md-icon> </md-button> <md-menu-content class="md-primary md-hue-2 md-whitframe-z2" width=4> <md-menu-item ng-if=friends.showWatchBroadcast(friend.status.activity)> <md-button md-menu-align-target ng-click=friends.watchBroadcast(friend.userId) aria-label=watch-broadcast-button> {{\'l10n.watchBroadcast\' | translate}} </md-button> </md-menu-item> <md-menu-item ng-if=friends.showAskToPlay(friend.status.activity)> <md-button ng-click=friends.askToPlay(friend.userId) aria-label=ask-to-play-button> {{\'l10n.askToPlay\' | translate}} </md-button> </md-menu-item> <md-menu-divider ng-if=friends.showAskToPlay(friend.status.activity)></md-menu-divider> <md-menu-item> <md-button ng-click="$state.go(\'main.auth.home.gamesAndFriends.friendDetails\', {userId: friend.userId})" aria-label=view-profile-button> {{\'l10n.viewProfile\' | translate}} </md-button> </md-menu-item> <md-menu-item ng-if=friends.showChat(friend.status.activity)> <md-button ng-click="$state.go(\'main.auth.home.gamesAndFriends.friendDetails\', {userId: friend.userId})" aria-label=chat-button> {{\'l10n.chat\' | translate}} </md-button> </md-menu-item> </md-menu-content> </md-menu> <div ng-click="$state.go(\'main.auth.home.gamesAndFriends.friendDetails\', {userId: friend.userId})" aria-label=friend-details-section> <md-list-item layout-margin> <img ng-src={{friend.core.avatar}} class="md-avatar image-align-center margin" alt={{friend.core.displayName}} /> </md-list-item> <div class=friend-name> <h4 nv-ellipsis-lines=1>{{friend.core.displayName}}</h4> </div> </div> </div> </nv-virtual-grid-list> </md-content> '},function(e,t){e.exports=" <md-toolbar class=md-hue-3> <div class=md-toolbar-tools> <h1>{{'l10n.friendListTitle' | translate | uppercase}}</h1> <span flex></span> <nv-select-menu nv-md-icon=sort nv-label=\"{{'l10n.sort' | translate}}\"> <nv-select-menu-item nv-action=\"friends.setSort('activity')\" nv-selected-test=\"friends.matchSort('activity')\"> {{'l10n.activity' | translate}} </nv-select-menu-item> <nv-select-menu-item nv-action=\"friends.setSort('alphabetical')\" nv-selected-test=\"friends.matchSort('alphabetical')\"> {{'l10n.alphabetical' | translate}} </nv-select-menu-item> </nv-select-menu> <nv-select-menu nv-md-icon=filter_list nv-label=\"{{'l10n.filter' | translate}}\"> <nv-select-menu-item nv-action=\"friends.setFilter('all')\" nv-selected-test=\"friends.matchFilter('all')\"> {{'l10n.all' | translate}} </nv-select-menu-item> <nv-select-menu-item nv-action=\"friends.setFilter('online')\" nv-selected-test=\"friends.matchFilter('online')\"> {{'l10n.online' | translate}} </nv-select-menu-item> <nv-select-menu-item nv-action=\"friends.setFilter('broadcasting')\" nv-selected-test=\"friends.matchFilter('broadcasting')\"> {{'l10n.broadcasting' | translate}} </nv-select-menu-item> </nv-select-menu> <nv-select-menu nv-md-icon=more_horiz nv-label=\"{{'l10n.moreDots' | translate}}\"> <nv-select-menu-item> {{'l10n.friendListTitle' | translate}} </nv-select-menu-item> </nv-select-menu> </div> </md-toolbar> <md-content layout=column class=\"md-primary md-hue-3\" flex> <md-list flex layout=column> <md-subheader class=\"md-no-sticky md-primary md-hue-3\">{{'l10n.' + friends.filterType | translate}}</md-subheader> <md-virtual-repeat-container flex layout> <div md-virtual-repeat=\"friend in friends.friendList | filter: friends.filter | orderBy: friends.sort\" flex layout> <md-menu md-align-target md-offset=\"0 70\" flex layout> <md-list-item class=md-2-line ng-class=friends.offlineClass(friend) flex id={{friend.core.displayName}} ng-click=$mdOpenMenu()> <img alt={{friend.displayName}} class=md-avatar ng-src={{friend.core.avatar}} /> <div class=md-list-item-text> <h3>{{friend.core.displayName}}</h3> <p translate={{friends.getActivityString(friend)}} translate-values={{friends.getActivityDynamicValues(friend)}}> </p> </div> </md-list-item> <md-menu-content class=\"md-primary md-hue-2 md-whitframe-z2\" width=4> <md-menu-item ng-if=friends.showWatchBroadcast(friend)> <md-button md-menu-align-target ng-click=friends.watchBroadcast(friend.userId) aria-label=watchBroadcast-button> {{'l10n.watchBroadcast' | translate}} </md-button> </md-menu-item> <md-menu-item ng-if=friends.showAskToPlay(friend)> <md-button ng-click=friends.askToPlay(friend.userId) aria-label=askToPlay-button> {{'l10n.askToPlay' | translate}} </md-button> </md-menu-item> <md-menu-divider ng-if=friends.showAskToPlay(friend)></md-menu-divider> <md-menu-item> <md-button ng-click=\"$state.go('main.auth.home.gamesAndFriends.friendDetails', {userId: friend.userId})\" aria-label=view-profile-button> {{'l10n.viewProfile' | translate}} </md-button> </md-menu-item> <md-menu-item ng-if=friends.showChat(friend)> <md-button ng-click=\"$state.go('main.auth.home.gamesAndFriends.friendDetails', {userId: friend.userId})\" aria-label=friendChat-button> {{'l10n.chat' | translate}} </md-button> </md-menu-item> </md-menu-content> </md-menu> </div> </md-virtual-repeat-container> </md-list> </md-content> "},,,function(e,t){e.exports='<md-content> <div ng-repeat="galleryFolder in galleryMoments.galleryList"> <nv-gallery-panel nv-gallery-folder=galleryFolder nv-filter-object=galleryMoments.filterObj class=gallery-gallery-panel></nv-gallery-panel> </div> </md-content> '},function(e,t){e.exports=" <md-tabs flex class=gallery-container> <md-tab label=\"{{'l10n.moments' | translate | uppercase}}\"> <nv-gallery-moments layout=column flex></nv-gallery-moments> </md-tab> <md-tab label=\"{{'l10n.showcase' | translate | uppercase}}\"> <nv-gallery-showcase layout=column flex></nv-gallery-showcase> </md-tab> </md-tabs> "},function(e,t){e.exports="<md-toolbar class=md-toolbar-tools> <span flex></span> <nv-select-menu nv-md-icon=sort nv-label=\"{{'l10n.sort' | translate}}\"> <nv-select-menu-item nv-action=\"galleryMoments.sortGalleryList('folderName', false)\" nv-selected-test=\"galleryMoments.isSortType('folderName')\"> {{'l10n.alphabetical' | translate}} </nv-select-menu-item> <nv-select-menu-item nv-action=\"galleryMoments.sortGalleryList('modifiedTime', true)\" nv-selected-test=\"galleryMoments.isSortType('modifiedTime')\"> {{'l10n.recentActivity' | translate}} </nv-select-menu-item> </nv-select-menu> <nv-select-menu nv-md-icon=filter_list nv-label=\"{{'l10n.filter' | translate}}\"> <nv-select-menu-item nv-action=galleryMoments.setFilterType({}) nv-selected-test=\"galleryMoments.isFilterType('all')\"> {{'l10n.all' | translate}} </nv-select-menu-item> <nv-select-menu-item nv-action=galleryMoments.setFilterType({fileType:galleryMoments.fileType.VIDEO}) nv-selected-test=\"galleryMoments.isFilterType('video')\"> {{'l10n.recordings' | translate}} </nv-select-menu-item> <nv-select-menu-item nv-action=galleryMoments.setFilterType({fileType:galleryMoments.fileType.IMAGE}) nv-selected-test=\"galleryMoments.isFilterType('screenshot')\"> {{'l10n.screenshots' | translate}} </nv-select-menu-item> </nv-select-menu> <nv-select-menu nv-md-icon=more_horiz nv-label=\"{{'l10n.moreDots' | translate}}\"> <nv-select-menu-item nv-action=\"\" nv-selected-test=\"\"> </nv-select-menu-item> </nv-select-menu> </md-toolbar> <div layout=column flex class=\"md-padding gallery-moments\"> <div layout=row flex> <nv-gallery-library flex=30></nv-gallery-library> <nv-gallery-preview flex></nv-gallery-preview> </div> <nv-gallery-timeline></nv-gallery-timeline> </div> "},function(e,t){e.exports=' <div layout=column ng-mouseenter=galleryPanel.setMediaInfoVisible(true) ng-mouseleave=galleryPanel.setMediaInfoVisible(false) ng-hide=galleryPanel.isFolderEmpty() class=panel-container> <div layout=row layout-align="space-between end"> <p>{{galleryPanel.galleryFolder.folderName}}</p> <div ng-show=galleryPanel.showExpandInfo() layout-align="end end"> <span ng-hide=galleryPanel.isExpanded class=color-light-gray> {{ galleryPanel.tilesRemaining() }} {{\'l10n.more\' | translate | lowercase }} <md-icon ng-click=galleryPanel.showMoreTiles() md-font-set=material-icons class=md-18 tabindex=-1 aria-label=arrowDown aria-hidden=true>keyboard_arrow_down</md-icon> </span> <md-icon ng-show=galleryPanel.isExpanded md-font-set=material-icons class=md-18 ng-click=galleryPanel.showMoreTiles() tabindex=-1 aria-label=arrowUp aria-hidden=true>keyboard_arrow_up</md-icon> </div> </div> <div layout=row layout-wrap> <div ng-repeat="file in galleryPanel.galleryFolder.files | filter: nvFilterObject | limitTo: galleryPanel.limitTo"> <nv-gallery-tile nv-gallery-file=file class=gallery-gallery-tile></nv-gallery-tile> </div> </div> </div> '},function(e,t){e.exports=" "},function(e,t){e.exports='<md-toolbar class=md-toolbar-tools> <span flex></span> <nv-select-menu nv-md-icon=sort nv-label="{{\'l10n.sort\' | translate}}"> <nv-select-menu-item nv-action="galleryShowcase.sortShowcaseList(\'snippet.title\', false)" nv-selected-test="galleryShowcase.isSortType(\'snippet.title\')"> {{\'l10n.alphabetical\' | translate}} </nv-select-menu-item> <nv-select-menu-item nv-action="galleryShowcase.sortShowcaseList(\'snippet.publishedAt\', true)" nv-selected-test="galleryShowcase.isSortType(\'snippet.publishedAt\')"> {{\'l10n.recentActivity\' | translate}} </nv-select-menu-item> </nv-select-menu> <nv-select-menu nv-md-icon=filter_list nv-label="{{\'l10n.filter\' | translate}}"> <nv-select-menu-item nv-action="" nv-selected-test=""> {{\'l10n.all\' | translate}} </nv-select-menu-item> <nv-select-menu-item nv-action="" nv-selected-test=""> {{\'l10n.recordings\' | translate}} </nv-select-menu-item> <nv-select-menu-item nv-action="" nv-selected-test=""> {{\'l10n.screenshots\' | translate}} </nv-select-menu-item> </nv-select-menu> <nv-select-menu nv-md-icon=more_horiz nv-label="{{\'l10n.moreDots\' | translate}}"> <nv-select-menu-item nv-action="" nv-selected-test=""> </nv-select-menu-item> </nv-select-menu> </md-toolbar> <md-content class=md-padding layout-fill layout=row layout-align="start start" layout-wrap> <nv-gallery-showcase-tile nv-gallery-showcase-item=showcaseTile ng-repeat="showcaseTile in galleryShowcase.galleryShowcaseList" class=gallery-showcase-tile></nv-gallery-showcase-tile> </md-content> '},function(e,t){e.exports=' <md-card ng-mouseenter=galleryShowcaseTile.mouseHover(true) ng-mouseleave=galleryShowcaseTile.mouseHover(false) ng-click=galleryShowcaseTile.previewMedia($event) tabindex=-1> <div class=constants-position-relative> <img ng-src={{galleryShowcaseTile.showcaseItem.snippet.thumbnails.default.url}} class=md-card-image alt={{galleryShowcaseTile.showcaseItem.snippet.title}}> <nv-overlay layout-fill ng-class=galleryShowcaseTile.showOverlay() class=common-overlay> <div layout=column layout-fill> <div layout=row> <span flex></span> <div ng-class=galleryShowcaseTile.showButtons()> <md-button class="md-icon-button more-button" ng-click="" aria-label=share-button> <md-tooltip> {{\'l10n.share\' | translate}} </md-tooltip> <md-icon md-font-set=material-icons class="material-icons color-white" aria-label=share aria-hidden=true>share</md-icon> </md-button> </div> </div> <div layout=column layout-align="center center" flex> <md-button class="md-icon-button video-play-btn" aria-label=play-video-button> <md-tooltip> {{\'l10n.play\' | translate}} </md-tooltip> <md-icon md-font-set=material-icons class=material-icons aria-label=playCircleOutline aria-hidden=true>play_circle_outline</md-icon> </md-button> </div> </div> </nv-overlay> </div> <md-card-content> <div layout=column layout-align="center start" class=showcase-item-info-block> <div nv-ellipsis-lines=1 class="color-light-gray showcase-item-title">{{galleryShowcaseTile.showcaseItem.snippet.title}}</div> <div class="color-dark-gray showcase-item-detail"> {{\'l10n.\' + galleryShowcaseTile.showcaseItem.origin | translate}} &middot; {{\'l10n.viewCount\' | translate:{num:galleryShowcaseTile.showcaseItem.statistics.viewCount} }} &middot; {{galleryShowcaseTile.showcaseItem.snippet.publishedAt | date:\'shortDate\'}} </div> </div> </md-card-content> </md-card> '},function(e,t){e.exports=' <md-card ng-mouseenter=galleryTile.mouseHover(true) ng-mouseleave=galleryTile.mouseHover(false) ng-click=galleryTile.previewMedia($event) tabindex=-1> <div class=constants-position-relative> <img ng-src={{galleryTile.galleryFile.fileThumbnail}} class=md-card-image alt={{galleryTile.galleryFile.fileType}}> <nv-overlay layout-fill ng-class=galleryTile.showOverlay() class=common-overlay> <div layout=column layout-fill> <div layout=row> <span flex></span> <div ng-class=galleryTile.showButtons()> <md-button class="md-icon-button edit-button" ng-click=galleryTile.editMedia($event) aria-label=edit-media-button> <md-tooltip> {{\'l10n.edit\' | translate}} </md-tooltip> <md-icon md-font-set=material-icons class="material-icons color-white" aria-label=create aria-hidden=true>create</md-icon> </md-button> <md-button class="md-icon-button more-button" ng-click=galleryTile.editMedia($event) aria-label=gallery-tile-more-button> <md-tooltip> {{\'l10n.moreDots\' | translate}} </md-tooltip> <md-icon md-font-set=material-icons class="material-icons color-white" aria-label=moreHoriz aria-hidden=true>more_horiz</md-icon> </md-button> </div> </div> <div ng-if=galleryTile.isVideo(galleryTile.galleryFile.fileType) layout=column layout-align="center center" flex> <md-button class="md-icon-button video-play-btn" aria-label=play-gallery-file-button> <md-tooltip> {{\'l10n.play\' | translate}} </md-tooltip> <md-icon md-font-set=material-icons aria-label=playCircleOutline aria-hidden=true>play_circle_outline</md-icon> </md-button> </div> <div ng-if=galleryTile.isVideo(galleryTile.galleryFile.fileType) layout-align="end center" layout=row> <span class="video-length-label color-light-gray bg-dark-hv-hue-1">{{ galleryTile.galleryFile.videoLength | convertSecondsToHHMMSS}}</span> </div> </div> </nv-overlay> </div> <md-card-content> <div layout=row layout-align="space-between center"> <div nv-ellipsis-lines=1 class=color-light-gray> {{galleryTile.galleryFile.creationTime | date:\'MM/dd/yyyy h:mma\'}} </div> <md-icon ng-show=galleryTile.isVideo(galleryTile.galleryFile.fileType) class=color-light-gray md-font-set=material-icons class=md-18 aria-label=videocam aria-hidden=true> videocam </md-icon> <md-icon ng-show=galleryTile.isImage(galleryTile.galleryFile.fileType) class=color-light-gray md-font-set=material-icons class=md-18 aria-label=image aria-hidden=true> image </md-icon> </div> </md-card-content> </md-card> '},805,function(e,t){e.exports=" <md-button class=md-icon-button aria-label=edit-button> <md-icon class=material-icons aria-label=\"edit button icon\" aria-hidden=true>edit</md-icon> <md-tooltip> {{'l10n.edit' | translate }} </md-tooltip> </md-button> <md-button class=md-icon-button aria-label=share-icon-button> <md-icon class=material-icons aria-label=\"share icon\" aria-hidden=true>share</md-icon> <md-tooltip> {{'l10n.share' | translate }} </md-tooltip> </md-button> <md-button class=md-icon-button aria-label=more-horiz-icon-button> <md-icon class=material-icons aria-label=\"moreHoriz icon\" aria-hidden=true>more_horiz</md-icon> <md-tooltip> {{'l10n.more' | translate }} </md-tooltip> </md-button> "},function(e,t){e.exports=' <md-toolbar> <div class="md-toolbar-tools font-size-xl classic-game-list-top-toolbar-tools" layout=row layout-align="space-between center"> <h4 class="color-white-hue-3 font-size-sm" translate=l10n.games></h4> <div layout=row> <md-button class=md-icon-button ng-click=games.changeView(false) nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.HOME_TOGGLE_TO_GAMES_LIST_VIEW}}}\' aria-label=toggle-list-view-button> <md-tooltip><span translate=l10n.tileView></span></md-tooltip> <md-icon md-font-set=nv-custom-icons md-font-icon=icon-view-module class="nv-custom-icons color-white-hue-2" aria-label=gameTileView aria-hidden=true></md-icon> </md-button> <nv-select-menu nv-md-icon=filter_list nv-label=l10n.filter class=constants-position-relative nv-filtered="!games.matchFilter(\'all\')"> <nv-select-menu-item ng-disabled="games.buttonDisabled(\'all\')" nv-action="games.setFilter(\'all\')" nv-selected-test="games.matchFilter(\'all\')" nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMETOOLBAR_FILTER_NONE}}}\'> <div translate=l10n.allNumber translate-value-number={{games.getGamesCount()}}></div> </nv-select-menu-item> <nv-select-menu-item ng-disabled="games.buttonDisabled(\'favorite\')" nv-action="games.setFilter(\'favorite\')" nv-selected-test="games.matchFilter(\'favorite\')" nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMETOOLBAR_FILTER_FAVORITES}}}\'> <span translate=l10n.favoritesNumber translate-value-number={{games.getFavoriteGamesCount()}}></span> </nv-select-menu-item> <nv-select-menu-item ng-disabled="games.buttonDisabled(\'optimized\')" nv-action="games.setFilter(\'optimized\')" nv-selected-test="games.matchFilter(\'optimized\')" nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMETOOLBAR_FILTER_OPTIMIZED}}}\'> <span translate=l10n.optimizedNumber translate-value-number={{games.getOptimizedGamesCount()}}></span> </nv-select-menu-item> <nv-select-menu-item ng-if=games.isAnselFeatureAvailable ng-disabled="games.buttonDisabled(\'anselReady\')" nv-action="games.setFilter(\'anselReady\')" nv-selected-test="games.matchFilter(\'anselReady\')" nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMETOOLBAR_FILTER_ANSELREADY}}}\'> <span translate=l10n.anselReadyNumber translate-value-number={{games.getAnselReadyGamesCount()}}></span> </nv-select-menu-item> <nv-select-menu-item ng-if=games.isFreestyleFeatureAvailable ng-disabled="games.buttonDisabled(\'freestyleReady\')" nv-action="games.setFilter(\'freestyleReady\')" nv-selected-test="games.matchFilter(\'freestyleReady\')" nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMETOOLBAR_FILTER_FREESTYLEREADY}}}\'> <span translate=l10n.freestyleReadyNumber translate-value-number={{games.getFreestyleReadyGamesCount()}}></span> </nv-select-menu-item> <md-divider></md-divider> <nv-select-menu-item ng-disabled="games.buttonDisabled(\'hidden\')" nv-action="games.setFilter(\'hidden\')" nv-selected-test="games.matchFilter(\'hidden\')"> <span translate=l10n.hiddenNumber translate-value-number={{games.getHiddenGamesCount()}}></span> </nv-select-menu-item> </nv-select-menu> <nv-select-menu nv-md-icon=more_vert nv-label=l10n.moreDots> <nv-select-menu-item ng-disabled="games.buttonDisabled(\'scanGames\')" nv-action=games.scanGames() nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMETOOLBAR_MORE_SCANGAMES}}}\'> <span translate={{games.scanText}}></span> </nv-select-menu-item> <nv-select-menu-item ng-show=games.isGameOpsSupported ng-disabled="games.buttonDisabled(\'optimizeAll\')" nv-action=games.optimizeGames() nv-telemetry=\'{ "tarconID":{{::$root.telemetryEventNames.GAMETOOLBAR_MORE_OPTIMIZE_ALL}}}\'> <span translate={{games.optimizeText}}></span> </nv-select-menu-item> </nv-select-menu> </div> </div> </md-toolbar> <div layout=row flex layout-fill> <div layout=column class="bg-grey-im-hue-3 games-classic-game-list-container constants-position-relative"> <div class="games-classic-game-list-items-container common-container-overflow" flex layout=column ng-onload={{games.onLoad()}}> <nv-overlay class="common-overlay classic-game-list-top-gradient margin-zero"></nv-overlay> <nv-no-content-fallback ng-if=games.showNoGameFallbackMessage() nv-tip=l10n.gamesYouPlay class=no-game-container flex layout-fill> <button ng-click=games.findAWayToPlay() class="font-size-sm md-button md-accent empty-state" translate=l10n.viewSupportedGames nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.HOME_FIND_A_WAY_TO_PLAY}},"url":"{{::games.findPlayUrl}}"}\' aria-label=viewSupportedGames-button></button> </nv-no-content-fallback> <nv-no-content-fallback ng-show=games.showFallbackMessage() nv-tip={{games.fallbackMessage()}} nv-image-src={{games.fallbackImage()}} class=no-game-container flex layout-fill> <button ng-click=games.setFallbackFilter() class="font-size-sm md-button md-accent empty-state" translate={{games.fallbackButtonText()}} aria-label=fallbackButtonText-button></button> </nv-no-content-fallback> <md-virtual-repeat-container flex layout-fill md-top-index=games.topIndex md-auto-shrink=false ng-show=games.gameListReady()> <div md-virtual-repeat="game in games.filteredGameList | limitTo: games.listLimitTo"> <div> <md-list-item ng-click=games.setSelectedGameId(game.id) nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.HOME_VIEW_GAME_INFO}},"url":"{{game.systemGame.shortName}}"}\' ng-class="{\'bg-black-hv-hue-2 md-accent foreground\': games.isSelected(game.id)}" aria-label=classicViewGame class="margin-zero padding-zero"> <div class=game-icon-container> <img ng-src={{games.getGameIconImage(game)}} alt={{::game.systemGame.displayName}} nv-image-fallback=nv-no-loading-indicator alt=gameIconImage /> <nv-overlay layout-fill class="common-overlay no-background mouse-event-passthrough" ng-if=games.isGameOpsSupported> <div class="game-not-optimized-icon-wrapper bg-black-hv"> <nv-optimized-icon nv-system-game=game.systemGame class="color-white-hue-1 game-not-optimized-icon"></nv-optimized-icon> </div> </nv-overlay> </div> <div class=game-name-container> <p id="{{\'classic-game-displayname\' + $index}}" class="font-size-sm display-name-game-classic" nv-ellipsis-lines=1 ng-class="{\'color-white-hue-3\': !games.isSelected(game.id)}">{{game.systemGame.displayName}}</p> </div> </md-list-item> <md-tooltip ng-if="games.showTooltip($index,\'classic-game-displayname\')" md-autohide>{{game.systemGame.displayName}}</md-tooltip> </div> </div> </md-virtual-repeat-container> </div> <nv-overlay class="common-overlay classic-game-list-bottom-gradient" nv-position=bottom></nv-overlay> </div> <div flex layout=column> <nv-game-details nv-selected-game-id=games.selectedGameId nv-classic-view-enabled={{true}} flex layout=column ng-if=games.gameListReady()></nv-game-details> </div> </div> ';
},function(e,t){e.exports=' <md-dialog class=games-custom-fps> <div layout=column class=games-custom-fps-container> <div layout=column ng-hide=fpsCtrl.showErrorMessage layout-fill> <h4 class="color-white-hue-1 font-size-sm line-height-sm1" translate={{::fpsCtrl.fpsDlgHeader}}></h4> <div layout=column class=fps-details-container> <div layout=row layout-align="space between"> <p class="color-white-hue-3 font-size-sm line-height-sm1" translate=l10n.maximumFramerate></p> <h4 class=color-white-hue-3> <span translate=l10n.fpsCount translate-value-number={{fpsCtrl.currentFpsSliderIndex}}></span> </h4> </div> <div layout=column class=fps-slider-container> <div layout=row layout-fill layout-align="center center"> <p class="slider-min-index-label margin-right-16">{{ fpsCtrl.minFpsIndex }}</p> <div class=constants-position-relative> <nv-slider nv-slider-index=fpsCtrl.currentFpsSliderIndex nv-min-index=fpsCtrl.minFpsIndex nv-max-index=fpsCtrl.maxFpsIndex nv-step=fpsCtrl.sliderStep nv-current-slider-changed=fpsCtrl.currentFpsSliderChanged() nv-is-disabled="fpsCtrl.controlDisabled || !fpsCtrl.maxFpsIndex"> </nv-slider> </div> <p class="slider-max-index-label margin-left-16">{{ fpsCtrl.maxFpsIndex }}</p> </div> <div class=optimal-button-container> <div class="optimal-line-indicator md-accent background" ng-disabled=fpsCtrl.controlDisabled></div> <md-button class="md-raised md-accent color-white-important optimal-value-button" ng-click=fpsCtrl.applyOptimalValue() ng-disabled=fpsCtrl.controlDisabled translate=l10n.recommendedFps aria-label=apply-optimal-fps-value-button></md-button> </div> </div> </div> </div> <div layout=column ng-show=fpsCtrl.showErrorMessage layout-align="center center" class=games-custom-fps-container layout-fill> <span translate=l10n.couldNotRetrieveWMFps ng-if=fpsCtrl.isCurrentSettingTypeAC()></span> <span translate=l10n.couldNotRetrieveBBFps ng-if=!fpsCtrl.isCurrentSettingTypeAC()></span> </div> </div> <div class=cancel-apply-container layout=row layout-align="end end"> <md-button ng-click=fpsCtrl.cancelCustomFps() translate=l10n.cancel aria-label=cancel-custom-fps-button></md-button> <md-button ng-hide=fpsCtrl.showErrorMessage class=md-accent ng-click=fpsCtrl.applyCustomFps() translate=l10n.apply ng-disabled="fpsCtrl.applyButtonDisabled || fpsCtrl.controlDisabled" aria-label=apply-custom-fps-button></md-button> </div> <nv-overlay class="common-overlay .constants-z-layers-one" layout-fill ng-show=fpsCtrl.showProgressIndicator> <span layout-fill layout-align="center center" layout=column aria-label=showProgressLabel> <md-progress-circular id=progressIndicator class=md-accent md-diameter=15 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> </md-dialog> '},function(e,t){e.exports=' <md-dialog class=games-custom-ops> <div layout=column class=games-custom-ops-container> <div layout=column ng-hide=opsCtrl.showErrorMessage layout-fill> <h4 class="color-white-hue-1 font-size-sm line-height-sm1" translate={{opsCtrl.getHeading()}}></h4> <div layout=row class=resolution-display-mode-container> <div flex> <md-input-container> <p class="font-size-xxs color-white-hue-4" translate=l10n.resolution></p> <md-select class=color-white-hue-3 ng-model=opsCtrl.selectedResolution ng-disabled=opsCtrl.isResolutionDisabled() ng-change=opsCtrl.resolutionOrDisplayModeChanged() md-container-class=resolution-container> <header class=resolution-header ng-repeat-start="resolution in opsCtrl.resolutions"> <p ng-disabled=true ng-if=opsCtrl.showResolutionHeader($index) translate={{opsCtrl.resolutionHeader(resolution)}}></p> </header> <md-option class=resolution-options ng-value=resolution>{{opsCtrl.getResolutionString(resolution)}}</md-option> <footer ng-repeat-end></footer> </md-select> </md-input-container> </div> <div class=resolution-display-mode-separator></div> <div flex> <md-input-container> <p class="font-size-xxs color-white-hue-4" translate=l10n.displayMode></p> <md-select class=color-white-hue-3 ng-model=opsCtrl.selectedDisplayMode ng-disabled=opsCtrl.isDisplayModeDisabled() ng-change=opsCtrl.resolutionOrDisplayModeChanged() md-container-class=display-mode-container> <md-option class=display-mode-options ng-value=displayMode ng-repeat="displayMode in opsCtrl.displayModes">{{opsCtrl.getDisplayModeString(displayMode)}}</md-option> </md-select> </md-input-container> </div> </div> <div layout=column class=optimize-for-container> <p class="color-white-hue-3 font-size-sm line-height-sm1" translate=l10n.optimizeFor></p> <div layout=row layout-align="space-between center" class="optimized-slider-items-header color-white-hue-3"> <p ng-show=opsCtrl.isCurrentSettingTypeAC() class="font-size-xxs line-height-sm1" translate=l10n.performance></p> <p ng-hide=opsCtrl.isCurrentSettingTypeAC() class="font-size-xxs line-height-sm1" translate=l10n.battery></p> <p class="font-size-xxs line-height-sm1" translate=l10n.quality></p> </div> <div layout=column class=optimized-slider-container> <div layout=row layout-fill layout-align="center center"> <md-icon ng-show=opsCtrl.isCurrentSettingTypeAC() class="nv-custom-icons md-18 performance-icon" md-font-icon=icon-speedometer aria-label=currentSettingSpeedometer aria-hidden=true> <md-tooltip> <span translate=l10n.higherPerformance></span> </md-tooltip> </md-icon> <md-icon ng-hide=opsCtrl.isCurrentSettingTypeAC() class="nv-custom-icons md-18 battery-icon" md-font-icon=icon-onbattery aria-label=batteryLife aria-hidden=true> <md-tooltip> <span translate=l10n.longerBatteryLife></span> </md-tooltip> </md-icon> <div class=constants-position-relative> <md-slider md-discrete flex ng-model=opsCtrl.currentSliderIndex min=0 max={{opsCtrl.maxIndex}} step=1 ng-change=opsCtrl.currentSliderChanged() ng-disabled="opsCtrl.controlDisabled || !opsCtrl.maxIndex" aria-label=games-custom-ops-slider aria-hidden=true> </md-slider> </div> <md-icon md-font-set=nv-custom-icons md-font-icon=icon-quality-high class="nv-custom-icons quality-icon" aria-label=betterQuality aria-hidden=true> <md-tooltip> <span translate=l10n.betterQuality></span> </md-tooltip> </md-icon> </div> <div class=optimal-button-container> <div class="optimal-line-indicator md-accent background" ng-disabled=opsCtrl.controlDisabled></div> <md-button class="md-raised md-accent color-white-important optimal-value-button" ng-click=opsCtrl.applyOptimalValue() ng-disabled=opsCtrl.controlDisabled translate=l10n.optimal aria-label=apply-optimal-value-button></md-button> </div> </div> </div> </div> <div layout=column ng-show=opsCtrl.showErrorMessage layout-align="center center" class=games-custom-ops-container layout-fill> <span translate=l10n.couldNotRetrieveCustomSettings></span> </div> </div> <div class=cancel-apply-container layout=row layout-align="end end"> <md-button ng-click=opsCtrl.cancelCustomSettings() translate=l10n.cancel aria-label=cancel-custom-settings-button></md-button> <md-button ng-hide=opsCtrl.showErrorMessage class=md-accent ng-click=opsCtrl.applyCustomSettings() translate=l10n.apply ng-disabled="opsCtrl.applyButtonDisabled || opsCtrl.controlDisabled" aria-label=apply-custom-settings-button></md-button> </div> <nv-overlay class="common-overlay constants-z-layers-zero" layout-fill ng-show=opsCtrl.showProgressIndicator> <span layout-fill layout-align="center center" layout=column> <md-progress-circular id=progressIndicator class=md-accent md-diameter=15 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> </md-dialog> '},function(e,t){e.exports=' <span translate=l10n.dsr></span> <md-tooltip><span translate=l10n.dsrInfo></span></md-tooltip> <md-icon md-font-set=material-icons class="material-icons color-inherit" aria-label=" gameInfo" aria-hidden=true>info_outline</md-icon> '},function(e,t){e.exports=" <md-toolbar> <div class=md-toolbar-tools> <span flex></span> <md-button class=md-icon-button ng-click=gameDetailPreview.toggleFavorite() nv-telemetry='{\"tarconID\":{{$root.telemetryEventNames.GAMEDETAILS_SET_GAME_FAVORITE}},\"url\":\"{{gameDetailPreview.userGame.systemGame.shortName}},{{gameDetailPreview.userGame.favorite}}\"}' aria-label=toggle-favorite-button> <div ng-show=gameDetailPreview.userGame.favorite> <md-icon class=material-icons aria-label=removeFavorite aria-hidden=true>star_rate</md-icon> <md-tooltip> {{'l10n.removeFavorite' | translate }} </md-tooltip> </div> <div ng-hide=gameDetailPreview.userGame.favorite> <md-icon class=material-icons aria-label=favorite aria-hidden=true>star_border</md-icon> <md-tooltip> {{'l10n.favorite' | translate }} </md-tooltip> </div> </md-button> <md-button class=md-icon-button ng-click=gameDetailPreview.showTagsModalDialog() ng-if=::gameDetailPreview.devFeatures.experimental aria-label=show-modal-dialog-button> <md-tooltip> {{'l10n.tags' | translate }} </md-tooltip> <md-icon class=material-icons aria-label=localOffer aria-hidden=true>local_offer</md-icon> </md-button> <md-button class=md-icon-button ng-click=gameDetailPreview.toggleVisibility() aria-label=toggle-visibility-button> <div ng-show=gameDetailPreview.userGame.hidden> <md-tooltip> {{'l10n.showGame' | translate }} </md-tooltip> <md-icon class=material-icons aria-label=visibilityOff aria-hidden=true>visibility_off</md-icon> </div> <div ng-hide=gameDetailPreview.userGame.hidden> <md-tooltip> {{'l10n.hideGame' | translate }} </md-tooltip> <md-icon class=material-icons aria-label=visibility aria-hidden=true>visibility</md-icon> </div> </md-button> <md-button class=md-icon-button ng-if=::gameDetailPreview.devFeatures.experimental aria-label=preview-button> <md-tooltip> {{'l10n.moreDots' | translate }} </md-tooltip> <md-icon class=material-icons aria-label=moreHoriz aria-hidden=true>more_horiz</md-icon> </md-button> </div> </md-toolbar> <md-card class=md-card-no-hover> <nv-optimized-icon nv-system-game=gameDetailPreview.userGame class=games-optimized-icon ng-if=gameDetailPreview.isGameOpsSupported></nv-optimized-icon> <img ng-src={{gameDetailPreview.userGame.systemGame.infoImage}} alt={{gameDetailPreview.userGame.systemGame.displayName}} class=games-info-image nv-image-fallback/> <md-card-content layout=row layout-align=\"start center\" flex class=games-game-detail-preview-description> <img ng-src={{gameDetailPreview.userGame.systemGame.iconFile}} alt={{gameDetailPreview.userGame.systemGame.displayName}} nv-image-fallback=nv-no-loading-indicator /> <div flex layout=column> <h1>{{gameDetailPreview.userGame.systemGame.displayName}}</h1> <span class=\"md-body-1 game-preview-information\">{{gameDetailPreview.userGame.systemGame.installDirectory}}</span> </div> <div layout=column layout-align=\"center end\" ng-if=gameDetailPreview.isPlayed()> <div class=md-caption> <span translate=l10n.lastPlayed></span>{{ gameDetailPreview.userGame.lastLaunchDate | convertUTCToTimeAgo}} </div> <div class=md-caption> {{'l10n.totalPlayed' | convertSecondsToRelativeDate:gameDetailPreview.userGame.playedTime}} </div> </div> <nv-play-game nv-local=true class=games-play-game nv-system-game=gameDetailPreview.userGame.systemGame nv-telemetry='{\"tarconID\":{{$root.telemetryEventNames.GAMEINFO_LAUNCH_LOCALGAME}},\"url\":\"{{gameDetailPreview.userGame.systemGame.shortName}}\"}'></nv-play-game> </md-card-content> </md-card> "},function(e,t,n){e.exports=' <div flex class=games-game-details layout=column> <div ng-if=::!gameDetails.devFeatures.experimental flex layout=column> <md-toolbar class=game-details-toolbar nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMEINFO_VIEW_GAME_OPTIMIZATIONS}},"url":"{{gameDetails.userGame.systemGame.shortName}}"}\'> <div class="md-toolbar-tools bg-black-hv-hue-1" layout=row layout-align="space-between center"> <div layout=row class=game-details-toolbar-left-container> <md-button class="md-icon-button game-details-back-button" ng-click="$state.go(\'main.auth.home.gamesAndFriends\')" ng-if=::!gameDetails.classicViewEnabled aria-label=arrow-back-button> <md-icon md-font-set=material-icons class="md-24 color-white-hue-1" aria-label=arrowBack aria-hidden=true>arrow_back</md-icon> <md-tooltip><span translate=l10n.back></span></md-tooltip> </md-button> <span class=game-details-game-icon-container> <img ng-src={{gameDetails.userGame.systemGame.iconImage36}} alt={{gameDetails.userGame.systemGame.iconImage36}} nv-image-fallback=nv-no-loading-indicator /> </span> <span layout=column> <h4 class="color-white-hue-1 font-size-lg">{{gameDetails.userGame.systemGame.displayName}}</h4> <p class="color-white-hue-4 font-size-sm selectable-text">{{gameDetails.userGame.systemGame.installDirectory}}</p> </span> </div> <div layout=row layout-align="center center" class=game-details-toolbar-right-container> <div class=padding-left-20> <md-button class=md-icon-button ng-click=gameDetails.toggleFavorite($event) aria-label=toggle-favoriteGame-button> <div ng-if=!gameDetails.userGame.favorite> <md-tooltip><span translate=l10n.markFavorite></span></md-tooltip> <md-icon md-font-set=material-icons class=md-18 aria-label=favorite aria-hidden=true>star_border</md-icon> </div> <div ng-if=gameDetails.userGame.favorite> <md-tooltip><span translate=l10n.removeFavorite></span></md-tooltip> <md-icon md-font-set=material-icons class="md-18 color-white-hue-2" aria-label=removefavorite aria-hidden=true>star_rate</md-icon> </div> </md-button> </div> <div class=padding-left-20> <md-button class=md-icon-button ng-click=gameDetails.toggleVisibility($event) aria-label=hide-game-button> <div ng-if=!gameDetails.userGame.hidden> <md-tooltip><span translate=l10n.hideGame></span></md-tooltip> <md-icon md-font-set=material-icons class="md-18 color-white-hue-2" aria-label=visibility aria-hidden=true>visibility</md-icon> </div> <div ng-if=gameDetails.userGame.hidden> <md-tooltip><span translate=l10n.showGame></span></md-tooltip> <md-icon md-font-set=material-icons class=md-18 aria-label=visibilityOff aria-hidden=true>visibility_off</md-icon> </div> </md-button> </div> <img class="padding-left-16 padding-right-16" src='+n(97)+'> <div layout=row class="color-white-hue-4 font-size-xxs" layout-align="center center" ng-if=gameDetails.isPlayed()> <span translate=l10n.lastPlayed></span> <span>&nbsp;{{gameDetails.userGame.lastLaunchDate | convertUTCToTimeAgo}}</span> </div> <nv-play-game nv-local=true class=games-play-game nv-system-game=gameDetails.userGame.systemGame nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMEINFO_LAUNCH_LOCALGAME}},"url":"{{gameDetails.userGame.systemGame.shortName}}"}\'></nv-play-game> <nv-play-game ng-if=gameDetails.userGame.systemGame.isGfnCloudGameSupported() nv-local=false class=games-play-game nv-system-game=gameDetails.userGame.systemGame nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMEINFO_LAUNCH_LOCALGAME}},"url":"{{gameDetails.userGame.systemGame.shortName}}"}\'></nv-play-game> </div> </div> </md-toolbar> <div class=games-game-optimization flex layout=column ng-if=gameDetails.doesSystemSupportOPS> <div class=constants-position-relative flex> <ui-layout options="::{disableToggle: true, disableMobileToggle: true, dividerSize: 3}" class=games-game-optimization-container> <div layout=row class="vops-image-container ui-splitbar-border" ui-layout-container min-size=249px size={{gameDetails.viewState.vopsImageContainerSize}}> <nv-vops nv-system-game=gameDetails.userGame.systemGame nv-classic-view-enabled={{::gameDetails.classicViewEnabled}} flex layout=column></nv-vops> </div> <div layout=column class=game-settings-table-container ui-layout-container min-size=210px> <nv-optimization nv-system-game=gameDetails.userGame.systemGame nv-classic-view-enabled={{::gameDetails.classicViewEnabled}} class=games-optimization layout=column flex></nv-optimization> </div> </ui-layout> </div> </div> <div layout=column class=game-system-ops-not-supported layout-align="center center" flex style=background-color:#000 ng-if=gameDetails.showOpsNotSupported()> <md-icon md-font-set=nv-custom-icons md-font-icon=icon-notoptimized_reg class="nv-custom-icons md-48 color-white-hue-3" aria-label=notSupportOps aria-hidden=true></md-icon> <p class="color-white-hue-3 font-size-12" translate=l10n.systemDoesNotSupportOps></p> <div layout=row layout-align="center center"> <p class="color-white-hue-3 font-size-12" translate=l10n.needToMeetSystemRequirement></p> <a ng-click=gameDetails.systemNoOpsRequirementLink() class="md-default-theme font-size-sm top-margin-linksection" flex>&nbsp;<span class=font-lowercase translate=l10n.systemRequirement></span> </a> </div> </div> <div layout=column class=game-system-ops-not-supported layout-align="center center" flex ng-if=gameDetails.opsNotDetermined> <md-icon class=md-48 md-font-set=material-icons aria-label=warning aria-hidden=true>warning</md-icon> <p class="color-white-hue-3 font-size-12" translate=l10n.unableToReachNvidiaServers></p> </div> <div layout=column layout-align="center center" flex ng-show=gameDetails.opsSupportedRequestInProgress> <md-progress-circular id=progressIndicator class=md-accent md-diameter=15 md-mode=indeterminate></md-progress-circular> </div> </div> <md-tabs md-dynamic-height ng-if=::gameDetails.devFeatures.experimental> <md-tab label="{{\'l10n.optimization\' | translate | uppercase}}" ng-if=gameDetails.userGame.systemGame.regularSupported nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMEINFO_VIEW_GAME_OPTIMIZATIONS}},"url":"{{gameDetails.userGame.systemGame.shortName}}"}\'> <div class="games-game-optimization constants-position-relative" layout=column> <div layout=row class=vops-image-container> <nv-vops nv-system-game=gameDetails.userGame.systemGame flex></nv-vops> </div> <div layout=row flex> <nv-optimization nv-system-game=gameDetails.userGame.systemGame nv-classic-view-enabled={{::gameDetails.classicViewEnabled}} flex class=games-optimization></nv-optimization> </div> </div> </md-tab> <md-tab label="{{\'l10n.gameInfo\' | translate | uppercase}}" nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMEINFO_VIEW_GAME_DETAILS}},"url":"{{gameDetails.userGame.systemGame.shortName}}"}\'> <div layout=column> <div layout=row class=top-container> <nv-game-detail-preview nv-user-game=gameDetails.userGame class=games-game-detail-preview nv-ops-supported=gameDetails.doesSystemSupportOPS></nv-game-detail-preview> <div flex class=top-right-container> <md-toolbar> <div class=md-toolbar-tools> {{\'l10n.news\' | translate | uppercase}} </div> </md-toolbar> <md-content class=news-container> <nv-news ng-if=gameDetails.userGame.systemGame.shortName nv-short-name={{gameDetails.userGame.systemGame.shortName}} class=games-news></nv-news> </md-content> </div> </div> <div flex layout=row> <div class=bottom-left-container> <md-tabs md-border-bottom md-dynamic-height> <md-tab label="{{\'l10n.screenshots\' | translate | uppercase}}"> <md-card class="md-card-no-hover game-detail-screenshots-container"> <div ng-if=gameDetails.hasScreenshots() layout=row layout-wrap> <nv-media-tile nv-media-thumbnail={{screenshot.thumbnail}} nv-media-original={{screenshot.original}} nv-media-type={{gameDetails.mediaFileType.IMAGE}} nv-media-alt={{gameDetails.userGame.systemGame.displayName}} ng-repeat="screenshot in gameDetails.screenShots track by $index" class="common-media-tile bg-dark-im"></nv-media-tile> </div> <nv-no-content-fallback ng-if=!gameDetails.hasScreenshots() nv-tip="{{\'l10n.noContent\' | translate}}" flex></nv-no-content-fallback> </md-card> </md-tab> <md-tab label="{{\'l10n.videos\' | translate | uppercase}}"> <md-card class="md-card-no-hover game-detail-videos-container"> <nv-no-content-fallback ng-if=true nv-tip="{{\'l10n.noContent\' | translate}}" flex></nv-no-content-fallback> </md-card> </md-tab> </md-tabs> </div> <div flex> <md-tabs md-border-bottom md-dynamic-height> <md-tab label="{{\'l10n.description\' | translate | uppercase}}"> <md-card class=md-card-no-hover> <md-card-content flex ng-if=gameDetails.userGame.systemGame.longDescription> {{gameDetails.userGame.systemGame.longDescription}} </md-card-content> <nv-no-content-fallback ng-if=!gameDetails.userGame.systemGame.longDescription nv-tip="{{\'l10n.noDescription\' | translate}}" flex></nv-no-content-fallback> </md-card> </md-tab> <md-tab label="{{\'l10n.systemRequirement\' | translate | uppercase}}"> <md-card class=md-card-no-hover> <md-card-content flex></md-card-content> </md-card> </md-tab> </md-tabs> </div> </div> </div> </md-tab> </md-tabs> </div> '},function(e,t){e.exports=' <md-toolbar> <div class="md-toolbar-tools font-size-xl" layout=row layout-align="space-between center"> <h4 class="color-white-hue-3 font-size-sm" translate=l10n.games></h4> <div layout=row> <md-button class=md-icon-button ng-click=games.changeView(true) nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.HOME_TOGGLE_TO_GAMES_CLASSIC_VIEW}}}\' aria-label=toggle-classic-game-view-button> <md-tooltip><span translate=l10n.detailsView></span></md-tooltip> <md-icon md-font-set=nv-custom-icons md-font-icon=icon-detailed_view class="nv-custom-icons color-white-hue-2" aria-label=iconDetailedView aria-hidden=true></md-icon> </md-button> <nv-select-menu nv-md-icon=filter_list nv-label=l10n.filter class=constants-position-relative nv-filtered="!games.matchFilter(\'all\')"> <nv-select-menu-item ng-disabled="games.buttonDisabled(\'all\')" nv-action="games.setFilter(\'all\')" nv-selected-test="games.matchFilter(\'all\')" nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMETOOLBAR_FILTER_NONE}}}\'> <div translate=l10n.allNumber translate-value-number={{games.getGamesCount()}}></div> </nv-select-menu-item> <nv-select-menu-item ng-disabled="games.buttonDisabled(\'favorite\')" nv-action="games.setFilter(\'favorite\')" nv-selected-test="games.matchFilter(\'favorite\')" nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMETOOLBAR_FILTER_FAVORITES}}}\'> <span translate=l10n.favoritesNumber translate-value-number={{games.getFavoriteGamesCount()}}></span> </nv-select-menu-item> <nv-select-menu-item ng-disabled="games.buttonDisabled(\'optimized\')" nv-action="games.setFilter(\'optimized\')" nv-selected-test="games.matchFilter(\'optimized\')" nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMETOOLBAR_FILTER_OPTIMIZED}}}\'> <span translate=l10n.optimizedNumber translate-value-number={{games.getOptimizedGamesCount()}}></span> </nv-select-menu-item> <nv-select-menu-item ng-if=games.isAnselFeatureAvailable ng-disabled="games.buttonDisabled(\'anselReady\')" nv-action="games.setFilter(\'anselReady\')" nv-selected-test="games.matchFilter(\'anselReady\')" nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMETOOLBAR_FILTER_ANSELREADY}}}\'> <span translate=l10n.anselReadyNumber translate-value-number={{games.getAnselReadyGamesCount()}}></span> </nv-select-menu-item> <nv-select-menu-item ng-if=games.isFreestyleFeatureAvailable ng-disabled="games.buttonDisabled(\'freestyleReady\')" nv-action="games.setFilter(\'freestyleReady\')" nv-selected-test="games.matchFilter(\'freestyleReady\')" nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMETOOLBAR_FILTER_FREESTYLEREADY}}}\'> <span translate=l10n.freestyleReadyNumber translate-value-number={{games.getFreestyleReadyGamesCount()}}></span> </nv-select-menu-item> <md-divider></md-divider> <nv-select-menu-item ng-disabled="games.buttonDisabled(\'hidden\')" nv-action="games.setFilter(\'hidden\')" nv-selected-test="games.matchFilter(\'hidden\')"> <span translate=l10n.hiddenNumber translate-value-number={{games.getHiddenGamesCount()}}></span> </nv-select-menu-item> </nv-select-menu> <nv-select-menu nv-md-icon=more_vert nv-label=l10n.moreDots> <nv-select-menu-item nv-action=games.scanGames() ng-disabled="games.buttonDisabled(\'scanGames\')" nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMETOOLBAR_MORE_SCANGAMES}}}\'> <span translate={{games.scanText}}></span> </nv-select-menu-item> <nv-select-menu-item ng-show=games.isGameOpsSupported ng-disabled="games.buttonDisabled(\'optimizeAll\')" nv-action=games.optimizeGames() nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMETOOLBAR_MORE_OPTIMIZE_ALL}}}\'> <span translate={{games.optimizeText}}></span> </nv-select-menu-item> </nv-select-menu> </div> </div> </md-toolbar> <div ng-if=games.gameListReady() layout-fill layout=column flex class="constants-position-relative game-list-container" ng-onload={{games.onLoad()}}> <nv-overlay class="common-overlay game-list-top-gradient constants-display-none"></nv-overlay> <nv-virtual-grid-list layout flex class=games-game-list-content> <div nv-virtual-grid-list-repeat="game in games.filteredGameList | limitTo: games.listLimitTo track by game.id" nv-top-index=games.topIndex nv-on-demand nv-repeat-item-class=games-game-tile class=games-game-tile> <nv-game-tile nv-game=game nv-game-selected=games.isGameSelected(game) nv-ops-supported=games.isGameOpsSupported nv-index=$index></nv-game-tile> </div> </nv-virtual-grid-list> <nv-overlay class="common-overlay common-container-gradient game-list-bottom-gradient" nv-position=bottom></nv-overlay> </div> <nv-no-content-fallback ng-if=games.showNoGameFallbackMessage() nv-tip=l10n.gamesYouPlay class=no-game-container flex> <button ng-click=games.findAWayToPlay() class="md-button md-accent" translate=l10n.viewSupportedGames nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.HOME_FIND_A_WAY_TO_PLAY}},"url":"{{::games.findPlayUrl}}"}\' aria-label=viewSupportedGames-button></button> </nv-no-content-fallback> <nv-no-content-fallback ng-show=games.showFallbackMessage() nv-tip="{{ games.fallbackMessage()}}" nv-image-src={{games.fallbackImage()}} class=no-game-container flex> <button ng-click=games.setFallbackFilter() class="font-size-sm md-button md-accent" translate={{games.fallbackButtonText()}} aria-label=fallbackFilter-button></button> </nv-no-content-fallback> '},function(e,t){e.exports=' <div layout=row layout-align="start center" class=game-ops-toolbar-tools> <md-icon md-font-set=nv-custom-icons md-font-icon=icon-notoptimized_reg class="nv-custom-icons game-optimization-state-icon" ng-if=gameSettings.showUnoptimizedIcon() aria-label=noOptimizedIcon aria-hidden=true></md-icon> <md-icon md-font-set=nv-custom-icons md-font-icon=icon-optimized_reg class="nv-custom-icons game-optimization-state-icon md-accent" ng-if=gameSettings.showOptimizedIcon() aria-label=optimizedIcon aria-hidden=true></md-icon> <md-icon md-font-set=nv-custom-icons md-font-icon=icon-alert-circle_reg class="nv-custom-icons game-optimization-state-icon" ng-if=gameSettings.showWarningIcon() aria-label=notSupportOps aria-hidden=true></md-icon> <span class="font-size-sm color-white-hue-3 game-ops-message" flex translate={{gameSettings.getMessage()}} translate-compile></span> <md-button ng-disabled=gameSettings.isOptimizeOrCustomOpsButtonDisabled() ng-if=gameSettings.showRevertButton() aria-label="Game Optimization Revert" class="md-raised md-secondary game-optimize-button line-height-sm1" ng-click=gameSettings.optimizeGame()> <span translate=l10n.revert></span> </md-button> <md-button ng-disabled=gameSettings.isOptimizeOrCustomOpsButtonDisabled() ng-if=gameSettings.showOptimizeButton() aria-label="Game Optimization" class="md-raised md-accent game-optimize-button line-height-sm1 color-white-important" ng-click=gameSettings.optimizeGame() ng-mouseenter=gameSettings.setShowBorder(true) ng-mouseleave=gameSettings.setShowBorder(false)> <span translate=l10n.optimize></span> </md-button> <md-button class=md-icon-button ng-hide=gameSettings.hideCustomization() ng-disabled=gameSettings.isOptimizeOrCustomOpsButtonDisabled() ng-click=gameSettings.openCustomOps() aria-label=open-custom-ops-button> <md-tooltip><span translate=l10n.customSettings></span></md-tooltip> <md-icon md-font-set=material-icons class=color-white-hue-3 aria-label=buildIcon aria-hidden=true>build</md-icon> </md-button> <md-button class="md-icon-button margin-left-16" ng-show=false ng-disabled=gameSettings.isOptimizeOrCustomOpsButtonDisabled() ng-click=gameSettings.openCustomFps() aria-label=open-custom-fps-button> <md-tooltip><span translate=l10n.quietModeFps></span></md-tooltip> <md-icon md-font-set=nv-custom-icons md-font-icon=icon-quiet-mode class="nv-custom-icons md-18" aria-label=quietMode aria-hidden=true></md-icon> </md-button> <md-button class="md-icon-button margin-left-16" ng-show=false ng-disabled=gameSettings.isOptimizeOrCustomOpsButtonDisabled() ng-click=gameSettings.openCustomFps() aria-label=battery-boost-fps-button> <md-tooltip><span translate=l10n.batteryBoostFps></span></md-tooltip> <md-icon md-font-set=nv-custom-icons md-font-icon=icon-batteryboost class="nv-custom-icons md-18" aria-label=" iconBatteryboost" aria-hidden=true></md-icon> </md-button> </div> <div class=game-setting-list-container flex layout=column> <settings-header-container layout=row class="font-size-lg color-white-hue-3 font-uppercase constants-position-relative"> <div flex=40 translate=l10n.setting class=bg-dark-im-hue-3></div> <div flex=30 translate={{gameSettings.currentSettingHeader}} class=bg-dark-im-hue-3></div> <div flex ng-hide=!gameSettings.showOptimalSettingsInColumn() translate={{gameSettings.getOptimalSettingHeader()}} class="bg-dark-im-hue-3 settings-header-container-optimal-row"></div> <div flex ng-show=!gameSettings.showOptimalSettingsInColumn() class="bg-grey-im-hue-6 settings-header-container-optimal-row"></div> <div flex=100 layout=row layout-fill ng-show=gameSettings.showOptimalBorder() class=games-optimal-settings-container layout-align="end center"> <optimal-settings-container flex=30 layout-fill></optimal-settings-container> </div> </settings-header-container> <div class="constants-position-relative font-size-sm game-setting-list-content" layout=column> <settings-container class="game-settings-container bg-grey-im-hue-6 common-container-overflow"> <nv-game-settings-item ng-repeat="setting in gameSettings.settings"> <header ng-if=gameSettings.showHeader($index) layout=row> <div translate={{gameSettings.headerValue(setting.type)}} class="font-uppercase bg-grey-im-hue-1 color-white-hue-3" flex=70></div> <div flex ng-hide=!gameSettings.showOptimalSettingsInColumn() class=bg-grey-im-hue-1></div> </header> <div layout=row class="game-settings-list color-white-hue-4" ng-mouseenter=gameSettings.mouseOver(setting.name) ng-mouseleave=gameSettings.mouseOver(null)> <div flex=40 ng-class="{\'bg-grey-im-hue-3\': $even, \'bg-grey-im-hue-2\': $odd,\'bg-green-hv-hue-1\': gameSettings.isMouseHover(setting.name)}">{{setting.name}}</div> <div flex=30 ng-class="{\'bg-grey-im-hue-3\': $even, \'bg-grey-im-hue-2\': $odd,\'bg-green-hv-hue-1\': gameSettings.isMouseHover(setting.name)}" nv-ellipsis-lines=1>{{setting.value}} <nv-dsr-info ng-if=setting.isCurrentDsrResolution></nv-dsr-info> </div> <div flex ng-if=gameSettings.showOptimalSettingsInColumn() ng-class="{\'md-accent foreground\': gameSettings.isOptimalSettingDifferent(setting.value, setting.optimalValue), \'bg-grey-im-hue-3\': $even ,\'bg-grey-im-hue-2\': $odd,\'bg-green-hv-hue-1\': gameSettings.isMouseHover(setting.name)}" class=optimal-settings-column nv-ellipsis-lines=1>{{setting.optimalValue}} <nv-dsr-info ng-if=setting.isOptimalDsrResolution></nv-dsr-info> </div> </div> </nv-game-settings-item> </settings-container> <div flex=100 layout=row layout-fill ng-show=gameSettings.showOptimalBorder() class=games-optimal-settings-container layout-align="end center"> <optimal-settings-container flex=30 layout-fill></optimal-settings-container> </div> <optimal-settings layout=row ng-show=gameSettings.showIconInColumn() class=games-optimal-settings layout-align="center center"> <div layout=column> <md-icon md-font-set=nv-custom-icons md-font-icon=icon-optimized_reg class="nv-custom-icons md-accent" aria-label=optimalMessage aria-hidden=true></md-icon> <p translate={{gameSettings.getOptimalMessage()}} class="tips color-white-hue-1" translate-compile></p> </div> </optimal-settings> </div> <nv-overlay class="common-overlay common-container-gradient margin-zero game-settings-list-gradient" nv-position=bottom></nv-overlay> </div> <nv-overlay class="common-overlay constants-z-layers-two" layout-fill ng-show=gameSettings.requestInProgress> <span layout-fill layout-align="center center" layout=column> <md-progress-circular id=progressIndicator class=md-accent md-diameter=15 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> ';
},function(e,t){e.exports=" <md-dialog flex=33 class=md-padding> <h3>{{'l10n.tags' | translate}}:{{tagsModal.gameDisplayName}}</h3> <md-dialog-content> <md-chips ng-model=tagsModal.gameTags readonly=false placeholder=\"{{ 'l10n.enterTag' | translate}}\" secondary-placeholder=\"{{ 'l10n.secondaryTag' | translate}}\"> </md-chips> </md-dialog-content> <div class=md-actions layout=row> <md-button ng-click=tagsModal.managetags() class=\"md-raised md-primary\" aria-label=manage-tag-button> {{'l10n.manageTags' | translate | uppercase}} </md-button> <span flex></span> <md-button ng-click=tagsModal.accept() class=\"md-raised md-primary\" aria-label=accept-button> {{'l10n.done' | translate | uppercase}} </md-button> <md-button ng-click=tagsModal.cancel() class=\"md-raised md-primary\" aria-label=cancel-button> {{'l10n.cancel' | translate | uppercase}} </md-button> </div> </md-dialog> "},function(e,t){e.exports=' <md-card layout=column class=game-tile-card ng-click=gameTile.detailsButtonClickHandler() ng-mouseenter=gameTile.showOverlay(true) ng-mouseleave=gameTile.showOverlay(false)> <div layout=column flex class="image-container constants-position-relative"> <nv-overlay layout=column flex layout-fill class="common-overlay light-background background-animated" ng-if=gameTile.overlayVisible> <div flex layout-fill> <div layout=row layout-align="end end"> <div class=padding-right-top-8> <md-button class="md-icon-button md-button no-size opacity-animated" ng-click=gameTile.toggleFavorite($event) aria-label=l10n.markFavorite> <div ng-if=!gameTile.userGame.favorite> <md-tooltip><span translate=l10n.markFavorite></span></md-tooltip> <md-icon md-font-set=material-icons class=md-16 aria-label=starBorder aria-hidden=true>star_border</md-icon> </div> <div ng-if=gameTile.userGame.favorite> <md-tooltip><span translate=l10n.removeFavorite></span></md-tooltip> <md-icon md-font-set=material-icons class="md-16 color-white-hue-2" aria-label=starRating aria-hidden=true>star_rate</md-icon> </div> </md-button> </div> <div class=padding-right-top-8> <md-button class="md-icon-button md-button no-size opacity-animated" ng-click=gameTile.toggleVisibility($event) aria-label=l10n.hideGame> <div ng-if=!gameTile.userGame.hidden> <md-tooltip><span translate=l10n.hideGame></span></md-tooltip> <md-icon md-font-set=material-icons class="md-16 color-white-hue-2" aria-label=visibility aria-hidden=true>visibility</md-icon> </div> <div ng-if=gameTile.userGame.hidden> <md-tooltip><span translate=l10n.showGame></span></md-tooltip> <md-icon md-font-set=material-icons class=md-16 aria-label=visibilityOff aria-hidden=true>visibility_off</md-icon> </div> </md-button> </div> </div> <div flex layout-fill layout-align="center center" layout=column class=position-play-detail-container> <span flex></span> <nv-play-game nv-local=true class="games-play-game opacity-animated" nv-system-game=nvGame.systemGame nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMELIST_LAUNCH_LOCALGAME}},"url":"{{::nvGame.systemGame.shortName}}"}\'></nv-play-game> <md-button class="md-raised md-secondary color-white-important opacity-animated" ng-click=gameTile.detailsButtonClickHandler() nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.HOME_VIEW_GAME_INFO}},"url":"{{::nvGame.systemGame.shortName}}"}\' aria-label=l10n.details> <span translate=l10n.details></span> </md-button> <span flex></span> </div> </div> </nv-overlay> <nv-optimized-icon nv-system-game=nvGame.systemGame class=games-optimized-icon ng-if=::gameTile.isGameOpsSupported></nv-optimized-icon> <img ng-src={{nvGame.systemGame.coverImage}} alt={{::nvGame.systemGame.displayName}} nv-image-fallback=nv-no-loading-indicator nv-image-format> </div> <md-card-content class=game-title> <p nv-ellipsis-lines=1 class="font-size-sm line-height-14 margin-zero color-white-hue-1">{{nvGame.systemGame.displayName}}</p> <md-tooltip md-autohide ng-if=gameTile.showTooltip>{{nvGame.systemGame.displayName}}</md-tooltip> </md-card-content> </md-card> '},function(e,t){e.exports=" <md-tabs md-dynamic-height flex layout=column ng-if=optimization.frlSupportAndEnabled() class=game-optimization-settings-tabs md-selected=optimization.selectedTab> <md-tab md-on-select=optimization.changeSelectedTab(optimization.opsTab.PLUGGED_IN)> <md-tab-label> <md-icon md-font-set=nv-custom-icons md-font-icon=icon-pluggedin class=nv-custom-icons aria-label=pluggedInIcon aria-hidden=true></md-icon> <span translate=l10n.pluggedIn></span> </md-tab-label> <md-tab-body> <nv-game-settings nv-system-game=optimization.systemGame nv-current-setting-type=optimization.settingType.SETTING_AC nv-classic-view-enabled={{::optimization.classicViewEnabled}} class=games-game-settings ng-if=optimization.systemGame nv-custom-ops-open=optimization.customOpsOpen flex layout=column></nv-game-settings> </md-tab-body> </md-tab> <md-tab flex md-on-select=optimization.changeSelectedTab(optimization.opsTab.ON_BATTERY)> <md-tab-label> <md-icon md-font-set=nv-custom-icons md-font-icon=icon-onbattery class=nv-custom-icons aria-label=onBatteryIcon aria-hidden=true></md-icon> <span translate=l10n.onBattery></span> </md-tab-label> <md-tab-body> <nv-game-settings nv-system-game=optimization.systemGame nv-current-setting-type=optimization.settingType.SETTING_DC nv-classic-view-enabled={{::optimization.classicViewEnabled}} class=games-game-settings ng-if=optimization.systemGame nv-custom-ops-open=optimization.customOpsOpen flex layout=column></nv-game-settings> </md-tab-body> </md-tab> </md-tabs> <div ng-if=!optimization.frlSupportAndEnabled() flex layout=column> <nv-game-settings nv-system-game=optimization.systemGame nv-current-setting-type=optimization.settingType.SETTING_AC nv-classic-view-enabled={{::optimization.classicViewEnabled}} class=games-game-settings ng-if=optimization.systemGame nv-custom-ops-open=optimization.customOpsOpen flex layout=column nv-desktop-mode=!optimization.frlSupportAndEnabled()></nv-game-settings> </div> "},function(e,t){e.exports=' <div class=games-optimized-icon-wrapper> <md-icon md-font-set=nv-custom-icons class="nv-custom-icons color-medium-gray-hue-1" ng-class=optimizedIcon.fontIconClass aria-label=optimizedIcon aria-hidden=true></md-icon> </div> '},function(e,t){e.exports='<md-button class="md-raised md-accent color-white-important" ng-click=vm.playLocalGame($event) aria-label=l10n.play> <span ng-if="vm.nvLocal===\'true\'" translate=l10n.play></span> <span ng-if="vm.nvLocal===\'false\'" translate=l10n.playCloud></span> </md-button> '},function(e,t){e.exports='<div class=vops-container ng-if=vops.showLoadingIndicator() layout=row layout-align="center center" flex> <md-progress-circular class=md-accent md-diameter=30 md-mode=indeterminate> </md-progress-circular> </div> <nv-no-content-fallback ng-if=vops.showUnavailable() nv-tip="{{\'l10n.noImagesAvailable\' | translate}}" flex></nv-no-content-fallback> <nv-no-content-fallback ng-if=vops.showVopsFailed() nv-tip="{{\'l10n.UnableToLoadImages\' | translate}}" flex></nv-no-content-fallback> <nv-carousel ng-if=vops.showVopsPreview() nv-slides=vops.gameVops nv-selected-index=0 flex layout=column /> '},function(e,t){e.exports="<md-content flex class=md-padding> <md-tabs flex md-border-bottom md-dynamic-height md-selected=gfn.pageNo> <md-tab label=\"{{'l10n.feature' | translate | uppercase }}\"> <nv-gfn-feature></nv-gfn-feature> </md-tab> <md-tab label=\"{{'l10n.freeForMembers' | translate}}\"> <nv-game-store nv-game-type=freeForMember></nv-game-store> </md-tab> <md-tab label=\"{{'l10n.buyAndPlay' | translate}}\"> <nv-game-store nv-game-type=buyAndPlay></nv-game-store> </md-tab> <md-tab label=\"{{'l10n.mostPopular' | translate}}\"> <nv-game-store nv-game-type=mostPopular></nv-game-store> </md-tab> <md-tab label={{gfn.labels.gameSeries1}}> <nv-game-store nv-game-type=gameSeries1></nv-game-store> </md-tab> <md-tab label={{gfn.labels.gameSeries2}}> <nv-game-store nv-game-type=gameSeries2></nv-game-store> </md-tab> <md-tab label=\"{{'l10n.genres' | translate}}\"> <nv-gfn-genres></nv-gfn-genres> </md-tab> </md-tabs> </md-content> "},function(e,t,n){e.exports="<div flex layout=row> <div layout=column> <div class=gfn-gfn-feature> <img src="+n(737)+" alt=\"{{'l10n.alt.background' | translate}}\" layout-fill=\"\" class=ng-scope /> <h1>{{ gfnFeature.bannerTexts.bannerPlayGame1 | uppercase}}</h1> <h1>{{ gfnFeature.bannerTexts.bannerPlayGame2| uppercase}}</h1> <h3 class=gfn-gfn-feature-subscribe> <a href=#>{{ gfnFeature.bannerTexts.bannerSubscribe }}</a> </h3> <div class=gfn-gfn-feature-pane> <h3>{{'l10n.news' | translate | uppercase}}</h3> <div flex> <nv-news nv-news-source=gfn></nv-news> </div> </div> </div> </div> <div flex layout=column class=gfn-gfn-feature-pane> <h3 class=md-flex>{{'l10n.latestGames' | translate | uppercase}}</h3> <div flex> <nv-latest-games></nv-latest-games> </div> </div> </div> "},function(e,t){e.exports=' <md-list-item layout=column layout-align="start start"> <md_button layout-align="start start" class=gfn-store-button ng-click=gameItem.onClickedGameItem()> <img ng-src={{gameItem.nvGame.infoImage}} alt=gameitem /> <div layout=column layout-align="start start" class=md-list-item-text> <p>{{gameItem.nvGame.displayName}}</p> <p ng-if=gameItem.nvGame.storeInfo.isPurchased> {{\'l10n.purchased\' | translate}} </p> <p ng-if=gameItem.isNeedPurchase()> ${{gameItem.nvGame.storeInfo.price}} </p> </div> </md_button> </md-list-item> '},function(e,t){e.exports='<md-content layout=row layout-align="start start" layout-wrap> <md-list layout=row layout-align="start start" layout-wrap> <nv-game-store-item ng-repeat="gameItem in games.gameStoreList" nv-game=gameItem nv-show-type=games.gameType class=gfn-games-item></nv-game-store-item> </md-list> </md-content> '},function(e,t){e.exports=' <md-content flex class="games-game-details md-padding"> <md-button ng-click="$state.go( \'main.auth.gfn\', {tabId: \'6\'}) " class=md-padding aria-label=go-back-button> &lt; {{gfnGenreGames.goBackString | translate}} </md-button> <nv-game-store nv-game-type="genre "></nv-game-store> </md-content> '},function(e,t){e.exports=' <md-list-item layout=column layout-align="start start"> <md-button layout=column layout-align="start start" class=gfn-store-button ng-click="$state.go(\'main.auth.gfn.genreGames\', {id: gfnGenreItem.id})" aria-label=gfn-store-button> <img ng-src={{gfnGenreItem.img}} alt=genreItem /> <div layout-align="start start" class=md-list-item-text> <p>{{gfnGenreItem.name | translate}}</p> </div> </md-button> </md-list-item> '},function(e,t){e.exports='<md-content layout=row layout-align="start start" layout-wrap> <md-list layout=row layout-align="start start" layout-wrap> <nv-genre-item ng-repeat="genre in gfnGenres.genreList" nv-genre=genre class=gfn-genre-games-item></nv-genre-item> </md-list> </md-content> '},function(e,t){e.exports=" <md-list-item layout=column layout-align=\"start start\" class=bg-dark-hv> <img ng-src={{nvGame.infoImage}} alt=gameitem /> <div style=width:inherit layout=row> <div class=md-list-item-text> <p>{{nvGame.displayName}}</p> <p class=color-light-gray> {{'l10n.releaseDate' | translate }} {{nvGame.releaseDate}} </p> </div> </div> </md-list-item> "},function(e,t){e.exports='<md-content layout=row layout-align="start start" layout-wrap> <md-list layout=row layout-align="start start" layout-wrap> <nv-latest-game-item ng-repeat="gameItem in games.latestGameList" nv-game=gameItem class=gfn-games-item></nv-latest-game-item> </md-list> </md-content> '},function(e,t){e.exports="<html> <head> <style>body{background-color:#1a1a1a;font-family:Roboto,sans-serif}.centered{position:absolute;top:50%;left:50%;margin-right:50%;transform:translate(-50%,-50%)}p{color:rgba(255,255,255,.3);width:410px;text-align:center}a{color:#76b900;text-transform:capitalize;text-decoration:none}</style> <script> function sendErrorMessage() {\r\n            let errorMessage = {\r\n                error: {\r\n                    errorCode: '?ERROR_CODE',\r\n                    errorText: '?ERROR_TEXT',\r\n                    failedUrl: '?FAILED_URL'\r\n                }\r\n            };\r\n            window.opener.postMessage(errorMessage, \"*\")\r\n        } </script> </head> <body onload=sendErrorMessage()> <div class=centered> <p aria-hidden=true> <img src=\"data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjNWE1YTVhIiBoZWlnaHQ9IjQ4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSI0OCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4gICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPiAgICA8cGF0aCBkPSJNMTIgMkM2LjQ4IDIgMiA2LjQ4IDIgMTJzNC40OCAxMCAxMCAxMCAxMC00LjQ4IDEwLTEwUzE3LjUyIDIgMTIgMnptMSAxNWgtMnYtNmgydjZ6bTAtOGgtMlY3aDJ2MnoiLz48L3N2Zz4=\"> </p> <p> {{errorMessage}} </p> <p> <a href=.>{{retry}}</a> </p> </div> </body> </html> "},function(e,t,n){e.exports=' <md-menu md-offset="210 25" md-position-mode="target-right target" data-ng-init=notifications.onInit($mdOpenMenu);> <div class=constants-position-relative> <div class="notification-badge-container text-align-center constants-position-absolute"> <div ng-hide=notifications.nvDisabled nv-badge={{notifications.getNotificationBadgeNumber()}}></div> </div> <md-button class="md-icon-button notification-menu-button" ng-click=notifications.showNotifications($mdMenu) aria-label=notificationButton> <md-tooltip><span translate=l10n.notifications></span></md-tooltip> <md-icon md-font-set=material-icons class=md-18 aria-label=notifications aria-hidden=true>notifications</md-icon> </md-button> </div> <md-menu-content md-menu-align-target md-menu-origin class="notifications-md-menu-content margin-zero padding-zero bg-dark-vh-hue-4 common-overflow-auto padding-bottom-3"> <img class="notification-direction notifications-menu-width constants-position-absolute" ng-src='+n(711)+' /> <md-list class="notifications-md-list margin-zero padding-zero"> <md-list-item class="no-focus-outline cursor-pointer-on-hover clickable-element notification-item padding-zero-important" ng-repeat="notification in notifications.notificationList"> <div class="no-focus-outline margin-left-4" ng-click=notifications.onNotificationClicked(notification); layout=column flex layout-fill> <div layout=column flex layout-fill ng-if="!notifications.showBigNotification($index, notification)"> <md-divider class="top-zero constants-position-relative"></md-divider> <div layout=row flex layout-fill> <div class="notification-color-bar-width small-notification-height bg-green-hv constants-position-absolute left-1"></div> <div class="small-notification-image-width small-notification-height"> <img ng-src={{notification.artWork}} flex=none layout-fill alt={{::notification.artWork}} nv-image-fallback=nv-no-loading-indicator /> </div> <div flex layout=column class="small-notification-height notifications-menu-width margin-left-36 margin-right-12 margin-top-zero"> <span class="color-white-hue-5 font-size-xxs line-height-12 constants-position-absolute right-12 top-8">{{ notification.readableTime }}</span> <div layout=column flex layout-align="center start"> <div class=small-notification-header> <p id="{{ \'small-notification-heading\' + $index }}" class="font-size-sm margin-zero padding-zero small-notification-details" nv-ellipsis-lines=1 translate={{notification.heading.text}} translate-values={{notification.heading.values}}></p> <md-tooltip ng-if="notifications.showTooltip($index,\'small-notification-heading\')" md-z-index=300 md-autohide><span translate={{notification.heading.text}} translate-values={{notification.heading.values}}></span></md-tooltip> </div> <p class="color-green font-size-xxs margin-zero padding-zero margin-top-4 notifications-ellipsis small-notification-details" translate={{notification.description.text}} translate-values={{notification.description.values}}></p> </div> </div> </div> </div> <div layout=row flex layout-fill ng-if="notifications.showBigNotification($index, notification)"> <div class="notification-color-bar-width bg-green-hv constants-position-absolute left-1 large-notification-height"></div> <div layout=column flex layout-fill> <div class="notifications-menu-width large-notification-image-height"> <img ng-src={{notification.artWorkHighRes}} flex=none layout-fill alt={{::notification.artWork}} nv-image-fallback=nv-no-loading-indicator /> </div> <div layout=column class="small-notification-height margin-top-8"> <span class="color-white-hue-5 font-size-xxs line-height-12 constants-position-absolute right-12">{{ notification.readableTime }}</span> <div layout=column flex layout-align="center center" class="margin-right-36 margin-left-36"> <div class=big-notification-header> <p id="{{ \'big-notification-heading\' + $index }}" class="font-size-xl1 margin-zero padding-zero" nv-ellipsis-lines=1 translate={{notification.heading.text}} translate-values={{notification.heading.values}}></p> <md-tooltip ng-if="notifications.showTooltip($index,\'big-notification-heading\')" md-z-index=300 md-autohide><span translate={{notification.heading.text}} translate-values={{notification.heading.values}}></span></md-tooltip> </div> <p class="color-green font-size-xl margin-zero padding-zero margin-top-4 notifications-ellipsis" translate={{notification.description.text}} translate-values={{notification.description.values}}></p> </div> </div> </div> </div> </div> </md-list-item> <md-list-item ng-if=!notifications.notificationList.length> <div layout=row flex layout-fill layout-align="center center" class="notifications-menu-width notifications-menu-height"> <div layout=column> <md-icon md-font-set=material-icons class=md-18 aria-label=notificationIcon aria-hidden=true>notifications</md-icon> <p translate=l10n.noNotifications></p> </div> </div> </md-list-item> </md-list> <div class="notifications-menu-left-outline-width constants-position-absolute bg-dark-eh left-zero top-zero" layout-fill></div> </md-menu-content> </md-menu> '},function(e,t){e.exports=' <div class=oobe-dialog-right-pane ng-class="{\'oobe-oauth-login-image\': !oobeAuthChooseCtrl.showLoadingIndicator }" layout=column layout-fill aria-label=oobe-image aria-hidden=true> <div ng-if=oobeAuthChooseCtrl.showLoadingIndicator layout=row layout-align="center center" flex aria-label=loadingIndicator-section> <md-progress-circular class=md-accent md-diameter=30 md-mode=indeterminate aria-label=oobe-loadingIndicator aria-hidden=true> </md-progress-circular> </div> <div ng-if=!oobeAuthChooseCtrl.showLoadingIndicator flex layout=column layout-align="start center" ng-show=oobeAuthChooseCtrl.showNvLogin aria-hidden=true aria-label=login-space-filler> <div class=oobe-oauth-login-top-filler aria-label=top-space-filler></div> <div class=oobe-oauth-login-scrim ng-if=oobeAuthChooseCtrl.messageBanner() layout=column layout-align=center aria-label=login-message> <div class=oobe-oauth-message-banner layout=row layout-align="start center" aria-label=alertIcon-section> <md-icon md-font-set=nv-custom-icons md-font-icon=icon-alert-circle_reg class="nv-custom-icons margin-zero md-32" aria-label=alertIcon aria-hidden=true></md-icon> <div class="color-white-hue-4 font-size-lg margin-left-16"> <span translate={{oobeAuthChooseCtrl.messageBanner()}} aria-label=banner-message></span> </div> </div> </div> <div class=oobe-oauth-login-text> <span translate=l10n.gameMaxPerformance aria-label=gameMaxPerformance-label></span> </div> <div class=oobe-oauth-login-text> <span translate=l10n.gameReadyDrivers aria-label=gameReadyDriver-label></span> </div> <div class=oobe-oauth-login-text> <span translate=l10n.shareGameMoments aria-label=shareGameMoments-label></span> </div> <div flex layout=row layout-align="end center" layout-fill aria-label=loginButtonLayout> <md-button class="md-accent color-white md-raised" ng-click=oobeAuthChooseCtrl.initLogin() ng-disabled=!oobeAuthChooseCtrl.onlineState.online translate=l10n.logIn aria-label=JarvisOAuthLoginButton aria-hidden=true> </md-button> </div> </div> </div> '},function(e,t){e.exports=' <form class=oobe-dialog-right-pane autocomplete=off flex layout=column name=oobeAuthEditEmailCtrl.emailForm ng-submit=oobeAuthEditEmailCtrl.onDone()> <waiting-overlay layout layout-align="center center" ng-if=oobeAuthEditEmailCtrl.waiting> <md-progress-circular class=md-accent md-mode=indeterminate md-diameter=35></md-progress-circular> </waiting-overlay> <div class=title layout=row layout-align="start center"> <h1 flex translate=l10n.editEmailAddress></h1> </div> <div class=message-banner ng-if=oobeAuthEditEmailCtrl.message translate={{oobeAuthEditEmailCtrl.message}}></div> <md-content flex layout=column class=content> <div class=secondary-title translate=l10n.enterYourInformation></div> <div layout=column layout-align="start start"> <md-input-container layout-fill class=md-icon-right ng-init="oobeAuthEditEmailCtrl.passwordBoxType = \'password\'"> <label translate=l10n.currentPassword></label> <input nv-input name=password ng-model=oobeAuthEditEmailCtrl.password ng-change=oobeAuthEditEmailCtrl.passwordChanged() required tabindex=1 type={{oobeAuthEditEmailCtrl.passwordBoxType}} md-no-asterisk/> <md-icon ng-if="oobeAuthEditEmailCtrl.passwordBoxType == \'password\'" class="nv-custom-icons oobe-login-pointer" md-font-icon=icon-eye ng-click="oobeAuthEditEmailCtrl.passwordBoxType = \'text\'" aria-label=eyeIcon aria-hidden=true></md-icon> <md-icon ng-if="oobeAuthEditEmailCtrl.passwordBoxType == \'text\'" class="nv-custom-icons oobe-login-pointer" md-font-icon=icon-eye-off ng-click="oobeAuthEditEmailCtrl.passwordBoxType = \'password\'" aria-label=eyeOffIcon aria-hidden=true></md-icon> <div class=error-message ng-messages=oobeAuthEditEmailCtrl.emailForm.password.$error ng-show=oobeAuthEditEmailCtrl.emailForm.password.$touched md-auto-hide=false> <div ng-message=required> <div translate=l10n.required></div> </div> <div ng-message=invalidPassword> <div translate=l10n.incorrectPassword></div> </div> </div> </md-input-container> <md-input-container layout-fill> <label translate=l10n.newEmailAddress></label> <input nv-input name=email ng-model=oobeAuthEditEmailCtrl.email ng-change=oobeAuthEditEmailCtrl.emailChanged() required tabindex=2 type=email md-no-asterisk/> <div class=error-message ng-messages=oobeAuthEditEmailCtrl.emailForm.email.$error ng-show=oobeAuthEditEmailCtrl.emailForm.email.$touched md-auto-hide=false> <div ng-message=email> <div translate=l10n.invalidEmail></div> </div> <div ng-message=required> <div translate=l10n.required></div> </div> <div ng-message=notAvailable> <div translate=l10n.emailAddressInUse></div> </div> </div> </md-input-container> <md-input-container layout-fill> <label translate=l10n.reEnterEmailAddress></label> <input nv-input name=reEnterEmail ng-model=oobeAuthEditEmailCtrl.reEnterEmail required nv-fields-match={{oobeAuthEditEmailCtrl.emailForm.email.$viewValue}} tabindex=3 type=email md-no-asterisk/> <div class=error-message ng-messages=oobeAuthEditEmailCtrl.emailForm.reEnterEmail.$error ng-show=oobeAuthEditEmailCtrl.emailForm.reEnterEmail.$touched md-auto-hide=false> <div ng-message=email> <div translate=l10n.invalidEmail></div> </div> <div ng-message=required> <div translate=l10n.required></div> </div> <div ng-message=fieldsMatch> <div translate=l10n.emailAddressesDoNotMatch></div> </div> </div> </md-input-container> </div> </md-content> <div class=md-actions layout=row dir=rtl> <md-button type=submit class=md-accent translate=l10n.done aria-label=submit-button></md-button> <md-button ng-click=oobeAuthEditEmailCtrl.onCancel() translate=l10n.cancel aria-label=cancel-button></md-button> <span flex></span> </div> </form> '},function(e,t){e.exports=' <form class=oobe-dialog-right-pane autocomplete=off flex layout=column name=oobeAuthForgotPasswordCtrl.forgotForm novalidate ng-submit=oobeAuthForgotPasswordCtrl.onSubmit()> <waiting-overlay layout layout-align="center center" ng-if=oobeAuthForgotPasswordCtrl.waiting> <md-progress-circular class=md-accent md-mode=indeterminate md-diameter=35></md-progress-circular> </waiting-overlay> <div class=title layout=row layout-align="start center"> <h1 flex translate=l10n.forgotPassword></h1> </div> <div class=message-banner ng-if=oobeAuthForgotPasswordCtrl.message translate={{oobeAuthForgotPasswordCtrl.message}}></div> <md-content flex layout=column class=content> <div ng-if=!oobeAuthForgotPasswordCtrl.sentView> <div class=secondary-title translate=l10n.forgotPasswordText></div> <md-input-container layout-fill> <label translate=l10n.emailAddress></label> <input nv-input name=email ng-model=oobeAuthForgotPasswordCtrl.email required tabindex=1 type=email md-no-asterisk/> <div class=error-message ng-messages=oobeAuthForgotPasswordCtrl.forgotForm.email.$error ng-show=oobeAuthForgotPasswordCtrl.forgotForm.email.$touched md-auto-hide=false> <div ng-message=email> <div translate=l10n.invalidEmail></div> </div> <div ng-message=required> <div translate=l10n.enterYourEmailAddress></div> </div> </div> </md-input-container> </div> <div ng-if=oobeAuthForgotPasswordCtrl.sentView> <div class=secondary-title translate-values={{oobeAuthForgotPasswordCtrl}} translate=l10n.forgotPasswordSentText></div> </div> </md-content> <div class=md-actions layout=row dir=rtl ng-if=!oobeAuthForgotPasswordCtrl.sentView> <md-button type=submit class=md-accent translate=l10n.submit aria-label=forgotPassword-submitButton> </md-button> <span flex></span> <md-button ng-click=oobeAuthForgotPasswordCtrl.onCancel() translate=l10n.cancel aria-label=forgotPassword-cancelButton> </md-button> </div> <div class=md-actions layout=row dir=rtl ng-if=oobeAuthForgotPasswordCtrl.sentView> <md-button type=submit class=md-accent ng-click=oobeAuthForgotPasswordCtrl.onDone() translate=l10n.done aria-label=forgotPassword-onDone-button> </md-button> <span flex></span> </div> </form> '},function(e,t){e.exports=' <form nv-input-autofocus nv-key-code=27 nv-key-action=oobeAuthNvLoginCtrl.onClickClose() class=oobe-dialog-right-pane autocomplete=off flex layout=column name=oobeAuthNvLoginCtrl.loginForm novalidate ng-submit=oobeAuthNvLoginCtrl.onSubmit()> <waiting-overlay layout layout-align="center center" ng-if=oobeAuthNvLoginCtrl.waiting> <md-progress-circular class=md-accent md-mode=indeterminate md-diameter=30></md-progress-circular> </waiting-overlay> <div class="title large" layout=column> <div class=logo-title layout=row layout-fill> <md-icon class="title-logo nv-custom-icons" md-font-icon=icon-nvlogo aria-label=nvlogo aria-hidden=true></md-icon> <h1 flex translate=l10n.logInWithNVIDIA></h1> </div> <div class=message-banner ng-if=oobeAuthNvLoginCtrl.messageBanner()> <span translate={{oobeAuthNvLoginCtrl.messageBanner()}} translate-values={{oobeAuthNvLoginCtrl.messageTranslateValues}}></span> </div> </div> <md-content class=content flex layout=column> <div layout=column layout-align="start start"> <md-input-container layout-fill> <label translate=l10n.emailAddress></label> <input nv-input name=email maxlength={{oobeAuthNvLoginCtrl.validationObject.email.maxsize}} ng-change=oobeAuthNvLoginCtrl.fieldsChanged() ng-model=oobeAuthNvLoginCtrl.email required type=email md-no-asterisk/> <div class=error-message ng-messages=oobeAuthNvLoginCtrl.loginForm.email.$error ng-show=oobeAuthNvLoginCtrl.loginForm.email.$touched md-auto-hide=false> <div ng-message=email> <div translate=l10n.invalidEmail></div> </div> <div ng-message=required> <div translate=l10n.enterYourEmailAddress></div> </div> </div> </md-input-container> <md-input-container layout-fill class=md-icon-right ng-init="oobeAuthNvLoginCtrl.passwordBoxType = \'password\'"> <label translate=l10n.password></label> <input nv-input name=password maxlength={{oobeAuthNvLoginCtrl.validationObject.password.maxsize}} ng-change=oobeAuthNvLoginCtrl.fieldsChanged() ng-model=oobeAuthNvLoginCtrl.password required type={{oobeAuthNvLoginCtrl.passwordBoxType}} md-no-asterisk/> <md-icon ng-if="oobeAuthNvLoginCtrl.passwordBoxType == \'password\'" class="nv-custom-icons oobe-login-pointer" md-font-icon=icon-eye ng-click="oobeAuthNvLoginCtrl.passwordBoxType = \'text\'" aria-label=eyeIcon aria-hidden=true></md-icon> <md-icon ng-if="oobeAuthNvLoginCtrl.passwordBoxType == \'text\'" class="nv-custom-icons oobe-login-pointer" md-font-icon=icon-eye-off ng-click="oobeAuthNvLoginCtrl.passwordBoxType = \'password\'" aria-label=eyeOffIcon aria-hidden=true></md-icon> <div class=error-message ng-messages=oobeAuthNvLoginCtrl.loginForm.password.$error ng-show=oobeAuthNvLoginCtrl.loginForm.password.$touched md-auto-hide=false> <div layout=row ng-message=required> <div translate=l10n.enterYourPassword></div> </div> </div> </md-input-container> </div> <div> <md-button class=forgot-password ng-click=oobeAuthNvLoginCtrl.onClickForgotPassword() translate=l10n.forgotPassword aria-label=forgotPasswordButton> </md-button> </div> </md-content> <div class=md-actions layout=row dir=rtl> <md-button class="md-raised md-accent color-white-important" ng-disabled=!oobeAuthNvLoginCtrl.onlineState.online type=submit translate=l10n.logIn aria-label=logInButtton></md-button> <md-button class=margin-right-8 ng-click=oobeAuthNvLoginCtrl.onClickBack() translate=l10n.back aria-label=back-Button></md-button> <span flex></span> <md-button ng-disabled=!oobeAuthNvLoginCtrl.onlineState.online ng-click=oobeAuthNvLoginCtrl.onClickRegister() translate=l10n.createNewAccount aria-label=create-newAccount-button></md-button> <span class=button-helper translate=l10n.dontHaveAnAccount dir=auto></span> </div> </form> '},function(e,t){e.exports=' <form nv-input-autofocus nv-key-code=27 nv-key-action=oobeAuthNvRegisterCtrl.onClickClose() class=oobe-dialog-right-pane autocomplete=off flex layout=column name=oobeAuthNvRegisterCtrl.regForm ng-submit=oobeAuthNvRegisterCtrl.onSubmit() novalidate> <waiting-overlay layout layout-align="center center" ng-if=oobeAuthNvRegisterCtrl.waiting> <md-progress-circular class=md-accent md-mode=indeterminate md-diameter=35></md-progress-circular> </waiting-overlay> <div class="title large" layout=column> <div class=logo-title layout=row layout-fill> <md-icon class="title-logo nv-custom-icons" md-font-icon=icon-nvlogo aria-label=nvlogo aria-hidden=true></md-icon> <h1 flex translate={{oobeAuthNvRegisterCtrl.title}} ng-if="oobeAuthNvRegisterCtrl.regView === \'register\'"></h1> <h1 flex translate=l10n.registrationFailed ng-if="oobeAuthNvRegisterCtrl.regView === \'coppa\'"></h1> </div> <div class=message-banner ng-if=oobeAuthNvRegisterCtrl.messageBanner()> <span translate={{oobeAuthNvRegisterCtrl.messageBanner()}}></span> </div> </div> <md-content class=content flex layout=column ng-show="oobeAuthNvRegisterCtrl.regView === \'register\'"> <div layout=column layout-align="start start"> <md-input-container layout-fill> <label translate=l10n.displayName></label> <input nv-input maxlength={{oobeAuthNvRegisterCtrl.validationObject.displayName.maxsize}} nv-extended-pattern={{oobeAuthNvRegisterCtrl.validationObject.displayName}} ng-trim=false name=displayName ng-model=oobeAuthNvRegisterCtrl.regModel.displayName nv-valid-display-name required md-no-asterisk> <div class=error-message ng-messages=oobeAuthNvRegisterCtrl.displayNameErrorWrapper md-auto-hide=false> <div ng-message=required> <div translate=l10n.required></div> </div> <div ng-message=extendedPattern> <div translate=l10n.displayNameReqs translate-values={{oobeAuthNvRegisterCtrl.validationObject.displayName}}></div> </div> <div ng-message=notAvailable> <div translate=l10n.displayNameNotAvailable></div> </div> </div> </md-input-container> <div class=input-helper translate=l10n.displayNameDetails></div> <md-input-container layout-fill> <label translate=l10n.emailAddress></label> <input nv-input maxlength={{oobeAuthNvRegisterCtrl.validationObject.email.maxsize}} nv-extended-pattern={{oobeAuthNvRegisterCtrl.validationObject.email}} name=email ng-model=oobeAuthNvRegisterCtrl.regModel.email ng-change=oobeAuthNvRegisterCtrl.emailChanged() required type=email ng-disabled=oobeAuthNvRegisterCtrl.emailDisabled md-no-asterisk> <div class=error-message ng-messages=oobeAuthNvRegisterCtrl.regForm.email.$error ng-show=oobeAuthNvRegisterCtrl.regForm.email.$touched md-auto-hide=false> <div ng-message=required> <div translate=l10n.required></div> </div> <div ng-message="extendedPattern, email"> <div translate=l10n.invalidEmail></div> </div> <div ng-message=notAvailable> <div translate=l10n.emailAddressInUse></div> </div> </div> </md-input-container> <md-input-container layout-fill class=md-icon-right ng-if="oobeAuthNvRegisterCtrl.nvType !== \'social\'" ng-init="oobeAuthNvRegisterCtrl.passwordBoxType=\'password\'"> <label translate=l10n.password></label> <input nv-input minlength={{oobeAuthNvRegisterCtrl.validationObject.password.minsize}} maxlength={{oobeAuthNvRegisterCtrl.validationObject.password.maxsize}} nv-extended-pattern={{oobeAuthNvRegisterCtrl.validationObject.password}} name=password ng-model=oobeAuthNvRegisterCtrl.regModel.password required type={{oobeAuthNvRegisterCtrl.passwordBoxType}} md-no-asterisk> <md-icon ng-if="oobeAuthNvRegisterCtrl.passwordBoxType == \'password\'" class="nv-custom-icons oobe-login-pointer" md-font-icon=icon-eye ng-click="oobeAuthNvRegisterCtrl.passwordBoxType = \'text\'" aria-label=eyeIcon aria-hidden=true></md-icon> <md-icon ng-if="oobeAuthNvRegisterCtrl.passwordBoxType == \'text\'" class="nv-custom-icons oobe-login-pointer" md-font-icon=icon-eye-off ng-click="oobeAuthNvRegisterCtrl.passwordBoxType = \'password\'" aria-label=eyeOffIcon aria-hidden=true></md-icon> <div class=error-message ng-messages=oobeAuthNvRegisterCtrl.regForm.password.$error ng-show=oobeAuthNvRegisterCtrl.regForm.password.$touched md-auto-hide=false> <div ng-message=required> <div translate=l10n.required></div> </div> <div ng-message="minlength, maxlength, extendedPattern"> <div translate-values="{{ {minsize: oobeAuthNvRegisterCtrl.validationObject.password.minsize || 9, required: oobeAuthNvRegisterCtrl.validationObject.password.patternGroups.required || 3} }}" translate=l10n.passwordReqs></div> </div> </div> </md-input-container> <nv-custom-date ng-model=oobeAuthNvRegisterCtrl.regModel.birthdate title-string={{oobeAuthNvRegisterCtrl.dateOfBirthTitle}} locale-string={{oobeAuthNvRegisterCtrl.locale}}> </nv-custom-date> <md-checkbox class=checkbox-20 ng-model=oobeAuthNvRegisterCtrl.regModel.subscribe aria-label=oobeAuthNvRegisterCtrlSubscribe> <div translate=l10n.subscribe></div> </md-checkbox> <md-checkbox class=checkbox-20 name=agreeToTerms ng-model=oobeAuthNvRegisterCtrl.regModel.agree required aria-label=oobeAuthNvRegisterCtrlAgreeToTerms> <span translate=l10n.agreeToTerms translate-values=\'{agreeToTermsLink: "class=\\"in-app-link\\" ng-click=\\"oobeAuthNvRegisterCtrl.onClickAgreeToTerms($event)\\""}\' translate-compile></span> </md-checkbox> </div> </md-content> <md-content class=content flex layout=column ng-show="oobeAuthNvRegisterCtrl.regView === \'coppa\'"> <p translate=l10n.coppaText></p> </md-content> <div class="md-actions shadow-top" layout=row dir=rtl ng-if="oobeAuthNvRegisterCtrl.regView === \'register\'"> <md-button ng-disabled=!oobeAuthNvRegisterCtrl.onlineState.online type=submit class="md-raised md-accent color-white-important" translate=l10n.register aria-label=register-button></md-button> <md-button class=margin-right-8 ng-click=oobeAuthNvRegisterCtrl.onClickBack() translate=l10n.back aria-label=back-button></md-button> <span flex></span> </div> <div class=md-actions layout=row dir=rtl ng-if="oobeAuthNvRegisterCtrl.regView === \'coppa\'"> <md-button ng-click=oobeAuthNvRegisterCtrl.onClickDone() translate=l10n.done aria-label=register-done-button></md-button> <md-button class=margin-right-8 ng-click=oobeAuthNvRegisterCtrl.onClickPrivacyPolicy() translate=l10n.privacyPolicy aria-label=privacy-policy-button></md-button> <span flex></span> </div> </form> ';
},function(e,t,n){e.exports=' <div class=oobe-dialog-right-pane flex layout=column> <div class=oobe-dialog-done-pane-content> <div layout=column flex layout-align="center center"> <img src='+n(193)+' /> </div> </div> <span flex></span> <div class=md-actions layout=row dir=rtl> <md-button ng-click=oobeAuthQrCodeCtrl.onContinue() class="md-raised md-accent color-white-important" translate=l10n.continue aria-label=continue-button></md-button> </div> </div> '},function(e,t){e.exports='<md-content class=oobe-dialog-right-pane layout=column layout-align="center center" flex> <img ng-src={{oobeAuthSyncCtrl.avatar.url}} class=md-avatar alt={{oobeAuthSyncCtrl.displayName}} nv-fallback-src={{oobeAuthSyncCtrl.defaultAvatarUrl}} nv-circle=medium /> <p class="font-size-lg color-white-hue-1">{{oobeAuthSyncCtrl.displayName}}</p> <p class=color-light-gray translate=l10n.loginProgress></p> </md-content> '},function(e,t){e.exports=' <form class=oobe-dialog-right-pane autocomplete=off flex layout=column name=oobeAuthVerificationCtrl.verificationForm ng-submit=oobeAuthVerificationCtrl.onRecheck()> <waiting-overlay layout layout-align="center center" ng-if=oobeAuthVerificationCtrl.waiting> <md-progress-circular class=md-accent md-mode=indeterminate md-diameter=35></md-progress-circular> </waiting-overlay> <div class=title layout=row layout-align="start center"> <h1 flex translate={{oobeAuthVerificationCtrl.title}}></h1> </div> <div class=message-banner ng-if=oobeAuthVerificationCtrl.message translate={{oobeAuthVerificationCtrl.message}}></div> <md-content flex layout=column class=content> <div class=dialog-email-verification-email flex layout layout-align="center center"> <span>{{oobeAuthVerificationCtrl.translateValues.email}}</span> </div> <div class=secondary-title translate-values={{oobeAuthVerificationCtrl.translateValues}} translate=l10n.verficationEmailHasBeenSent></div> <div class=secondary-title translate=l10n.clickContinueAfter></div> </md-content> <div class=md-actions layout=row> <md-button type=submit class=md-accent translate=l10n.continue aria-label=continue-button></md-button> <md-button id=resendbutton class=nv-ellipsis ng-click=oobeAuthVerificationCtrl.onResend() translate=l10n.resendVerification aria-label=resendVerification-button> <md-tooltip ng-show="(oobeAuthVerificationCtrl.isOverflowed(\'resendbutton\'))"> <span class=font-uppercase translate=l10n.resendVerification></span> </md-tooltip> </md-button> <span flex></span> <md-button ng-click=oobeAuthVerificationCtrl.onChangeUser() translate=l10n.changeUser aria-label=changeUser-button></md-button> </div> </form> '},function(e,t){e.exports=" <md-content layout=row flex aria-hidden=true aria-label=oobe-auth-view> <nv-oobe-dialog-left-side ng-if=oobeAuthCtrl.isLeftPaneVisible() aria-label=oobe-auth-dialog-ls></nv-oobe-dialog-left-side> <div flex layout=column ng-switch on=oobeAuthCtrl.nvActiveAuthView aria-label=oobe-active-auth-view> <nv-oobe-auth-choose flex layout ng-switch-when=choose message={{oobeAuthCtrl.message}} aria-label=oobe-auth></nv-oobe-auth-choose> <nv-oobe-auth-nv-login flex layout ng-switch-when=nvLogin message={{oobeAuthCtrl.message}} nv-prefilled=oobeAuthCtrl.prefilledLogin aria-label=oobe-auth-login></nv-oobe-auth-nv-login> <nv-oobe-auth-nv-register flex layout ng-switch-when=nvRegister nv-type={{oobeAuthCtrl.registerType}} nv-prefilled=oobeAuthCtrl.prefilledRegistration aria-label=oobe-auth-register></nv-oobe-auth-nv-register> <nv-oobe-auth-sync flex layout ng-switch-when=sync aria-label=oobe-auth-sync></nv-oobe-auth-sync> <nv-oobe-auth-forgot-password flex layout ng-switch-when=forgotPassword aria-label=oobe-auth-forgot-password></nv-oobe-auth-forgot-password> <nv-oobe-auth-verification flex layout ng-switch-when=verification nv-session-object=oobeAuthCtrl.sessionObject nv-type={{oobeAuthCtrl.verificationType}} aria-label=oobe-auth-verification></nv-oobe-auth-verification> <nv-oobe-auth-edit-email flex layout ng-switch-when=editEmail nv-session-object=oobeAuthCtrl.sessionObject aria-label=oobe-auth-edit-email></nv-oobe-auth-edit-email> <nv-oobe-auth-qr-code flex layout nv-session-object=oobeAuthCtrl.sessionObject nv-email-verification={{oobeAuthCtrl.emailVerification}} ng-switch-when=qrCodeScan aria-label=oobe-auth-qrCode-scan></nv-oobe-auth-qr-code> </div> </md-content> "},function(e,t){e.exports='<div class="oobe-dialog crimson" layout=row ng-switch on=oobeCtrl.nvActiveView> <nv-oobe-dialog-left-side></nv-oobe-dialog-left-side> <div class=oobe-dialog-right-pane flex layout=column> <span flex></span> <div class=oobe-blocked-message layout layout-align="center center"> <p translate=l10n.blockedMessage></p> </div> <span flex></span> <div class=md-actions layout=row dir=rtl> <span flex></span> <a class=oobe-blocked-link href={{oobeBlockedCtrl.additionalInfoLink}} translate=l10n.additionalInfo></a> <span flex></span> </div> </div> </div> '},function(e,t){e.exports='<div class=oobe-login-left-side> <div class=oobe-side-text layout layout-align="center center"> <p translate=l10n.gameMaxPerformance></p> </div> <div class=oobe-side-text layout layout-align="center center"> <p translate=l10n.gameReadyDrivers></p> </div> <div class=oobe-side-text layout layout-align="center center"> <p translate=l10n.shareGameMoments></p> </div> </div> '},function(e,t){e.exports=" <div class=crimson layout=row ng-class=\"{'oobe-oauth-login-pane': oobeCtrl.onJarvisOAuthLogin(), 'oobe-dialog': !oobeCtrl.onJarvisOAuthLogin()}\" ng-switch on=oobeCtrl.nvActiveView aria-hidden=true> <nv-dialog-progress-bar layout=row class=oobe-dialog-progress-bar ng-if=oobeCtrl.progressShow nv-progress-active={{oobeCtrl.progressActive}} nv-progress-sections={{oobeCtrl.progressSections}} aria-label=oobe-dialog-progress-bar-section aria-hidden=true> </nv-dialog-progress-bar> <nv-oobe-auth flex layout=row ng-switch-when=auth nv-oobe-params=oobeCtrl.nvOobeParams aria-hidden=true></nv-oobe-auth> <nv-oobe-ul-welcome flex layout=row ng-switch-when=ulWelcome aria-label=oobe-welcome-window aria-hidden=true></nv-oobe-ul-welcome> <nv-oobe-no-driver flex layout=row ng-switch-when=noDriver aria-label=no-driver-window aria-hidden=true></nv-oobe-no-driver> </div> "},function(e,t){e.exports=' <md-content layout=row flex> <nv-oobe-dialog-left-side></nv-oobe-dialog-left-side> <div class=oobe-dialog-right-pane flex layout=column> <div class="title large"> <h1 translate=l10n.noDriverFound></h1> </div> <div class="font-size-sm color-medium-gray content" translate=l10n.clickContinueToInstallDriver> </div> <span flex></span> <div class=md-actions layout=row dir=rtl> <md-button class="md-raised md-accent color-white-important" ng-click=oobeNoDriverCtrl.onClickContinue() translate=l10n.continue aria-label=continueToInstallDriver-button></md-button> <span flex></span> </div> </div> </md-content> '},function(e,t){e.exports=' <md-content class=oobe-welcome-dialog layout=row flex> <nv-oobe-dialog-left-side></nv-oobe-dialog-left-side> <div class=oobe-dialog-right-pane flex layout=column> <div class="title large" layout=row> <h1 translate=l10n.keepGamesOptimized></h1> </div> <div layout=column flex> <p class="font-size-sm color-medium-gray content" translate=l10n.gfeBestExperience></p> <div layout=column class="margin-left-24 margin-top-24"> <md-checkbox class=checkbox-20 ng-model=oobeUlWelcomeCtrl.autoOptimize ng-change=oobeUlWelcomeCtrl.onAutoOptimizeChanged() aria-label=oobeUlWelcomeCtrlAutoOptimize> <span class=color-medium-gray translate=l10n.autoOptimizeNewGames></span> </md-checkbox> </div> </div> <div class=md-actions layout=column> <div layout=row layout-align="space-between center"> <div class="ul-actions-left margin-left-24"> <p class="margin-left-8 color-medium-gray" translate=l10n.scanningForGames ng-if=!oobeUlWelcomeCtrl.gameScanFinished></p> <p class="font-size-sm color-medium-gray margin-left-8" translate=l10n.scanGamesProgress translate-values={{oobeUlWelcomeCtrl.translateValues}} ng-if=oobeUlWelcomeCtrl.gameScanFinished></p> </div> <div> <md-button class="md-accent font-uppercase" ng-click=oobeUlWelcomeCtrl.onDismissDialog(false) translate=l10n.skip aria-label=skip-button> </md-button> <md-button class="md-raised md-accent color-white-important font-uppercase" ng-click=oobeUlWelcomeCtrl.onDismissDialog(true) translate=l10n.startTour aria-label=startTour-button> </md-button> </div> </div> </div> </div> </md-content> '},function(e,t){e.exports=' <md-content class=preferences-accounts-edit-avatar layout=column> <div ng-show=editAvatarCtrl.showCroppie()> <div layout=row layout-align="center center" class=constants-position-relative> <nv-croppie async-result=editAvatarCtrl.output update=editAvatarCtrl.onUpdate boundry=editAvatarCtrl.croppieBoundary viewport=editAvatarCtrl.croppieViewport type=circle zoom=true src=editAvatarCtrl.sourceImage hit-apply=editAvatarCtrl.hitApply> </nv-croppie> <nv-overlay class=common-overlay layout-fill ng-show=editAvatarCtrl.showProgressIndicator> <span layout-fill layout-align="center center" layout=column> <md-progress-circular id=progressIndicator class=md-accent md-diameter=15 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> <nv-overlay class=common-overlay layout-fill ng-show=editAvatarCtrl.showSuccess> <span layout-fill layout-align="center center" layout=column> <md-icon md-font-set=material-icons class="margin-zero md-accent md-32" aria-label=checkCircle aria-hidden=true>check_circle</md-icon> </span> </nv-overlay> </div> </div> <div ng-show=editAvatarCtrl.showPreview() layout=column layout-align="center center" class=avatar-image> <img ng-src={{editAvatarCtrl.avatarObject.url}} class=md-avatar nv-circle=large nv-fallback-src={{editAvatarCtrl.defaultAvatarUrl}} /> </div> <div ng-show=editAvatarCtrl.showError() layout=column flex layout-align="center center" class="bg-dark-eh avatar-image-error"> <md-icon md-font-set=material-icons class="margin-zero color-white-hue-4 md-32" aria-label=errorMessage aria-hidden=true>error</md-icon> <p class="color-white-hue-4 font-size-sm1">{{editAvatarCtrl.errorMsg}}</p> </div> <div layout=row layout-align="space-between center" class="margin-bottom-8 margin-top-8"> <p class="color-white-hue-4 margin-zero" translate=l10n.chooseAvatarFromGallery></p> <div flex></div> <nv-image-upload on-image-select=editAvatarCtrl.onFileSelect(newImage) ng-if=editAvatarCtrl.userProfileEnabled> <span class=md-button translate=l10n.uploadFromPC></span> </nv-image-upload> </div> <md-content flex layout-align=center> <md-list> <md-list-item ng-repeat="item in editAvatarCtrl.avatarList track by $index" class=avatar-list-item> <img ng-src={{item.url}} class=md-avatar nv-circle=medium ng-click=editAvatarCtrl.selectAvatar(item) /> </md-list-item> </md-list> </md-content> </md-content> '},function(e,t,n){e.exports='<div layout-align="center center" layout-padding layout=column> <img ng-src='+n(38)+' alt="email updated success image" id=successImage /> <p>{{emailUpdatedCtrl.nvDialogModel.newEmail}}</p> <p class="md-primary md-hue-2 foreground" translate=l10n.thanksEmailUpdated></p> </div> '},function(e,t){e.exports='<ng-form autocomplete=off flex layout-align="start start" layout=column layout-fill name=editPasswordCtrl.passwordForm> <md-input-container layout-fill md-no-float> <label translate=l10n.currentPassword></label> <input nv-input name=currentPassword ng-model=editPasswordCtrl.nvDialogModel.passwordModel.currentPassword required type=password md-no-asterisk> <div class=error-message ng-messages=editPasswordCtrl.passwordForm.currentPassword.$error ng-show=editPasswordCtrl.passwordForm.currentPassword.$touched> <div ng-message=required> <div translate=l10n.required></div> </div> </div> </md-input-container> <md-input-container layout-fill md-no-float> <label translate=l10n.newPassword></label> <input nv-input name=changedPassword ng-model=editPasswordCtrl.nvDialogModel.passwordModel.changedPassword minlength={{editPasswordCtrl.validationObject.password.minsize}} maxlength={{editPasswordCtrl.validationObject.password.maxsize}} nv-extended-pattern={{editPasswordCtrl.validationObject.password}} required type=password md-no-asterisk> <div class=error-message ng-messages=editPasswordCtrl.passwordForm.changedPassword.$error ng-show=editPasswordCtrl.passwordForm.changedPassword.$touched> <div ng-message=required> <div translate=l10n.required></div> </div> <div ng-message="minlength, maxlength, extendedPattern"> <div translate-values={{editPasswordCtrl.validationObject.password}} translate=l10n.passwordReqs></div> </div> </div> </md-input-container> <md-input-container layout-fill md-no-float> <label translate=l10n.confirmPassword></label> <input nv-input name=confirmedPassword ng-model=editPasswordCtrl.nvDialogModel.passwordModel.confirmedPassword minlength={{editPasswordCtrl.validationObject.password.minsize}} maxlength={{editPasswordCtrl.validationObject.password.maxsize}} required type=password nv-fields-match={{editPasswordCtrl.passwordForm.changedPassword.$viewValue}} md-no-asterisk> <div class=error-message ng-messages=editPasswordCtrl.passwordForm.confirmedPassword.$error ng-show=editPasswordCtrl.passwordForm.confirmedPassword.$touched> <div ng-message=required> <div translate=l10n.required></div> </div> <div ng-message=fieldsMatch> <div translate=l10n.passwordDoesNotMatch></div> </div> </div> </md-input-container> </ng-form> '},function(e,t){e.exports=' <div layout=column class=preferences-feature-description-section> <div class=preferences-feature-requirement layout=row layout-align="start center" ng-repeat="requirement in featureDescription.requirements" flex> <div ng-if=!requirement.isRecommendation class=margin-right-8> <md-icon class=md-16 md-font-set=material-icons ng-show={{requirement.state}} aria-label=check aria-hidden=true>check</md-icon> <md-icon class=md-16 md-font-set=material-icons ng-hide={{requirement.state}} aria-label=doNotDisturb aria-hidden=true>do_not_disturb</md-icon> </div> <div ng-if=requirement.isRecommendation layout=column layout-align="center center" class="requirement-recommendation-icon-container margin-right-8"> <div class=recommendation-circle></div> </div> <span class="font-size-sm nv-ellipsis-lines-3" ng-class="requirement.state ? \'color-white-hue-3\' : \'color-white-hue-4\'">{{requirement.message}}</span> <md-button class="md-accent margin-zero margin-left-8-important feature-driver-update-button" ng-if=featureDescription.showDriverDownloadButton(requirement) ng-click=featureDescription.onDownloadClicked() aria-label=driverDownload-button><span translate=l10n.updateDriver></span></md-button> </div> <div class="feature-readiness-content requirement-link-container" ng-if=featureDescription.systemRequirement> <a ng-click=featureDescription.openLink() class="md-default-theme font-size-sm top-margin-linksection" translate={{featureDescription.systemRequirement.text}} flex></a> </div> <div class="feature-readiness-content requirement-link-container" ng-if=featureDescription.supportedGames> <a ng-click=featureDescription.openSupportedGamesLink() class="md-default-theme font-size-sm top-margin-linksection" translate={{featureDescription.supportedGames.text}} flex></a> </div> </div> '},function(e,t){e.exports=' <div flex layout=row class=preferences-feature-header-section> <div layout=column class="image-container constants-position-relative" ng-hide={{featureHeader.nvOverallState}}> <nv-overlay layout-fill class="common-overlay no-background"> <md-icon class="nv-custom-icons md-16 feature-notready-overlay nv-custom-alert-icon-color" md-font-icon=icon-alert aria-label=alertIcon alt=alert-icon aria-hidden=true></md-icon> </nv-overlay> <md-icon ng-show="featureHeader.nvFeatureTile!= quietMode2" class="nv-custom-icons md-32 feature-not-supported-icon-color" md-font-icon={{featureHeader.featureThumbnail}} aria-label=featureNotSupportedIcon alt=featureNotSupported aria-hidden=true></md-icon> <md-icon class="wm2-icon-feature-card md-32 wm2-not-supported-icon-color" ng-show="featureHeader.nvFeatureTile==quietMode2" md-svg-icon={{featureHeader.featureThumbnail}} aria-label=featureWmNotSupportedIcon alt=wm2NotSupported aria-hidden=true></md-icon> </div> <md-icon class="nv-custom-icons md-32 color-white" ng-if="featureHeader.nvFeatureTile!=quietMode2" ng-show={{featureHeader.nvOverallState}} md-font-icon={{featureHeader.featureThumbnail}} aria-label=quietModeNotSupportedIcon alt=quietModeNotSupported aria-hidden=true></md-icon> <md-icon class="wm2-icon-feature-card md-32 color-white" ng-if="featureHeader.nvFeatureTile==quietMode2" ng-show={{featureHeader.nvOverallState}} md-svg-icon={{featureHeader.featureThumbnail}} aria-label=quietModeSupportedIcon alt=quietModeSupported aria-hidden=true></md-icon> <div class=md-list-item-text flex> <h3 class="feature-title color-white-hue-3 font-size-sm font-uppercase">{{featureHeader.featureName}}</h3> <p class="color-white-hue-4 font-size-sm font-uppercase" ng-hide={{featureHeader.nvOverallState}} translate=l10n.notReady></p> <p class="color-white-hue-4 font-size-sm font-uppercase" ng-show={{featureHeader.nvOverallState}} translate=l10n.ready></p> <p class="color-white-hue-4 font-size-sm">{{featureHeader.featureDescription}}</p> </div> </div> '},function(e,t){e.exports='<pre class="md-primary md-hue-2 foreground" tabindex=0 md-autofocus=true>{{licenseAgreementCtrl.licenseAgreement}}</pre> '},function(e,t){e.exports=' <pre class="md-primary md-hue-2 foreground no-focus-outline" tabindex=0 md-autofocus=true>{{openSourceLicensesCtrl.OpenSourceLicenses}}</pre> '},function(e,t){e.exports=' <div class="preferences-preference-section md-hue-3 background md-primary accounts-section-avatar" id=avatar> <div layout=row class=preferences-section-header-button layout-align=space-between> <h4 class="font-size-lg color-white-hue-3" translate=l10n.avatar></h4> <md-button class=md-icon-button ng-click=preferencesAccounts.updateAvatar() nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.USER_EDIT_AVATAR}}}\' aria-label=updateAvatar-button> <md-icon md-font-set=material-icons aria-label="edit button to update avatar" aria-hidden=true>edit</md-icon> </md-button> </div> <div class=preferences-section-content layout=column layout-align="center center"> <img ng-src={{preferencesAccounts.avatar.url}} class=md-avatar alt={{preferencesAccounts.user.core.displayName}} nv-fallback-src={{preferencesAccounts.defaultAvatarUrl}} nv-circle=large /> <p class="font-size-sm color-white-hue-1">{{preferencesAccounts.user.core.displayName}}</p> </div> </div> '},function(e,t){e.exports=' <div class="preferences-preference-section md-hue-3 background md-primary" ng-hide=::!preferencesAccounts.devFeatures.experimental> <div class=preferences-section-header-description> <h4 class="font-size-lg color-white-hue-3" translate=l10n.deviceManagement></h4> </div> <div class=preferences-section-content> <md-list layout=column> <md-list-item ng-repeat="undefined in undefined"></md-list-item> </md-list> <div class=accounts-section-button> <md-button translate=l10n.removeAllDevices ng-click=preferencesAccounts.removeAllDevices() ng-disabled="undefined" id=removeAllDevices aria-label=removeAllDevices-button></md-button> </div> </div> </div> '},function(e,t){e.exports=' <div class="preferences-preference-section md-hue-3 background md-primary" ng-hide=::!preferencesAccounts.devFeatures.experimental> <div class=preferences-section-header> <h4 class="font-size-lg color-white-hue-3" translate=l10n.linkedAccounts translate-values="{{ {linkedAccountsCount: undefined} }}"></h4> </div> <div class=preferences-section-content> <md-list layout=row> <md-list-item ng-repeat="undefined in undefined"></md-list-item> </md-list> <div class="accounts-section-button md-actions" layout=row layout-align=space-between> <md-button translate=l10n.remove ng-click="preferencesAccounts.removeLinkedAccounts(undefined)" ng-disabled="undefined" id=removeLink aria-label=removeLink-button></md-button> <md-button translate=l10n.link ng-click=preferencesAccounts.linkAccounts() id=addLink aria-label=addLink-button></md-button> </div> </div> </div> '},function(e,t){e.exports=' <div class="md-hue-3 background md-primary preferences-preference-section accounts-section-newsletter"> <div ng-if=preferencesAccounts.showNewsletter> <div class=preferences-section-header-switch layout=row layout-align="space-between start"> <h4 class="font-size-lg color-white-hue-3" translate=l10n.nvidiaNewsletter></h4> </div> <div class=preferences-section-content> <md-checkbox class="color-white-hue-3 font-size-sm checkbox-20" ng-change=preferencesAccounts.toggleNewsletter() ng-model=preferencesAccounts.subscribed.state aria-label=toggleNewsletter> <span class=color-white-hue-4 translate=l10n.subscribe></span> </md-checkbox> </div> </div> <div ng-if=preferencesAccounts.isWeChatSupported class=preferences-section-content> <div ng-repeat="wechatGroup in preferencesAccounts.wechatGroups"> <div layout=row class=preferences-section-header-button layout-align=space-between> <h4 class="font-size-sm color-white-hue-3" translate={{wechatGroup.event}}></h4> </div> <a class="md-default-theme font-size-sm" ng-click=preferencesAccounts.onShowQrCode(wechatGroup) translate=l10n.weChatQrCode translate-values="{\'clubName\': wechatGroup.event}"> </a> </div> </div> </div> '},function(e,t){e.exports=' <div class="preferences-preference-section md-hue-3 background md-primary accounts-section-personalInfo" id=personalInfo> <div layout=row class=preferences-section-header-button layout-align=space-between> <h4 class="font-size-lg color-white-hue-3" translate=l10n.personalInformation></h4> <md-button class=md-icon-button ng-click=preferencesAccounts.tryUpdatePersonalInformation() ng-if=preferencesAccounts.user.core.passwordLastChanged aria-label=tryUpdatePersonalInformation-button> <md-icon md-font-set=material-icons aria-label="update personal information" aria-hidden=true>edit</md-icon> </md-button> </div> <div class=preferences-section-content> <ng-form name=preferencesAccounts.personalInformationForm> <md-input-container layout-fill> <p class="font-size-xxs color-white-hue-4" translate=l10n.displayName></p> <input spellcheck=false class="font-size-sm color-white-hue-3" name=displayName ng-model=preferencesAccounts.editUserObject.displayName ng-disabled=!preferencesAccounts.isEditingPersonalInfo required md-no-asterisk> <div class=error-message ng-messages=preferencesAccounts.personalInformationForm.displayName.$error ng-show=preferencesAccounts.personalInformationForm.displayName.$touched> <div ng-message=required> <div translate=l10n.required></div> </div> </div> </md-input-container> <md-input-container layout-fill ng-hide=::!preferencesAccounts.devFeatures.experimental> <p class="font-size-xxs color-white-hue-4" translate=l10n.realName></p> <p class="font-size-sm color-white-hue-3">{{preferencesAccounts.getRealName()}}</p> </md-input-container> <md-input-container layout-fill ng-hide=::!preferencesAccounts.devFeatures.experimental> <p class="font-size-xxs color-white-hue-4" translate=l10n.phone></p> <p class="font-size-sm color-white-hue-3">{{preferencesAccounts.getPhone()}}</p> </md-input-container> <div> <p class="font-size-xxs color-white-hue-4" translate=l10n.memberSince></p> <p class="font-size-sm color-white-hue-3" translate=l10n.memberSinceFormat translate-values="{{ {memberSinceFormat:preferencesAccounts.user.core.created} }}" layout-align="center start"></p> </div> </ng-form> </div> </div> '},function(e,t){e.exports=' <div class="preferences-preference-section accounts-section-security md-hue-3 background md-primary" id=security> <div class=preferences-section-header-button layout=row layout-align=space-between> <h4 class="font-size-lg color-white-hue-3" translate=l10n.securityAndPrivacy></h4> <md-button class=md-icon-button ng-click=preferencesAccounts.tryUpdatePrivacyPreferences() aria-label=tryUpdatePrivacyPreferences-button> <md-icon md-font-set=material-icons aria-label="edit button to update privacy preferences" aria-hidden=true>edit</md-icon> </md-button> </div> <div class="preferences-section-content preferences-md-icon"> <div ng-if=preferencesAccounts.user.core.passwordLastChanged> <p class="font-size-xxs color-white-hue-4" translate=l10n.password></p> <p class="color-white-hue-3 font-size-sm" translate=l10n.passwordChangedDate translate-values="{{ {passwordChangedDate:preferencesAccounts.user.core.passwordLastChanged} }}" layout-align="center start"></p> </div> <md-checkbox class="color-white-hue-3 font-size-sm checkbox-16" ng-change=preferencesAccounts.setUserRememberedOnMachine() ng-model=preferencesAccounts.isUserRememberedOnMachine aria-label=preferencesAccountsSetUser> <span class=color-white-hue-4 translate=l10n.rememberUser /> </md-checkbox> </div> </div> '},function(e,t){e.exports='<div class=preferences-accounts-section> <div class=preferences-col-1> <nv-preferences-accounts-avatar></nv-preferences-accounts-avatar> <nv-preferences-accounts-personal-info></nv-preferences-accounts-personal-info> <nv-preferences-accounts-security></nv-preferences-accounts-security> </div> <div class=preferences-col-2> <nv-preferences-accounts-linked></nv-preferences-accounts-linked> <nv-preferences-accounts-devices></nv-preferences-accounts-devices> <nv-preferences-accounts-newsletter ng-if="preferencesAccounts.showNewsletter || preferencesAccounts.isWeChatSupported"></nv-preferences-accounts-newsletter> </div> </div> '},function(e,t){e.exports=' <div id=toast-container layout=row flex aria-label=preferences-sidebar-main> <div class="preferences-sidebar-container md-hue-3 background md-primary" aria-label=preferences-sidebar-section> <div layout-fill> <md-list> <md-list-item class=color-white-hue-3 ng-repeat="preference in preferencesController.Preferences | filter: {isEnabled: true}" ng-click=$state.go(preference.route) ng-class="{\'md-button-selected md-accent foreground\': $state.includes(preference.route)}" aria-label=preferences-list-item aria-hidden=true> <p class=font-size-lg> {{preference.name | translate | uppercase}} </p> </md-list-item> </md-list> </div> </div> <md-content class=preferences-items-container flex> <div ui-view flex layout-fill aria-label=preferences-ui-view></div> </md-content> </div> '},function(e,t,n){e.exports='<div class="preferences-preference-section md-primary md-hue-3 background"> <div class=preferences-section-header> <h4 class="color-white-hue-3 font-size-lg">{{\'l10n.features\' | translate |uppercase}}</h4> </div> <div ng-switch=preferencesFeatureReadiness.loadingState class=feature-readiness-container> <div layout=row layout-align="center center" class=state-info-content-height ng-switch-when=LOADING> <md-progress-circular class=md-accent md-diameter=50 md-mode=indeterminate></md-progress-circular> </div> <div layout=column layout-align="center center" class=state-info-content-height ng-switch-when=FAILED> <img ng-src='+n(38)+' /> <p class=color-light-gray translate=l10n.noInformationAvailable /> </div> <div class="preferences-section-content feature-readiness-content" ng-switch-when=DONE> <nv-accordion class="common-accordion common-accordion-transparent" nv-accordion-mode=onlyOne> <nv-accordion-pane ng-repeat="feature in preferencesFeatureReadiness.features | orderBy:\'-id\' | filter:{visibility:true}"> <nv-accordion-pane-header flex layout=row layout-align="start center"> <nv-feature-header flex nv-feature-name={{feature.header}} nv-feature-tile={{feature.featureTile}} nv-feature-description={{feature.message}} nv-overall-state={{feature.newOverallState}}></nv-feature-header> </nv-accordion-pane-header> <nv-accordion-pane-content layout=column> <nv-feature-description ng-if=feature nv-feature-name={{feature.featureTile}} nv-feature-requirements=feature.shallowStates nv-overall-state={{feature.newOverallState}}> </nv-feature-description> </nv-accordion-pane-content> <md-divider ng-if=!$last></md-divider> </nv-accordion-pane> </nv-accordion> </div> </div> </div> '},,function(e,t,n){e.exports=' <div layout=column class=constants-position-relative> <div class="preferences-preference-section md-primary md-hue-3 background" ng-if=!preferencesGamesBatteryBoost.loadingFailed> <div class=preferences-section-header-description-switch layout=row layout-align=space-between> <div> <h4 class="color-white-hue-3 font-size-lg" translate=l10n.batteryBoost></h4> <p class="color-white-hue-4 font-size-xxs" translate=l10n.batteryBoostDescription></p> </div> <md-switch ng-model=preferencesGamesBatteryBoost.enabledBatterySwitch ng-change=preferencesGamesBatteryBoost.onChangeBatteryBoostState(true) ng-show=preferencesGamesBatteryBoost.loadingDone ng-disabled=preferencesGamesBatteryBoost.requestInProgress aria-label=enableBatterySwitch></md-switch> </div> <div class="preferences-section-content preferences-games-battery-boost"> <div layout=row layout-align="space between" class=battery-boost-content-title> <p class="color-white-hue-4 font-size-sm" translate=l10n.maximumFramerate></p> <h4 class="color-white-hue-3 font-size-xl"> {{ preferencesGamesBatteryBoost.currentSliderIndex }} <span translate=l10n.fps></span> </h4> </div> <div layout=row layout-align="space-between center" class="optimized-slider-items-header color-white-hue-3"> <p ng-show=opsCtrl.isCurrentSettingTypeAC() class="font-size-xxs line-height-sm1" translate=l10n.performance></p> <p ng-hide=opsCtrl.isCurrentSettingTypeAC() class="font-size-xxs line-height-sm1" translate=l10n.battery></p> <p class="font-size-xxs line-height-sm1" translate=l10n.quality></p> </div> <div layout=column class="optimized-slider-container battery-boost"> <div layout=row layout-align="center center"> <md-icon class="nv-custom-icons md-18 battery-icon" md-font-icon=icon-onbattery aria-label=onBatteryIcon aria-hidden=true> <md-tooltip> <span translate=l10n.longerBatteryLife></span> </md-tooltip> </md-icon> <div flex class=constants-position-relative id=gamesBatteryBoostSliderDiv> <md-slider md-discrete ng-model=preferencesGamesBatteryBoost.currentSliderIndex min=30 max=60 step=5 ng-disabled=!preferencesGamesBatteryBoost.enabledBatterySwitch ng-change=preferencesGamesBatteryBoost.onChangeBatteryBoostState(false) aria-label=gamesBatteryBoostSlider aria-hidden=true> </md-slider> </div> <md-icon class="nv-custom-icons md-18 quality-icon" md-font-icon=icon-speedometer aria-label=speedometerIcon aria-hidden=true> <md-tooltip> <span translate=l10n.higherPerformance></span> </md-tooltip> </md-icon> </div> <div class="optimal-button-container battery-boost"> <div class="optimal-line-indicator md-accent background" ng-disabled=!preferencesGamesBatteryBoost.enabledBatterySwitch></div> <md-button class="md-accent color-white-important md-raised optimal-value-button font-size-sm" ng-click=preferencesGamesBatteryBoost.applyOptimalValue() ng-disabled=!preferencesGamesBatteryBoost.enabledBatterySwitch translate=l10n.optimal aria-label=applyOptimalValue> </md-button> </div> </div> </div> <nv-overlay class="common-overlay preferences-share-overlay" layout=column layout-align="center center" ng-show=preferencesGamesBatteryBoost.requestInProgress> <span layout-fill layout-align="center center" layout=column> <md-progress-circular class=md-accent md-diameter=50 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> </div> <div ng-if=preferencesGamesBatteryBoost.loadingFailed> <div> <h4 class="color-white-hue-3 font-size-lg" translate=l10n.batteryBoost></h4> <p class="color-white-hue-4 font-size-xxs" translate=l10n.batteryBoostDescription></p> </div> <div layout=column layout-align="center center"> <img ng-src='+n(38)+" alt=GameController /> <p class=color-light-gray translate=l10n.noInformationAvailable /> </div> </div> </div> "},function(e,t,n){e.exports=' <div layout=column class=constants-position-relative> <div class="preferences-preference-section md-primary md-hue-3 background" ng-if=!preferencesGamesBatteryBoost2.loadingFailed> <div class=preferences-section-header-description-switch layout=row layout-align=space-between> <div> <h4 class="color-white-hue-3 font-size-lg" translate=l10n.batteryBoost2></h4> <p class="color-white-hue-4 font-size-xxs" translate=l10n.batteryBoostDescription2></p> </div> <md-switch ng-model=preferencesGamesBatteryBoost2.enabledBatterySwitch ng-change=preferencesGamesBatteryBoost2.onChangeBatteryBoostState(true) ng-show=preferencesGamesBatteryBoost2.loadingDone ng-disabled=preferencesGamesBatteryBoost2.requestInProgress></md-switch> </div> <nv-overlay class="common-overlay preferences-overlay" layout=column layout-align="center center" ng-show=preferencesGamesBatteryBoost2.requestInProgress> <span layout-fill layout-align="center center" layout=column> <md-progress-circular class=md-accent md-diameter=50 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> </div> <div ng-if=preferencesGamesBatteryBoost2.loadingFailed> <div> <h4 class="color-white-hue-3 font-size-lg" translate=l10n.batteryBoost2></h4> <p class="color-white-hue-4 font-size-xxs" translate=l10n.batteryBoostDescription2></p> </div> <div layout=column layout-align="center center"> <img ng-src='+n(38)+" /> <p class=color-light-gray translate=l10n.noInformationAvailable /> </div> </div> </div> ";
},function(e,t){e.exports='<div layout-align="space-between top"> <div class=preferences-col-1> <div class="preferences-preference-section md-primary md-hue-3 background"> <nv-preference-games-scan></nv-preference-games-scan> </div> <nv-preference-games-location></nv-preference-games-location> </div> <div class=preferences-col-2> <div class="preferences-preference-section md-primary md-hue-3 background" ng-if=preferencesGames.isOpsSupported> <nv-preference-games-ops></nv-preference-games-ops> </div> <div class=constants-position-relative ng-if=preferencesGames.showAceMode()> <nv-preferences-games-perf-mode nv-ace-mode-supported={{preferencesGames.isPerfModeSupported}} nv-selected-power-mode={{preferencesGames.selectedPowerMode}} nv-loading-failed={{preferencesGames.loadingAceModeFailed}}></nv-preferences-games-perf-mode> </div> </div> </div> '},function(e,t){e.exports=' <md-button flex layout-fill class="margin-zero text-transform-none padding-right-left-16" ng-click=preferencesGamesLocationItem.nvClickAction() nv-ellipsis-lines=1 aria-label=game-location-button> <p class="font-size-sm color-white-hue-4" nv-ellipsis-lines=1>{{preferencesGamesLocationItem.nvLocation}}</p> <md-tooltip md-visible=preferencesGamesLocationItem.showTooltip md-autohide>{{preferencesGamesLocationItem.nvLocation}}</md-tooltip> </md-button> '},function(e,t){e.exports=' <div class="preferences-preference-section md-primary md-hue-3 background"> <div class=preferences-section-header> <h4 class="color-white-hue-3 font-size-lg" translate=l10n.gameLocation></h4> </div> <div class="preferences-section-content scan-location-content"> <div class="scan-location-section bg-dark-vh20 constants-position-relative common-container-overflow" layout=row layout-align=space-between> <div flex> <md-list> <md-list-item class="scan-location-md-list-item-button md-list-item-text padding-zero-important" ng-repeat="location in preferencesGameslocation.scanGamesLocation track by $index" ng-class="{\'bg-green-hv-hue-1\': preferencesGameslocation.isSelected(location)}"> <nv-preferences-games-location-item flex nv-location={{location}} class=constants-z-layers-one nv-click-action=preferencesGameslocation.selectedPathChanged(location)></nv-preferences-games-location-item> </md-list-item> </md-list> </div> </div> <div class=scan-location-content-margin layout=row layout-align="space-between cente"> <button class="md-button ng-scope md-ink-ripple font-size-sm" type=button ng-click=preferencesGameslocation.remove() translate=l10n.remove ng-disabled=preferencesGameslocation.canRemovePath() tabindex=0 aria-label=preferences-games-location-remove-button></button> <button class="md-button ng-scope md-ink-ripple font-size-sm" type=button ng-click=preferencesGameslocation.add() translate=l10n.add ng-disabled=preferencesGameslocation.addBtnDisabled tabindex=0 aria-label=preferences-games-location-add-button></button> </div> </div> </div> '},function(e,t){e.exports=' <div> <div class=preferences-section-header-description layout=row layout-align=space-between> <div> <h4 class="color-white-hue-3 font-size-lg line-height-sm1" translate=l10n.optimalPlayableSettings></h4> </div> </div> <div layout-align="start start" class="preferences-section-content preferences-md-icon" layout=column> <md-checkbox class="line-height-sm1 top-margin-checkboxes color-white-hue-3 font-size-sm checkbox-16" ng-change=preferencesGamesOps.setAutoOptimize() ng-model=preferencesGamesOps.autoOptimize ng-disabled="preferencesGamesOps.autoOptimize === null" aria-label=GamesOpsAutoOptimize> <span class="line-height-sm1 color-white-hue-4" translate=l10n.autoOptimizeNewGames></span> </md-checkbox> </div> </div> '},function(e,t,n){e.exports='<div class="preferences-preference-section md-primary md-hue-3 background performance-mode"> <div ng-if=!preferencesGamesPerfMode.loadingFailed> <div class=preferences-section-header-description-switch layout=row layout-align=space-between> <div> <h4 class="color-white-hue-3 font-size-lg" translate=l10n.performance></h4> <p class="color-white-hue-4 font-size-xxs" translate=l10n.performanceModeDescription></p> </div> </div> <md-radio-group ng-model=preferencesGamesPerfMode.selectedPowerMode> <md-radio-button value={{preferencesGamesPerfMode.powerModes.MAX_P}} ng-click=preferencesGamesPerfMode.updatePowerMode(preferencesGamesPerfMode.powerModes.MAX_P) class=no-focus-outline ng-disabled=preferencesGamesPerfMode.disablePowerModeButtons()> <div layout=column> <p translate=l10n.performance class="color-white-hue-3 font-size-sm margin-zero margin-top-2"></p> <p translate=l10n.perfModeDescription class="color-white-hue-4 font-size-sm margin-zero margin-top-2"></p> </div> </md-radio-button> <md-divider class=feature-readiness-content></md-divider> <md-radio-button value={{preferencesGamesPerfMode.powerModes.MAX_Q}} ng-click=preferencesGamesPerfMode.updatePowerMode(preferencesGamesPerfMode.powerModes.MAX_Q) class="no-focus-outline margin-top-16" ng-disabled=preferencesGamesPerfMode.disablePowerModeButtons()> <div layout=column> <p translate=l10n.balancedMode class="color-white-hue-3 font-size-sm margin-zero margin-top-2"></p> <p translate=l10n.balancedModeDescription class="color-white-hue-4 font-size-sm margin-zero margin-top-2"></p> </div> </md-radio-button> <md-divider class=feature-readiness-content></md-divider> <md-radio-button value={{preferencesGamesPerfMode.powerModes.QUIET}} ng-click=preferencesGamesPerfMode.updatePowerMode(preferencesGamesPerfMode.powerModes.QUIET) class="no-focus-outline margin-top-16" ng-disabled=preferencesGamesPerfMode.disablePowerModeButtons()> <div layout=column> <p translate=l10n.quietMode class="color-white-hue-3 font-size-sm margin-zero margin-top-2"></p> <p translate=l10n.whisperModeDescription class="color-white-hue-4 font-size-sm margin-zero margin-top-2"></p> </div> </md-radio-button> </md-radio-group> <nv-overlay class=common-overlay layout=column layout-align="center center" ng-show=preferencesGamesPerfMode.requestInProgress> <span layout-fill layout-align="center center" layout=column> <md-progress-circular class=md-accent md-diameter=50 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> </div> <div ng-if=preferencesGamesPerfMode.loadingFailed> <div> <h4 class="color-white-hue-3 font-size-lg" translate=l10n.performance></h4> <p class="color-white-hue-4 font-size-xxs" translate=l10n.performanceModeDescription></p> </div> <div layout=column layout-align="center center"> <img ng-src='+n(38)+" /> <p class=color-light-gray translate=l10n.noInformationAvailable /> </div> </div> </div> "},function(e,t,n){e.exports=' <div layout=column class=constants-position-relative> <div class="preferences-preference-section md-primary md-hue-3 background" ng-if=!preferencesGamesQuietMode.loadingFailed> <div class=preferences-section-header-description-switch layout=row layout-align=space-between> <div> <h4 class="color-white-hue-3 font-size-lg" translate=l10n.quietMode></h4> <p class="color-white-hue-4 font-size-xxs" translate=l10n.quietModeDescription></p> </div> <md-switch ng-model=preferencesGamesQuietMode.enabledQuietSwitch ng-change=preferencesGamesQuietMode.onChangeQuietModeState(true) ng-show=preferencesGamesQuietMode.loadingDone ng-disabled=preferencesGamesQuietMode.disableQuietModeSwitch() aria-label="Enable Quiet mode switch"></md-switch> </div> <p class="color-white-hue-4 font-size-xxs" translate=l10n.changeGameFrameRate></p> <nv-overlay class="common-overlay preferences-overlay" layout=column layout-align="center center" ng-show=preferencesGamesQuietMode.requestInProgress> <span layout-fill layout-align="center center" layout=column> <md-progress-circular class=md-accent md-diameter=50 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> </div> <div ng-if=preferencesGamesQuietMode.loadingFailed> <div> <h4 class="color-white-hue-3 font-size-lg" translate=l10n.quietMode></h4> <p class="color-white-hue-4 font-size-xxs" translate=l10n.quietModeDescription></p> </div> <div layout=column layout-align="center center"> <img ng-src='+n(38)+" /> <p class=color-light-gray translate=l10n.noInformationAvailable /> </div> </div> </div> "},function(e,t){e.exports=' <div flex> <div class=preferences-section-header> <h4 class="color-white-hue-3 font-size-lg" translate=l10n.gameScan></h4> </div> <div class=preferences-section-content> <div layout=row class=games-scan-container layout-align=space-around> <div layout=column layout-align="center center"> <h4 class="color-white-hue-4 font-size-sm line-height-sm1" translate=l10n.gamesFound></h4> <h4 class="color-white-hue-3 font-size-xxxl line-height-lg1">{{preferencesGamesScan.totalGames}}</h4> <a ng-click=preferencesGamesScan.onLaunchUrl() class="color-lighter-gray md-default-theme font-size-sm" translate=l10n.viewSupportedGames flex> </a> </div> <div class="games-scan-divider bg-grey-im"></div> <div class=button-text-padding layout=column layout-align="center center"> <h4 class="color-white-hue-4 font-size-sm line-height-sm1" translate=l10n.lastChecked></h4> <h4 class="color-white-hue-3 font-size-xl1 line-height-sm1">{{preferencesGamesScan.lastRereshTime | convertUTCToTimeAgo}}</h4> <md-button class="md-raised md-secondary" ng-click=preferencesGamesScan.scanGames() ng-disabled=preferencesGamesScan.scanInProgress aria-label=scan-games-button>{{preferencesGamesScan.scanStatus}}</md-button> </div> </div> </div> </div> '},function(e,t,n){e.exports=' <div class="preferences-preference-section md-primary md-hue-3 background"> <div class=preferences-section-header> <h4 class="color-white-hue-3 font-size-lg">{{\'l10n.about\' | translate |uppercase}}</h4> </div> <div class="preferences-about-section-content about-section"> <div layout=column> <img src='+n(710)+'> <div flex class="gfe-version-container preferences-md-icon"> <p class="color-white-hue-3 font-size-lg margin-top-zero" translate=l10n.nvidiaGeforceExperience></p> <p class="color-white-hue-4 font-size-lg title-content-top-margin"><span class=title-content-right-margin translate=l10n.version></span><span>{{preferencesGeneralAbout.version}}&nbsp;{{preferencesGeneralAbout.beta}}</span></p> <p class="color-white-hue-4 font-size-xxs data-container-lastrow title-content-top-margin" nv-ellipsis-lines=1 translate=l10n.nvidiaRightReserved></p> </div> </div> <div class="preferences-md-icon links-top-margin font-size-xxs"> <md-checkbox ng-disabled=!preferencesGeneralAbout.clientBetaUpdateCheckboxEnabled class="font-size-sm preferences-md-icon checkbox-16 margin-bottom-12" ng-change=preferencesGeneralAbout.setClientBetaUpdateEnabled() ng-model=preferencesGeneralAbout.clientBetaUpdateEnabled aria-label=clientBetaUpdateCheckbox aria-hidden=true> <span translate=l10n.clientBetaUpdate aria-label=clientBetaUpdate></span> </md-checkbox> <div class="preference-gfe-check-for-update-container margin-bottom-8 margin-left-zero" ng-show=preferencesGeneralAbout.showCheckingForUpdate() flex> <p class="color-white-hue-4 font-size-xxs margin-top-zero margin-left-zero margin-bottom-10" translate=l10n.checkingforUpdates></p> <md-progress-linear class=md-accent flex md-mode=indeterminate aria-label=checkingforUpdatesProgress></md-progress-linear> </div> <div class="preference-gfe-check-for-update-container margin-bottom-8 margin-left-zero" ng-show="preferencesGeneralAbout.showPreparingForInstall(preferencesGeneralAbout.gfeBetaUpdate.downloadStatus.status, preferencesGeneralAbout.gfeBetaUpdate.downloadStatus.percentComplete)" flex> <p class="color-white-hue-4 font-size-xxs margin-left-zero margin-bottom-10" translate=l10n.preparingForInstallation></p> <md-progress-linear class=md-accent flex md-mode=indeterminate aria-label=checkingforUpdatesdownloadStatus></md-progress-linear> </div> <div ng-hide="preferencesGeneralAbout.showPreparingForInstall(preferencesGeneralAbout.gfeBetaUpdate.downloadStatus.status, preferencesGeneralAbout.gfeBetaUpdate.downloadStatus.percentComplete)" class="download-install-controls layout-fill" flex> <div class=margin-bottom-2 ng-if=preferencesGeneralAbout.showDownloadButton(preferencesGeneralAbout.gfeBetaUpdate.downloadStatus.status)> <p class="color-white-hue-4 font-size-xxs" translate=l10n.updateIsAvailable></p> <div layout=row layout-align="end end"> <md-button class="margin-right-zero md-raised md-accent color-white-important" ng-show=preferencesGeneralAbout.showDownloadButton(preferencesGeneralAbout.gfeBetaUpdate.downloadStatus.status) ng-click=preferencesGeneralAbout.startDownload(preferencesGeneralAbout.gfeBetaUpdate) translate=l10n.download aria-label=download-button></md-button> </div> </div> <div class="download-container margin-bottom-8" layout=row ng-if=preferencesGeneralAbout.isDownloadStarted(preferencesGeneralAbout.gfeBetaUpdate.downloadStatus.status)> <div layout=column class=download-details-container> <nv-update-download-progress nv-message={{preferencesGeneralAbout.getDownloadStatusMessage(preferencesGeneralAbout.gfeBetaUpdate.downloadStatus.status)}} nv-value={{preferencesGeneralAbout.gfeBetaUpdate.downloadStatus.percentComplete}}></nv-update-download-progress> <div layout=row flex layout-align="space-between start" class=download-details-status-container> <p flex=50% class="font-size-xxs color-white-hue-4">{{preferencesGeneralAbout.getProgressString(preferencesGeneralAbout.gfeBetaUpdate)}}</p> <div layout=row flex=50% layout-align="space-between start"> <p class="font-size-xxs color-white-hue-4 download-speed margin-right-16">{{preferencesGeneralAbout.gfeBetaUpdate.downloadStatus.downloadSpeed | convertBytesToKBMBGB}}/Sec</p> <p class="font-size-xxs color-white-hue-4">{{preferencesGeneralAbout.gfeBetaUpdate.downloadStatus.timeRemaining | convertSecondsToTime:true}}</p> </div> </div> </div> </div> <div class=margin-bottom-2 ng-if=preferencesGeneralAbout.showRestartGfeMessage(preferencesGeneralAbout.gfeBetaUpdate.downloadStatus.status)> <p class="margin-zero color-white-hue-4 font-size-xxs" translate=l10n.downloadCompleteRestartGfe></p> <div layout=row layout-align="end end"> <md-button class="margin-right-zero md-raised md-accent color-white-important" ng-click=preferencesGeneralAbout.restartNow() translate=l10n.restartNow aria-label=restartNow-button></md-button> </div> </div> </div> <md-divider></md-divider> <md-divider class=color-black-hue-2></md-divider> <div layout-align="start start" class=margin-top-12> <a class="md-default-theme font-size-sm" ng-click=preferencesGeneralAbout.onShowReleaseHighlight() translate=l10n.releaseHighlights> </a> </div> <div layout-align="start start" class=margin-between-links> <a class="md-default-theme font-size-sm" ng-click=preferencesGeneralAbout.onShowLicense() translate=l10n.licenseAggrement> </a> </div> <div layout-align="start start" class=margin-between-links> <a class="md-default-theme font-size-sm" ng-click=preferencesGeneralAbout.onLaunchPrivacyPolicy() translate=l10n.privacyPolicy></a> </div> <div layout-align="start start" class=margin-between-links> <a class="md-default-theme font-size-sm" ng-click=preferencesGeneralAbout.onLaunchFaq() translate=l10n.faq> </a> </div> <div layout-align="start start" class=margin-between-links> <a class="md-default-theme font-size-sm" ng-click=preferencesGeneralAbout.onOpenSourceLicenses() translate=l10n.openSourceLicenses> </a> </div> <div class=gfe-partner-section layout-align="start start"> <nv-accordion class="common-accordion common-accordion-transparent common-accordion-hover" nv-accordion-mode=onlyOne> <nv-accordion-pane> <nv-accordion-pane-header flex layout=row layout-align="start start"> <div class="ng-isolate-scope flex"> <a class="md-default-theme font-size-sm" translate=l10n.gfePartnerPrivacyPolicy></a> </div> </nv-accordion-pane-header> <nv-accordion-pane-content layout=column aria-label=gfePartnerPrivacyPolicy aria-hidden=true> <div layout=column class="links-bottom-margin constants-position-relative"> <div class="preferences-preference-section margin-zero md-primary md-hue-3 background"> <div class="preferences-section-header-description-switch share-section"> <div layout=row layout-align=space-between> <div layout=column> <p class="color-white-hue-4 font-size-xxs" translate=l10n.gfePartnerInfoDescription></p> </div> </div> <p><a class="md-default-theme font-size-sm" ng-click=preferencesGeneralAbout.onLaunchYouTubeTOS() translate=l10n.gfeYouTubeTOS></a></p> <p><a class="md-default-theme font-size-sm" ng-click=preferencesGeneralAbout.onLaunchGoogleSecuritySettings() translate=l10n.gfeGoogleSecuritySettings></a></p> <p><a class="md-default-theme font-size-sm" ng-click=preferencesGeneralAbout.onLaunchGooglePrivacyPolicy() translate=l10n.gfeGooglePrivacyPolicy></a></p> </div> </div> </div> </nv-accordion-pane-content> </nv-accordion-pane> </nv-accordion> </div> </div> </div> </div> '},function(e,t){e.exports=' <div layout-align="space-between top"> <div class=preferences-col-1> <nv-preference-general-about></nv-preference-general-about> <nv-preference-general-language></nv-preference-general-language> <nv-preference-general-share></nv-preference-general-share> <nv-preferences-general-nis ng-if=preferencesGeneral.isNISSupported></nv-preferences-general-nis> <nv-preferences-general-quite-mode2 ng-if=preferencesGeneral.showQuietMode2()> </nv-preferences-general-quite-mode2> <nv-preferences-games-quiet-mode ng-if=preferencesGeneral.showQuietMode()></nv-preferences-games-quiet-mode> <nv-preferences-games-battery-boost ng-if="preferencesGeneral.isBatteryBoostSupported && !preferencesGeneral.isBatteryBoost2Supported"> </nv-preferences-games-battery-boost> <nv-preferences-games-battery-boost2 ng-if=preferencesGeneral.isBatteryBoost2Supported> </nv-preferences-games-battery-boost2> <nv-preference-general-notifications></nv-preference-general-notifications> <nv-preference-general-downloads></nv-preference-general-downloads> </div> <div class=preferences-col-2> <nv-preferences-system-info></nv-preferences-system-info> <nv-preferences-feature-readiness></nv-preferences-feature-readiness> </div> </div> '},function(e,t){e.exports=' <div class="preferences-preference-section md-primary md-hue-3 background" flex> <div class=preferences-section-header> <h4 class="color-white-hue-3 font-size-lg font-uppercase" translate=l10n.downloads></h4> </div> <div layout=column layout-align="start start" class="preferences-section-content preferences-md-icon"> <md-checkbox class="top-margin-checkboxes checkbox-16 clickable-element" ng-change=preferencesGeneralDownloads.setAutoDownloadDriverUpdates() ng-model=preferencesGeneralDownloads.autoDownloadDriverUpdates aria-label="Enable Automatically download driver updates"><span class=font-size-sm translate=l10n.automaticallyDownloadDriver></span></md-checkbox> </div> </div> '},function(e,t){e.exports=' <div class="preferences-preference-section md-primary md-hue-3 background"> <div class=preferences-section-header> <h4 class="color-white-hue-3 font-size-lg" aria-label=language aria-hidden=true>{{\'l10n.language\' | translate | uppercase}}</h4> </div> <div class="preferences-section-content language-section"> <div layout=column> <md-input-container flex class=margin-zero aria-hidden=true> <md-select ng-model=preferencesGeneralLanguage.changedLanguage class="margin-zero color-white-hue-3 font-size-sm" ng-change=preferencesGeneralLanguage.openChangeLocale() aria-label=languageSection aria-hidden=true> <md-option class="color-white-hue-3 font-size-sm" ng-value=language.name ng-repeat="language in preferencesGeneralLanguage.languages" aria-label=languageName aria-hidden=true>{{language.name}}</md-option> </md-select> </md-input-container> <div class=language-section-button layout=row ng-if=preferencesGeneralLanguage.EditMode> <md-button ng-click=preferencesGeneralLanguage.onCancel() aria-label=cancel-button>{{\'l10n.cancel\' | translate | uppercase}}</md-button> <md-button ng-click=preferencesGeneralLanguage.onApply() aria-label=apply-language-button>{{\'l10n.done\' | translate | uppercase}}</md-button> </div> </div> </div> </div> '},function(e,t,n){e.exports=' <div layout=column class="constants-position-relative nis-container"> <div class="preferences-preference-section md-primary md-hue-3 background" ng-if=!preferencesGeneralNIS.loadingFailed> <div class=preferences-section-header-description-switch layout=row layout-align=space-between> <div> <h4 class="color-white-hue-3 font-size-lg" translate=l10n.nis></h4> <p class="color-white-hue-4 line-height-sm2 font-size-xxs" translate=l10n.nisDescription></p> </div> <md-switch ng-model=preferencesGeneralNIS.nisStateInfo.enabled ng-change="preferencesGeneralNIS.onChangeNISState(true, false)" ng-show=preferencesGeneralNIS.loadingDone ng-disabled=preferencesGeneralNIS.disableNISSwitch() aria-label=disableNISSwitch></md-switch> </div> <section class=col layout=row layout=column layout-align="start center" flex> <div flex="24\r\n            " layout=column layout-align="start start"> <p class="color-white-hue-3 font-size-sm margin-bottom-5 padding-one line-height-sm2" translate=l10n.optimizedResolution></p> </div> <div flex layout=row layout-align="end center" layout-wrap> <div flex style=margin-left:5px;margin-right:5px ng-repeat="resolution in preferencesGeneralNIS.nisStateInfo.resolutions track by $index"> <md-button ng-disabled=preferencesGeneralNIS.isControlDisabled() ng-class=preferencesGeneralNIS.resolutionClass($index) class="color-white-important md-raised quality-resolution-button" style=height:auto;padding:0;min-width:0;width:100%;margin:0 ng-click=preferencesGeneralNIS.applyOptimizedResolution($index) aria-label=applyOptimizedResolution-button> <div layout=column class=quality-resolution-button-content> <span class=resolution-button-text>{{resolution.percent}}%</span> <span class="font-size-xxxs render-resolution-string">{{resolution.resolution}}</span> </div> </md-button> </div> </div> </section> <div layout=row layout-align="start center" class="optimized-slider-container battery-boost"> <div layout=column layout-align="start start" flex=24> <p class="color-white-hue-3 font-size-sm margin-bottom-zero padding-one line-height-sm2 sharpen-label-text" translate=l10n.sharpen></p> <p class="font-size-xxs color-white-hue-4 padding-one margin-zero margin-bottom-5 line-height-sm2">{{preferencesGeneralNIS.nisStateInfo.sharpen}}</p> </div> <div layout=row layout-align="center center" flex style=margin-right:12px> <p class="color-white-hue-3 font-size-sm margin-zero padding-one line-height-sm2" style=margin-right:11px>{{preferencesGeneralNIS.nisSharpnessSlider.MIN}}%</p> <div flex class=sharpen-slider-width> <md-slider class=shapen-control-slider ng-change=preferencesGeneralNIS.onSharpenSliderChanged() ng-keyup=preferencesGeneralNIS.onSharpenSliderKeyUp($event) ng-disabled=preferencesGeneralNIS.isControlDisabled() ng-model=preferencesGeneralNIS.nisStateInfo.sharpen min={{preferencesGeneralNIS.nisSharpnessSlider.MIN}} max={{preferencesGeneralNIS.nisSharpnessSlider.MAX}} aria-label=sharpen-slider aria-hidden=true> </md-slider> </div> <p class="color-white-hue-3 font-size-sm margin-zero padding-one line-height-sm2" style=margin-left:11px>{{preferencesGeneralNIS.nisSharpnessSlider.MAX}}%</p> </div> </div> <nv-overlay class="common-overlay preferences-overlay" layout=column layout-align="center center" ng-show=preferencesGeneralNIS.requestInProgress> <span layout-fill layout-align="center center" layout=column> <md-progress-circular class=md-accent md-diameter=50 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> </div> <div ng-if=preferencesGeneralNIS.loadingFailed> <div> <h4 class="color-white-hue-3 font-size-lg" translate=l10n.nis></h4> <p class="color-white-hue-4 font-size-xxs" translate=l10n.nisDescription></p> </div> <div layout=column layout-align="center center"> <img ng-src='+n(38)+" /> <p class=color-light-gray translate=l10n.noInformationAvailable /> </div> </div> </div> "},function(e,t){e.exports=' <div layout=column class=constants-position-relative> <div class="preferences-preference-section md-primary md-hue-3 background" flex> <div class=preferences-section-header> <h4 class="color-white-hue-3 font-size-lg font-uppercase" translate=l10n.desktopNotifications></h4> <p class="color-white-hue-4 font-size-xxs margin-top-8" translate=l10n.notifyMe></p> </div> <div layout=column layout-align="start start" class="preferences-section-content preferences-md-icon" ng-if=!preferencesGeneralNotifications.toggleState> <md-checkbox class="margin-zero font-size-sm checkbox-16" ng-change=preferencesGeneralNotifications.setNotifyGeforceDriverUpdate() ng-model=preferencesGeneralNotifications.notifyGeforceDriverUpdate aria-label=NotifyGeforceDriverUpdate aria-hidden=trues> <span class="line-height-sm color-white-hue-4" translate=l10n.driverUpdateAvailable></span> </md-checkbox> <md-checkbox class="line-height-sm color-white-hue-3 font-size-sm checkbox-16" ng-change=preferencesGeneralNotifications.setNotifyRewardsUpdate() ng-model=preferencesGeneralNotifications.notifyRewardsUpdate aria-label=NotifyRewardsUpdate aria-hidden=true> <span class="line-height-sm color-white-hue-4" translate=l10n.rewardAvailable></span> </md-checkbox> </div> <nv-overlay class=common-overlay ng-if=preferencesGeneralNotifications.requestInProgress> <span flex layout-fill layout-align="center center" layout=column> <md-progress-circular class=md-accent layout-align="center center" md-diameter=14 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> </div> </div> '},function(e,t,n){e.exports=' <div layout=column class=constants-position-relative> <div class="preferences-preference-section md-primary md-hue-3 background" ng-if=!preferencesGeneralQuiteMode2.loadingFailed> <div class=preferences-section-header-description-switch layout=row layout-align=space-between> <div> <h4 class="color-white-hue-3 font-size-lg" translate=l10n.quietMode2></h4> <p class="color-white-hue-4 line-height-sm2 font-size-xxs" translate=l10n.quiteMode2Description></p> </div> <md-switch ng-model=preferencesGeneralQuiteMode2.quietStateInfo.enabled ng-change=preferencesGeneralQuiteMode2.onChangeQuiteMode2State(true,preferencesGeneralQuiteMode2.settingType.WHISPER_MODE2_STATE) ng-show=preferencesGeneralQuiteMode2.loadingDone ng-disabled=preferencesGeneralQuiteMode2.disableQuiteMode2Switch() aria-label=quiteMode2Switch></md-switch> </div> <div class="preferences-section-content preferences-games-Quite-mode-2"> <div layout=row layout-align="space-between center"> <div layout=column layout-align="start start" flex=40> <p class="color-white-hue-3 font-size-sm margin-bottom-5 padding-one line-height-sm2" translate=l10n.fanVolume> </p> <p class="font-size-xxs color-white-hue-4 padding-one margin-zero margin-bottom-5 line-height-sm2" translate={{preferencesGeneralQuiteMode2.fanVolumeStrings[preferencesGeneralQuiteMode2.quietStateInfo.fanVolume-1]}}> </p> </div> <div flex layout=column class="optimized-slider-container fan-control-slider"> <md-slider md-discrete ng-model=preferencesGeneralQuiteMode2.quietStateInfo.fanVolume ng-change="preferencesGeneralQuiteMode2.onChangeFanSpeedState(false, preferencesGeneralQuiteMode2.settingType.FAN_VOLUME)" ng-disabled=!preferencesGeneralQuiteMode2.quietStateInfo.enabled min={{preferencesGeneralQuiteMode2.sliders[0].min}} max={{preferencesGeneralQuiteMode2.sliders[0].max}} step={{preferencesGeneralQuiteMode2.sliders[0].step}} aria-label=QuiteMode2-slider aria-hidden=true></md-slider> <div class=optimized-slider-lables layout=row layout-align="space-between start" flex> <p class="color-white-hue-3 font-size-xxs line-height-sm2 margin-zero" translate=l10n.quieter> </p> <p class="color-white-hue-3 font-size-xxs margin-zero line-height-sm2" translate=l10n.balancedMode></p> </div> </div> </div> </div> <div class="preferences-section-content preferences-games-Quite-mode-2"> <div layout=row layout-align="space-between center"> <div layout=column layout-align="start start" flex=40> <p class="color-white-hue-3 font-size-sm padding-one margin-bottom-5 line-height-sm2" translate=l10n.baseFrameRate></p> <p class="font-size-xxs line-height-sm2 padding-one color-white-hue-4 margin-zero margin-bottom-5"> {{preferencesGeneralQuiteMode2.quietStateInfo.baseFrameRate}} <span translate=l10n.fps></span> </p> </div> <div flex layout=column class="optimized-slider-container fps-control-slider"> <md-slider md-discrete ng-model=preferencesGeneralQuiteMode2.quietStateInfo.baseFrameRate ng-change=preferencesGeneralQuiteMode2.onChangeQuiteMode2State(false,preferencesGeneralQuiteMode2.settingType.BASE_FRAME_RATE) ng-disabled=!preferencesGeneralQuiteMode2.quietStateInfo.enabled min={{preferencesGeneralQuiteMode2.sliders[1].min}} max={{preferencesGeneralQuiteMode2.sliders[1].max}} step={{preferencesGeneralQuiteMode2.sliders[1].step}} aria-label=QuiteMode2-fps-slider aria-hidden=true></md-slider> <div class=optimized-slider-lables layout=row layout-align="space-between start" flex> <p class="color-white-hue-3 font-size-xxs line-height-sm2 margin-zero"> {{preferencesGeneralQuiteMode2.sliders[1].min}}</p> <p class="color-white-hue-3 font-size-xxs line-height-sm2 margin-zero"> {{preferencesGeneralQuiteMode2.sliders[1].max}}</p> </div> </div> </div> </div> <nv-overlay class="common-overlay preferences-overlay" layout=column layout-align="center center" ng-show=preferencesGeneralQuiteMode2.requestInProgress> <span layout-fill layout-align="center center" layout=column> <md-progress-circular class=md-accent md-diameter=50 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> </div> <div ng-if=preferencesGeneralQuiteMode2.loadingFailed> <div> <h4 class="color-white-hue-3 font-size-lg" translate=l10n.quietMode2></h4> <p class="color-white-hue-4 font-size-xxs" translate=l10n.quiteMode2Description></p> </div> <div layout=column layout-align="center center"> <img ng-src='+n(38)+" /> <p class=color-light-gray translate=l10n.noInformationAvailable /> </div> </div> </div> "},function(e,t){e.exports=' <div layout=column class=constants-position-relative> <div class="preferences-preference-section md-primary md-hue-3 background" ng-if=preferencesGeneralShare.isShareSupported> <div class="preferences-section-header-description-switch share-section"> <div layout=row layout-align=space-between> <div layout=column> <div layout=row> <h4 class="color-white-hue-3 font-size-lg" translate=l10n.share></h4> <md-icon class="nv-custom-icons md-16 preferences-share-alert-icon nv-custom-alert-icon-color" md-font-icon=icon-alert ng-show=!preferencesGeneralShare.shareLoaded aria-label=alertIcon aria-hidden=true></md-icon> </div> <p class="color-white-hue-4 font-size-xxs">{{preferencesGeneralShare.shareDialogDescription}}</p> <div layout=row class=share-hotkey-info ng-if=preferencesGeneralShare.showHotkeyInfoAndIcon()> <md-icon md-font-set=nv-custom-icons class="nv-custom-icons md-24 color-green" md-font-icon=icon-share aria-label=iconShare aria-hidden=true></md-icon> <p class="color-white-hue-4 font-size-xxs" translate-values={{preferencesGeneralShare.translateValues}} translate=l10n.oobeShareHotkeyInfo></p> </div> </div> <div ng-if=preferencesGeneralShare.loadingDone> <md-switch ng-model=preferencesGeneralShare.enabledShare ng-change=preferencesGeneralShare.onChangeShareState() ng-disabled=preferencesGeneralShare.toggleState aria-label=generalEnableShareSwitch></md-switch> </div> </div> <div layout=row class=share-section-button layout-align="end end" ng-if=preferencesGeneralShare.showHotkeyInfoAndIcon()> <md-button class="md-raised md-secondary font-uppercase" ng-click=preferencesGeneralShare.openOscSettings() translate=l10n.settings aria-label=openOscSettings></md-button> </div> </div> </div> <nv-overlay class="common-overlay preferences-share-overlay" ng-if=preferencesGeneralShare.toggleState> <span flex layout-fill layout-align="center center" layout=column> <md-progress-circular class=md-accent layout-align="center center" md-diameter=14 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> </div> ';
},function(e,t){e.exports=' <div layout=column layout-fill class=preferences-led> <div class="preferences-preference-section md-hue-3 background md-primary" layout=row layout-align="space-between center"> <div layout=row layout-align="start center"> <md-button class=md-secondary ng-click=preferencesLed.applyAllGpu() translate=l10n.allLed ng-class="preferencesLed.syncAll ? \'md-button-selected md-accent foreground\': \'\'" ng-if=preferencesLed.showAllLedOption() aria-label=applyAllGpu-button></md-button> <md-button class=md-secondary ng-click=preferencesLed.applyEachGpu() translate=l10n.eachLed ng-class="!preferencesLed.syncAll ? \'md-button-selected md-accent foreground\': \'\'" aria-label=applyEachGpu-button></md-button> </div> <div layout=row layout-align="end center" class=preferences-led-switch ng-if=preferencesLed.showZones()> <p translate=l10n.syncZones></p> <md-switch ng-model=preferencesLed.syncZones ng-change=preferencesLed.onSyncZonesChanged() aria-label=syncZoneSwitch></md-switch> </div> </div> <div class="preferences-preference-section md-hue-3 background md-primary" layout=row> <div layout=row layout-align="start center"> <md-list layout=row layout-align="start center"> <md-list-item class=color-white-hue-3 ng-repeat="device in preferencesLed.devices" ng-if=preferencesLed.isSliDevice(device) ng-click=preferencesLed.selectGpu(device) ng-class="{\'md-button-selected md-accent foreground\': preferencesLed.isSelectedGpu(device)}"> <p class=font-size-sm> {{device.gpuName | uppercase}} </p> </md-list-item> </md-list> <md-list layout=column layout-align="start center"> <md-list-item class=color-white-hue-3 ng-repeat="device in preferencesLed.devices" ng-if=!preferencesLed.isSliDevice(device) ng-click=preferencesLed.selectGpu(device) ng-class="{\'md-button-selected md-accent foreground\': preferencesLed.isSelectedGpu(device)}"> <p class=font-size-sm> {{device.gpuName | uppercase}} </p> </md-list-item> </md-list> </div> <div layout=row class="section-divider bg-grey-im"></div> <div layout=row layout-align="center center"> <md-list layout=row layout-align="center center" ng-if=preferencesLed.showZones()> <md-list-item class=color-white-hue-3 ng-repeat="zone in preferencesLed.selectedGpu.zone" ng-disabled=!preferencesLed.isIndivisualLedSelected()> <md-button translate=l10n.zone translate-values={{zone}} ng-click=preferencesLed.selectedZone($index) ng-class="$index === preferencesLed.selectedZoneIndex ? \'md-button-selected md-accent foreground\': \'\'" aria-label=applySelected-gpuZone-button></md-button> </md-list-item> </md-list> </div> </div> <div class="preferences-preference-section md-hue-3 background md-primary" layout=column> <div layout=row layout-align=space-between> <h5 class="font-size-lg color-white-hue-3" translate=l10n.turnLedOn ng-if=preferencesLed.featureState></h5> <h5 class="font-size-lg color-white-hue-3" translate=l10n.turnLedOff ng-if=!preferencesLed.featureState></h5> <div layout=row class=preferences-led-switch> <p translate=l10n.ledLighting></p> <md-switch ng-model=preferencesLed.featureState ng-change=preferencesLed.onfeatureStateChange() aria-label=featureStateSwitch></md-switch> </div> </div> <md-divider></md-divider> <div layout=column class=preferences-preference-section> <div layout=row flex=100> <div flex=50 layout=column> <label class=font-uppercase translate=l10n.effect></label> <md-input-container class=led-input-container-position> <md-select ng-model=preferencesLed.selectedLedEffect ng-change=preferencesLed.onLedEffectChange() ng-disabled=!preferencesLed.featureState> <md-option ng-value=effect.ledEffect ng-repeat="effect in preferencesLed.ledEffects"> {{effect.name | translate}} </md-option> </md-select> </md-input-container> </div> <div flex=50 layout=column> <label class=font-uppercase translate=l10n.style></label> <md-input-container class=led-input-container-position> <md-select ng-model=preferencesLed.selectedAnimationType ng-change=preferencesLed.onAnimationTypeChange() ng-disabled=!preferencesLed.featureState> <md-option ng-value=style.animation ng-repeat="style in preferencesLed.styleList"> {{style.style | translate}} </md-option> </md-select> </md-input-container> </div> </div> <div layout=row flex=100> <div flex=50 layout=column> <label class=font-uppercase translate=l10n.variation></label> <md-input-container class=led-input-container-position> <md-select ng-model=preferencesLed.selectedVariation ng-change=preferencesLed.onLedVariationChange() ng-disabled=!preferencesLed.featureState> <md-option ng-value=variation.variation ng-repeat="variation in preferencesLed.variationList"> {{variation.name | translate}} </md-option> </md-select> </md-input-container> </div> <div flex=50 layout=column> <div ng-if=preferencesLed.showAnimationSliderPanel> <label class=font-uppercase>{{preferencesLed.labelAnimationSpeed}}</label> <div layout=row layout-align="start center"> <md-slider ng-change=preferencesLed.onAnimationSliderChange() min={{preferencesLed.animationSliderMin}} max={{preferencesLed.animationSliderMax}} ng-model=preferencesLed.sliderAnimation ng-disabled=!preferencesLed.featureState aria-label=animation-slider aria-hidden=true></md-slider> </div> </div> </div> </div> <div layout=row flex=100> <div class=colorpicker layout=row flex=50 ng-show=preferencesLed.showColorPickerControl> <canvas id=picker width=239 height=220></canvas> <div class=controls ng-click=preferencesLed.colorPreviewClicked(1)> <div class=preview flex></div> <div layout=row> <label>R</label> <h4 class=red></h4> </div> <div layout=row> <label>G</label> <h4 class=green></h4> </div> <div layout=row> <label>B</label> <h4 class=blue></h4> </div> </div> <div class=controls ng-click=preferencesLed.colorPreviewClicked(2) ng-if=preferencesLed.selectedMultiColorAnimation> <div class=secondPreview flex></div> <div layout=row> <label>R</label> <h4 class=red1></h4> </div> <div layout=row> <label>G</label> <h4 class=green1></h4> </div> <div layout=row> <label>B</label> <h4 class=blue1></h4> </div> </div> </div> <div> <div ng-if=preferencesLed.showBrightnessSliderPanel> <label class=font-uppercase>{{preferencesLed.labelBrightnessSlider}}</label> <div ng-if=preferencesLed.showSliderBrightness> <md-slider flex ng-change=preferencesLed.onBrightnessSliderChange() min={{preferencesLed.brightnessSliderMin}} max={{preferencesLed.brightnessSliderMax}} ng-model=preferencesLed.sliderBrightness ng-disabled=!preferencesLed.featureState aria-label=brightness-slider aria-hidden=true></md-slider> </div> <div ng-if=preferencesLed.showSliderBrightnessRange> <nv-range-slider on-slider-change=preferencesLed.onBrightnessRangeSliderChange() lower-value=preferencesLed.selectedGpu.zone[preferencesLed.selectedZoneIndex].minBrightness upper-value=preferencesLed.selectedGpu.zone[preferencesLed.selectedZoneIndex].variationParameter step=2 min-gap=2 minimum=preferencesLed.brightnessRangeSliderMin maximum=preferencesLed.brightnessRangeSliderMax nv-disabled=!preferencesLed.featureState> </nv-range-slider> </div> </div> </div> </div> </div> <div class=cancel-apply-container layout=row layout-align="end center"> <md-button ng-click=preferencesLed.cancelSettings() translate=l10n.cancel ng-disabled=!preferencesLed.buttonCancel aria-label=cancel-settings-button></md-button> <md-button class=md-accent ng-click=preferencesLed.applySettings() translate=l10n.apply ng-disabled=!preferencesLed.buttonApply aria-label=apply-settings-button></md-button> </div> </div> </div> '},function(e,t){e.exports=' <div class="preferences-preference-section md-primary md-hue-3 background"> <div class=preferences-section-header> <h4 class="color-white-hue-3 font-size-lg" translate=l10n.shieldDevices></h4> </div> <div class=preferences-section-content> <div class=button-text-padding layout=row layout-align="space-between cente"> <md-button class="margin-zero md-raised md-secondary ng-scope md-ink-ripple font-size-sm" ng-click=preferencesShieldDevices.removeAllDevices() translate=l10n.removeAllDevices tabindex=0 aria-label=removeAllDevices-button></md-button> </div> </div> </div> '},function(e,t,n){e.exports='<div ng-switch=preferencesShield.showContent flex layout-fill> <div layout=column layout-align="center center" ng-switch-when=false flex layout-fill> <img ng-src='+n(38)+'> <p class=color-light-gray translate=l10n.noInformationAvailable></p> <a class="md-default-theme font-size-sm shield-troubleshooting-link" ng-click=preferencesShield.onTroubleshootLinkClick() translate=l10n.troubleshootingTips></a> </div> <div layout-align="space-between top" ng-switch-when=true> <div class=preferences-col-1> <nv-preferences-shield-gamestream></nv-preferences-shield-gamestream> </div> <div class=preferences-col-2> <nv-preferences-shield-devices></nv-preferences-shield-devices> </div> </div> </div> '},function(e,t){e.exports=' <ng-form autocomplete=off name=vm.editForm class="md-primary md-hue-3 background preferences-shield-edit-dialog" layout=column layout-align="space-between stretch"> <div layout=row class=container layout-align="space-between stretch"> <div layout=column flex layout-align="space-between stretch"> <md-input-container md-no-float> <label>{{\'l10n.name\' | translate}}</label> <input maxlength={{::vm.maxSize}} ng-pattern="/^(?!\\.)(?!(com[0-9]|con|lpt[0-9]|nul|prn|aux)(\\..*)?$)[^\\\\/:\\*\\?<>\\|]+$/i" ng-trim=false name=Name ng-model=vm.selectedApp.AppData.Name md-autofocus> </md-input-container> <div layout=column layout-align=space-between> <div layout=row layout-align=space-between> <div layout=column flex layout-align=space-between> <label class="custom-label-heading color-white-hue-4" translate=l10n.target></label> <label nv-ellipsis-lines=1 class="custom-label-content app-target">{{vm.selectedApp.AppData.TargetPath}}</label> <md-tooltip ng-if=vm.showTargetTooltip>{{vm.selectedApp.AppData.TargetPath}}</md-tooltip> </div> <md-icon class="nv-custom-icons md-18" md-font-icon=icon-folder-browsing ng-click=vm.openTargetFileDialog() aria-label=folderBrowsing aria-hidden=true></md-icon> </div> <md-divider style=""></md-divider> </div> <div layout=column layout-align=space-between> <div layout=row layout-align=space-between> <div layout=column flex layout-align=space-between> <label class="custom-label-heading color-white-hue-4" translate=l10n.startIn></label> <label nv-ellipsis-lines=1 class="custom-label-content app-startin">{{vm.selectedApp.AppData.WorkingDirectory}}</label> <md-tooltip ng-if=vm.showDirectoryTooltip>{{vm.selectedApp.AppData.WorkingDirectory}}</md-tooltip> </div> <md-icon class="nv-custom-icons md-18" md-font-icon=icon-folder-browsing ng-click=vm.openStartInFileDialog() aria-label=folderBrowsing aria-hidden=true></md-icon> </div> <md-divider style=""></md-divider> </div> </div> <div layout=column class=boxart> <p translate=l10n.boxArt></p> <div layout=column flex class="image-container constants-position-relative" ng-click=vm.openBoxArtFileDialog()> <nv-overlay flex class="common-overlay no-background"> <md-icon class="nv-custom-icons md-18" md-font-icon=icon-edit aria-label="open art box file dialog" aria-hidden=true></md-icon> </nv-overlay> <img ng-src={{vm.selectedApp.AppData.BoxArtPath}} alt={{vm.selectedApp.AppData.Name}} /> </div> </div> </div> <div class=scan-location-content-margin layout=row layout-align=space-between> <button class="md-button ng-scope md-ink-ripple font-size-sm" type=button ng-click=vm.remove() translate=l10n.remove ng-disabled=preferencesShieldGamestream.canNotRemove() aria-label=" preferences-shield-gamestream-remove-button"></button> <div> <button class="md-button ng-scope md-ink-ripple font-size-sm" ng-click=vm.cancel() translate=l10n.cancel type=button aria-label=preferences-shield-gamestream-cancel-button></button> <button class="md-button ng-scope md-ink-ripple font-size-sm" ng-click=vm.done() translate=l10n.done ng-disabled=!vm.canSubmit() type=button aria-label=preferences-shield-done-button></button> </div> </div> </ng-form> '},function(e,t){e.exports=' <div class="preferences-preference-section md-primary md-hue-3 background constants-position-relative"> <div class=preferences-section-header-description-switch layout=row layout-align=space-between> <div> <div layout=row> <h4 class="color-white-hue-3 font-size-lg" translate=l10n.gameStream></h4> <md-icon class="nv-custom-icons md-16 preferences-share-alert-icon nv-custom-alert-icon-color" md-font-icon=icon-alert ng-show=!preferencesShieldGamestream.gameStreamLoaded aria-label=shareAlertIcon aria-hidden=true></md-icon> </div> <p class="color-white-hue-4 font-size-xxs" translate=l10n.gamestreamDescription></p> </div> <md-switch ng-model=preferencesShieldGamestream.isStreamingEnabled ng-if=preferencesShieldGamestream.isServerStatusCheckDone ng-change=preferencesShieldGamestream.onChangeServerState() ng-disabled=preferencesShieldGamestream.toggleState aria-label=enableStreamingSwitch></md-switch> </div> <div layout=column class="preferences-section-content shield-section"> <div> <h4 class="color-white-hue-3 font-size-sm" translate=l10n.gamesApps></h4> </div> <div layout-align="start start" layout-fill layout=column> <md-progress-circular class=md-accent ng-if=!preferencesShieldGamestream.isServerStatusCheckDone layout-align="center center" md-diameter=28 md-mode=indeterminate></md-progress-circular> <md-content class="appcollector-content-height constants-position-relative" layout-fill layout=row layout-align="start start" layout-wrap> <nv-preferences-shield-tile ng-repeat="app in preferencesShieldGamestream.streamApps" ng-click=preferencesShieldGamestream.selectedAppChanged(app) class=preferences-shield-tile nv-app=app ng-class="{\'shield-tile-content-outline\': preferencesShieldGamestream.isSelected(app)}"></nv-preferences-shield-tile> <div class=empty-app-list layout=column layout-align="center center" ng-if=!preferencesShieldGamestream.hasAppsAndServerStatusDone()> <p class="font-size-xxs color-white-hue-4" translate=l10n.addAdditionalGamesForStreaming></p> </div> </md-content> <a class="md-default-theme font-size-sm" ng-click=preferencesShieldGamestream.onLaunchUrl() translate=l10n.viewAllGameStreamSupportedGames ng-if=preferencesShieldGamestream.isServerStatusCheckDone></a> </div> <div class=shield-section-button layout=row layout-align="space-between cente"> <button class="md-button ng-scope md-ink-ripple font-size-sm" type=button ng-click=preferencesShieldGamestream.remove() translate=l10n.remove ng-disabled=preferencesShieldGamestream.canNotRemove() tabindex=0 aria-label=preferences-gamestream-remove-button></button> <div> <button class="md-button ng-scope md-ink-ripple font-size-sm" ng-click=preferencesShieldGamestream.edit() translate=l10n.edit ng-disabled=preferencesShieldGamestream.canNotRemove() type=button aria-label=preferences-gamestream-edit-button></button> <button class="md-button ng-scope md-ink-ripple font-size-sm" ng-click=preferencesShieldGamestream.add() translate=l10n.add ng-disabled=preferencesShieldGamestream.requestInProgress type=button aria-label=preferences-gamestream-add-button></button> </div> </div> </div> <nv-overlay class=common-overlay ng-if=preferencesShieldGamestream.toggleState> <span flex layout-fill layout-align="center center" layout=column> <md-progress-circular class=md-accent layout-align="center center" md-diameter=28 md-mode=indeterminate aria-hidden=true></md-progress-circular> </span> </nv-overlay> </div> '},function(e,t){e.exports='<md-card layout=column ng-mouseenter=vm.showOverlay(true) ng-mouseleave=vm.showOverlay(false) class="item-container margin-zero"> <div layout=column flex class=constants-position-relative> <nv-overlay layout=column flex layout-fill class="common-overlay no-background" ng-show=vm.isOverlayVisible()> </nv-overlay> <img class=shield-tile-img-border ng-src={{vm.nvApp.AppData.BoxArtPath}} alt={{vm.nvApp.AppData.Name}} nv-image-fallback=nv-no-loading-indicator> </div> <md-card-content class=bg-black-hv> <p nv-ellipsis-lines=2 class="font-size-xxs color-white-hue-3">{{::vm.nvApp.AppData.Name}}</p> </md-card-content> </md-card> '},function(e,t,n){e.exports=' <div class="preferences-preference-section md-primary md-hue-3 background preferences-system-info" layout=column> <div class=preferences-section-header> <h4 translate=l10n.myRig class="color-white-hue-3 font-size-lg"></h4> </div> <div class="preferences-section-content preferences-system-info" ng-switch=preferencesSystemInfo.loadingState> <div layout=row layout-align="center center" class=state-info-content-height ng-switch-when=LOADING> <md-progress-circular class=md-accent md-diameter=50 md-mode=indeterminate></md-progress-circular> </div> <div layout=column layout-align="center center" class=state-info-content-height ng-switch-when=FAILED> <img ng-src='+n(38)+' /> <p class=color-light-gray translate=l10n.noInformationAvailable /> </div> <div layout-align="start start" ng-repeat="item in preferencesSystemInfo.systemInfoItems" class="margin-between-links color-white-hue-4 font-size-sm" ng-switch-when=DONE> <md-icon class="nv-custom-icons md-18 margin-between-links-icon" md-font-icon={{item.icon}} aria-label=mainToolbarIcon aria-hidden=true></md-icon> <span class=span-align-vertical>{{item.description}}</span> <div ng-repeat="subItem in item.subItems track by $index" class=subitem-margin> {{subItem}} </div> </div> </div> </div> '},function(e,t){e.exports=' <md-card class=reward-card ng-mouseenter=rewardCard.onMouseEnter() ng-mouseleave=rewardCard.onMouseLeave() ng-class="{\'md-accent background-on-hover clickable-element\': rewardCard.isRewardAvailable(), \'clickable-element\': rewardCard.isRewardRedeemed() || rewardCard.isRewardLocked()}" ng-click=rewardCard.redeemReward($event)> <div class=new-item-icon-wrapper ng-if=rewardCard.isPushedReward()> <md-icon md-font-set=material-icons class="color-green md-16" aria-label=newReleases aria-hidden=true>new_releases</md-icon> </div> <div class="reward-card-image-container constants-position-relative"> <img flex layout-fill ng-src={{::rewardCard.rewardImageUrl}} nv-image-fallback=nv-no-loading-indicator nv-image-format alt=reward_card_image /> <nv-overlay flex layout-fill class="common-overlay light-background background-animated reward-card-overlay" layout=column layout-align="center center" ng-if=rewardCard.showOverlay> <div flex layout-fill layout=column layout-align="center center" class=padding-16> <md-button class="md-raised md-accent" ng-if=rewardCard.isRewardAvailable() aria-label=redeem-reward-button> <span class=color-white-important translate=l10n.redeem></span> </md-button> <div flex layout=row layout-align="start start" layout-fill ng-if=rewardCard.isRewardRedeemedOrExpired()> <md-icon class="color-white-hue-1 material-icons reward-status-icon margin-zero" aria-label=rewardStatusIcon aria-hidden=true>{{::rewardCard.rewardStatusIcon}}</md-icon> <span class="margin-left-8 color-white-important font-uppercase line-height-16">{{::rewardCard.rewardStatusMessage}}</span> </div> <div flex layout=column class=constants-position-absolute layout-align="center center" layout-fill ng-if=rewardCard.isDetailsButtonVisible()> <md-button class="md-raised md-secondary color-white-important" aria-label=show-details-button> <span translate=l10n.details></span> </md-button> </div> <div flex layout=column layout-fill ng-if=rewardCard.isRewardLocked()> <md-icon class="color-white-hue-1 material-icons md-24" aria-label=lock aria-hidden=true>lock</md-icon> </div> </div> </nv-overlay> </div> <md-card-content> <h4 class="reward-card-title margin-zero font-size-xxs line-height-sm1 font-style-normal color-white-hue-3" nv-ellipsis-lines=1>{{::rewardCard.cardTitle}}</h4> <div class=reward-card-details-container layout=row> <p class="reward-date margin-zero color-white-hue-4 font-size-xxs line-height-sm1" nv-ellipsis-lines=1>{{::rewardCard.rewardDate}}</p> <p class="reward-date margin-zero color-white-hue-4 font-size-xxs line-height-sm1" nv-ellipsis-lines=1 ng-if=rewardCard.isRewardLocked()>{{::rewardCard.perkLevel}}</p> </div> </md-card-content> </md-card> '},function(e,t,n){e.exports=' <div layout=column layout-fill class="rewards-center-items-container constants-position-relative" ng-class="{\'user-profile-disabled\': !rewardsCenter.userProfileEnabled}"> <md-toolbar flex=none layout=row class=rewards-center-top-toolbar layout-align="space-between center"> <div layout=row> <md-button class="back-button padding-zero md-icon-button" ng-click=rewardsCenter.backToPreviousState() ng-if=!rewardsCenter.userProfileEnabled aria-label=back-button> <md-icon md-font-set=material-icons class="md-24 color-white-hue-1" aria-label=arrowBack aria-hidden=true>arrow_back</md-icon> <md-tooltip><span translate=l10n.back></span></md-tooltip> </md-button> <h4 class="color-white-hue-1 margin-zero font-size-sm rewards-center-title line-height-sm1 font-uppercase" translate=l10n.redeem ng-if=!rewardsCenter.userProfileEnabled></h4> </div> <nv-select-menu nv-md-icon=filter_list nv-label=l10n.filter class=constants-position-relative nv-filtered="!rewardsCenter.matchFilter(\'all\')"> <nv-select-menu-item nv-action="rewardsCenter.setFilter(\'all\')" nv-selected-test="rewardsCenter.matchFilter(\'all\')" ng-disabled="rewardsCenter.isFilterButtonDisabled(\'all\')"> <div translate=l10n.allNumber translate-value-number="{{rewardsCenter.getRewardsCount(\'all\')}}"></div> </nv-select-menu-item> <nv-select-menu-item nv-action="rewardsCenter.setFilter(\'available\')" nv-selected-test="rewardsCenter.matchFilter(\'available\')" ng-disabled="rewardsCenter.isFilterButtonDisabled(\'available\')"> <span translate=l10n.availableNumber translate-value-number="{{rewardsCenter.getRewardsCount(\'available\')}}"></span> </nv-select-menu-item> <nv-select-menu-item nv-action="rewardsCenter.setFilter(\'redeemed\')" nv-selected-test="rewardsCenter.matchFilter(\'redeemed\')" ng-disabled="rewardsCenter.isFilterButtonDisabled(\'redeemed\')"> <span translate=l10n.redeemedNumber translate-value-number="{{rewardsCenter.getRewardsCount(\'redeemed\')}}"></span> </nv-select-menu-item> <nv-select-menu-item nv-action="rewardsCenter.setFilter(\'expired\')" nv-selected-test="rewardsCenter.matchFilter(\'expired\')" ng-disabled="rewardsCenter.isFilterButtonDisabled(\'expired\')"> <span translate=l10n.expiredNumber translate-value-number="{{rewardsCenter.getRewardsCount(\'expired\')}}"></span> </nv-select-menu-item> </nv-select-menu> </md-toolbar> <md-content flex layout-fill ng-class="{\'overflow-y-hidden-important\': rewardsCenter.userProfileEnabled}"> <div layout=column layout-align="start center" flex=auto class="rewards-center-coupon-code-banner constants-position-relative" ng-class="{\'expanded-state\': rewardsCenter.couponBannerExpanded}"> <div flex layout-fill layout=column layout-align="start center" class=bg-grey-lt-hue-1> <nv-coupon-input nv-input-placeholder=rewardsCenter.translatedInputPlaceholder nv-button=rewardsCenter.nvCouponInputButton nv-error-message=l10n.checkCodeAndTryAgain></nv-coupon-input> </div> <div layout=row layout-align="center center" class=section-separator-horizontal> <div flex layout-fill class=bg-grey-lt-hue-1></div> <div class=section-separator-horizontal-center></div> <div flex layout-fill class=bg-grey-lt-hue-1></div> </div> <div layout=row class="no-focus-outline learn-more-expandable-header" ng-click=rewardsCenter.toggleCouponBannerExpansionState() layout-align="space-between center"> <div flex layout-fill class=bg-grey-lt-hue-1></div> <div class=section-separator-vertical></div> <div layout=row layout-align="center center" class="learn-more-header-button bg-grey-lt-hue-1 clickable-element"> <p class="margin-zero color-white-hue-5 line-height-16" translate=l10n.whereToFindCoupons></p> <md-icon class="material-icons margin-zero md-16 line-height-16 color-white-hue-5 toggle-icon margin-left-4" aria-label=expand aria-hidden=true>expand_more</md-icon> </div> <div class=section-separator-vertical></div> <div flex layout-fill class=bg-grey-lt-hue-1></div> </div> <div class=learn-more-expandable-content layout=row layout-align="center center"> <img src='+n(732)+' alt=learn_more class=constants-position-absolute /> <div class="learn-more-text-container constants-position-absolute"> <div layout=row layout-align="start center" ng-repeat="message in rewardsCenter.couponsLearnMoreMessages" class=margin-bottom-10> <img src='+n(731)+' alt=learn_more_bullet class="learn-more-bullet margin-bottom-1"/> <p class="margin-zero margin-left-8 learn-more-message color-white-hue-5" translate={{message}}></p> </div> </div> </div> </div> <div flex=none class=filtered-list-separator ng-if="!rewardsCenter.matchFilter(\'all\')"></div> <div flex class=reward-cards-container ng-if=rewardsCenter.unRedeemedItemsExist()> <md-toolbar layout=row ng-if="rewardsCenter.matchFilter(\'all\')"> <h4 translate=l10n.available class="rewards-center-section-title color-white-hue-3 font-size-sm line-height-sm1 font-uppercase" ng-if=!rewardsCenter.userProfileEnabled></h4> <h4 translate=l10n.readyToRedeem class="rewards-center-section-title color-white-hue-3 font-size-sm line-height-sm1 font-uppercase" ng-if=rewardsCenter.userProfileEnabled></h4> </md-toolbar> <div layout=row class=reward-cards-container layout-align="start start" layout-wrap flex layout-fill ng-if=rewardsCenter.showAvailableCards()> <nv-reward-card class=rewards-reward-card ng-repeat="reward in rewardsCenter.filteredUnRedeemedList | limitTo: rewardsCenter.unRedeemedListLimitTo track by rewardsCenter.rewardsTrackBy(reward)" nv-reward=reward></nv-reward-card> </div> </div> <div flex class=reward-cards-container ng-if=rewardsCenter.showPerksSection()> <md-toolbar layout=row ng-if="rewardsCenter.matchFilter(\'all\')"> <h4 translate=l10n.levelUpToUnlock class="rewards-center-section-title color-white-hue-3 font-size-sm line-height-sm1 font-uppercase margin-top-16"></h4> </md-toolbar> <div layout=row class=reward-cards-container layout-align="start start" layout-wrap flex layout-fill ng-if="!rewardsCenter.matchFilter(\'available\')"> <nv-reward-card class=rewards-reward-card ng-repeat="reward in rewardsCenter.lockedPerksList track by rewardsCenter.rewardsTrackBy(reward)" nv-reward=reward></nv-reward-card> </div> </div> <div flex class=reward-cards-container> <md-toolbar layout=row ng-if="rewardsCenter.matchFilter(\'all\')"> <h4 translate=l10n.redeemedAndExpired class="rewards-center-section-title color-white-hue-3 font-size-sm line-height-sm1 font-uppercase margin-top-16"></h4> </md-toolbar> <div layout=row class=reward-cards-container layout-align="start start" layout-wrap flex layout-fill ng-if="!rewardsCenter.matchFilter(\'available\')"> <nv-reward-card class=rewards-reward-card ng-repeat="reward in rewardsCenter.filteredRedeemedOrExpiredList | limitTo: rewardsCenter.redeemedOrExpiredListLimitTo track by rewardsCenter.rewardsTrackBy(reward)" nv-reward=reward></nv-reward-card> </div> <p class="color-white-hue-4 margin-zero no-items-message" translate=l10n.noRewardsRedeemedYet ng-if=rewardsCenter.showNoRedeemedItemsMessage()></p> </div> </md-content> </div> <nv-overlay class="common-overlay light-background constants-z-layers-two" flex layout-fill ng-if=rewardsCenter.requestInProgress> <span layout-fill layout-align="center center" layout=column> <md-progress-circular id=progressIndicator class=md-accent md-diameter=25 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> '},function(e,t){e.exports=' <div class=search-container> <div class=search-input-wrapper> <div layout=row> <md-input-container ng-class="{\'visible\': searchCtrl.searchInputVisble, \'hidden\': !searchCtrl.searchInputVisble}" md-no-float class="md-block search-input-container"> <md-icon md-font-set=material-icons class="md-18 search-icon" ng-if=!searchCtrl.resultsShouldBeVisible() aria-label=search aria-hidden=true>search</md-icon> <md-icon md-font-set=material-icons class="md-18 active-search-icon" ng-if=searchCtrl.resultsShouldBeVisible() aria-label=activeSearch aria-hidden=true>search</md-icon> <input class=search-input maxlength=40 type=text ng-model=searchCtrl.query ng-focus=searchCtrl.showRecentSearches() ng-blur="searchCtrl.searchInputFocused = false" placeholder="{{ \'l10n.search\' | translate }}" ng-change=searchCtrl.performSearch(searchCtrl.query) autocomplete=off ng-keydown=searchCtrl.keydownevt($event)> <md-button class="md-icon-button clear-icon-button" ng-click=searchCtrl.toggleSearchInput() aria-label=clearSearchInputText> <md-icon md-font-set=material-icons class=md-18 aria-label=clear aria-hidden=true>clear</md-icon> </md-button> </md-input-container> <md-button class="search-input-toggle-button md-icon-button margin-right-16" ng-if=!searchCtrl.searchInputVisble ng-click=searchCtrl.toggleSearchInput() aria-label=searchButton> <md-tooltip><span translate=l10n.search></span></md-tooltip> <md-icon md-font-set=material-icons class=md-18 aria-label=inputToggle aria-hidden=true>search</md-icon> </md-button> </div> </div> <div class=search-result-container ng-class="{\'hidden\': (!searchCtrl.recentSearchesCache.length  && searchCtrl.searchResult === \'\') }" ng-show=searchCtrl.resultsShouldBeVisible()> <div ng-switch on=searchCtrl.searchResult> <md-content class=search-result-scroll-content ng-switch-when=recentQueries> <div class=search-category-title> <h4 class="font-size-sm color-white-hue-5 font-uppercase" translate=l10n.recentSearches></h4> </div> <md-list> <div ng-repeat="result in searchCtrl.recentSearchesCache track by $index"> <md-list-item tabindex=0 class=recent-search-item ng-click=searchCtrl.addQuery(result) ng-class="{ \'selected-search-item\' : searchCtrl.selectedRecentSearchIndex === $index}"> <div layout=row layout-fill layout-align="space-around center" class=search-result-height> <div ng-if=result.hasThumbnail class=search-item-thumbnail> <img ng-src="{{ result.thumbnail }}" nv-image-fallback=nv-default-game-art /> </div> <div ng-if=result.hasIcon layout=row layout-align="center center" class=search-item-icon> <md-icon md-font-set=material-icons class=md-primary aria-label=result aria-hidden=true>{{result.icon}}</md-icon> </div> <p id="{{ \'recent-searches\' + $index }}" flex class="search-title single-line-ellipsis" translate={{result.title}}></p> </div> </md-list-item> <md-tooltip ng-if="searchCtrl.showTooltip($index, \'recent-searches\')"><span translate={{result.title}}></span></md-tooltip> </div> </md-list> </md-content> <md-content id=search-result-list class=search-result-scroll-content ng-switch-when=resultAvailable> <div ng-repeat="(category, results) in searchCtrl.categorizedResult" ng-show="results.length > 0"> <div class=search-category-title> <h4 class="font-size-sm color-white-hue-5">{{ searchCtrl.searchCategories[category] | translate | uppercase}}</h4> </div> <md-list> <div ng-repeat="result in results track by $index"> <div> <md-list-item tabindex=0 class=search-result-item ng-click=searchCtrl.redirect(result) ng-class="{ \'selected-search-item\' : searchCtrl.isSearchItemSelected($index,category) }"> <div layout=row layout-fill flex layout-align="space-around center" class=search-result-height> <div ng-if=result.hasThumbnail class=search-item-thumbnail> <img ng-src="{{ result.thumbnail }}" nv-image-fallback=nv-default-game-art /> </div> <div ng-if=result.hasIcon layout=row layout-align="center center" class=search-item-icon> <md-icon md-font-set=material-icons class=md-primary aria-label=resultText aria-hidden=true>{{result.icon}}</md-icon> </div> <div layout=column flex> <p id="{{ \'new-searches-\' + category.split(\'.\').join(\'-\') + $index  }}" class="single-line-ellipsis search-title" translate={{result.title}}></p> <span class=search-preview>{{ result.preview }}</span> </div> </div> </md-list-item> <md-tooltip ng-if="searchCtrl.showTooltip($index, \'new-searches-\' + category.split(\'.\').join(\'-\') )"><span translate={{result.title}}></span></md-tooltip> </div> </div> </md-list> <div class=search-category-divider></div> </div> </md-content> <div class=search-result-fallback ng-switch-when=resultNotAvailable> <div class=search-result-not-found layout=column layout-align="center center" flex layout-fill> <md-icon md-font-set=material-icons class="search-error-icon md-32" aria-label=errorMessage aria-hidden=true>error</md-icon> <p class=search-error-header translate=l10n.noResults></p> <p class=search-error-message translate=l10n.noResultsSearchMessage></p> </div> </div> </div> <nv-overlay class="common-overlay search-container-bottom-gradient" nv-position=bottom></nv-overlay> </div> </div> ';
},,,,function(e,t){e.exports=' <div layout-fill layout=column flex class=constants-position-relative> <md-card class="updates-highlight-tile bg-black-hv" layout=column ng-click=highlightTile.showDetails($event) nv-telemetry=\'{"tarconID":{{highlightTile.getTelemetryEventName()}},"url":{{highlightTile.getTelemetryEventInfo()}}}\'> <div class="constants-position-relative image-container"> <img ng-src={{nvContent.coverImage}} class=md-card-image alt={{nvContent.name}} nv-image-fallback=nv-no-loading-indicator layout-fill> <nv-overlay class="common-overlay optimal-settings-icon-overlay" ng-if=highlightTile.isContentGame()> <md-icon md-font-set=nv-custom-icons md-font-icon=icon-optimized_reg class="nv-custom-icons md-accent md-24" aria-label=" optimizedIcon" aria-hidden=true></md-icon> <md-tooltip><span translate=l10n.optimalSettingsAvailable></span></md-tooltip> </nv-overlay> <nv-overlay layout-fill class="common-overlay no-background highlight-tile-overlay" ng-if=highlightTile.isVideoAvailable(nvContent)> <div layout=column layout-align="center center" flex> <md-button class=md-icon-button aria-label=playCircle-button> <md-icon md-font-set=material-icons class="md-18 color-white-hue-1" aria-label=playCircleOutline aria-hidden=true>play_circle_outline</md-icon> </md-button> </div> </nv-overlay> </div> <md-card-content class=color-black-hue-1> <p class="font-size-lg color-white-hue-3" nv-ellipsis-lines=2>{{nvContent.name}}</p> <p ng-if=nvContent.id class="font-size-sm color-white-hue-4" nv-ellipsis-lines=2>{{nvContent.description}}</p> <p ng-if=nvContent.featureId class="font-size-sm color-white-hue-4" nv-ellipsis-lines=3>{{nvContent.description}}</p> <p ng-if=nvContent.overviewContent class="font-size-sm color-white-hue-4" nv-ellipsis-lines=3>{{nvContent.description}}</p> </md-card-content> </md-card> <nv-overlay class="common-overlay common-container-gradient" nv-position=bottom></nv-overlay> </div> '},function(e,t,n){e.exports='<div class="constants-position-relative updates-updates-details-highlights-banner-container bg-dark-vh23" ng-if=updateDetails.showDefaultBanner() layout=row layout-align="center center"> <img ng-src='+n(734)+' alt=default-banner /> </div> <nv-no-content-fallback ng-if=updateDetails.showDefaultContentImage() nv-tip=l10n.noInformationAvailable class=updates-updates-details-highlights-banner-container flex> </nv-no-content-fallback> <div layout=column ng-if=updateDetails.driverInformation> <div class="constants-position-relative updates-updates-details-highlights-banner-container bg-dark-vh23" ng-if=updateDetails.driverInformation.bannerGfeNg> <nv-updates-highlights-banner nv-driver-banner=updateDetails.driverInformation.bannerGfeNg nv-driver-type=updateDetails.driverType nv-driver-version={{updateDetails.driverVersion}} flex></nv-updates-highlights-banner> </div> <div class=updates-updates-details ng-if=updateDetails.showHighLights()> <div class=updates-updates-details-releaseAbstract ng-bind-html=updateDetails.driverInformation.ReleaseNotesAbstract></div> <nv-updates-driver-highlights nv-driver-highlight=updateDetails.driverInformation.highlightGfeNg nv-driver-type=updateDetails.driverType nv-driver-version={{updateDetails.driverVersion}}></nv-updates-driver-highlights> </div> </div> <div class=updates-updates-details-highlights-banner-container ng-if=updateDetails.showLoadingIndicator layout=row layout-align="center center" flex> <md-progress-circular class=md-accent md-diameter=30 md-mode=indeterminate> </md-progress-circular> </div> '},function(e,t){e.exports="<nv-updates-driver flex layout=column class=updates-updates-container></nv-updates-driver> "},function(e,t){e.exports=' <div flex class=download-progress> <div layout=row layout-align="space-between start"> <p class="font-size-xxs color-white-hue-3">{{nvMessage}}</p> <p ng-show="nvValue > 0" class="font-size-xxs color-white-hue-3">{{nvValue | number:0}}%</p> </div> <md-progress-linear class=md-accent flex md-mode="{{(nvValue > 0) ? \'determinate\':\'indeterminate\'}}" value={{nvValue}} ng-cloak aria-label=checkingforDownloadProgress></md-progress-linear> </div> '},function(e,t,n){e.exports=' <md-content flex class=updates-updates-driver-container id=toast-container> <div class=updates-updates-driver layout=column> <md-progress-circular class="md-accent left-50-percent" md-diameter=15 md-mode=indeterminate ng-if=updatesDriver.showLoadingIndicator()></md-progress-circular> <div layout=row class=checkforupdate-button layout-align="end center" ng-if=updatesDriver.anydriverInfoOrUpdatesFound> <md-button ng-click=updatesDriver.onCheckForUpdate() ng-disabled=updatesDriver.isCheckForUpdateDisabled() nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.UPDATES_CHECK_DRIVER_UPDATES}}}\' aria-hidden=true>{{\'l10n.checkforUpdates\' | translate | uppercase}}</md-button> <div layout=row id=driver-icon ui-tour=driverTour ui-tour-on-shown=updatesDriver.onTourStepShown() layout-align="end center" ng-if=updatesDriver.CRDSupported> <img class="padding-left-16 padding-right-16" src='+n(97)+'> <md-menu md-offset="30 60" class=driver-type-preference-menu> <md-button class=md-icon-button ng-click=$mdOpenMenu($event) div tour-step=driver-drivers tour-step-title="{{\'l10n.clickToChangeDriverPreference\' | translate}}" tour-step-placement=bottom-right tour-step-order=0 aria-label=changeDriverPreference-button> <md-icon md-font-set=material-icons class=color-white-hue-2 ng-hide={{::nvCustomIcon}} aria-label=vert aria-hidden=true>more_vert</md-icon> </md-button> <md-menu-content class="margin-zero padding-24 driver-type-selection-container"> <p class="margin-zero margin-bottom-20 font-size-xl foreground driver-type-title" translate=l10n.showDriverRecommendationFor></p> <md-radio-group ng-model=updatesDriver.currentlySelectedDriver> <md-menu-item layout=row style=margin-bottom:15px> <md-radio-button class="padding-zero margin-zero" value={{updatesDriver.driverType.GRD}} nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.DRIVER_TYPE_GRD_SELECTED}}}\' ng-click=updatesDriver.onRecommendedDriverTypeChanged(updatesDriver.driverType.GRD)> <div layout=column> <p translate=l10n.gameReadyDriver class="font-size-lg margin-zero margin-top-2 driver-type-heading1"></p> <p translate=l10n.recommendedForGameUpdates class="font-size-sm margin-zero margin-top-2 line-height-16 driver-type-heading2"></p> </div> </md-radio-button> </md-menu-item> <md-menu-item> <md-radio-button class="padding-zero margin-zero" value={{updatesDriver.driverType.CRD}} nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.DRIVER_TYPE_CRD_SELECTED}}}\' ng-click=updatesDriver.onRecommendedDriverTypeChanged(updatesDriver.driverType.CRD) layout=column> <div layout=column> <p translate=l10n.creatorReadyDriver class="font-size-lg margin-zero margin-top-2 driver-type-heading1"></p> <p translate=l10n.recommendedForCreativeApp class="font-size-sm margin-zero margin-top-2 line-height-16 driver-type-heading2"></p> </div> </md-radio-button> </md-menu-item> </md-radio-group> </md-menu-content> </md-menu> </div> </div> <h4 class="font-size-lg color-white-hue-4" ng-show=updatesDriver.driverUpdateList.length>{{\'l10n.available\' | translate | uppercase}}</h4> <nv-accordion class=common-accordion> <nv-accordion-pane ng-repeat="update in updatesDriver.driverUpdateList track by $index" nv-start-expanded={{update.isExpanded}} nv-on-expand=updatesDriver.onExpand(update) nv-on-collapse=updatesDriver.onCollapse(update) nv-telemetry=\'{"tarconID":{{updatesDriver.getAvlDriverTelemetryEventName(update.isBeta)}},"url":"{{update.version}}"}\'> <nv-accordion-pane-header layout=row layout-align="start center"> <md-content flex layout=row layout-align="space-between center"> <nv-driver-item nv-driver=update nv-md-icon=file_download></nv-driver-item> <div class=download-install-controls> <md-button class="md-raised md-accent color-white-important" ng-show=updatesDriver.isStatusPending(update.downloadStatus.status) ng-disabled="!updatesDriver.canToggleDownload(update.downloadStatus.status, update.version)" ng-click=updatesDriver.startDownload(update) translate=l10n.download nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.UPDATES_DOWNLOAD_DRIVER_MANUAL_START}},"url":"{{update.version}}"}\' aria-hidden=true></md-button> <div class=download-container layout=row ng-show=updatesDriver.isDownloadStarted(update.downloadStatus.status) layout-align="center center"> <div layout=column class="download-details-container margin-right-16"> <nv-update-download-progress nv-message={{updatesDriver.getDownloadStatusMessage(update.downloadStatus.status)}} nv-value={{update.downloadStatus.percentComplete}}></nv-update-download-progress> <div layout=row layout-align="space-between start" class=download-details-status-container> <p class="font-size-xxs color-white-hue-5">{{updatesDriver.getProgressString(update)}}</p> <div layout=row layout-align="start start"> <p class="font-size-xxs color-white-hue-5 download-speed margin-right-16">{{update.downloadStatus.downloadSpeed | convertBytesToKBMBGB}}/Sec</p> <p class="font-size-xxs color-white-hue-5">{{update.downloadStatus.timeRemaining | convertSecondsToTime:true}}</p> </div> </div> </div> <md-button class="md-icon-button download-pause-resume margin-right-10" ng-click=updatesDriver.pauseDownload(update) ng-hide=updatesDriver.isStatusPaused(update.downloadStatus.status) aria-label=pause-driver-download-button> <md-icon md-font-set=material-icons class=md-18 aria-label=pauseDownload aria-hidden=true>pause</md-icon> </md-button> <md-button class="md-icon-button download-pause-resume margin-right-10" ng-click=updatesDriver.resumeDownload(update) ng-show=updatesDriver.isStatusPaused(update.downloadStatus.status) aria-label=resume-driver-download-button> <md-icon md-font-set=material-icons class=md-18 aria-label=resumeDownload aria-hidden=true>play_arrow</md-icon> </md-button> <md-button class="md-icon-button download-stop margin-right-zero" ng-click=updatesDriver.stopDownload(update) aria-label=stop-driver-download-button> <md-icon md-font-set=material-icons class=md-18 aria-label=stopDownload aria-hidden=true>stop</md-icon> </md-button> </div> <div class=download-container layout=row ng-show=updatesDriver.isExtractionStarted(update.downloadStatus.status) layout-align="center center"> <div layout=column class="download-details-container margin-right-16"> <nv-update-download-progress nv-message={{updatesDriver.getDownloadStatusMessage(update.downloadStatus.status)}} nv-value={{0}}></nv-update-download-progress> </div> </div> <div ng-show=updatesDriver.isStatusCompleted(update.downloadStatus.status)> <md-button class="md-raised md-accent color-white-important expressInstall" ng-click="updatesDriver.startInstall(update, false)" translate=l10n.expressInstall nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.UPDATES_INSTALL_DRIVER_EXPRESS}},"url":"{{update.version}}"}\' ng-disabled=updatesDriver.isInstallDisabled() aria-label=express-driver-install-button></md-button> <md-button class="md-raised bg-dark-im-hue-4 color-white-important" ng-click="updatesDriver.startInstall(update, true)" translate=l10n.customInstall nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.UPDATES_INSTALL_DRIVER_CUSTOM}},"url":"{{update.version}}"}\' ng-disabled=updatesDriver.isInstallDisabled() aria-label=custom-driver-install-button></md-button> </div> </div> </md-content> </nv-accordion-pane-header> <nv-accordion-pane-content layout=column class=bg-grey-im-hue-3> <nv-update-details nv-is-crd=update.isCRD nv-driver-version={{update.version}} nv-driver-type=updatesDriver.getAvlDriverType(update.isBeta)></nv-update-details> </nv-accordion-pane-content> </nv-accordion-pane> </nv-accordion> <div ng-if=updatesDriver.installedDriver> <h4 class="font-size-lg color-white-hue-4">{{updatesDriver.installedDriverHeaderText}}</h4> <nv-accordion class=common-accordion> <nv-accordion-pane nv-start-expanded={{updatesDriver.installedDriver.isExpanded}} nv-on-expand=updatesDriver.onExpand(updatesDriver.installedDriver) nv-on-collapse=updatesDriver.onCollapse(updatesDriver.installedDriver) nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.UPDATES_VIEW_CURRENT_DRIVER}},"url":"{{updatesDriver.installedDriver.version}}"}\'> <nv-accordion-pane-header flex layout=row layout-align="start center"> <nv-driver-item flex nv-driver=updatesDriver.installedDriver nv-md-icon=check></nv-driver-item> <nv-select-menu ng-if=!updatesDriver.installedDriver.reInstalledDriver nv-md-icon=more_vert nv-label="{{\'l10n.moreDots\' | translate}}"> <nv-select-menu-item ng-disabled=updatesDriver.reInstalledDriverMenuItemDisabled() nv-action=updatesDriver.performReinstalledDriver()> <div class=updates-reinstall-driver layout=row> <md-icon md-font-set=material-icons class="md-18 updates-reinstall-driver-icon" aria-label=download aria-hidden=true>file_download</md-icon> <span translate=l10n.reInstalledDriver></span> </div> </nv-select-menu-item> </nv-select-menu> <div ng-if=updatesDriver.showReInstallButtons() class=download-install-controls> <div class=download-container layout=row ng-show=updatesDriver.isDownloadStarted(updatesDriver.installedDriver.downloadStatus.status) layout-align="center center"> <div layout=column class="download-details-container margin-right-16"> <nv-update-download-progress nv-message={{updatesDriver.getDownloadStatusMessage(updatesDriver.installedDriver.downloadStatus.status)}} nv-value={{updatesDriver.installedDriver.downloadStatus.percentComplete}}></nv-update-download-progress> <div layout=row layout-align="space-between start" class=download-details-status-container> <p class="font-size-xxs color-white-hue-5">{{updatesDriver.getProgressString(updatesDriver.installedDriver)}}</p> <div layout=row layout-align="start start"> <p class="font-size-xxs color-white-hue-5 download-speed margin-right-16">{{updatesDriver.installedDriver.downloadStatus.downloadSpeed | convertBytesToKBMBGB}}/Sec</p> <p class="font-size-xxs color-white-hue-5">{{updatesDriver.installedDriver.downloadStatus.timeRemaining | convertSecondsToTime:true}}</p> </div> </div> </div> <md-button class="md-icon-button download-pause-resume margin-right-10" ng-click=updatesDriver.pauseDownload(updatesDriver.installedDriver) ng-hide=updatesDriver.isStatusPaused(updatesDriver.installedDriver.downloadStatus.status) aria-label=pause-driverDownload-button> <md-icon md-font-set=material-icons class=md-18 aria-label=pauseDownload aria-hidden=true>pause</md-icon> </md-button> <md-button class="md-icon-button download-pause-resume margin-right-10" ng-click=updatesDriver.resumeDownload(updatesDriver.installedDriver) ng-show=updatesDriver.isStatusPaused(updatesDriver.installedDriver.downloadStatus.status) aria-label=resume-driverDownload-button> <md-icon md-font-set=material-icons class=md-18 aria-label=resumeDownload aria-hidden=true>play_arrow</md-icon> </md-button> <md-button class="md-icon-button download-stop margin-right-zero" ng-click="updatesDriver.stopDownload(updatesDriver.installedDriver, true)" aria-label=stop-driverDownload-button> <md-icon md-font-set=material-icons class=md-18 aria-label=stopDownload aria-hidden=true>stop</md-icon> </md-button> </div> <div class=download-container layout=row ng-show=updatesDriver.isExtractionStarted(updatesDriver.installedDriver.downloadStatus.status) layout-align="center center"> <div layout=column class="download-details-container margin-right-16"> <nv-update-download-progress nv-message={{updatesDriver.getDownloadStatusMessage(updatesDriver.installedDriver.downloadStatus.status)}} nv-value={{0}}></nv-update-download-progress> </div> </div> <div ng-show=updatesDriver.isStatusCompleted(updatesDriver.installedDriver.downloadStatus.status)> <md-button class="md-raised md-accent expressInstall" ng-click="updatesDriver.startInstall(updatesDriver.installedDriver, false)" translate=l10n.expressInstall nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.UPDATES_INSTALL_DRIVER_EXPRESS}},"url":"{{update.version}}"}\' aria-label="update-installed driver-button"></md-button> <md-button class="md-raised bg-dark-im-hue-4 color-white-hue-6" ng-click="updatesDriver.startInstall(updatesDriver.installedDriver, true)" translate=l10n.customInstall nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.UPDATES_INSTALL_DRIVER_CUSTOM}},"url":"{{updatesDriver.installedDriver.version}}"}\' aria-label=start-driver-install-button></md-button> </div> </div> </nv-accordion-pane-header> <nv-accordion-pane-content layout=column class=bg-grey-im-hue-3> <nv-update-details ng-if=updatesDriver.installedDriver nv-is-crd=updatesDriver.installedDriver.isCRD nv-driver-type=updatesDriver.driverTypeConstant.CURRENT nv-driver-version={{updatesDriver.installedDriver.version}}></nv-update-details> </nv-accordion-pane-content> </nv-accordion-pane> </nv-accordion> </div> <div ng-if="updatesDriver.rollbackFeatureExperimental && updatesDriver.showRollbackDriver" layout=row layout-align="space-between end"> <div layout=row layout-align="start end"> <h4 class="font-size-lg color-white-hue-4 margin-right-16">{{\'l10n.rollbackToLastDriver\' | translate | uppercase}}</h4> </div> </div> <nv-accordion ng-if="updatesDriver.rollbackFeatureExperimental && updatesDriver.showRollbackDriver" class=common-accordion> <nv-accordion-pane ng-repeat="update in updatesDriver.driverRollbackList track by $index" nv-start-expanded={{update.isExpanded}} nv-on-expand=updatesDriver.onExpand(update) nv-on-collapse=updatesDriver.onCollapse(update)> <nv-accordion-pane-header ng-if=update.installDate layout=row layout-align="start center"> <md-content flex layout=row layout-align="space-between center"> <nv-driver-item nv-driver=update nv-md-icon=file_download></nv-driver-item> <div class="download-install-controls rollback-install-controls"> <md-button class="md-raised md-accent color-white-important" ng-click=updatesDriver.startDownload(update) ng-show=updatesDriver.isStatusPending(update.downloadStatus.status) translate=l10n.reInstalledDriver ng-disabled="!updatesDriver.canToggleDownload(update.downloadStatus.status, update.version)" nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.UPDATES_DOWNLOAD_DRIVER_MANUAL_START}},"url":"Rollback Driver Version: {{update.version}}"}\' aria-label=reinstall-driver-button></md-button> <div class=download-container layout=row ng-show=updatesDriver.isDownloadStarted(update.downloadStatus.status) layout-align="center center"> <div layout=column class="download-details-container margin-right-16"> <nv-update-download-progress nv-message={{updatesDriver.getDownloadStatusMessage(update.downloadStatus.status)}} nv-value={{update.downloadStatus.percentComplete}}></nv-update-download-progress> <div layout=row layout-align="space-between start" class=download-details-status-container> <p class="font-size-xxs color-white-hue-5">{{updatesDriver.getProgressString(update)}}</p> <div layout=row layout-align="start start"> <p class="font-size-xxs color-white-hue-5 download-speed margin-right-16">{{update.downloadStatus.downloadSpeed | convertBytesToKBMBGB}}/Sec</p> <p class="font-size-xxs color-white-hue-5">{{update.downloadStatus.timeRemaining | convertSecondsToTime:true}}</p> </div> </div> </div> <md-button class="md-icon-button download-pause-resume margin-right-10" ng-click=updatesDriver.pauseDownload(update) ng-hide=updatesDriver.isStatusPaused(update.downloadStatus.status) aria-label=start-rollback-driver-download-button> <md-icon md-font-set=material-icons class=md-18 aria-label=pauseDownload aria-hidden=true>pause</md-icon> </md-button> <md-button class="md-icon-button download-pause-resume margin-right-10" ng-click=updatesDriver.resumeDownload(update) ng-show=updatesDriver.isStatusPaused(update.downloadStatus.status) aria-label=resume-rollback-driver-download-button> <md-icon md-font-set=material-icons class=md-18 aria-label=resumeDownload aria-hidden=true>play_arrow</md-icon> </md-button> <md-button class="md-icon-button download-stop margin-right-zero" ng-click=updatesDriver.stopDownload(update) aria-label=stop-rollback-driver-download-button> <md-icon md-font-set=material-icons class=md-18 aria-label=stopDownload aria-hidden=true>stop</md-icon> </md-button> </div> <div class=download-container layout=row ng-show=updatesDriver.isExtractionStarted(update.downloadStatus.status) layout-align="center center"> <div layout=column class="download-details-container margin-right-16"> <nv-update-download-progress nv-message={{updatesDriver.getDownloadStatusMessage(update.downloadStatus.status)}} nv-value={{0}}></nv-update-download-progress> </div> </div> <div ng-show=updatesDriver.isStatusCompleted(update.downloadStatus.status)> <md-button class="md-raised md-accent color-white-important expressInstall" ng-click="updatesDriver.startInstall(update, false)" translate=l10n.expressInstall nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.UPDATES_INSTALL_DRIVER_EXPRESS}},"url":"Rollback Driver Version: {{update.version}}"}\' ng-disabled=updatesDriver.isInstallDisabled() aria-label=start-rollback-driver-expressInstall-button></md-button> <md-button class="md-raised bg-dark-im-hue-4 color-white-important" ng-click="updatesDriver.startInstall(update, true)" translate=l10n.customInstall nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.UPDATES_INSTALL_DRIVER_CUSTOM}},"url":"Rollback Driver Version: {{update.version}}"}\' ng-disabled=updatesDriver.isInstallDisabled() aria-label=start-rollback-driver-customInstall-button></md-button> </div> </div> </md-content> </nv-accordion-pane-header> </nv-accordion-pane> </nv-accordion> </div> <div layout=row layout-align="center center" class=common-nv-no-content-fallback layout-fill flex ng-if=!updatesDriver.anydriverInfoOrUpdatesFound> <div class=no-info-found-hardware-driver layout=column flex layout-align="center center"> <div class=centered> <p aria-hidden=true> <img src="data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjNWE1YTVhIiBoZWlnaHQ9IjQ4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSI0OCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4gICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPiAgICA8cGF0aCBkPSJNMTIgMkM2LjQ4IDIgMiA2LjQ4IDIgMTJzNC40OCAxMCAxMCAxMCAxMC00LjQ4IDEwLTEwUzE3LjUyIDIgMTIgMnptMSAxNWgtMnYtNmgydjZ6bTAtOGgtMlY3aDJ2MnoiLz48L3N2Zz4="> </p> </div> <p class=color-light-gray translate=l10n.downloadDriver flex/> <div layout-align="left left" flex> <md-button class=checkforupdate-button ng-click=updatesDriver.onCheckForUpdate() ng-disabled=updatesDriver.isCheckForUpdateDisabled() nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.UPDATES_CHECK_DRIVER_UPDATES}}}\' aria-label=" check-for-new-driver-update-button">{{\'l10n.retry\' | translate | uppercase}}</md-button> </div> </div> </div> </md-content> '},function(e,t){e.exports='<div layout=row layout-align="center center" layout-wrap> <nv-highlight-tile ng-repeat="tile in updatesDriverHighlights.driverHighlights.tiles" nv-content=tile nv-driver-type=updatesDriverHighlights.driverType class=updates-highlight-tile nv-driver-version={{updatesDriverHighlights.driverVersion}}></nv-highlight-tile> </div> '},function(e,t){e.exports="<nv-carousel ng-if=updatesHighlightsBanner.videoBanner nv-slides=updatesHighlightsBanner.videoBanner nv-selected-index=0 nv-is-banner=true nv-event-info={{updatesHighlightsBanner.getTelemetryEventInfo()}} class=updates-highlight-carousel></nv-carousel> "},function(e,t){e.exports=' <div ng-if=updatesInstallationCustom.showPackageSelectionUI layout=column> <div class=package-group-table> <div layout-align="start center" layout=row class="md-primary md-hue-5 background package-group-header"> <p class="font-size-xxs color-white-hue-3" flex=50>{{\'l10n.component\' | translate | uppercase}}</p> <p class="font-size-xxs color-white-hue-3" flex=30>{{\'l10n.newVersion\' | translate | uppercase}}</p> <p class="font-size-xxs color-white-hue-3" flex>{{\'l10n.currentVersion\' | translate | uppercase}}</p> </div> <div layout-align="start center" class=package-group-header layout=row ng-class="{\'md-primary md-hue-6 background\': $odd}" ng-repeat="installablePackage in updatesInstallationCustom.packages"> <md-checkbox class="font-size-xxs color-white-hue-4 checkbox-20" flex=50 ng-disabled=installablePackage.critical ng-model=installablePackage.selectedForInstall aria-label=selectInstall>{{installablePackage.title}}</md-checkbox> <p class="font-size-xxs color-white-hue-4" flex=30>{{installablePackage.version}}</p> <p class="font-size-xxs color-white-hue-4" flex ng-if=installablePackage.currentVersion.length>{{installablePackage.currentVersion}}</p> <p class="font-size-xxs color-white-hue-4" flex ng-if=!installablePackage.currentVersion.length>-</p> </div> </div> <md-divider></md-divider> <div layout=column layout-align="start start"> <md-checkbox class="font-size-xxs color-white-hue-4" ng-model=updatesInstallationCustom.cleanInstall aria-label=selectCleanInstall>{{ \'l10n.performCleanInstallation\' | translate }} </md-checkbox> <div layout=row layout-align="start center" class=warning-clean-install> <p class="font-size-xxs color-white-hue-5">{{\'l10n.cleanInstallMessage\' | translate}}</p> </div> </div> </div> <div ng-if=!updatesInstallationCustom.showPackageSelectionUI> <div class=package-group-table> <div layout-align="start center" layout=row class="md-primary md-hue-5 background package-group-header"> <p class="font-size-xxs color-white-hue-3" flex=50>{{\'l10n.component\' | translate | uppercase}}</p> <p class="font-size-xxs color-white-hue-3" flex=30>{{\'l10n.version\' | translate | uppercase}}</p> <p class="font-size-xxs color-white-hue-3" flex>{{\'l10n.status\' | translate | uppercase}}</p> </div> <div layout-align="start center" class=package-group-header layout=row ng-class="{\'md-primary md-hue-6 background\': $odd}" ng-repeat="installablePackage in updatesInstallationCustom.packages"> <p class="font-size-xxs color-white-hue-4" flex=50>{{installablePackage.title}}</p> <p class="font-size-xxs color-white-hue-4" flex=30>{{installablePackage.version}}</p> <p class="font-size-xxs color-white-hue-4" flex ng-if=installablePackage.resultCode>{{updatesInstallationCustom.getStatusText(installablePackage.resultText)}}</p> <p class="font-size-xxs color-white-hue-4" flex ng-if=!installablePackage.resultCode>{{ \'l10n.installed\' | translate }}</p> </div> </div> <md-divider></md-divider> </div> '},function(e,t,n){e.exports=" <iframe ng-if=!updateInstallationProgress.showFallbackImage ng-src={{updateInstallationProgress.getBillboardUrl()}}></iframe> <img ng-if=updateInstallationProgress.showFallbackImage class=updates-installlation-progress-fallbackImage ng-src="+n(736)+' alt=default-banner /> <div layout=column layout-align="space-around start" class=progress-status-container> <h4 class="font-size-sm color-white-hue-1">{{updateInstallationProgress.model.details()}}</h4> <md-progress-linear class=md-accent ng-if=updateInstallationProgress.isPreparingInstall flex md-mode=indeterminate aria-label=checkingforPreparingInstallProgress></md-progress-linear> <md-progress-linear class=md-accent ng-if=updateInstallationProgress.canShowUninstallProgress() flex md-mode=determinate value={{updateInstallationProgress.progressValue}} aria-label=checkingforUnInstallProgress></md-progress-linear> <md-progress-linear class=md-accent ng-if=updateInstallationProgress.canShowInstallProgress() flex md-mode=determinate value={{updateInstallationProgress.progressValue}} aria-label=checkingforInstallProgress></md-progress-linear> <p class="font-size-xxs color-white-hue-4" ng-show=updateInstallationProgress.canShowUninstallProgress() translate=l10n.unInstalling translate-values={{updateInstallationProgress}}></p> <p class="font-size-xxs color-white-hue-4" ng-show=updateInstallationProgress.canShowInstallProgress() translate=l10n.installing translate-values={{updateInstallationProgress}}></p> <p class="font-size-xxs color-white-hue-4" ng-show=updateInstallationProgress.isPreparingInstall translate=l10n.preparingForInstallation></p> </div> '},function(e,t){e.exports=' <div layout-align="center center" layout-padding layout=column> <md-icon md-font-library=material-icons class="material-icons md-accent" aria-label=trackChange aria-hidden=true>track_changes</md-icon> <h4 class="font-size-sm color-white-hue-3">{{\'l10n.restartingInSecond\' | translate:{num:updatesInstallationReboot.interval} }}</h4> <p class="font-size-xxs color-white-hue-4">{{\'l10n.afterRestartInstallation\' | translate}}</p> </div> '},function(e,t){e.exports=' <div layout-align="center center" layout-padding layout=column> <md-icon md-font-library=material-icons class="material-icons md-accent" aria-label=check aria-hidden=true>check</md-icon> <h4 class="font-size-sm color-white-hue-3">{{updatesInstallerDialog.model.details() | translate:dialog.data}}</h4> </div> '},function(e,t){e.exports='<div layout=column> <p class="font-size-sm color-white-hue-3">{{updatesInstallerDialog.model.details() | translate:dialog.data}}</p> <div ng-if=updatesInstallerDialog.model.showBullets()> <ul class=Bulleted ng-repeat="bullet in updatesInstallerDialog.model.bullets()"> <li class="font-size-sm color-white-hue-3" style=list-style:disc>{{bullet | translate:dialog.data}}</li> </ul> </div> <a class="md-default-theme font-size-xxs top-margin-linksection" ng-if=updatesInstallerDialog.model.showLink() href=http://nvidia.custhelp.com/app/answers/detail/a_id/3814 translate=l10n.viewDetails></a> </div> '},function(e,t){e.exports=' <div ng-show=updatesInstallerDialog.showTitleContainer() class=updates-installer-dialog-header> <div class="updates-updates-installer-dialog-title font-size-xl color-white-hue-1">{{updatesInstallerDialog.model.title() | translate}}</div> <div layout=row> <md-icon ng-if=updatesInstallerDialog.model.icon() md-font-set=material-icons class="material-icons md-accent" aria-label=subtitle aria-hidden=true>{{updatesInstallerDialog.model.icon()}}</md-icon> <p class="font-size-sm color-white-hue-3">{{updatesInstallerDialog.model.subtitle() | translate}}</p> </div> </div> <div flex layout-align="center center" layout=column> <div flex nv-bind-html-compile={{updatesInstallerDialog.model.html()}} layout-fill></div> </div> <div class=md-actions layout=row ng-show=updatesInstallerDialog.showActionContainer()> <md-button class="font-size-sm color-white-hue-3" ng-click=updatesInstallerDialog.model.button2().action() ng-if=updatesInstallerDialog.model.button2().action aria-label=updatesInstallerDialog-button1> {{updatesInstallerDialog.model.button2().text | translate | uppercase}} </md-button> <md-button class="font-size-sm color-white-hue-3" ng-click=updatesInstallerDialog.model.button1().action() ng-if=updatesInstallerDialog.model.button1().action aria-label=updatesInstallerDialog-button2> {{updatesInstallerDialog.model.button1().text | translate | uppercase}} </md-button> </div> '},function(e,t){e.exports=' <div class=updates-updates-driver-item layout=row layout-align="space-between start"> <md-icon md-font-set=material-icons class=md-36 aria-label=driverIcon aria-hidden=true>{{nvMdIcon}}</md-icon> <div flex layout=column layout-align="start space-between"> <h3 class="font-size-sm color-white-hue-3" ng-hide=nvDriver.isBeta>{{nvDriver.name | translate}}</h3> <h3 class="font-size-sm color-white-hue-3" ng-show=nvDriver.isBeta> {{\'l10n.betaWithHypen\' | translate:nvDriver}} </h3> <p class="font-size-sm color-white-hue-4">{{\'l10n.versionColon\' | translate}} {{nvDriver.version}} &#160;&#160; <span ng-if=nvDriver.releaseDateTime.length>{{\'l10n.releaseDate\' | translate}} {{nvDriver.releaseDateTime | convertToUTCDate}} &#160;&#160;</span> <span ng-if=nvDriver.installDate>{{\'l10n.installDateColon\' | translate}} {{nvDriver.installDate | convertToUTCDate}}</span> </p> </div> </div> '},function(e,t){e.exports=" <md-menu md-offset=\"10 36\" md-position-mode=\"target-right target\"> <md-button class=md-icon-button ng-click=$mdOpenMenu() aria-label=openMenu-button> <md-tooltip> {{'l10n.updates' | translate}} </md-tooltip> <md-icon md-font-library=material-icons class=md-18 nv-badge={{updatesNotifications.driverUpdatesCount}} aria-label=archive aria-hidden=true>archive</md-icon> </md-button> <md-menu-content md-menu-align-target md-menu-origin class=\"md-primary md-hue-1 updates-updates-notification-md-menu-content\"> <dropdown-menu-item ng-show=updatesNotifications.driverUpdatesCount> <p class=notification-header>{{'l10n.available' | translate | uppercase}}</p> <div ng-repeat=\"update in updatesNotifications.updatesList\"> <md-button ng-click=updatesNotifications.launchUpdateTab(update.version) aria-label=launchUpdateTab-button> <div layout=column> <nv-driver-item nv-driver=update nv-md-icon=file_download></nv-driver-item> <nv-update-download-progress nv-message=\"{{'l10n.downloading' | translate}}\" nv-value={{update.downloadStatus.percentComplete}} ng-show=updatesNotifications.isDownloadStarted(update.downloadStatus.status)></nv-update-download-progress> </div> </md-button> <md-divider></md-divider> </div> </dropdown-menu-item> <dropdown-menu-item> <p class=notification-header>{{'l10n.currentlyInstalled' | translate | uppercase}}</p> <md-button ng-click=updatesNotifications.launchUpdateTab(updatesNotifications.installedDriver.version) aria-label=currentlyInstalled-launchUpdateTab-button> <div ng-show=updatesNotifications.installedDriver> <div class=md-2-line aria-label={{updatesNotifications.installedDriver.version}}> <nv-driver-item nv-driver=updatesNotifications.installedDriver nv-md-icon=check></nv-driver-item> </div> </div> </md-button> <md-divider></md-divider> </dropdown-menu-item> <dropdown-menu-item> <md-button class=checkforupdate-container ng-click=updatesNotifications.launchUpdateTab(updatesNotifications.checkForUpdate) aria-label=checkforUpdatesButton> <p ng-style=dropdownMenuItem.itemStyle> {{'l10n.checkforUpdates' | translate | uppercase}} </p><p ng-style=dropdownMenuItem.itemStyle> </p></md-button> </dropdown-menu-item> </md-menu-content> </md-menu> ";
},function(e,t){e.exports=' <md-dialog class="edit-badges-dialog constants-position-relative" layout=column> <div layout=column flex layout-fill class=edit-badges-container> <span translate=l10n.achievements class="font-size-20 color-white-hue-3 font-family-roboto-light margin-bottom-16"></span> <div ng-if=!editBadgesCtrl.isOnline() class="message-banner display-block margin-bottom-16" layout=row layout-align="start center"> <md-icon md-font-set=material-icons aria-label=cloudOff aria-hidden=true>cloud_off</md-icon> <span flex translate=l10n.youAreOffline></span> </div> <div ng-if=editBadgesCtrl.groupedAchievements.unlocked.length layout=column class="badge-section margin-bottom-24"> <span translate=l10n.showcase class="font-size-lg color-white-hue-3 margin-bottom-8"></span> <span translate=l10n.userTitle class="font-size-lg color-white-hue-4 margin-bottom-8"></span> <div layout=row class=showcase-section> <div class="badge-tile-container showcase-badge-tile clickable-element constants-position-relative" ng-repeat="achievement in editBadgesCtrl.showcase | limitTo: 5" ng-class="{\'dragging\': achievement.isDragging, \'dropping\': achievement.isDropping}" drag-data=achievement html5-drag html5-drop on-drag-start=editBadgesCtrl.onDragStart() on-drag-end=editBadgesCtrl.onDragEnd() on-drag-enter=editBadgesCtrl.onDragEnter() on-drag-leave=editBadgesCtrl.onDragLeave() on-drag-over=editBadgesCtrl.onDragOver() on-drop=editBadgesCtrl.onDrop()> <div class="constants-position-absolute action-elements-container"> <md-button ng-hide=achievement.isDragging class="md-icon-button title-toggle-button" ng-click="editBadgesCtrl.toggleTitle($event, achievement)" aria-label=toggleTitle-button> <md-icon ng-show=achievement.isFeatured md-font-set=material-icons class="color-green margin-zero md-16" aria-label=star aria-hidden=true>star</md-icon> <md-icon ng-show=!achievement.isFeatured md-font-set=material-icons class="margin-zero md-16" aria-label=starBorder aria-hidden=true>star_border</md-icon> </md-button> </div> <div layout=column layout-align="start center" layout-fill class=tile-content ng-hide=editBadgesCtrl.afterDragStarted(achievement) ng-mousedown=editBadgesCtrl.mouseDown(achievement) ng-mouseup=editBadgesCtrl.mouseUp(achievement)> <div layout=column layout-align="center center" class=badge-icon-container> <md-icon ng-if=achievement.isUnlocked md-font-icon={{achievement.badgeIconTag}} class="cevo-icons ico-fw color-white margin-zero md-56" aria-label=badgeIcon aria-hidden=true></md-icon> </div> <span class="width-100 font-size-sm margin-top-12 text-align-center nv-ellipsis-lines-3 line-height-16">{{achievement.title}}</span> </div> </div> </div> </div> <div layout=column flex class=badge-section> <span translate=l10n.badges class="font-size-lg color-white-hue-3 margin-bottom-8"></span> <span translate=l10n.uptoFiveAchievements class="font-size-lg color-white-hue-4 margin-bottom-8"></span> <md-content nv-scroll-overlay flex> <div layout=row layout-wrap> <div layout=row layout-align="start center" class="badge-tile-container badge-tile padding-16 constants-position-relative" ng-repeat="achievement in editBadgesCtrl.groupedAchievements.all"> <div ng-if=achievement.isUnlocked class="constants-position-absolute action-elements-container"> <md-checkbox ng-model=achievement.inShowcase ng-disabled=editBadgesCtrl.selectDisabled(achievement) ng-change=editBadgesCtrl.achievementSelectChanged(achievement) class=checkbox-16 aria-label=select></md-checkbox> </div> <div layout=column layout-align="center center" class=badge-icon-container> <md-icon ng-if=achievement.isUnlocked md-font-icon={{achievement.badgeIconTag}} class="cevo-icons ico-fw color-white margin-zero md-56" aria-label=badgeIconTag aria-hidden=true></md-icon> <md-icon ng-if=!achievement.isUnlocked md-font-set=material-icons class="margin-zero md-56 locked-icon" aria-label=locked aria-hidden=true>locked</md-icon> </div> <div layout=column layout-align="start center" class=tile-content> <span class="width-100 font-size-lg nv-ellipsis-lines-2 line-height-18" ng-class="{\'color-white-hue-3\': achievement.isUnlocked, \'color-white-hue-5\': !achievement.isUnlocked}">{{achievement.title}}</span> <span class="line-height-16 width-100 font-size-sm color-white-hue-4 nv-ellipsis-lines-3" ng-class="{\'color-white-hue-5\': !achievement.isUnlocked}">{{achievement.description}}</span> </div> </div> </div> </md-content> </div> </div> <div layout=row layout-align="end center"> <md-button class=margin-right-zero translate=l10n.cancel ng-click=editBadgesCtrl.cancel() aria-label=editBadges-button></md-button> <md-button class=md-accent translate=l10n.save ng-click=editBadgesCtrl.save() ng-disabled=!editBadgesCtrl.isOnline() aria-label=editBadge-save-button></md-button> </div> </md-dialog> '},function(e,t){e.exports=' <div layout=column class="edit-user-description-container bg-dark-im"> <div class=padding-16> <span class="color-white-hue-1 font-uppercase font-size-lg" translate=l10n.gamersBio></span> <form name=editUserDescriptionForm layout=column layout-fill> <md-input-container class="md-block description-input-container margin-zero"> <input maxlength=250 md-maxlength=250 required md-no-asterisk name=description ng-model=editUserDescription.nvDescription> <div ng-messages=editUserDescriptionForm.description.$error> <div ng-message=required translate=l10n.descriptionRequired></div> <div ng-message=md-maxlength translate=l10n.descriptionLimitReached></div> </div> </md-input-container> </form> </div> <div layout=row layout-align="end center" class=buttons-container> <md-button ng-click=editUserDescription.cancelUpdate() translate=l10n.cancel aria-label=editUserDescription-button></md-button> <md-button type=submit ng-disabled=!editUserDescription.isValidDescription() ng-click=editUserDescription.commitUpdate() translate=l10n.apply aria-label=save-editedUserDescription-button></md-button> </div> </div> '},function(e,t){e.exports=' <div layout=column class="user-profile-widget featured-reward padding-24"> <div layout=column class="user-profile-widget-title font-uppercase"> <span translate=l10n.enterTokensToWin class="font-size-lg color-white-hue-3"></span> <nv-countdown-timer ng-if=featuredRewardCtrl.giveaway.endStampAdjusted class="font-size-sm color-white-hue-5" nv-translate=l10n.expiresIn nv-end-timestamp="{{ featuredRewardCtrl.giveaway.endStampAdjusted }}" nv-format=shortTime nv-callback=featuredRewardCtrl.refreshGiveaway(state)></nv-countdown-timer> </div> <div ng-switch=featuredRewardCtrl.getCurrentState() layout=column layout-fill flex> <div ng-switch-when=normal layout=column layout-align="space-between start" layout-fill> <div layout=column layout-fill flex> <div layout=row layout-align="start center" class=title-container> <span class="color-white-hue-3 font-size-xl nv-ellipsis-lines-2">{{ featuredRewardCtrl.giveaway.title }}</span> </div> <div class="artwork-container image-cover-container"> <img ng-src="{{ featuredRewardCtrl.previewArtwork }}" nv-image-fallback=nv-no-loading-indicator alt=""/> </div> <div class=margin-bottom-16> <span class="color-white-hue-2 font-size-sm nv-ellipsis-lines-3">{{ featuredRewardCtrl.giveaway.shortDescription }}</span> </div> </div> <div layout=row layout-fill layout-align=end ng-if=featuredRewardCtrl.tokensNotEntered()> <md-button class="margin-zero md-raised md-accent color-white-important" translate=l10n.enterNow ng-click=featuredRewardCtrl.openSweepstakesDialog() aria-label=enterNow-button></md-button> </div> <div ng-if=featuredRewardCtrl.tokensAlreadyEntered() layout=row layout-align="start center"> <md-icon class="nv-custom-icons margin-zero md-24 cursor-default" md-font-icon=icon-ranking-token aria-label=rankingToken aria-hidden=true></md-icon> <span class="margin-zero font-family-roboto-light font-size-32 margin-left-6">{{ featuredRewardCtrl.tokensEntered }}</span> <div layout=column class=margin-left-6> <span translate="{{ featuredRewardCtrl.tokensEnteredStr() }}" class="font-size-lg font-uppercase color-white-hue-1"></span> <div layout=row class="font-size-xxs color-white-hue-4"> <span>{{ featuredRewardCtrl.updatedMoment() }}</span> <div layout=row> <span>&nbsp;|&nbsp;</span> <a ng-click=featuredRewardCtrl.openSweepstakesDialog() class="md-accent nv-anchor-button color-green" translate=l10n.addMore></a> </div> </div> </div> </div> </div> <div ng-switch-when=error layout=column layout-align="center center" flex class=color-light-gray> <md-icon md-font-set=material-icons class="md-24 margin-zero" aria-label=info aria-hidden=true>info</md-icon> <span class=margin-top-8 translate=l10n.noInformationAvailable></span> </div> <div ng-switch-when=expired layout=column layout-align="center center" flex class=color-light-gray> <md-icon class="nv-custom-icons md-24 margin-zero" md-font-icon=icon-game-controller aria-label=rewardCard aria-hidden=true></md-icon> <span class=margin-top-8 translate=l10n.newRewardsComingSoon></span> </div> </div> </div> '},function(e,t){e.exports=' <div layout=column> <div layout=row layout-align="start center"> <md-icon class="margin-zero margin-right-15 nv-custom-icons level-icon-gradient md-42" md-font-icon={{levelDetails.nvLevel.icon}} aria-label=newLevel aria-hidden=true></md-icon> <div layout=column class=width-200> <span class="font-uppercase color-white font-size-18">{{ levelDetails.nvLevel.name | translate }}</span> <span class="font-size-sm font-family-roboto-light color-white-hue-4"> {{ levelDetails.xpRangeString }}</span> </div> </div> <div class=margin-top-24 flex> <div layout=row ng-repeat="perk in levelDetails.nvLevel.perks" class="perk-item margin-bottom-16 font-size-lg color-white-hue-4 line-height-20"> <md-icon md-font-set=material-icons class="color-white-hue-4 margin-zero md-8 margin-right-15" aria-label=brightness aria-hidden=true>brightness_1</md-icon> <span class=width-200 translate={{perk}}></span> </div> </div> </div> '},function(e,t){e.exports=' <md-dialog class="levels-dialog constants-position-relative padding-24"> <md-button class="md-icon-button close-button constants-position-absolute" ng-click=levelsDialog.closeDialog() aria-label=levels-dialog-close-button> <md-icon md-font-set=material-icons aria-label=closeButton aria-hidden=true>close</md-icon> </md-button> <span translate=l10n.geforceCommunityProgram class="font-size-20 margin-bottom-16 color-white-hue-3"></span> <md-dialog-content flex layout=column class="font-size-lg color-white-hue-4"> <div layout=row class="margin-bottom-24 profile-status"> <div layout=column class=polygon-clip> <div layout=column class="line-height-sm1 level-badge-container" layout-align="center center" flex> <md-icon class="margin-zero nv-custom-icons level-icon-gradient md-64" md-font-icon="{{ levelsDialog.nvUserLevel.levelIcon }}" aria-label=levelIcon aria-hidden=true></md-icon> <span class="font-size-18 font-uppercase margin-top-18 margin-bottom-12 color-white" translate="{{ levelsDialog.nvUserLevel.levelName }}"></span> </div> </div> <div layout=column layout-align="start center" flex class=padding-32> <div layout=row layout-fill flex> <div layout=row layout-align="start center" class=progress-bar-container> <md-icon class="nv-custom-icons color-green margin-zero md-42 margin-right-15" md-font-icon=icon-ranking-XP aria-label=rankingXP aria-hidden=true></md-icon> <div layout=column class="margin-top-6 xp-progress-container"> <div layout=row layout-align="start center" class="font-size-18 line-height-sm1 color-white"> <span ng-if="levelsDialog.nvUserLevel.xplevel.level !== levelsDialog.maxLevel" translate=l10n.xpStatus translate-values="{\'current\': levelsDialog.nvUserLevel.xp , \'upper\': levelsDialog.nvUserLevel.xplevel.ubound }"></span> <span ng-if="levelsDialog.nvUserLevel.xplevel.level === levelsDialog.maxLevel" translate=l10n.totalXP translate-values="{\'value\': levelsDialog.nvUserLevel.xp}"></span> </div> <md-progress-linear ng-if="levelsDialog.nvUserLevel.xplevel.level < levelsDialog.maxLevel" class="xp-progress md-accent" md-mode=determinate value="{{ levelsDialog.nvUserLevel.progress }}" aria-label=checkingforXPProgressBar aria-label=checkingforXPProgressBar></md-progress-linear> </div> </div> <div layout=row layout-align="start center" flex> <md-icon class="nv-custom-icons color-green margin-zero md-42 margin-right-15" md-font-icon=icon-ranking-token aria-label=rankingToken aria-hidden=true></md-icon> <span class="font-size-18 color-white" translate="{{ levelsDialog.tokenString }}" translate-values="{{ {\'value\': levelsDialog.nvUserLevel.rewardTokens } }}"></span> </div> </div> </div> </div> <span translate=l10n.participateInCommunity></span> <div layout=row layout-align="start center" class=margin-top-16> <md-icon class="nv-custom-icons color-green md-24 margin-zero margin-right-10" md-font-icon=icon-ranking-XP aria-label=rankingXP aria-hidden=true></md-icon> <span translate=l10n.aboutTokens></span> </div> <div layout=row layout-align="start center" class=margin-top-16> <md-icon class="nv-custom-icons color-green md-24 margin-zero margin-right-10" md-font-icon=icon-ranking-token aria-label=rankingToken aria-hidden=true></md-icon> <span translate=l10n.aboutXP></span> </div> <span class=margin-top-20></span> <div layout=row layout-align="start start" class=margin-top-20> <nv-level-details class=nv-level-details flex=33 nv-level=level nv-user-level=levelsDialog.nvUserLevel nv-hide-progress="level.level === \'3\'" ng-repeat="level in levelsDialog.nvLevels"></nv-level-details> </div> </md-dialog-content> </md-dialog> '},function(e,t){e.exports=' <md-dialog class="mission-details-dialog constants-position-relative"> <md-button class="md-icon-button close-button" ng-click=missionDetailsCtrl.closeDialog() aria-label=missionDetails-closeDialog-button> <md-icon md-font-set=material-icons aria-label=closeButton aria-hidden=true>close</md-icon> </md-button> <div ng-if=missionDetailsCtrl.mission> <div class="slideshow-container constants-position-absolute"> <img ng-src="{{ missionDetailsCtrl.mission.assets.main.file.url }}" alt=mission-img nv-image-fallback=nv-no-loading-indicator> </div> <div class=gradient-overlay> <div class="constants-position-absolute top"></div> <div class="constants-position-absolute left"></div> <div class="constants-position-absolute right"></div> </div> <div class="details-container constants-position-absolute"> <div class=title-container layout=row layout-align="space-between end"> <div layout=column> <span class="font-size-20 font-family-roboto-light color-white">{{ missionDetailsCtrl.mission.name }}</span> <div layout=row ng-if=missionDetailsCtrl.missionExpires() class="font-size-sm color-white-hue-6 margin-top-4"> <span translate=l10n.timeLeft></span> <nv-countdown-timer class=margin-left-4 nv-end-timestamp="{{ missionDetailsCtrl.mission.endStampMicro }}" nv-format=shortTime></nv-countdown-timer> </div> </div> <nv-mission-progress nv-mission=missionDetailsCtrl.mission></nv-mission-progress> </div> <div layout=row layout-align="space-between start" class="collapsable-container constants-position-relative"> <div layout=column class="content margin-bottom-8" ng-class="{\'collapsed\': missionDetailsCtrl.isCollapsed }"> <span class="font-size-lg color-white-hue-6">{{ missionDetailsCtrl.mission.tasks[0].description }}</span> </div> <nv-call-to-action ng-if=missionDetailsCtrl.showCta class=margin-left-16 nv-cta-data=missionDetailsCtrl.mission.cta nv-before-click=missionDetailsCtrl.ctaClicked()></nv-call-to-action> </div> </div> </div> <div ng-if=!missionDetailsCtrl.mission class=color-light-gray layout=column layout-align="center center" layout-fill> <md-icon md-font-set=material-icons class="md-24 color-white-hue-4 margin-zero" aria-label=info aria-hidden=true>info</md-icon> <span class=margin-top-8 translate=l10n.noInformationAvailable></span> </div> </md-dialog> '},function(e,t){e.exports=' <div layout=column layout-align="start center" class=mission-progress-container ng-class="{\'completed\': missionProgressCtrl.isCompleted}"> <md-icon ng-if=missionProgressCtrl.isCompleted md-font-set=material-icons class="md-30 margin-zero color-green margin-bottom-4" aria-label=checkCircle aria-hidden=true>check_circle</md-icon> <div layout=row layout-align="start center" class=mission-value-container> <span class="font-size-20 font-family-roboto-light title">{{ missionProgressCtrl.missionValue }}</span> <md-icon ng-if=!missionProgressCtrl.isCompleted class="nv-custom-icons md-24 margin-zero margin-left-4" md-font-icon="{{ missionProgressCtrl.icon }}" aria-label=missionProgress aria-hidden=true></md-icon> <md-icon ng-if=missionProgressCtrl.isCompleted class="nv-custom-icons md-24 margin-zero margin-left-4" md-font-icon="{{ missionProgressCtrl.icon }}" aria-label=missionProgressCompleted aria-hidden=true></md-icon> </div> <span ng-if=missionProgressCtrl.showProgress class="font-size-xs progress-capsule">{{ missionProgressCtrl.getProgress() }}</span> </div> '},function(e,t){e.exports='<div layout=row flex class="mission-tile clickable-element no-focus-outline" ng-click=missionTileCtrl.showDetails($event)> <div ng-if=missionTileCtrl.isFeatured class="artwork-container image-cover-container"> <img ng-src="{{ missionTileCtrl.nvMission.assets.thumb.file.url }}" alt="" nv-image-fallback=nv-no-loading-indicator> </div> <div layout=column flex class=details-container> <div class=mission-title> <span class="font-size-lg color-white-hue-2">{{ missionTileCtrl.nvMission.name }}</span> </div> <span class="font-size-lg color-white-hue-6 margin-bottom-16 nv-ellipsis-lines-3">{{ missionTileCtrl.nvMission.tasks[0].name }}</span> </div> <nv-mission-progress nv-mission=missionTileCtrl.nvMission></nv-mission-progress> </div> '},function(e,t){e.exports=' <md-dialog class="sweepstakes-dialog constants-position-relative" ng-switch=sweepstakeCtrl.dialogState> <md-dialog-content ng-switch-when=GIVEAWAY_DETAILS layout=column layout-fill flex class=constants-position-relative> <md-button ng-hide=sweepstakeCtrl.messageOverlayVisible class="md-icon-button animate-show-hide close-button" ng-click=sweepstakeCtrl.closeDialog() aria-label=sweepstake-close-button> <md-icon md-font-set=material-icons aria-label=closeButton aria-hidden=true>close</md-icon> </md-button> <div ng-show=sweepstakeCtrl.messageOverlayVisible ng-switch=sweepstakeCtrl.overlayState layout=column layout-align="center center" layout-fill class="message-overlay animate-show-hide"> <div ng-switch-when=OVERLAY_LOADING> <md-progress-circular class=md-accent md-mode=indeterminate md-diameter=30></md-progress-circular> </div> <div ng-switch-when=OVERLAY_SUCCESS layout=column layout-align="center center" class=color-white> <div layout=row layout-align="center center"> <md-icon layout=row layout-align="center center" class="nv-custom-icons md-62 cursor-default margin-zero margin-right-16" md-font-icon=icon-ranking-token aria-label=rankingToken aria-hidden=true></md-icon> <md-icon md-font-set=material-icons class="md-32 margin-zero" aria-label=close aria-hidden=true>close</md-icon> <span class="margin-left-16 font-family-roboto-light font-size-xxxl">{{ sweepstakeCtrl.tokensEntered }}</span> </div> <span class="font-size-20 margin-top-16" translate="{{ sweepstakeCtrl.tokensEnteredSuccessStr() }}"></span> </div> <div ng-switch-when=OVERLAY_ERROR layout=column layout-align="center center"> <md-icon md-font-set=material-icons class="md-62 margin-zero" aria-label=error aria-hidden=true>error</md-icon> <span class="font-size-20 margin-16 color-white">{{ sweepstakeCtrl.errorMessage }}</span> </div> </div> <div layout=row layout-fill flex class=giveaway-details-container> <div layout=column class="giveaway-box-art image-cover-container"> <img ng-src="{{ sweepstakeCtrl.boxArt }}" nv-image-fallback=nv-no-loading-indicator alt=""/> </div> <div layout=column layout-align="space-between start" flex class="giveaway-details constants-position-relative padding-24 font-size-lg line-height-18 color-white-hue-4"> <div layout=column class=width-100> <div layout=column class=giveaway-info-section> <nv-countdown-timer nv-translate=l10n.timeLeftToEnter nv-end-timestamp={{sweepstakeCtrl.giveaway.endStampMicro}} nv-format=shortTime></nv-countdown-timer> <span class="font-size-20 color-white single-line-ellipsis line-height-26">{{ sweepstakeCtrl.giveaway.title }}</span> <div ng-if=!sweepstakeCtrl.isOnline() class=message-banner-container> <div class=message-banner layout=row layout-align="start center"> <md-icon md-font-set=material-icons aria-label=cloudOff aria-hidden=true>cloud_off</md-icon> <span flex translate=l10n.youAreOffline></span> </div> </div> <span class="giveaway-details-description nv-ellipsis-lines-5"> <span ng-bind-html=sweepstakeCtrl.giveaway.longDescription></span> <span>&nbsp;</span> <a ng-if=sweepstakeCtrl.giveaway.properties.learnMoreUrl href="{{ sweepstakeCtrl.giveaway.properties.learnMoreUrl }}" translate=l10n.learnMore></a> </span> </div> <div layout=column ng-switch=sweepstakeCtrl.tokensEnteredViewState class="giveaway-tokens-section margin-bottom-20 constants-position-relative"> <div layout=row layout-align="start center" layout-fill flex> <div layout=column layout-align="center center" class=margin-right-16> <md-icon class="nv-custom-icons md-62 margin-zero cursor-default" md-font-icon=icon-ranking-token aria-label=rankingToken aria-hidden=true></md-icon> </div> <div layout=column ng-switch-when=EDIT_STAKES class=giveaway-edit-stakes> <span ng-if=sweepstakeCtrl.termsAlreadyAgreed translate=l10n.addMoreTokens></span> <span ng-if=!sweepstakeCtrl.termsAlreadyAgreed translate=l10n.enterTokens></span> <form name=sweepstakeCtrl.sweepstakeForm layout=row layout-align="start center" class="giveaway-form margin-top-8"> <md-button class="md-fab-24 md-accent md-raised margin-zero margin-right-8" ng-click=sweepstakeCtrl.decreaseTokens() ng-disabled=sweepstakeCtrl.decreaseButtonDisabled() aria-label=decreaseToken-button> <md-icon md-font-set=material-icons aria-label=remove aria-hidden=true>remove</md-icon> </md-button> <md-input-container md-no-float class="tokens-input-container margin-zero"> <input required type=number name=tokens class="text-align-center margin-zero-important" min="{{ sweepstakeCtrl.tokensInputMin }}" max="{{ sweepstakeCtrl.tokensInputMax }}" ng-model=sweepstakeCtrl.tokensEntered ng-keypress=sweepstakeCtrl.tokensInputKeypress($event) ng-blur=sweepstakeCtrl.tokensInputBlur() ng-disabled=sweepstakeCtrl.tokensInputDisabled()> </md-input-container> <md-button class="md-fab-24 md-accent md-raised margin-zero margin-left-8" ng-click=sweepstakeCtrl.increaseTokens() ng-disabled=sweepstakeCtrl.increaseButtonDisabled() aria-label=increaseToken-button> <md-icon md-font-set=material-icons aria-label=add aria-hidden=true>add</md-icon> </md-button> <span ng-if=sweepstakeCtrl.showRemainingTokens() class=margin-left-16 translate="{{ sweepstakeCtrl.tokensRemainingStr() }}" translate-value-number="{{ sweepstakeCtrl.remainingTokens }}"></span> </form> </div> <div layout=column ng-switch-when=REVIEW_STAKES> <span translate=l10n.tokensEntered></span> <span class="font-family-roboto-light font-size-32 color-white line-height-sm1">{{ sweepstakeCtrl.tokensEntered }}</span> <span class=color-white-hue-5>{{ sweepstakeCtrl.tokensSubmitMoment() }}</span> </div> </div> <span ng-if=sweepstakeCtrl.showInvalidTokensError() class="input-error-container font-size-xxs color-red-hue-1 margin-top-8 nv-ellipsis-lines-2" translate="{{ sweepstakeCtrl.inputErrorStr() }}"></span> </div> <div layout=column class="margin-bottom-20 color-white-hue-5"> <span ng-if=sweepstakeCtrl.giveaway.quantity translate=l10n.numberOfWinners translate-value-number={{sweepstakeCtrl.giveaway.quantity}}></span> <span ng-if=sweepstakeCtrl.giveaway.tokensEntered translate=l10n.entriesSoFar translate-values="{{ {\'entries\': sweepstakeCtrl.giveaway.tokensEntered} }}"></span> </div> </div> <div layout=row layout-align="space-between center" class=width-100> <div ng-if=!sweepstakeCtrl.termsAlreadyAgreed layout=column> <md-checkbox class=checkbox-20 ng-model=sweepstakeCtrl.tncAgreed ng-disabled=sweepstakeCtrl.tncCheckboxDisabled() aria-label=sweepstakeCtrl> <div nv-bind-html-compile="{{ sweepstakeCtrl.agreeToElementHtml }}"></div> </md-checkbox> </div> <div ng-if=sweepstakeCtrl.termsAlreadyAgreed layout=column> <div> <a ng-if=sweepstakeCtrl.giveaway.officialRules ng-click=sweepstakeCtrl.showRules($event) translate=l10n.officialRules></a> </div> </div> <div ng-switch=sweepstakeCtrl.tokensEnteredViewState> <div ng-switch-when=EDIT_STAKES layout=column> <md-button class="md-accent md-raised margin-zero font-uppercase" translate=l10n.submit ng-disabled=sweepstakeCtrl.submitDisabled() ng-click=sweepstakeCtrl.submitTokens() aria-label=submitTokens-button></md-button> </div> <div ng-switch-when=REVIEW_STAKES layout=row> <md-button ng-if=sweepstakeCtrl.availableTokens class="md-raised md-secondary margin-zero margin-right-16 font-uppercase" translate=l10n.addMore ng-click=sweepstakeCtrl.addMoreTokens() aria-label=addMoreTokens-button></md-button> <md-button class="md-accent md-raised margin-zero font-uppercase" translate=l10n.done ng-click=sweepstakeCtrl.reviewDone() aria-label=review-done-button></md-button> </div> </div> </div> </div> </div> </md-dialog-content> <md-dialog-content layout=column layout-fill flex ng-switch-when=OFFICIAL_RULES class="giveaway-rules-container giveaway-subview"> <div layout=row layout-align="start center" class="giveaway-subview-header font-size-xl color-white"> <md-button class=md-icon-button ng-click=sweepstakeCtrl.goBack($event) aria-label=arrow-back-button> <md-icon md-font-set=material-icons aria-label=arrowBack aria-hidden=true>arrow_back</md-icon> </md-button> <span class=margin-left-16 translate=l10n.officialRules></span> </div> <md-content ng-if=sweepstakeCtrl.giveaway.officialRules layout-fill flex class="font-size-sm color-white-hue-4 giveaway-subview-content"> <div ng-bind-html=sweepstakeCtrl.giveaway.officialRules></div> </md-content> <nv-overlay ng-if=sweepstakeCtrl.giveaway.officialRules class="common-overlay giveaway-subview-content-overlay" nv-position=bottom></nv-overlay> <div ng-if=!sweepstakeCtrl.giveaway.officialRules layout=column layout-align="center center" flex layout-fill class=color-light-gray> <md-icon md-font-set=material-icons class="md-32 margin-zero" aria-label=info aria-hidden=true>info</md-icon> <span class="font-size-lg margin-top-16" translate=l10n.noInformationAvailable></span> </div> </md-dialog-content> </md-dialog> '},function(e,t){e.exports=' <span ng-if=userAchievements.titleBadge.title class="font-size-xxs color-white-hue-2 font-size-sm">{{userAchievements.titleBadge.title}}</span> <div ng-if=userAchievements.achievements layout=row layout-align="start center" class="margin-top-16 achievements-container"> <div ng-if="userAchievements.unlocked.length > 0 && userAchievements.showcase.length > 0"> <md-icon ng-repeat="badge in userAchievements.showcase" md-font-icon={{badge.badgeIconTag}} class="cevo-icons ico-fw margin-zero md-24 margin-right-16" aria-label=badgeIconTag aria-hidden=true></md-icon> </div> <span ng-if="userAchievements.unlocked.length > 0 && userAchievements.showcase.length === 0" class="margin-right-8 color-white-hue-3 font-size-lg font-style-italic" translate=l10n.showcaseAchievements></span> <div ng-if="userAchievements.unlocked.length === 0"> <md-icon ng-repeat="_ in userAchievements.placeholderList" md-font-set=material-icons class="md-24 margin-right-16" aria-label=lock aria-hidden=true>lock</md-icon> </div> <a ng-click=userAchievements.viewAll() translate=l10n.viewAll ng-class="{\'link-disabled\': userAchievements.viewAllDisabled}"></a> </div> <div ng-if=userAchievements.loading() layout=row layout-align="start center" class="margin-top-16 achievements-loading-container"> <div class="margin-right-8 loading-icon" ng-repeat="_ in userAchievements.placeholderList"></div> </div> '},function(e,t){e.exports=' <div layout=column layout-fill class=padding-24> <div ng-if=userActivityLog.shareSupported() class="recently-captured-container margin-bottom-24"> <div layout=row layout-align="space-between end" class=profile-section-header> <span flex class="font-size-lg color-white-hue-4 font-uppercase" translate=l10n.latestCaptures></span> <a ng-click=userActivityLog.openOSCGallery() class=font-size-10 translate=l10n.viewGallery></a> </div> <nv-user-gallery ng-if=userActivityLog.shareReady()></nv-user-gallery> <div ng-if=userActivityLog.shareDisabledFallback() layout=column layout-align="center center"> <nv-no-content-fallback nv-tip=l10n.turnOnShare flex></nv-no-content-fallback> </div> </div> <div layout=column class=activity-log-container ng-if=userActivityLog.activityLog> <div layout=column class=activity-log-group ng-repeat="(groupDate, activities) in userActivityLog.activityLog | limitTo: userActivityLog.activityItemLimitTo"> <div layout=row class=profile-section-header> <span class="font-size-lg color-white-hue-5 font-uppercase">{{ userActivityLog.headerDate(groupDate) }}</span> </div> <div layout=row layout-align="start start" ng-repeat="log in activities" class=activity-log> <div layout=column class=activity-log-thumbnail> <img class=image ng-src={{log.assets.thumb.file.url}} alt="" nv-image-fallback=nv-no-loading-indicator> </div> <div layout=column layout-align="space-between stretch" class=activity-log-details flex> <span class="font-size-lg nv-ellipsis-lines-4 color-white-hue-6 margin-bottom-8" ng-bind-html=log.message></span> <div layout=row layout-align="space-between end"> <span class="font-size-sm single-line-ellipsis color-white-hue-4">{{ userActivityLog.activityMoment(log) }}</span> <div layout=row layout-align="start center" ng-if=userActivityLog.showTokensEarned(log)> <span class=font-size-xl>{{ log.tokens }}</span> <md-icon class="nv-custom-icons md-20 margin-zero" md-font-icon=icon-ranking-token aria-label=logTokens aria-hidden=true></md-icon> </div> <div layout=row layout-align="start center" ng-if=userActivityLog.showXpEarned(log)> <span class=font-size-xl>{{ log.xp }}</span> <md-icon class="nv-custom-icons md-20 margin-zero" md-font-icon=icon-ranking-XP aria-label=iconRankingXP aria-hidden=true></md-icon> </div> </div> </div> </div> </div> </div> <div ng-if=userActivityLog.emptyState() layout=column flex> <div ng-if=userActivityLog.shareSupported() class="margin-top-16 activity-log-empty-state-separator"></div> <div layout=column layout-align="center center" flex class="activity-log-empty-state color-light-gray"> <md-icon md-font-set=material-icons class="md-24 margin-zero" aria-label=info aria-hidden=true>info</md-icon> <span class=margin-top-8 translate=l10n.noInformationAvailable></span> </div> </div> </div> '},function(e,t){e.exports=' <div layout=column layout-fill class=user-gallery-details-controller ng-if=userGalleryDetails.mediaItem> <div flex=90 layout=row layout-align="center center"> <img ng-if=userGalleryDetails.isImage() ng-src={{userGalleryDetails.mediaItem.file.name}} alt="" class=gallery-detail-image /> <video ng-if=userGalleryDetails.isVideo() autoplay=autoplay ng-src={{userGalleryDetails.mediaItem.file.name}} type=video/mp4 class=gallery-detail-video controls></video> </div> <div layout=row layout-align="space-between center" flex=10 class=padding-16> <div layout=column flex> <div flex class="single-line-ellipsis font-size-xl color-white-hue-2">{{ userGalleryDetails.mediaItem.folder }}</div> <div flex class="single-line-ellipsis font-size-sm1 margin-top-8 color-white-hue-4">{{ userGalleryDetails.mediaItem.date }}</div> </div> <md-button class=md-icon-button ng-click=userGalleryDetails.upload() nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.ACTIVITY_LOG_SHARE_CAPTURE}}}\' aria-label=fileUpload-button> <md-icon md-font-set=material-icons class="color-medium-gray-hue-2 md-icon-16" aria-label=fileUpload aria-hidden=true>file_upload</md-icon> </md-button> </div> </div> '},function(e,t){e.exports='<div class=user-gallery-container flex ng-if=userGallery.recentlyCaptured.length layout=row> <nv-tile-carousel nv-fixed-tile-width=240 nv-fixed-tile-margin=12 class=gallery-carousel> <nv-user-gallery-tile class=nv-carousel-tile ng-repeat="recentFile in userGallery.recentlyCaptured" nv-file=recentFile nv-file-list=userGallery.recentlyCaptured> </nv-user-gallery-tile> </nv-tile-carousel> </div> <div layout=column layout-fill layout-align="center center" ng-if=userGallery.fallbackState()> <nv-no-content-fallback nv-tip=l10n.noRecentlyCaptured flex></nv-no-content-fallback> </div> ';
},function(e,t){e.exports=' <md-card id=recent class="user-gallery-tile clickable-element no-focus-outline" ng-click="userGalleryTile.previewMedia($event, userGalleryTile.nvFile.file)"> <div class=gallery-video-div> <img ng-src={{userGalleryTile.nvFile.data}} class=md-card-image ng-class="{\'gallery-video-div-mta\': userGalleryTile.isFileMultiTrackAudio(userGalleryTile.nvFile.audiotype)}" alt="image caption" ng-if=userGalleryTile.nvFile.data> <div layout=row layout-fill layout-align="center center" ng-if=!userGalleryTile.nvFile.data class=constants-position-relative> <md-icon class=md-icon-48 aria-label=error aria-hidden=true>error</md-icon> </div> <div ng-if="userGalleryTile.nvFile.file.type === \'video\'"> <div class=gallery-video-overlay-play-button> <md-icon class=gallery-video-overlay-play-button-icon ng-class="{\'icon-disabled\': userGalleryTile.isFileMultiTrackAudio(userGalleryTile.nvFile.audiotype)}" tabindex=-1 aria-label=playCircleOutline aria-hidden=true>play_circle_outline</md-icon> </div> <div class=gallery-video-duration ng-class="{\'gallery-text-mta\': userGalleryTile.isFileMultiTrackAudio(recentFile.audiotype)}">{{userGalleryTile.nvFile.duration}}</div> </div> </div> <md-card-footer class=gallery-card-footer ng-class="{\'gallery-text-footer-mta\': userGalleryTile.isFileMultiTrackAudio(userGalleryTile.nvFile.audiotype)}" layout=row layout-align="space-between center"> <div layout=column flex> <span flex class="font-size-sm1 color-white-hue-2 single-line-ellipsis"> {{ userGalleryTile.nvFile.folder }} </span> <span flex class="font-size-xs margin-top-4 color-white-hue-4 single-line-ellipsis"> {{ userGalleryTile.nvFile.date }} </span> </div> <md-button class=md-icon-button ng-click=userGalleryTile.upload($event) aria-label=galleryFile-upload-button> <md-icon md-font-set=material-icons class="color-medium-gray-hue-2 md-icon-16" aria-label=fileUpload aria-hidden=true>file_upload</md-icon> </md-button> </md-card-footer> </md-card> '},function(e,t){e.exports=' <div layout=column class="user-missions margin-24"> <div ng-if=!userMissionsCtrl.emptyState() layout-gt-md=row layout-sm=column layout-xs=column> <div layout=column flex-gt-md=65> <div ng-if=userMissionsCtrl.featuredMissions.length layout=column class=margin-bottom-24> <div layout=row class="profile-section-header font-size-lg color-white-hue-4 font-uppercase"> <nv-countdown-timer ng-if=!userMissionsCtrl.isFeaturedCtaMission nv-translate=l10n.featuredMissionCountdown nv-end-timestamp="{{ userMissionsCtrl.featuredMissionEndTs }}" nv-format=shortTime nv-callback=userMissionsCtrl.refreshMission(state)></nv-countdown-timer> <nv-countdown-timer ng-if=userMissionsCtrl.featuredCtaMissionActive() nv-translate="{{ userMissionsCtrl.featuredCtaHeader}}" nv-end-timestamp="{{ userMissionsCtrl.featuredCtaTs }}" nv-format=shortTime nv-callback=userMissionsCtrl.ctaStateChanged(state)></nv-countdown-timer> <span ng-if=userMissionsCtrl.featuredCtaMissionEnded() translate=l10n.featuredMissionEnded></span> </div> <div ng-repeat="mission in userMissionsCtrl.featuredMissions" flex class=mission-tile-margin> <nv-mission-tile nv-mission=mission></nv-mission-tile> </div> </div> <div ng-if=userMissionsCtrl.repeatableMissions.length layout=column> <div layout=row class="profile-section-header font-size-lg color-white-hue-4 font-uppercase"> <nv-countdown-timer nv-translate=l10n.weeklyMissionsCountdown nv-end-timestamp="{{ userMissionsCtrl.weeklyMissionEndTs }}" nv-format=shortTime nv-callback=userMissionsCtrl.refreshMission(state)></nv-countdown-timer> </div> <div ng-repeat="mission in userMissionsCtrl.repeatableMissions" flex class=mission-tile-margin> <nv-mission-tile nv-mission=mission></nv-mission-tile> </div> </div> </div> <div hide show-gt-md class=padding-right-24></div> <div hide show-md show-xs show-sm class=margin-top-24></div> <div layout=column flex-gt-md=35> <div ng-if=userMissionsCtrl.timelessMissions.length layout=column> <span class="profile-section-header font-size-lg color-white-hue-4 font-uppercase" translate=l10n.timelessMissions></span> <div ng-repeat="mission in userMissionsCtrl.timelessMissions" flex class=mission-tile-margin> <nv-mission-tile nv-mission=mission></nv-mission-tile> </div> </div> </div> </div> <div ng-if=userMissionsCtrl.emptyState() layout=column layout-align="center center" flex class=color-light-gray> <md-icon md-font-set=material-icons class="md-24 margin-zero" aria-label=noInformationAvailable aria-hidden=true>info</md-icon> <span class=margin-top-8 translate=l10n.noInformationAvailable></span> </div> </div> '},function(e,t){e.exports=' <md-content id=panel-container flex ui-tour=profileTour ui-tour-placement=bottom-left> <div layout=column layout-fill flex class="user-profile-container constants-position-relative"> <div layout=row class=user-profile-cover-container flex> <div layout-fill flex class=cover-gradient></div> <img ng-if=userProfile.profileDetail.coverImageUrl.url ng-src={{userProfile.profileDetail.coverImageUrl.url}} /> <nv-overlay class="common-overlay cover-dark-overlay"></nv-overlay> </div> <div layout=column flex class=user-profile> <div class="user-profile-bio-container constants-position-relative"> <div layout=row layout-align="start end" layout-fill flex class="constants-position-absolute user-profile-bio" ng-mouseenter=userProfile.coverMouseHover(true) ng-mouseleave=userProfile.coverMouseHover(false)> <md-button class="md-icon-button constants-position-absolute cover-edit-button" ng-click=userProfile.updateCover() ng-show=userProfile.isEditCoverButtonVisible() nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.USER_EDIT_COVER_IMAGE}}}\' aria-label=userProfile-updateCover-button> <md-icon md-font-set=material-icons class="color-white-hue-1 md-16 foreground" aria-label="edit button to update cover" aria-hidden=true>edit</md-icon> </md-button> <nv-select-menu nv-md-icon=more_vert nv-label=l10n.moreDots class="constants-position-absolute more-options"> <nv-select-menu-item nv-action=userProfile.refreshProfile() nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.USER_REFRESH_PROFILE}}}\'> <span translate=l10n.refreshProfile></span> </nv-select-menu-item> </nv-select-menu> <div layout=column layout-align="center center" class=user-profile-avatar-container> <div layout=column class="profile-avatar-overlay constants-position-relative" ng-mouseenter=userProfile.avatarMouseHover(true) ng-mouseleave=userProfile.avatarMouseHover(false)> <md-button class="md-icon-button constants-position-absolute avatar-edit-button" ng-show=userProfile.isAvatarMouseHover ng-click=userProfile.updateAvatar() nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.USER_EDIT_AVATAR}}}\' aria-label=userProfile-update-avatar-button> <md-icon md-font-set=material-icons class="color-white-hue-1 md-16 foreground" aria-label="edit button to update avatar" aria-hidden=true>edit</md-icon> </md-button> <img ng-src={{userProfile.profileDetail.avatar.url}} class=md-avatar alt=avatar nv-fallback-src=avatar_generic_118.png /> </div> </div> <div layout=column layout-align="end start" flex> <div class=user-profile-details layout=column> <div layout=row tour-step=profile tour-step-title="{{\'l10n.userProfileTourString\' | translate}}" tour-step-placement=top-left tour-step-order=0> <h1 class="color-white-hue-1 margin-zero margin-bottom-4 font-style-normal">{{ userProfile.profileDetail.displayName }}</h1> </div> <div layout=row ng-if="userProfile.getFeatureEnabled(\'achievements\')"> <nv-user-achievements></nv-user-achievements> </div> <div layout=column class="constants-position-relative margin-bottom-24 padding-right-32" ng-mouseenter=userProfile.descriptionMouseHover(true) ng-mouseleave=userProfile.descriptionMouseHover(false)> <md-button class="md-icon-button constants-position-absolute desc-edit-button" ng-show=userProfile.isDescriptionMouseHover ng-click=userProfile.editUserDescription($event) nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.USER_EDIT_BIO_DESCRIPTION}}}\' aria-label="userProfile edit button to update user description"> <md-icon md-font-set=material-icons class="color-white-hue-1 md-16 foreground" aria-label="edit icon to update user description" aria-hidden=true>edit</md-icon> </md-button> <div class="font-size-sm1 color-white-hue-2 margin-top-16"> <span ng-if=userProfile.profileDetail.description.bio.value class="font-size-sm1 nv-ellipsis-lines-2">{{ userProfile.profileDetail.description.bio.value }}</span> <span ng-if=!userProfile.profileDetail.description.bio.value class="font-size-sm1 nv-ellipsis-lines-2" translate=l10n.userDefaultBioString></span> </div> </div> </div> </div> </div> </div> <div layout=row class=user-profile-content flex> <div layout=column class=user-profile-widgets-container> <div ng-if="userProfile.getFeatureEnabled(\'profileStatus\')" tour-step=profile tour-step-title="{{\'l10n.userTokenTourString\' | translate}}" tour-step-placement=right-top tour-step-order=2> <nv-user-profile-status></nv-user-profile-status> </div> <div ng-if="!userProfile.getFeatureEnabled(\'profileStatus\')" class=profile-status-placeholder></div> <div ng-if="userProfile.getFeatureEnabled(\'featuredReward\')"> <nv-featured-reward></nv-featured-reward> <nv-winners></nv-winners> </div> </div> <div layout=column flex> <md-tabs md-dynamic-height md-selected=userProfile.selectedTab class=margin-bottom-36> <md-tab ng-if=tab.isVisible() md-active=tab.active ng-repeat="tab in userProfile.profileTabs" md-on-select=userProfile.onTabChanged(tab)> <md-tab-label> <span class=font-uppercase translate="{{ tab.header }}"></span> </md-tab-label> <md-tab-body> <div layout=column layout-fill nv-bind-html-compile="{{ tab.directive }}"></div> </md-tab-body> </md-tab> </md-tabs> </div> </div> </div> </div> </md-content> '},function(e,t){e.exports=' <div layout=column class="constants-position-relative user-profile-widget user-profile-status" flex> <div ng-if=!ctrl.emptyState() layout=column layout-align="center center" class="constants-position-absolute level-badge no-focus-outline clickable-element" ng-click=ctrl.openLevelsDialog()> <md-icon ng-if=ctrl.profileStatus.levelIcon class="nv-custom-icons md-36 margin-zero constants-position-absolute" md-font-icon=icon-level-bg aria-label=openLevelsDialog aria-hidden=true></md-icon> <md-icon class="nv-custom-icons level-icon-gradient md-36 margin-zero" md-font-icon={{ctrl.profileStatus.levelIcon}} aria-label=levelIcon aria-hidden=true></md-icon> <span class="margin-top-8 margin-bottom-8 font-size-lg font-uppercase color-white-hue-3" translate="{{ ctrl.profileStatus.levelName }}" aria-label=levelName aria-hidden=true></span> </div> <div ng-if=!ctrl.emptyState() layout=row class=padding-24> <div layout=row flex layout-align="start start" class="xp-container margin-right-24 no-focus-outline clickable-element" ng-click=ctrl.openLevelsDialog()> <md-icon class="nv-custom-icons color-green md-24 margin-zero clickable-element margin-right-10" md-font-icon=icon-ranking-XP aria-label=rankingXP aria-hidden=true></md-icon> <div layout=column flex class="xp-info-container margin-top-7"> <div layout=row layout-align="start center" class="font-size-lg line-height-sm1 color-white-hue-4"> <span ng-if="ctrl.profileStatus.xplevel.level !== ctrl.maxLevel" translate=l10n.xpStatus translate-values="{\'current\': ctrl.profileStatus.xp , \'upper\': ctrl.profileStatus.xplevel.ubound }"></span> <span ng-if="ctrl.profileStatus.xplevel.level === ctrl.maxLevel" class=color-white-hue-3 translate=l10n.totalXP translate-values="{\'value\': ctrl.profileStatus.xp}"></span> </div> <md-progress-linear ng-if="ctrl.profileStatus.xplevel.level < ctrl.maxLevel" class="xp-progress md-accent" md-mode=determinate value="{{ ctrl.profileStatus.progress }}" aria-label=checkingforXPProgressBar></md-progress-linear> </div> </div> <div layout=row flex layout-align="start start" class="tokens-container no-focus-outline clickable-element" ng-click=ctrl.openLevelsDialog()> <md-icon class="nv-custom-icons color-green md-24 margin-zero clickable-element margin-right-10" md-font-icon=icon-ranking-token aria-label=rankingToken aria-hidden=true></md-icon> <div layout=column class="font-size-lg margin-top-7"> <span class="color-white-hue-3 line-height-sm1" nv-ellipsis-lines=1>{{ctrl.profileStatus.rewardTokens}}</span> <span class=color-white-hue-4 translate={{ctrl.tokenString}}></span> </div> </div> </div> <div ng-if=ctrl.emptyState() layout=column layout-align="center center" flex class="color-light-gray empty-state"> <md-icon md-font-set=material-icons class="md-24 margin-zero" aria-label=onBatteryIcon aria-hidden=true>info</md-icon> <span class=margin-top-8 translate=l10n.noInformationAvailable></span> </div> </div> '},function(e,t){e.exports='<div layout=column class="user-profile-games-summary user-profile-widget bg-dark-hv font-uppercase color-white-hue-4 font-size-sm1"> <div layout=row class="games-summary-item first" layout-align="start center" translate=l10n.installedGamesValue translate-values="{{ { \'value\': userProfileSummary.totalGamesCount} }}"></div> <div layout=row class=games-summary-item layout-align="start center" translate=l10n.anselGamesValue translate-values="{{ { \'value\': userProfileSummary.anselSupportedGamesCnt} }}"></div> <div ng-if=userProfileSummary.optimizedGamesCnt> <div layout=row class=games-summary-item layout-align="start center" translate=l10n.optimizedGamesValue translate-values="{{ { \'value\': userProfileSummary.optimizedGamesCnt } }}"></div> </div> <div ng-if="userProfileSummary.isGSSupported && userProfileSummary.gsSupportedGamesCount"> <div layout=row class="games-summary-item last" layout-align="start center" translate=l10n.gamestreamGamesValue translate-values="{{ { \'value\': userProfileSummary.gsSupportedGamesCount} }}"></div> </div> </div> '},function(e,t){e.exports=' <div layout-fill class="user-rig-info-container padding-24"> <div layout=column layout-align="center center"> <div layout=column class=user-rig-image-container class=constants-position-relative> <nv-overlay class="common-overlay no-background" nv-position="top right"> <md-button class=md-icon-button ng-click=userRig.updateRigCover() aria-label=button-to-updateRig-cover> <md-icon md-font-set=material-icons class="color-medium-gray-hue-2 foreground" aria-label="edit button to update rig cover" aria-hidden=true>edit</md-icon> </md-button> </nv-overlay> <img ng-src={{userRig.rigCoverImageUrl}}>  </div> <div layout=row class=user-rig-info-list layout-align="center start" layout-wrap> <div layout=column layout-align="center center" ng-repeat="item in userRig.systemInfoItems" class="user-rig-info-item color-medium-gray-hue-2"> <md-icon class="nv-custom-icons md-48 color-medium-gray-hue-2" md-font-icon={{item.icon}} aria-label=systemInfoItems aria-hidden=true></md-icon> <span>{{item.description}}</span> <div layout=column class=user-rig-info-subitem ng-repeat="subItem in item.subItems track by $index">{{subItem}}</div> </div> </div> </div> </div> '},function(e,t){e.exports='<div class=user-profile-widget layout=column> <div layout=row class=winners-widget> <a class="md-default-theme font-size-sm" ng-click=winnersCtrl.showWinners() translate=l10n.winnersAnnouncement></a> </div> </div> '},function(e,t){e.exports=[{bodyTags:["l10n.versionColon","l10n.releaseDate","l10n.installDateColon","l10n.drivers"],title:"Driver Item",extraTags:[],rawName:"nvDriverItem",group:"main.auth.updates#Driver Item"},{bodyTags:["l10n.optimalSettingsAvailable","l10n.drivers"],title:"Highlight Tile",extraTags:["l10n.unableToFetchVideo"],rawName:"nvHighlightTile",group:"main.auth.updates#Highlight Tile"},{bodyTags:["l10n.checkforUpdates","l10n.clickToChangeDriverPreference","l10n.showDriverRecommendationFor","l10n.gameReadyDriver","l10n.recommendedForGameUpdates","l10n.creatorReadyDriver","l10n.recommendedForCreativeApp","l10n.available","l10n.download","l10n.expressInstall","l10n.customInstall","l10n.reInstalledDriver","l10n.rollbackToLastDriver","l10n.downloadDriver","l10n.drivers"],title:"Updates Driver",extraTags:["l10n.currentlyInstalled","l10n.latestGeforceUpdate","l10n.latestGeforceCRDUpdate","l10n.newGRDDriverAvailable","l10n.newCRDDriverAvailable","l10n.driverDownloadFailed","l10n.checkingforUpdates","l10n.preparingPackage","l10n.downloading","l10n.paused","l10n.retrying","l10n.unableToConnectToNvidia","l10n.downloadPausedUnableToReachNvidia","l10n.downloadDiskSpace"],rawName:"nvUpdatesDriver",group:"main.auth.updates#Updates Driver"},{bodyTags:["l10n.redeem","l10n.filter","l10n.allNumber","l10n.availableNumber","l10n.redeemedNumber","l10n.expiredNumber","l10n.whereToFindCoupons","l10n.available","l10n.readyToRedeem","l10n.levelUpToUnlock","l10n.redeemedAndExpired","l10n.noRewardsRedeemedYet","l10n.rewards"],title:"Rewards Center",extraTags:["l10n.checkCouponRetailer","l10n.gfeGiveaway","l10n.tryAgain","l10n.redemptionIncomplete","l10n.redeem","l10n.moreItemsAvailable","l10n.updatingContent","l10n.unableToReachNvidia","l10n.learnMore","l10n.couldNotRetrieveRedemptionHistory","l10n.codeVerified","l10n.enterCouponCode"],rawName:"nvRewardsCenter",group:"main.auth.rewards#Rewards Center"}]},function(e,t,n){e.exports={default:n(938),__esModule:!0}},function(e,t,n){e.exports={default:n(941),__esModule:!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(934),o=r(i),a=n(933),l=r(a),s=n(100),c=r(s);t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":(0,c.default)(t)));e.prototype=(0,l.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?(0,o.default)(e,t):e.__proto__=t)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(100),o=r(i);t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":(0,o.default)(t))&&"function"!=typeof t?e:t}},,function(e,t,n){n(946);var r=n(20).Object;e.exports=function(e,t){return r.create(e,t)}},,function(e,t,n){n(948),e.exports=n(20).Object.getPrototypeOf},function(e,t,n){n(949),e.exports=n(20).Object.setPrototypeOf},,function(e,t,n){var r=n(44),i=n(49),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n(195)(Function.call,n(196).f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},,,function(e,t,n){var r=n(43);r(r.S,"Object",{create:n(126)})},,function(e,t,n){var r=n(54),i=n(197);n(198)("getPrototypeOf",function(){return function(e){return i(r(e))}})},function(e,t,n){var r=n(43);r(r.S,"Object",{setPrototypeOf:n(943).set})},function(e,t,n){var r,i;!function(){function o(e){return e&&(e.ownerDocument||e.document||e).documentElement}function a(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}function l(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function s(e){return null===e?NaN:+e}function c(e){return!isNaN(e)}function u(e){return{left:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}function d(e){return e.length}function f(e){for(var t=1;e*t%1;)t*=10;return t}function m(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function p(){this._=Object.create(null)}function g(e){return(e+="")===ba||e[0]===ya?ya+e:e}function v(e){return(e+="")[0]===ya?e.slice(1):e}function h(e){return g(e)in this._}function b(e){return(e=g(e))in this._&&delete this._[e]}function y(){var e=[];for(var t in this._)e.push(v(t));return e}function E(){var e=0;for(var t in this._)++e;return e}function S(){for(var e in this._)return!1;return!0}function _(){this._=Object.create(null)}function w(e){return e}function A(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function T(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,r=Ea.length;n<r;++n){var i=Ea[n]+t;if(i in e)return i}}function I(){}function C(){}function x(e){function t(){for(var t,r=n,i=-1,o=r.length;++i<o;)(t=r[i].on)&&t.apply(this,arguments);return e}var n=[],r=new p;return t.on=function(t,i){var o,a=r.get(t);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,o=n.indexOf(a)).concat(n.slice(o+1)),r.remove(t)),i&&n.push(r.set(t,{on:i})),e)},t}function D(){la.event.preventDefault()}function M(){for(var e,t=la.event;e=t.sourceEvent;)t=e;return t}function O(e){for(var t=new C,n=0,r=arguments.length;++n<r;)t[arguments[n]]=x(t);return t.of=function(n,r){return function(i){try{var o=i.sourceEvent=la.event;i.target=e,la.event=i,t[i.type].apply(n,r)}finally{la.event=o}}},t}function R(e){return _a(e,Ia),e}function N(e){return"function"==typeof e?e:function(){return wa(e,this)}}function L(e){return"function"==typeof e?e:function(){return Aa(e,this)}}function P(e,t){function n(){this.removeAttribute(e)}function r(){this.removeAttributeNS(e.space,e.local)}function i(){this.setAttribute(e,t)}function o(){this.setAttributeNS(e.space,e.local,t)}function a(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}function l(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}return e=la.ns.qualify(e),null==t?e.local?r:n:"function"==typeof t?e.local?l:a:e.local?o:i}function k(e){return e.trim().replace(/\s+/g," ")}function G(e){return new RegExp("(?:^|\\s+)"+la.requote(e)+"(?:\\s+|$)","g")}function F(e){return(e+"").trim().split(/^|\s+/)}function U(e,t){function n(){for(var n=-1;++n<i;)e[n](this,t)}function r(){for(var n=-1,r=t.apply(this,arguments);++n<i;)e[n](this,r)}e=F(e).map(V);var i=e.length;return"function"==typeof t?r:n}function V(e){var t=G(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||n.setAttribute("class",k(i+" "+e))):n.setAttribute("class",k(i.replace(t," ")))}}function B(e,t,n){function r(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,t,n)}function o(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}return null==t?r:"function"==typeof t?o:i}function z(e,t){function n(){delete this[e]}function r(){this[e]=t}function i(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}return null==t?n:"function"==typeof t?i:r}function $(e){function t(){var t=this.ownerDocument,n=this.namespaceURI;return n?t.createElementNS(n,e):t.createElement(e)}function n(){return this.ownerDocument.createElementNS(e.space,e.local)}return"function"==typeof e?e:(e=la.ns.qualify(e)).local?n:t}function W(){var e=this.parentNode;e&&e.removeChild(this)}function H(e){return{__data__:e}}function j(e){return function(){return Ta(this,e)}}function q(e){return arguments.length||(e=l),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function Y(e,t){for(var n=0,r=e.length;n<r;n++)for(var i,o=e[n],a=0,l=o.length;a<l;a++)(i=o[a])&&t(i,a,n);return e}function K(e){return _a(e,xa),e}function Q(e){var t,n;return function(r,i,o){var a,l=e[o].update,s=l.length;for(o!=n&&(n=o,t=0),i>=t&&(t=i+1);!(a=l[t])&&++t<s;);return a}}function Z(e,t,n){function r(){var t=this[a];t&&(this.removeEventListener(e,t,t.$),delete this[a])}function i(){var i=s(t,ca(arguments));r.call(this),this.addEventListener(e,this[a]=i,i.$=n),i._=t}function o(){var t,n=new RegExp("^__on([^.]+)"+la.requote(e)+"$");for(var r in this)if(t=r.match(n)){var i=this[r];this.removeEventListener(t[1],i,i.$),delete this[r]}}var a="__on"+e,l=e.indexOf("."),s=X;l>0&&(e=e.slice(0,l));var c=Da.get(e);return c&&(e=c,s=J),l?t?i:r:t?I:o}function X(e,t){return function(n){var r=la.event;la.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{la.event=r}}}function J(e,t){var n=X(e,t);return function(e){var t=this,r=e.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||n.call(t,e)}}function ee(e){var t=".dragsuppress-"+ ++Oa,n="click"+t,r=la.select(a(e)).on("touchmove"+t,D).on("dragstart"+t,D).on("selectstart"+t,D);if(null==Ma&&(Ma=!("onselectstart"in e)&&T(e.style,"userSelect")),Ma){var i=o(e).style,l=i[Ma];i[Ma]="none"}return function(e){if(r.on(t,null),Ma&&(i[Ma]=l),e){var o=function(){r.on(n,null)};r.on(n,function(){D(),o()},!0),setTimeout(o,0)}}}function te(e,t){t.changedTouches&&(t=t.changedTouches[0]);var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();if(Ra<0){var i=a(e);if(i.scrollX||i.scrollY){n=la.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=n[0][0].getScreenCTM();Ra=!(o.f||o.e),n.remove()}}return Ra?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var l=e.getBoundingClientRect();return[t.clientX-l.left-e.clientLeft,t.clientY-l.top-e.clientTop]}function ne(){return la.event.changedTouches[0].identifier}function re(e){return e>0?1:e<0?-1:0}function ie(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function oe(e){return e>1?0:e<-1?Pa:Math.acos(e)}function ae(e){return e>1?Fa:e<-1?-Fa:Math.asin(e)}function le(e){return((e=Math.exp(e))-1/e)/2}function se(e){return((e=Math.exp(e))+1/e)/2}function ce(e){return((e=Math.exp(2*e))-1)/(e+1)}function ue(e){return(e=Math.sin(e/2))*e}function de(){}function fe(e,t,n){return this instanceof fe?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof fe?new fe(e.h,e.s,e.l):Ie(""+e,Ce,fe):new fe(e,t,n)}function me(e,t,n){function r(e){return e>360?e-=360:e<0&&(e+=360),e<60?o+(a-o)*e/60:e<180?a:e<240?o+(a-o)*(240-e)/60:o}function i(e){return Math.round(255*r(e))}var o,a;return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:t<0?0:t>1?1:t,n=n<0?0:n>1?1:n,a=n<=.5?n*(1+t):n+t-n*t,o=2*n-a,new _e(i(e+120),i(e),i(e-120))}function pe(e,t,n){return this instanceof pe?(this.h=+e,this.c=+t,void(this.l=+n)):arguments.length<2?e instanceof pe?new pe(e.h,e.c,e.l):e instanceof ve?be(e.l,e.a,e.b):be((e=xe((e=la.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new pe(e,t,n)}function ge(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new ve(n,Math.cos(e*=Ua)*t,Math.sin(e)*t)}function ve(e,t,n){return this instanceof ve?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof ve?new ve(e.l,e.a,e.b):e instanceof pe?ge(e.h,e.c,e.l):xe((e=_e(e)).r,e.g,e.b):new ve(e,t,n)}function he(e,t,n){var r=(e+16)/116,i=r+t/500,o=r-n/200;return i=ye(i)*Qa,r=ye(r)*Za,o=ye(o)*Xa,new _e(Se(3.2404542*i-1.5371385*r-.4985314*o),Se(-.969266*i+1.8760108*r+.041556*o),Se(.0556434*i-.2040259*r+1.0572252*o))}function be(e,t,n){return e>0?new pe(Math.atan2(n,t)*Va,Math.sqrt(t*t+n*n),e):new pe(NaN,NaN,e)}function ye(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function Ee(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function Se(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function _e(e,t,n){return this instanceof _e?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof _e?new _e(e.r,e.g,e.b):Ie(""+e,_e,me):new _e(e,t,n)}function we(e){return new _e(e>>16,e>>8&255,255&e)}function Ae(e){return we(e)+""}function Te(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function Ie(e,t,n){e=e.toLowerCase();var r,i,o,a=0,l=0,s=0;if(r=/([a-z]+)\((.*)\)/.exec(e))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(Me(i[0]),Me(i[1]),Me(i[2]))}return(o=tl.get(e))?t(o.r,o.g,o.b):(null==e||"#"!==e.charAt(0)||isNaN(o=parseInt(e.slice(1),16))||(4===e.length?(a=(3840&o)>>4,a|=a>>4,l=240&o,l|=l>>4,s=15&o,s|=s<<4):7===e.length&&(a=(16711680&o)>>16,l=(65280&o)>>8,s=255&o)),t(a,l,s))}function Ce(e,t,n){var r,i,o=Math.min(e/=255,t/=255,n/=255),a=Math.max(e,t,n),l=a-o,s=(a+o)/2;return l?(i=s<.5?l/(a+o):l/(2-a-o),r=e==a?(t-n)/l+(t<n?6:0):t==a?(n-e)/l+2:(e-t)/l+4,r*=60):(r=NaN,i=s>0&&s<1?0:r),new fe(r,i,s)}function xe(e,t,n){e=De(e),t=De(t),n=De(n);var r=Ee((.4124564*e+.3575761*t+.1804375*n)/Qa),i=Ee((.2126729*e+.7151522*t+.072175*n)/Za),o=Ee((.0193339*e+.119192*t+.9503041*n)/Xa);return ve(116*i-16,500*(r-i),200*(i-o))}function De(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Me(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}function Oe(e){return"function"==typeof e?e:function(){return e}}function Re(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),Ne(t,n,e,r)}}function Ne(e,t,n,r){function i(){var e,t=s.status;if(!t&&Pe(s)||t>=200&&t<300||304===t){try{e=n.call(o,s)}catch(e){return void a.error.call(o,e)}a.load.call(o,e)}else a.error.call(o,s)}var o={},a=la.dispatch("beforesend","progress","load","error"),l={},s=new XMLHttpRequest,c=null;return!this.XDomainRequest||"withCredentials"in s||!/^(http(s)?:)?\/\//.test(e)||(s=new XDomainRequest),"onload"in s?s.onload=s.onerror=i:s.onreadystatechange=function(){s.readyState>3&&i()},s.onprogress=function(e){var t=la.event;la.event=e;try{a.progress.call(o,s)}finally{la.event=t}},o.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?l[e]:(null==t?delete l[e]:l[e]=t+"",o)},o.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",o):t},o.responseType=function(e){return arguments.length?(c=e,o):c},o.response=function(e){return n=e,o},["get","post"].forEach(function(e){o[e]=function(){return o.send.apply(o,[e].concat(ca(arguments)))}}),o.send=function(n,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),s.open(n,e,!0),null==t||"accept"in l||(l.accept=t+",*/*"),s.setRequestHeader)for(var u in l)s.setRequestHeader(u,l[u]);return null!=t&&s.overrideMimeType&&s.overrideMimeType(t),null!=c&&(s.responseType=c),null!=i&&o.on("error",i).on("load",function(e){i(null,e)}),a.beforesend.call(o,s),s.send(null==r?null:r),o},o.abort=function(){return s.abort(),o},la.rebind(o,a,"on"),null==r?o:o.get(Le(r))}function Le(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}function Pe(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}function ke(){var e=Ge(),t=Fe()-e;t>24?(isFinite(t)&&(clearTimeout(ol),ol=setTimeout(ke,t)),il=0):(il=1,ll(ke))}function Ge(){var e=Date.now();for(al=nl;al;)e>=al.t&&(al.f=al.c(e-al.t)),al=al.n;return e}function Fe(){for(var e,t=nl,n=1/0;t;)t.f?t=e?e.n=t.n:nl=t.n:(t.t<n&&(n=t.t),t=(e=t).n);return rl=e,n}function Ue(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function Ve(e,t){var n=Math.pow(10,3*ha(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function Be(e){var t=e.decimal,n=e.thousands,r=e.grouping,i=e.currency,o=r&&n?function(e,t){for(var i=e.length,o=[],a=0,l=r[0],s=0;i>0&&l>0&&(s+l+1>t&&(l=Math.max(1,t-s)),o.push(e.substring(i-=l,i+l)),!((s+=l+1)>t));)l=r[a=(a+1)%r.length];return o.reverse().join(n)}:w;return function(e){var n=cl.exec(e),r=n[1]||" ",a=n[2]||">",l=n[3]||"-",s=n[4]||"",c=n[5],u=+n[6],d=n[7],f=n[8],m=n[9],p=1,g="",v="",h=!1,b=!0;switch(f&&(f=+f.substring(1)),(c||"0"===r&&"="===a)&&(c=r="0",a="="),m){case"n":d=!0,m="g";break;case"%":p=100,v="%",m="f";break;case"p":p=100,v="%",m="r";break;case"b":case"o":case"x":case"X":"#"===s&&(g="0"+m.toLowerCase());case"c":b=!1;case"d":h=!0,f=0;break;case"s":p=-1,m="r"}"$"===s&&(g=i[0],v=i[1]),"r"!=m||f||(m="g"),null!=f&&("g"==m?f=Math.max(1,Math.min(21,f)):"e"!=m&&"f"!=m||(f=Math.max(0,Math.min(20,f)))),m=ul.get(m)||ze;var y=c&&d;return function(e){var n=v;if(h&&e%1)return"";var i=e<0||0===e&&1/e<0?(e=-e,"-"):"-"===l?"":l;if(p<0){var s=la.formatPrefix(e,f);e=s.scale(e),
n=s.symbol+v}else e*=p;e=m(e,f);var E,S,_=e.lastIndexOf(".");if(_<0){var w=b?e.lastIndexOf("e"):-1;w<0?(E=e,S=""):(E=e.substring(0,w),S=e.substring(w))}else E=e.substring(0,_),S=t+e.substring(_+1);!c&&d&&(E=o(E,1/0));var A=g.length+E.length+S.length+(y?0:i.length),T=A<u?new Array(A=u-A+1).join(r):"";return y&&(E=o(T+E,T.length?u-S.length:1/0)),i+=g,e=E+S,("<"===a?i+e+T:">"===a?T+i+e:"^"===a?T.substring(0,A>>=1)+i+e+T.substring(A):i+(y?e:T+e))+n}}}function ze(e){return e+""}function $e(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function We(e,t,n){function r(t){var n=e(t),r=o(n,1);return t-n<r-t?n:r}function i(n){return t(n=e(new fl(n-1)),1),n}function o(e,n){return t(e=new fl(+e),n),e}function a(e,r,o){var a=i(e),l=[];if(o>1)for(;a<r;)n(a)%o||l.push(new Date(+a)),t(a,1);else for(;a<r;)l.push(new Date(+a)),t(a,1);return l}function l(e,t,n){try{fl=$e;var r=new $e;return r._=e,a(r,t,n)}finally{fl=Date}}e.floor=e,e.round=r,e.ceil=i,e.offset=o,e.range=a;var s=e.utc=He(e);return s.floor=s,s.round=He(r),s.ceil=He(i),s.offset=He(o),s.range=l,e}function He(e){return function(t,n){try{fl=$e;var r=new $e;return r._=t,e(r,n)._}finally{fl=Date}}}function je(e){function t(e){function t(t){for(var n,i,o,a=[],l=-1,s=0;++l<r;)37===e.charCodeAt(l)&&(a.push(e.slice(s,l)),null!=(i=pl[n=e.charAt(++l)])&&(n=e.charAt(++l)),(o=x[n])&&(n=o(t,null==i?"e"===n?" ":"0":i)),a.push(n),s=l+1);return a.push(e.slice(s,l)),a.join("")}var r=e.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=n(r,e,t,0);if(i!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var o=null!=r.Z&&fl!==$e,a=new(o?$e:fl);return"j"in r?a.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(a.setFullYear(r.y,0,1),a.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(a.getDay()+5)%7:r.w+7*r.U-(a.getDay()+6)%7)):a.setFullYear(r.y,r.m,r.d),a.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),o?a._:a},t.toString=function(){return e},t}function n(e,t,n,r){for(var i,o,a,l=0,s=t.length,c=n.length;l<s;){if(r>=c)return-1;if(i=t.charCodeAt(l++),37===i){if(a=t.charAt(l++),o=D[a in pl?t.charAt(l++):a],!o||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function r(e,t,n){_.lastIndex=0;var r=_.exec(t.slice(n));return r?(e.w=w.get(r[0].toLowerCase()),n+r[0].length):-1}function i(e,t,n){E.lastIndex=0;var r=E.exec(t.slice(n));return r?(e.w=S.get(r[0].toLowerCase()),n+r[0].length):-1}function o(e,t,n){I.lastIndex=0;var r=I.exec(t.slice(n));return r?(e.m=C.get(r[0].toLowerCase()),n+r[0].length):-1}function a(e,t,n){A.lastIndex=0;var r=A.exec(t.slice(n));return r?(e.m=T.get(r[0].toLowerCase()),n+r[0].length):-1}function l(e,t,r){return n(e,x.c.toString(),t,r)}function s(e,t,r){return n(e,x.x.toString(),t,r)}function c(e,t,r){return n(e,x.X.toString(),t,r)}function u(e,t,n){var r=y.get(t.slice(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)}var d=e.dateTime,f=e.date,m=e.time,p=e.periods,g=e.days,v=e.shortDays,h=e.months,b=e.shortMonths;t.utc=function(e){function n(e){try{fl=$e;var t=new fl;return t._=e,r(t)}finally{fl=Date}}var r=t(e);return n.parse=function(e){try{fl=$e;var t=r.parse(e);return t&&t._}finally{fl=Date}},n.toString=r.toString,n},t.multi=t.utc.multi=ft;var y=la.map(),E=Ye(g),S=Ke(g),_=Ye(v),w=Ke(v),A=Ye(h),T=Ke(h),I=Ye(b),C=Ke(b);p.forEach(function(e,t){y.set(e.toLowerCase(),t)});var x={a:function(e){return v[e.getDay()]},A:function(e){return g[e.getDay()]},b:function(e){return b[e.getMonth()]},B:function(e){return h[e.getMonth()]},c:t(d),d:function(e,t){return qe(e.getDate(),t,2)},e:function(e,t){return qe(e.getDate(),t,2)},H:function(e,t){return qe(e.getHours(),t,2)},I:function(e,t){return qe(e.getHours()%12||12,t,2)},j:function(e,t){return qe(1+dl.dayOfYear(e),t,3)},L:function(e,t){return qe(e.getMilliseconds(),t,3)},m:function(e,t){return qe(e.getMonth()+1,t,2)},M:function(e,t){return qe(e.getMinutes(),t,2)},p:function(e){return p[+(e.getHours()>=12)]},S:function(e,t){return qe(e.getSeconds(),t,2)},U:function(e,t){return qe(dl.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return qe(dl.mondayOfYear(e),t,2)},x:t(f),X:t(m),y:function(e,t){return qe(e.getFullYear()%100,t,2)},Y:function(e,t){return qe(e.getFullYear()%1e4,t,4)},Z:ut,"%":function(){return"%"}},D={a:r,A:i,b:o,B:a,c:l,d:it,e:it,H:at,I:at,j:ot,L:ct,m:rt,M:lt,p:u,S:st,U:Ze,w:Qe,W:Xe,x:s,X:c,y:et,Y:Je,Z:tt,"%":dt};return t}function qe(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function Ye(e){return new RegExp("^(?:"+e.map(la.requote).join("|")+")","i")}function Ke(e){for(var t=new p,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function Qe(e,t,n){gl.lastIndex=0;var r=gl.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Ze(e,t,n){gl.lastIndex=0;var r=gl.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function Xe(e,t,n){gl.lastIndex=0;var r=gl.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function Je(e,t,n){gl.lastIndex=0;var r=gl.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function et(e,t,n){gl.lastIndex=0;var r=gl.exec(t.slice(n,n+2));return r?(e.y=nt(+r[0]),n+r[0].length):-1}function tt(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function nt(e){return e+(e>68?1900:2e3)}function rt(e,t,n){gl.lastIndex=0;var r=gl.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function it(e,t,n){gl.lastIndex=0;var r=gl.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function ot(e,t,n){gl.lastIndex=0;var r=gl.exec(t.slice(n,n+3));return r?(e.j=+r[0],n+r[0].length):-1}function at(e,t,n){gl.lastIndex=0;var r=gl.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function lt(e,t,n){gl.lastIndex=0;var r=gl.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function st(e,t,n){gl.lastIndex=0;var r=gl.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function ct(e,t,n){gl.lastIndex=0;var r=gl.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function ut(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=ha(t)/60|0,i=ha(t)%60;return n+qe(r,"0",2)+qe(i,"0",2)}function dt(e,t,n){vl.lastIndex=0;var r=vl.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function ft(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,r=e[n];!r[1](t);)r=e[++n];return r[0](t)}}function mt(){}function pt(e,t,n){var r=n.s=e+t,i=r-e,o=r-i;n.t=e-o+(t-i)}function gt(e,t){e&&El.hasOwnProperty(e.type)&&El[e.type](e,t)}function vt(e,t,n){var r,i=-1,o=e.length-n;for(t.lineStart();++i<o;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function ht(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)vt(e[n],t,1);t.polygonEnd()}function bt(){function e(e,t){e*=Ua,t=t*Ua/2+Pa/4;var n=e-r,a=n>=0?1:-1,l=a*n,s=Math.cos(t),c=Math.sin(t),u=o*c,d=i*s+u*Math.cos(l),f=u*a*Math.sin(l);_l.add(Math.atan2(f,d)),r=e,i=s,o=c}var t,n,r,i,o;wl.point=function(a,l){wl.point=e,r=(t=a)*Ua,i=Math.cos(l=(n=l)*Ua/2+Pa/4),o=Math.sin(l)},wl.lineEnd=function(){e(t,n)}}function yt(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function Et(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function St(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function _t(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function wt(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function At(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Tt(e){return[Math.atan2(e[1],e[0]),ae(e[2])]}function It(e,t){return ha(e[0]-t[0])<Na&&ha(e[1]-t[1])<Na}function Ct(e,t){e*=Ua;var n=Math.cos(t*=Ua);xt(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function xt(e,t,n){++Al,Il+=(e-Il)/Al,Cl+=(t-Cl)/Al,xl+=(n-xl)/Al}function Dt(){function e(e,i){e*=Ua;var o=Math.cos(i*=Ua),a=o*Math.cos(e),l=o*Math.sin(e),s=Math.sin(i),c=Math.atan2(Math.sqrt((c=n*s-r*l)*c+(c=r*a-t*s)*c+(c=t*l-n*a)*c),t*a+n*l+r*s);Tl+=c,Dl+=c*(t+(t=a)),Ml+=c*(n+(n=l)),Ol+=c*(r+(r=s)),xt(t,n,r)}var t,n,r;Pl.point=function(i,o){i*=Ua;var a=Math.cos(o*=Ua);t=a*Math.cos(i),n=a*Math.sin(i),r=Math.sin(o),Pl.point=e,xt(t,n,r)}}function Mt(){Pl.point=Ct}function Ot(){function e(e,t){e*=Ua;var n=Math.cos(t*=Ua),a=n*Math.cos(e),l=n*Math.sin(e),s=Math.sin(t),c=i*s-o*l,u=o*a-r*s,d=r*l-i*a,f=Math.sqrt(c*c+u*u+d*d),m=r*a+i*l+o*s,p=f&&-oe(m)/f,g=Math.atan2(f,m);Rl+=p*c,Nl+=p*u,Ll+=p*d,Tl+=g,Dl+=g*(r+(r=a)),Ml+=g*(i+(i=l)),Ol+=g*(o+(o=s)),xt(r,i,o)}var t,n,r,i,o;Pl.point=function(a,l){t=a,n=l,Pl.point=e,a*=Ua;var s=Math.cos(l*=Ua);r=s*Math.cos(a),i=s*Math.sin(a),o=Math.sin(l),xt(r,i,o)},Pl.lineEnd=function(){e(t,n),Pl.lineEnd=Mt,Pl.point=Ct}}function Rt(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return n=t.invert(n,r),n&&e.invert(n[0],n[1])}),n}function Nt(){return!0}function Lt(e,t,n,r,i){var o=[],a=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],r=e[t];if(It(n,r)){i.lineStart();for(var l=0;l<t;++l)i.point((n=e[l])[0],n[1]);return void i.lineEnd()}var s=new kt(n,e,null,!0),c=new kt(n,null,s,!1);s.o=c,o.push(s),a.push(c),s=new kt(r,e,null,!1),c=new kt(r,null,s,!0),s.o=c,o.push(s),a.push(c)}}),a.sort(t),Pt(o),Pt(a),o.length){for(var l=0,s=n,c=a.length;l<c;++l)a[l].e=s=!s;for(var u,d,f=o[0];;){for(var m=f,p=!0;m.v;)if((m=m.n)===f)return;u=m.z,i.lineStart();do{if(m.v=m.o.v=!0,m.e){if(p)for(var l=0,c=u.length;l<c;++l)i.point((d=u[l])[0],d[1]);else r(m.x,m.n.x,1,i);m=m.n}else{if(p){u=m.p.z;for(var l=u.length-1;l>=0;--l)i.point((d=u[l])[0],d[1])}else r(m.x,m.p.x,-1,i);m=m.p}m=m.o,u=m.z,p=!p}while(!m.v);i.lineEnd()}}}function Pt(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function kt(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Gt(e,t,n,r){return function(i,o){function a(t,n){var r=i(t,n);e(t=r[0],n=r[1])&&o.point(t,n)}function l(e,t){var n=i(e,t);v.point(n[0],n[1])}function s(){b.point=l,v.lineStart()}function c(){b.point=a,v.lineEnd()}function u(e,t){g.push([e,t]);var n=i(e,t);E.point(n[0],n[1])}function d(){E.lineStart(),g=[]}function f(){u(g[0][0],g[0][1]),E.lineEnd();var e,t=E.clean(),n=y.buffer(),r=n.length;if(g.pop(),p.push(g),g=null,r)if(1&t){e=n[0];var i,r=e.length-1,a=-1;if(r>0){for(S||(o.polygonStart(),S=!0),o.lineStart();++a<r;)o.point((i=e[a])[0],i[1]);o.lineEnd()}}else r>1&&2&t&&n.push(n.pop().concat(n.shift())),m.push(n.filter(Ft))}var m,p,g,v=t(o),h=i.invert(r[0],r[1]),b={point:a,lineStart:s,lineEnd:c,polygonStart:function(){b.point=u,b.lineStart=d,b.lineEnd=f,m=[],p=[]},polygonEnd:function(){b.point=a,b.lineStart=s,b.lineEnd=c,m=la.merge(m);var e=Wt(h,p);m.length?(S||(o.polygonStart(),S=!0),Lt(m,Vt,e,n,o)):e&&(S||(o.polygonStart(),S=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),S&&(o.polygonEnd(),S=!1),m=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},y=Ut(),E=t(y),S=!1;return b}}function Ft(e){return e.length>1}function Ut(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:I,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Vt(e,t){return((e=e.x)[0]<0?e[1]-Fa-Na:Fa-e[1])-((t=t.x)[0]<0?t[1]-Fa-Na:Fa-t[1])}function Bt(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,a){var l=o>0?Pa:-Pa,s=ha(o-n);ha(s-Pa)<Na?(e.point(n,r=(r+a)/2>0?Fa:-Fa),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(l,r),e.point(o,r),t=0):i!==l&&s>=Pa&&(ha(n-i)<Na&&(n-=i*Na),ha(o-l)<Na&&(o-=l*Na),r=zt(n,r,o,a),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(l,r),t=0),e.point(n=o,r=a),i=l},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}function zt(e,t,n,r){var i,o,a=Math.sin(e-n);return ha(a)>Na?Math.atan((Math.sin(t)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(t))*Math.sin(e))/(i*o*a)):(t+r)/2}function $t(e,t,n,r){var i;if(null==e)i=n*Fa,r.point(-Pa,i),r.point(0,i),r.point(Pa,i),r.point(Pa,0),r.point(Pa,-i),r.point(0,-i),r.point(-Pa,-i),r.point(-Pa,0),r.point(-Pa,i);else if(ha(e[0]-t[0])>Na){var o=e[0]<t[0]?Pa:-Pa;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function Wt(e,t){var n=e[0],r=e[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;_l.reset();for(var l=0,s=t.length;l<s;++l){var c=t[l],u=c.length;if(u)for(var d=c[0],f=d[0],m=d[1]/2+Pa/4,p=Math.sin(m),g=Math.cos(m),v=1;;){v===u&&(v=0),e=c[v];var h=e[0],b=e[1]/2+Pa/4,y=Math.sin(b),E=Math.cos(b),S=h-f,_=S>=0?1:-1,w=_*S,A=w>Pa,T=p*y;if(_l.add(Math.atan2(T*_*Math.sin(w),g*E+T*Math.cos(w))),o+=A?S+_*ka:S,A^f>=n^h>=n){var I=St(yt(d),yt(e));At(I);var C=St(i,I);At(C);var x=(A^S>=0?-1:1)*ae(C[2]);(r>x||r===x&&(I[0]||I[1]))&&(a+=A^S>=0?1:-1)}if(!v++)break;f=h,p=y,g=E,d=e}}return(o<-Na||o<Na&&_l<0)^1&a}function Ht(e){function t(e,t){return Math.cos(e)*Math.cos(t)>o}function n(e){var n,o,s,c,u;return{lineStart:function(){c=s=!1,u=1},point:function(d,f){var m,p=[d,f],g=t(d,f),v=a?g?0:i(d,f):g?i(d+(d<0?Pa:-Pa),f):0;if(!n&&(c=s=g)&&e.lineStart(),g!==s&&(m=r(n,p),(It(n,m)||It(p,m))&&(p[0]+=Na,p[1]+=Na,g=t(p[0],p[1]))),g!==s)u=0,g?(e.lineStart(),m=r(p,n),e.point(m[0],m[1])):(m=r(n,p),e.point(m[0],m[1]),e.lineEnd()),n=m;else if(l&&n&&a^g){var h;v&o||!(h=r(p,n,!0))||(u=0,a?(e.lineStart(),e.point(h[0][0],h[0][1]),e.point(h[1][0],h[1][1]),e.lineEnd()):(e.point(h[1][0],h[1][1]),e.lineEnd(),e.lineStart(),e.point(h[0][0],h[0][1])))}!g||n&&It(n,p)||e.point(p[0],p[1]),n=p,s=g,o=v},lineEnd:function(){s&&e.lineEnd(),n=null},clean:function(){return u|(c&&s)<<1}}}function r(e,t,n){var r=yt(e),i=yt(t),a=[1,0,0],l=St(r,i),s=Et(l,l),c=l[0],u=s-c*c;if(!u)return!n&&e;var d=o*s/u,f=-o*c/u,m=St(a,l),p=wt(a,d),g=wt(l,f);_t(p,g);var v=m,h=Et(p,v),b=Et(v,v),y=h*h-b*(Et(p,p)-1);if(!(y<0)){var E=Math.sqrt(y),S=wt(v,(-h-E)/b);if(_t(S,p),S=Tt(S),!n)return S;var _,w=e[0],A=t[0],T=e[1],I=t[1];A<w&&(_=w,w=A,A=_);var C=A-w,x=ha(C-Pa)<Na,D=x||C<Na;if(!x&&I<T&&(_=T,T=I,I=_),D?x?T+I>0^S[1]<(ha(S[0]-w)<Na?T:I):T<=S[1]&&S[1]<=I:C>Pa^(w<=S[0]&&S[0]<=A)){var M=wt(v,(-h+E)/b);return _t(M,p),[S,Tt(M)]}}}function i(t,n){var r=a?e:Pa-e,i=0;return t<-r?i|=1:t>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}var o=Math.cos(e),a=o>0,l=ha(o)>Na,s=yn(e,6*Ua);return Gt(t,n,s,a?[0,-e]:[-Pa,e-Pa])}function jt(e,t,n,r){return function(i){var o,a=i.a,l=i.b,s=a.x,c=a.y,u=l.x,d=l.y,f=0,m=1,p=u-s,g=d-c;if(o=e-s,p||!(o>0)){if(o/=p,p<0){if(o<f)return;o<m&&(m=o)}else if(p>0){if(o>m)return;o>f&&(f=o)}if(o=n-s,p||!(o<0)){if(o/=p,p<0){if(o>m)return;o>f&&(f=o)}else if(p>0){if(o<f)return;o<m&&(m=o)}if(o=t-c,g||!(o>0)){if(o/=g,g<0){if(o<f)return;o<m&&(m=o)}else if(g>0){if(o>m)return;o>f&&(f=o)}if(o=r-c,g||!(o<0)){if(o/=g,g<0){if(o>m)return;o>f&&(f=o)}else if(g>0){if(o<f)return;o<m&&(m=o)}return f>0&&(i.a={x:s+f*p,y:c+f*g}),m<1&&(i.b={x:s+m*p,y:c+m*g}),i}}}}}}function qt(e,t,n,r){function i(r,i){return ha(r[0]-e)<Na?i>0?0:3:ha(r[0]-n)<Na?i>0?2:1:ha(r[1]-t)<Na?i>0?1:0:i>0?3:2}function o(e,t){return a(e.x,t.x)}function a(e,t){var n=i(e,1),r=i(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(l){function s(e){for(var t=0,n=v.length,r=e[1],i=0;i<n;++i)for(var o,a=1,l=v[i],s=l.length,c=l[0];a<s;++a)o=l[a],c[1]<=r?o[1]>r&&ie(c,o,e)>0&&++t:o[1]<=r&&ie(c,o,e)<0&&--t,c=o;return 0!==t}function c(o,l,s,c){var u=0,d=0;if(null==o||(u=i(o,s))!==(d=i(l,s))||a(o,l)<0^s>0){do c.point(0===u||3===u?e:n,u>1?r:t);while((u=(u+s+4)%4)!==d)}else c.point(l[0],l[1])}function u(i,o){return e<=i&&i<=n&&t<=o&&o<=r}function d(e,t){u(e,t)&&l.point(e,t)}function f(){D.point=p,v&&v.push(h=[]),A=!0,w=!1,S=_=NaN}function m(){g&&(p(b,y),E&&w&&C.rejoin(),g.push(C.buffer())),D.point=d,w&&l.lineEnd()}function p(e,t){e=Math.max(-Gl,Math.min(Gl,e)),t=Math.max(-Gl,Math.min(Gl,t));var n=u(e,t);if(v&&h.push([e,t]),A)b=e,y=t,E=n,A=!1,n&&(l.lineStart(),l.point(e,t));else if(n&&w)l.point(e,t);else{var r={a:{x:S,y:_},b:{x:e,y:t}};x(r)?(w||(l.lineStart(),l.point(r.a.x,r.a.y)),l.point(r.b.x,r.b.y),n||l.lineEnd(),T=!1):n&&(l.lineStart(),l.point(e,t),T=!1)}S=e,_=t,w=n}var g,v,h,b,y,E,S,_,w,A,T,I=l,C=Ut(),x=jt(e,t,n,r),D={point:d,lineStart:f,lineEnd:m,polygonStart:function(){l=C,g=[],v=[],T=!0},polygonEnd:function(){l=I,g=la.merge(g);var t=s([e,r]),n=T&&t,i=g.length;(n||i)&&(l.polygonStart(),n&&(l.lineStart(),c(null,null,1,l),l.lineEnd()),i&&Lt(g,o,t,c,l),l.polygonEnd()),g=v=h=null}};return D}}function Yt(e){var t=0,n=Pa/3,r=dn(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*Pa/180,n=e[1]*Pa/180):[t/Pa*180,n/Pa*180]},i}function Kt(e,t){function n(e,t){var n=Math.sqrt(o-2*i*Math.sin(t))/i;return[n*Math.sin(e*=i),a-n*Math.cos(e)]}var r=Math.sin(e),i=(r+Math.sin(t))/2,o=1+r*(2*i-r),a=Math.sqrt(o)/i;return n.invert=function(e,t){var n=a-t;return[Math.atan2(e,n)/i,ae((o-(e*e+n*n)*i*i)/(2*i))]},n}function Qt(){function e(e,t){Ul+=i*e-r*t,r=e,i=t}var t,n,r,i;Wl.point=function(o,a){Wl.point=e,t=r=o,n=i=a},Wl.lineEnd=function(){e(t,n)}}function Zt(e,t){e<Vl&&(Vl=e),e>zl&&(zl=e),t<Bl&&(Bl=t),t>$l&&($l=t)}function Xt(){function e(e,t){a.push("M",e,",",t,o)}function t(e,t){a.push("M",e,",",t),l.point=n}function n(e,t){a.push("L",e,",",t)}function r(){l.point=e}function i(){a.push("Z")}var o=Jt(4.5),a=[],l={point:e,lineStart:function(){l.point=t},lineEnd:r,polygonStart:function(){l.lineEnd=i},polygonEnd:function(){l.lineEnd=r,l.point=e},pointRadius:function(e){return o=Jt(e),l},result:function(){if(a.length){var e=a.join("");return a=[],e}}};return l}function Jt(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function en(e,t){Il+=e,Cl+=t,++xl}function tn(){function e(e,r){var i=e-t,o=r-n,a=Math.sqrt(i*i+o*o);Dl+=a*(t+e)/2,Ml+=a*(n+r)/2,Ol+=a,en(t=e,n=r)}var t,n;jl.point=function(r,i){jl.point=e,en(t=r,n=i)}}function nn(){jl.point=en}function rn(){function e(e,t){var n=e-r,o=t-i,a=Math.sqrt(n*n+o*o);Dl+=a*(r+e)/2,Ml+=a*(i+t)/2,Ol+=a,a=i*e-r*t,Rl+=a*(r+e),Nl+=a*(i+t),Ll+=3*a,en(r=e,i=t)}var t,n,r,i;jl.point=function(o,a){jl.point=e,en(t=r=o,n=i=a)},jl.lineEnd=function(){e(t,n)}}function on(e){function t(t,n){e.moveTo(t+a,n),e.arc(t,n,a,0,ka)}function n(t,n){e.moveTo(t,n),l.point=r}function r(t,n){e.lineTo(t,n)}function i(){l.point=t}function o(){e.closePath()}var a=4.5,l={point:t,lineStart:function(){l.point=n},lineEnd:i,polygonStart:function(){l.lineEnd=o},polygonEnd:function(){l.lineEnd=i,l.point=t},pointRadius:function(e){return a=e,l},result:I};return l}function an(e){function t(e){return(l?r:n)(e)}function n(t){return cn(t,function(n,r){n=e(n,r),t.point(n[0],n[1])})}function r(t){function n(n,r){n=e(n,r),t.point(n[0],n[1])}function r(){y=NaN,A.point=o,t.lineStart()}function o(n,r){var o=yt([n,r]),a=e(n,r);i(y,E,b,S,_,w,y=a[0],E=a[1],b=n,S=o[0],_=o[1],w=o[2],l,t),t.point(y,E)}function a(){A.point=n,t.lineEnd()}function s(){r(),A.point=c,A.lineEnd=u}function c(e,t){o(d=e,f=t),m=y,p=E,g=S,v=_,h=w,A.point=o}function u(){i(y,E,b,S,_,w,m,p,d,g,v,h,l,t),A.lineEnd=a,a()}var d,f,m,p,g,v,h,b,y,E,S,_,w,A={point:n,lineStart:r,lineEnd:a,polygonStart:function(){t.polygonStart(),A.lineStart=s},polygonEnd:function(){t.polygonEnd(),A.lineStart=r}};return A}function i(t,n,r,l,s,c,u,d,f,m,p,g,v,h){var b=u-t,y=d-n,E=b*b+y*y;if(E>4*o&&v--){var S=l+m,_=s+p,w=c+g,A=Math.sqrt(S*S+_*_+w*w),T=Math.asin(w/=A),I=ha(ha(w)-1)<Na||ha(r-f)<Na?(r+f)/2:Math.atan2(_,S),C=e(I,T),x=C[0],D=C[1],M=x-t,O=D-n,R=y*M-b*O;(R*R/E>o||ha((b*M+y*O)/E-.5)>.3||l*m+s*p+c*g<a)&&(i(t,n,r,l,s,c,x,D,I,S/=A,_/=A,w,v,h),h.point(x,D),i(x,D,I,S,_,w,u,d,f,m,p,g,v,h))}}var o=.5,a=Math.cos(30*Ua),l=16;return t.precision=function(e){return arguments.length?(l=(o=e*e)>0&&16,t):Math.sqrt(o)},t}function ln(e){var t=an(function(t,n){return e([t*Va,n*Va])});return function(e){return fn(t(e))}}function sn(e){this.stream=e}function cn(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function un(e){return dn(function(){return e})()}function dn(e){function t(e){return e=l(e[0]*Ua,e[1]*Ua),[e[0]*f+s,c-e[1]*f]}function n(e){return e=l.invert((e[0]-s)/f,(c-e[1])/f),e&&[e[0]*Va,e[1]*Va]}function r(){l=Rt(a=gn(h,b,y),o);var e=o(g,v);return s=m-e[0]*f,c=p+e[1]*f,i()}function i(){return u&&(u.valid=!1,u=null),t}var o,a,l,s,c,u,d=an(function(e,t){return e=o(e,t),[e[0]*f+s,c-e[1]*f]}),f=150,m=480,p=250,g=0,v=0,h=0,b=0,y=0,E=kl,S=w,_=null,A=null;return t.stream=function(e){return u&&(u.valid=!1),u=fn(E(a,d(S(e)))),u.valid=!0,u},t.clipAngle=function(e){return arguments.length?(E=null==e?(_=e,kl):Ht((_=+e)*Ua),i()):_},t.clipExtent=function(e){return arguments.length?(A=e,S=e?qt(e[0][0],e[0][1],e[1][0],e[1][1]):w,i()):A},t.scale=function(e){return arguments.length?(f=+e,r()):f},t.translate=function(e){return arguments.length?(m=+e[0],p=+e[1],r()):[m,p]},t.center=function(e){return arguments.length?(g=e[0]%360*Ua,v=e[1]%360*Ua,r()):[g*Va,v*Va]},t.rotate=function(e){return arguments.length?(h=e[0]%360*Ua,b=e[1]%360*Ua,y=e.length>2?e[2]%360*Ua:0,r()):[h*Va,b*Va,y*Va]},la.rebind(t,d,"precision"),function(){return o=e.apply(this,arguments),t.invert=o.invert&&n,r()}}function fn(e){return cn(e,function(t,n){e.point(t*Ua,n*Ua)})}function mn(e,t){return[e,t]}function pn(e,t){return[e>Pa?e-ka:e<-Pa?e+ka:e,t]}function gn(e,t,n){return e?t||n?Rt(hn(e),bn(t,n)):hn(e):t||n?bn(t,n):pn}function vn(e){return function(t,n){return t+=e,[t>Pa?t-ka:t<-Pa?t+ka:t,n]}}function hn(e){var t=vn(e);return t.invert=vn(-e),t}function bn(e,t){function n(e,t){var n=Math.cos(t),l=Math.cos(e)*n,s=Math.sin(e)*n,c=Math.sin(t),u=c*r+l*i;return[Math.atan2(s*o-u*a,l*r-c*i),ae(u*o+s*a)]}var r=Math.cos(e),i=Math.sin(e),o=Math.cos(t),a=Math.sin(t);return n.invert=function(e,t){var n=Math.cos(t),l=Math.cos(e)*n,s=Math.sin(e)*n,c=Math.sin(t),u=c*o-s*a;return[Math.atan2(s*o+c*a,l*r+u*i),ae(u*r-l*i)]},n}function yn(e,t){var n=Math.cos(e),r=Math.sin(e);return function(i,o,a,l){var s=a*t;null!=i?(i=En(n,i),o=En(n,o),(a>0?i<o:i>o)&&(i+=a*ka)):(i=e+a*ka,o=e-.5*s);for(var c,u=i;a>0?u>o:u<o;u-=s)l.point((c=Tt([n,-r*Math.cos(u),-r*Math.sin(u)]))[0],c[1])}}function En(e,t){var n=yt(t);n[0]-=e,At(n);var r=oe(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Na)%(2*Math.PI)}function Sn(e,t,n){var r=la.range(e,t-Na,n).concat(t);return function(e){return r.map(function(t){return[e,t]})}}function _n(e,t,n){var r=la.range(e,t-Na,n).concat(t);return function(e){return r.map(function(t){return[t,e]})}}function wn(e){return e.source}function An(e){return e.target}function Tn(e,t,n,r){var i=Math.cos(t),o=Math.sin(t),a=Math.cos(r),l=Math.sin(r),s=i*Math.cos(e),c=i*Math.sin(e),u=a*Math.cos(n),d=a*Math.sin(n),f=2*Math.asin(Math.sqrt(ue(r-t)+i*a*ue(n-e))),m=1/Math.sin(f),p=f?function(e){var t=Math.sin(e*=f)*m,n=Math.sin(f-e)*m,r=n*s+t*u,i=n*c+t*d,a=n*o+t*l;return[Math.atan2(i,r)*Va,Math.atan2(a,Math.sqrt(r*r+i*i))*Va]}:function(){return[e*Va,t*Va]};return p.distance=f,p}function In(){function e(e,i){var o=Math.sin(i*=Ua),a=Math.cos(i),l=ha((e*=Ua)-t),s=Math.cos(l);ql+=Math.atan2(Math.sqrt((l=a*Math.sin(l))*l+(l=r*o-n*a*s)*l),n*o+r*a*s),t=e,n=o,r=a}var t,n,r;Yl.point=function(i,o){t=i*Ua,n=Math.sin(o*=Ua),r=Math.cos(o),Yl.point=e},Yl.lineEnd=function(){Yl.point=Yl.lineEnd=I}}function Cn(e,t){function n(t,n){var r=Math.cos(t),i=Math.cos(n),o=e(r*i);return[o*i*Math.sin(t),o*Math.sin(n)]}return n.invert=function(e,n){var r=Math.sqrt(e*e+n*n),i=t(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(e*o,r*a),Math.asin(r&&n*o/r)]},n}function xn(e,t){function n(e,t){a>0?t<-Fa+Na&&(t=-Fa+Na):t>Fa-Na&&(t=Fa-Na);var n=a/Math.pow(i(t),o);return[n*Math.sin(o*e),a-n*Math.cos(o*e)]}var r=Math.cos(e),i=function(e){return Math.tan(Pa/4+e/2)},o=e===t?Math.sin(e):Math.log(r/Math.cos(t))/Math.log(i(t)/i(e)),a=r*Math.pow(i(e),o)/o;return o?(n.invert=function(e,t){var n=a-t,r=re(o)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/o,2*Math.atan(Math.pow(a/r,1/o))-Fa]},n):Mn}function Dn(e,t){function n(e,t){var n=o-t;return[n*Math.sin(i*e),o-n*Math.cos(i*e)]}var r=Math.cos(e),i=e===t?Math.sin(e):(r-Math.cos(t))/(t-e),o=r/i+e;return ha(i)<Na?mn:(n.invert=function(e,t){var n=o-t;return[Math.atan2(e,n)/i,o-re(i)*Math.sqrt(e*e+n*n)]},n)}function Mn(e,t){return[e,Math.log(Math.tan(Pa/4+t/2))]}function On(e){var t,n=un(e),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=i.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var a=o.apply(n,arguments);if(a===n){if(t=null==e){var l=Pa*r(),s=i();o([[s[0]-l,s[1]-l],[s[0]+l,s[1]+l]])}}else t&&(a=null);return a},n.clipExtent(null)}function Rn(e,t){return[Math.log(Math.tan(Pa/4+t/2)),-e]}function Nn(e){return e[0]}function Ln(e){return e[1]}function Pn(e){for(var t=e.length,n=[0,1],r=2,i=2;i<t;i++){for(;r>1&&ie(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function kn(e,t){return e[0]-t[0]||e[1]-t[1]}function Gn(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function Fn(e,t,n,r){var i=e[0],o=n[0],a=t[0]-i,l=r[0]-o,s=e[1],c=n[1],u=t[1]-s,d=r[1]-c,f=(l*(s-c)-d*(i-o))/(d*a-l*u);return[i+f*a,s+f*u]}function Un(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}function Vn(){lr(this),this.edge=this.site=this.circle=null}function Bn(e){var t=as.pop()||new Vn;return t.site=e,t}function zn(e){Xn(e),rs.remove(e),as.push(e),lr(e)}function $n(e){var t=e.circle,n=t.x,r=t.cy,i={x:n,y:r},o=e.P,a=e.N,l=[e];zn(e);for(var s=o;s.circle&&ha(n-s.circle.x)<Na&&ha(r-s.circle.cy)<Na;)o=s.P,l.unshift(s),zn(s),s=o;l.unshift(s),Xn(s);for(var c=a;c.circle&&ha(n-c.circle.x)<Na&&ha(r-c.circle.cy)<Na;)a=c.N,l.push(c),zn(c),c=a;l.push(c),Xn(c);var u,d=l.length;for(u=1;u<d;++u)c=l[u],s=l[u-1],ir(c.edge,s.site,c.site,i);s=l[0],c=l[d-1],c.edge=nr(s.site,c.site,null,i),Zn(s),Zn(c)}function Wn(e){for(var t,n,r,i,o=e.x,a=e.y,l=rs._;l;)if(r=Hn(l,a)-o,r>Na)l=l.L;else{if(i=o-jn(l,a),!(i>Na)){r>-Na?(t=l.P,n=l):i>-Na?(t=l,n=l.N):t=n=l;break}if(!l.R){t=l;break}l=l.R}var s=Bn(e);if(rs.insert(t,s),t||n){if(t===n)return Xn(t),n=Bn(t.site),rs.insert(s,n),s.edge=n.edge=nr(t.site,s.site),Zn(t),void Zn(n);if(!n)return void(s.edge=nr(t.site,s.site));Xn(t),Xn(n);var c=t.site,u=c.x,d=c.y,f=e.x-u,m=e.y-d,p=n.site,g=p.x-u,v=p.y-d,h=2*(f*v-m*g),b=f*f+m*m,y=g*g+v*v,E={x:(v*b-m*y)/h+u,y:(f*y-g*b)/h+d};ir(n.edge,c,p,E),s.edge=nr(c,e,null,E),n.edge=nr(e,p,null,E),Zn(t),Zn(n)}}function Hn(e,t){var n=e.site,r=n.x,i=n.y,o=i-t;if(!o)return r;var a=e.P;if(!a)return-(1/0);n=a.site;var l=n.x,s=n.y,c=s-t;if(!c)return l;var u=l-r,d=1/o-1/c,f=u/c;return d?(-f+Math.sqrt(f*f-2*d*(u*u/(-2*c)-s+c/2+i-o/2)))/d+r:(r+l)/2}function jn(e,t){var n=e.N;if(n)return Hn(n,t);var r=e.site;return r.y===t?r.x:1/0}function qn(e){this.site=e,this.edges=[]}function Yn(e){for(var t,n,r,i,o,a,l,s,c,u,d=e[0][0],f=e[1][0],m=e[0][1],p=e[1][1],g=ns,v=g.length;v--;)if(o=g[v],o&&o.prepare())for(l=o.edges,s=l.length,a=0;a<s;)u=l[a].end(),r=u.x,i=u.y,c=l[++a%s].start(),t=c.x,n=c.y,(ha(r-t)>Na||ha(i-n)>Na)&&(l.splice(a,0,new or(rr(o.site,u,ha(r-d)<Na&&p-i>Na?{x:d,y:ha(t-d)<Na?n:p}:ha(i-p)<Na&&f-r>Na?{x:ha(n-p)<Na?t:f,y:p}:ha(r-f)<Na&&i-m>Na?{x:f,y:ha(t-f)<Na?n:m}:ha(i-m)<Na&&r-d>Na?{x:ha(n-m)<Na?t:d,y:m}:null),o.site,null)),++s)}function Kn(e,t){return t.angle-e.angle}function Qn(){lr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Zn(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,o=n.site;if(r!==o){var a=i.x,l=i.y,s=r.x-a,c=r.y-l,u=o.x-a,d=o.y-l,f=2*(s*d-c*u);if(!(f>=-La)){var m=s*s+c*c,p=u*u+d*d,g=(d*m-c*p)/f,v=(s*p-u*m)/f,d=v+l,h=ls.pop()||new Qn;h.arc=e,h.site=i,h.x=g+a,h.y=d+Math.sqrt(g*g+v*v),h.cy=d,e.circle=h;for(var b=null,y=os._;y;)if(h.y<y.y||h.y===y.y&&h.x<=y.x){if(!y.L){b=y.P;break}y=y.L}else{if(!y.R){b=y;break}y=y.R}os.insert(b,h),b||(is=h)}}}}function Xn(e){var t=e.circle;t&&(t.P||(is=t.N),os.remove(t),ls.push(t),lr(t),e.circle=null)}function Jn(e){for(var t,n=ts,r=jt(e[0][0],e[0][1],e[1][0],e[1][1]),i=n.length;i--;)t=n[i],(!er(t,e)||!r(t)||ha(t.a.x-t.b.x)<Na&&ha(t.a.y-t.b.y)<Na)&&(t.a=t.b=null,n.splice(i,1))}function er(e,t){var n=e.b;if(n)return!0;var r,i,o=e.a,a=t[0][0],l=t[1][0],s=t[0][1],c=t[1][1],u=e.l,d=e.r,f=u.x,m=u.y,p=d.x,g=d.y,v=(f+p)/2,h=(m+g)/2;if(g===m){if(v<a||v>=l)return;if(f>p){if(o){if(o.y>=c)return}else o={x:v,y:s};n={x:v,y:c}}else{if(o){if(o.y<s)return}else o={x:v,y:c};n={x:v,y:s}}}else if(r=(f-p)/(g-m),i=h-r*v,r<-1||r>1)if(f>p){if(o){if(o.y>=c)return}else o={x:(s-i)/r,y:s};n={x:(c-i)/r,y:c}}else{if(o){if(o.y<s)return}else o={x:(c-i)/r,y:c};n={x:(s-i)/r,y:s}}else if(m<g){if(o){if(o.x>=l)return}else o={x:a,y:r*a+i};n={x:l,y:r*l+i}}else{if(o){if(o.x<a)return}else o={x:l,y:r*l+i};n={x:a,y:r*a+i}}return e.a=o,e.b=n,!0}function tr(e,t){this.l=e,this.r=t,this.a=this.b=null}function nr(e,t,n,r){var i=new tr(e,t);return ts.push(i),n&&ir(i,e,t,n),r&&ir(i,t,e,r),ns[e.i].edges.push(new or(i,e,t)),ns[t.i].edges.push(new or(i,t,e)),i}function rr(e,t,n){var r=new tr(e,null);return r.a=t,r.b=n,ts.push(r),r}function ir(e,t,n,r){e.a||e.b?e.l===n?e.b=r:e.a=r:(e.a=r,e.l=t,e.r=n)}function or(e,t,n){var r=e.a,i=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function ar(){this._=null}function lr(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function sr(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function cr(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function ur(e){for(;e.L;)e=e.L;return e}function dr(e,t){var n,r,i,o=e.sort(fr).pop();for(ts=[],ns=new Array(e.length),rs=new ar,os=new ar;;)if(i=is,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===n&&o.y===r||(ns[o.i]=new qn(o),Wn(o),n=o.x,r=o.y),o=e.pop();else{if(!i)break;$n(i.arc)}t&&(Jn(t),Yn(t));var a={cells:ns,edges:ts};return rs=os=ts=ns=null,a}function fr(e,t){return t.y-e.y||t.x-e.x}function mr(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function pr(e){return e.x}function gr(e){return e.y}function vr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function hr(e,t,n,r,i,o){if(!e(t,n,r,i,o)){var a=.5*(n+i),l=.5*(r+o),s=t.nodes;s[0]&&hr(e,s[0],n,r,a,l),s[1]&&hr(e,s[1],a,r,i,l),s[2]&&hr(e,s[2],n,l,a,o),s[3]&&hr(e,s[3],a,l,i,o)}}function br(e,t,n,r,i,o,a){var l,s=1/0;return function e(c,u,d,f,m){if(!(u>o||d>a||f<r||m<i)){if(p=c.point){var p,g=t-c.x,v=n-c.y,h=g*g+v*v;if(h<s){var b=Math.sqrt(s=h);r=t-b,i=n-b,o=t+b,a=n+b,l=p}}for(var y=c.nodes,E=.5*(u+f),S=.5*(d+m),_=t>=E,w=n>=S,A=w<<1|_,T=A+4;A<T;++A)if(c=y[3&A])switch(3&A){case 0:e(c,u,d,E,S);break;case 1:e(c,E,d,f,S);break;case 2:e(c,u,S,E,m);break;case 3:e(c,E,S,f,m)}}}(e,r,i,o,a),l}function yr(e,t){e=la.rgb(e),t=la.rgb(t);var n=e.r,r=e.g,i=e.b,o=t.r-n,a=t.g-r,l=t.b-i;return function(e){return"#"+Te(Math.round(n+o*e))+Te(Math.round(r+a*e))+Te(Math.round(i+l*e))}}function Er(e,t){var n,r={},i={};for(n in e)n in t?r[n]=wr(e[n],t[n]):i[n]=e[n];for(n in t)n in e||(i[n]=t[n]);return function(e){for(n in r)i[n]=r[n](e);return i}}function Sr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function _r(e,t){var n,r,i,o=cs.lastIndex=us.lastIndex=0,a=-1,l=[],s=[];for(e+="",t+="";(n=cs.exec(e))&&(r=us.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),l[a]?l[a]+=i:l[++a]=i),(n=n[0])===(r=r[0])?l[a]?l[a]+=r:l[++a]=r:(l[++a]=null,s.push({i:a,x:Sr(n,r)})),o=us.lastIndex;return o<t.length&&(i=t.slice(o),l[a]?l[a]+=i:l[++a]=i),l.length<2?s[0]?(t=s[0].x,function(e){return t(e)+""}):function(){return t}:(t=s.length,function(e){for(var n,r=0;r<t;++r)l[(n=s[r]).i]=n.x(e);return l.join("")})}function wr(e,t){for(var n,r=la.interpolators.length;--r>=0&&!(n=la.interpolators[r](e,t)););return n}function Ar(e,t){var n,r=[],i=[],o=e.length,a=t.length,l=Math.min(e.length,t.length);for(n=0;n<l;++n)r.push(wr(e[n],t[n]));for(;n<o;++n)i[n]=e[n];for(;n<a;++n)i[n]=t[n];return function(e){for(n=0;n<l;++n)i[n]=r[n](e);return i}}function Tr(e){return function(t){return t<=0?0:t>=1?1:e(t)}}function Ir(e){return function(t){return 1-e(1-t)}}function Cr(e){return function(t){
return.5*(t<.5?e(2*t):2-e(2-2*t))}}function xr(e){return e*e}function Dr(e){return e*e*e}function Mr(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function Or(e){return function(t){return Math.pow(t,e)}}function Rr(e){return 1-Math.cos(e*Fa)}function Nr(e){return Math.pow(2,10*(e-1))}function Lr(e){return 1-Math.sqrt(1-e*e)}function Pr(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/ka*Math.asin(1/e):(e=1,n=t/4),function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-n)*ka/t)}}function kr(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function Gr(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function Fr(e,t){e=la.hcl(e),t=la.hcl(t);var n=e.h,r=e.c,i=e.l,o=t.h-n,a=t.c-r,l=t.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?t.c:r),isNaN(o)?(o=0,n=isNaN(n)?t.h:n):o>180?o-=360:o<-180&&(o+=360),function(e){return ge(n+o*e,r+a*e,i+l*e)+""}}function Ur(e,t){e=la.hsl(e),t=la.hsl(t);var n=e.h,r=e.s,i=e.l,o=t.h-n,a=t.s-r,l=t.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?t.s:r),isNaN(o)?(o=0,n=isNaN(n)?t.h:n):o>180?o-=360:o<-180&&(o+=360),function(e){return me(n+o*e,r+a*e,i+l*e)+""}}function Vr(e,t){e=la.lab(e),t=la.lab(t);var n=e.l,r=e.a,i=e.b,o=t.l-n,a=t.a-r,l=t.b-i;return function(e){return he(n+o*e,r+a*e,i+l*e)+""}}function Br(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function zr(e){var t=[e.a,e.b],n=[e.c,e.d],r=Wr(t),i=$r(t,n),o=Wr(Hr(n,t,-i))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*Va,this.translate=[e.e,e.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*Va:0}function $r(e,t){return e[0]*t[0]+e[1]*t[1]}function Wr(e){var t=Math.sqrt($r(e,e));return t&&(e[0]/=t,e[1]/=t),t}function Hr(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function jr(e,t){var n,r=[],i=[],o=la.transform(e),a=la.transform(t),l=o.translate,s=a.translate,c=o.rotate,u=a.rotate,d=o.skew,f=a.skew,m=o.scale,p=a.scale;return l[0]!=s[0]||l[1]!=s[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:Sr(l[0],s[0])},{i:3,x:Sr(l[1],s[1])})):s[0]||s[1]?r.push("translate("+s+")"):r.push(""),c!=u?(c-u>180?u+=360:u-c>180&&(c+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:Sr(c,u)})):u&&r.push(r.pop()+"rotate("+u+")"),d!=f?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:Sr(d,f)}):f&&r.push(r.pop()+"skewX("+f+")"),m[0]!=p[0]||m[1]!=p[1]?(n=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:n-4,x:Sr(m[0],p[0])},{i:n-2,x:Sr(m[1],p[1])})):1==p[0]&&1==p[1]||r.push(r.pop()+"scale("+p+")"),n=i.length,function(e){for(var t,o=-1;++o<n;)r[(t=i[o]).i]=t.x(e);return r.join("")}}function qr(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function Yr(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function Kr(e){for(var t=e.source,n=e.target,r=Zr(t,n),i=[t];t!==r;)t=t.parent,i.push(t);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function Qr(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function Zr(e,t){if(e===t)return e;for(var n=Qr(e),r=Qr(t),i=n.pop(),o=r.pop(),a=null;i===o;)a=i,i=n.pop(),o=r.pop();return a}function Xr(e){e.fixed|=2}function Jr(e){e.fixed&=-7}function ei(e){e.fixed|=4,e.px=e.x,e.py=e.y}function ti(e){e.fixed&=-5}function ni(e,t,n){var r=0,i=0;if(e.charge=0,!e.leaf)for(var o,a=e.nodes,l=a.length,s=-1;++s<l;)o=a[s],null!=o&&(ni(o,t,n),e.charge+=o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var c=t*n[e.point.index];e.charge+=e.pointCharge=c,r+=c*e.point.x,i+=c*e.point.y}e.cx=r/e.charge,e.cy=i/e.charge}function ri(e,t){return la.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=ci,e}function ii(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(i=e.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function oi(e,t){for(var n=[e],r=[];null!=(e=n.pop());)if(r.push(e),(o=e.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(e=r.pop());)t(e)}function ai(e){return e.children}function li(e){return e.value}function si(e,t){return t.value-e.value}function ci(e){return la.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function ui(e){return e.x}function di(e){return e.y}function fi(e,t,n){e.y0=t,e.y=n}function mi(e){return la.range(e.length)}function pi(e){for(var t=-1,n=e[0].length,r=[];++t<n;)r[t]=0;return r}function gi(e){for(var t,n=1,r=0,i=e[0][1],o=e.length;n<o;++n)(t=e[n][1])>i&&(r=n,i=t);return r}function vi(e){return e.reduce(hi,0)}function hi(e,t){return e+t[1]}function bi(e,t){return yi(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function yi(e,t){for(var n=-1,r=+e[0],i=(e[1]-r)/t,o=[];++n<=t;)o[n]=i*n+r;return o}function Ei(e){return[la.min(e),la.max(e)]}function Si(e,t){return e.value-t.value}function _i(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function wi(e,t){e._pack_next=t,t._pack_prev=e}function Ai(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return.999*i*i>n*n+r*r}function Ti(e){function t(e){u=Math.min(e.x-e.r,u),d=Math.max(e.x+e.r,d),f=Math.min(e.y-e.r,f),m=Math.max(e.y+e.r,m)}if((n=e.children)&&(c=n.length)){var n,r,i,o,a,l,s,c,u=1/0,d=-(1/0),f=1/0,m=-(1/0);if(n.forEach(Ii),r=n[0],r.x=-r.r,r.y=0,t(r),c>1&&(i=n[1],i.x=i.r,i.y=0,t(i),c>2))for(o=n[2],Di(r,i,o),t(o),_i(r,o),r._pack_prev=o,_i(o,i),i=r._pack_next,a=3;a<c;a++){Di(r,i,o=n[a]);var p=0,g=1,v=1;for(l=i._pack_next;l!==i;l=l._pack_next,g++)if(Ai(l,o)){p=1;break}if(1==p)for(s=r._pack_prev;s!==l._pack_prev&&!Ai(s,o);s=s._pack_prev,v++);p?(g<v||g==v&&i.r<r.r?wi(r,i=l):wi(r=s,i),a--):(_i(r,o),i=o,t(o))}var h=(u+d)/2,b=(f+m)/2,y=0;for(a=0;a<c;a++)o=n[a],o.x-=h,o.y-=b,y=Math.max(y,o.r+Math.sqrt(o.x*o.x+o.y*o.y));e.r=y,n.forEach(Ci)}}function Ii(e){e._pack_next=e._pack_prev=e}function Ci(e){delete e._pack_next,delete e._pack_prev}function xi(e,t,n,r){var i=e.children;if(e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r,i)for(var o=-1,a=i.length;++o<a;)xi(i[o],t,n,r)}function Di(e,t,n){var r=e.r+n.r,i=t.x-e.x,o=t.y-e.y;if(r&&(i||o)){var a=t.r+n.r,l=i*i+o*o;a*=a,r*=r;var s=.5+(r-a)/(2*l),c=Math.sqrt(Math.max(0,2*a*(r+l)-(r-=l)*r-a*a))/(2*l);n.x=e.x+s*i+c*o,n.y=e.y+s*o-c*i}else n.x=e.x+r,n.y=e.y}function Mi(e,t){return e.parent==t.parent?1:2}function Oi(e){var t=e.children;return t.length?t[0]:e.t}function Ri(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function Ni(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function Li(e){for(var t,n=0,r=0,i=e.children,o=i.length;--o>=0;)t=i[o],t.z+=n,t.m+=n,n+=t.s+(r+=t.c)}function Pi(e,t,n){return e.a.parent===t.parent?e.a:n}function ki(e){return 1+la.max(e,function(e){return e.y})}function Gi(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function Fi(e){var t=e.children;return t&&t.length?Fi(t[0]):e}function Ui(e){var t,n=e.children;return n&&(t=n.length)?Ui(n[t-1]):e}function Vi(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Bi(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],o=e.dy-t[0]-t[2];return i<0&&(n+=i/2,i=0),o<0&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function zi(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function $i(e){return e.rangeExtent?e.rangeExtent():zi(e.range())}function Wi(e,t,n,r){var i=n(e[0],e[1]),o=r(t[0],t[1]);return function(e){return o(i(e))}}function Hi(e,t){var n,r=0,i=e.length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function ji(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:Ss}function qi(e,t,n,r){var i=[],o=[],a=0,l=Math.min(e.length,t.length)-1;for(e[l]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<=l;)i.push(n(e[a-1],e[a])),o.push(r(t[a-1],t[a]));return function(t){var n=la.bisect(e,t,1,l)-1;return o[n](i[n](t))}}function Yi(e,t,n,r){function i(){var i=Math.min(e.length,t.length)>2?qi:Wi,s=r?Yr:qr;return a=i(e,t,s,n),l=i(t,e,s,wr),o}function o(e){return a(e)}var a,l;return o.invert=function(e){return l(e)},o.domain=function(t){return arguments.length?(e=t.map(Number),i()):e},o.range=function(e){return arguments.length?(t=e,i()):t},o.rangeRound=function(e){return o.range(e).interpolate(Br)},o.clamp=function(e){return arguments.length?(r=e,i()):r},o.interpolate=function(e){return arguments.length?(n=e,i()):n},o.ticks=function(t){return Xi(e,t)},o.tickFormat=function(t,n){return Ji(e,t,n)},o.nice=function(t){return Qi(e,t),i()},o.copy=function(){return Yi(e,t,n,r)},i()}function Ki(e,t){return la.rebind(e,t,"range","rangeRound","interpolate","clamp")}function Qi(e,t){return Hi(e,ji(Zi(e,t)[2]))}function Zi(e,t){null==t&&(t=10);var n=zi(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),o=t/r*i;return o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Xi(e,t){return la.range.apply(la,Zi(e,t))}function Ji(e,t,n){var r=Zi(e,t);if(n){var i=cl.exec(n);if(i.shift(),"s"===i[8]){var o=la.formatPrefix(Math.max(ha(r[0]),ha(r[1])));return i[7]||(i[7]="."+eo(o.scale(r[2]))),i[8]="f",n=la.format(i.join("")),function(e){return n(o.scale(e))+o.symbol}}i[7]||(i[7]="."+to(i[8],r)),n=i.join("")}else n=",."+eo(r[2])+"f";return la.format(n)}function eo(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function to(e,t){var n=eo(t[2]);return e in _s?Math.abs(n-eo(Math.max(ha(t[0]),ha(t[1]))))+ +("e"!==e):n-2*("%"===e)}function no(e,t,n,r){function i(e){return(n?Math.log(e<0?0:e):-Math.log(e>0?0:-e))/Math.log(t)}function o(e){return n?Math.pow(t,e):-Math.pow(t,-e)}function a(t){return e(i(t))}return a.invert=function(t){return o(e.invert(t))},a.domain=function(t){return arguments.length?(n=t[0]>=0,e.domain((r=t.map(Number)).map(i)),a):r},a.base=function(n){return arguments.length?(t=+n,e.domain(r.map(i)),a):t},a.nice=function(){var t=Hi(r.map(i),n?Math:As);return e.domain(t),r=t.map(o),a},a.ticks=function(){var e=zi(r),a=[],l=e[0],s=e[1],c=Math.floor(i(l)),u=Math.ceil(i(s)),d=t%1?2:t;if(isFinite(u-c)){if(n){for(;c<u;c++)for(var f=1;f<d;f++)a.push(o(c)*f);a.push(o(c))}else for(a.push(o(c));c++<u;)for(var f=d-1;f>0;f--)a.push(o(c)*f);for(c=0;a[c]<l;c++);for(u=a.length;a[u-1]>s;u--);a=a.slice(c,u)}return a},a.tickFormat=function(e,t){if(!arguments.length)return ws;arguments.length<2?t=ws:"function"!=typeof t&&(t=la.format(t));var r,l=Math.max(.1,e/a.ticks().length),s=n?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(e){return e/o(s(i(e)+r))<=l?t(e):""}},a.copy=function(){return no(e.copy(),t,n,r)},Ki(a,e)}function ro(e,t,n){function r(t){return e(i(t))}var i=io(t),o=io(1/t);return r.invert=function(t){return o(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(i)),r):n},r.ticks=function(e){return Xi(n,e)},r.tickFormat=function(e,t){return Ji(n,e,t)},r.nice=function(e){return r.domain(Qi(n,e))},r.exponent=function(a){return arguments.length?(i=io(t=a),o=io(1/t),e.domain(n.map(i)),r):t},r.copy=function(){return ro(e.copy(),t,n)},Ki(r,e)}function io(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function oo(e,t){function n(n){return o[((i.get(n)||("range"===t.t?i.set(n,e.push(n)):NaN))-1)%o.length]}function r(t,n){return la.range(e.length).map(function(e){return t+n*e})}var i,o,a;return n.domain=function(r){if(!arguments.length)return e;e=[],i=new p;for(var o,a=-1,l=r.length;++a<l;)i.has(o=r[a])||i.set(o,e.push(o));return n[t.t].apply(n,t.a)},n.range=function(e){return arguments.length?(o=e,a=0,t={t:"range",a:arguments},n):o},n.rangePoints=function(i,l){arguments.length<2&&(l=0);var s=i[0],c=i[1],u=e.length<2?(s=(s+c)/2,0):(c-s)/(e.length-1+l);return o=r(s+u*l/2,u),a=0,t={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(i,l){arguments.length<2&&(l=0);var s=i[0],c=i[1],u=e.length<2?(s=c=Math.round((s+c)/2),0):(c-s)/(e.length-1+l)|0;return o=r(s+Math.round(u*l/2+(c-s-(e.length-1+l)*u)/2),u),a=0,t={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(i,l,s){arguments.length<2&&(l=0),arguments.length<3&&(s=l);var c=i[1]<i[0],u=i[c-0],d=i[1-c],f=(d-u)/(e.length-l+2*s);return o=r(u+f*s,f),c&&o.reverse(),a=f*(1-l),t={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(i,l,s){arguments.length<2&&(l=0),arguments.length<3&&(s=l);var c=i[1]<i[0],u=i[c-0],d=i[1-c],f=Math.floor((d-u)/(e.length-l+2*s));return o=r(u+Math.round((d-u-(e.length-l)*f)/2),f),c&&o.reverse(),a=Math.round(f*(1-l)),t={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return a},n.rangeExtent=function(){return zi(t.a[0])},n.copy=function(){return oo(e,t)},n.domain(e)}function ao(e,t){function n(){var n=0,o=t.length;for(i=[];++n<o;)i[n-1]=la.quantile(e,n/o);return r}function r(e){if(!isNaN(e=+e))return t[la.bisect(i,e)]}var i;return r.domain=function(t){return arguments.length?(e=t.map(s).filter(c).sort(l),n()):e},r.range=function(e){return arguments.length?(t=e,n()):t},r.quantiles=function(){return i},r.invertExtent=function(n){return n=t.indexOf(n),n<0?[NaN,NaN]:[n>0?i[n-1]:e[0],n<i.length?i[n]:e[e.length-1]]},r.copy=function(){return ao(e,t)},n()}function lo(e,t,n){function r(t){return n[Math.max(0,Math.min(a,Math.floor(o*(t-e))))]}function i(){return o=n.length/(t-e),a=n.length-1,r}var o,a;return r.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],i()):[e,t]},r.range=function(e){return arguments.length?(n=e,i()):n},r.invertExtent=function(t){return t=n.indexOf(t),t=t<0?NaN:t/o+e,[t,t+1/o]},r.copy=function(){return lo(e,t,n)},i()}function so(e,t){function n(n){if(n<=n)return t[la.bisect(e,n)]}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(e){return arguments.length?(t=e,n):t},n.invertExtent=function(n){return n=t.indexOf(n),[e[n-1],e[n]]},n.copy=function(){return so(e,t)},n}function co(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return Xi(e,t)},t.tickFormat=function(t,n){return Ji(e,t,n)},t.copy=function(){return co(e)},t}function uo(){return 0}function fo(e){return e.innerRadius}function mo(e){return e.outerRadius}function po(e){return e.startAngle}function go(e){return e.endAngle}function vo(e){return e&&e.padAngle}function ho(e,t,n,r){return(e-n)*t-(t-r)*e>0?0:1}function bo(e,t,n,r,i){var o=e[0]-t[0],a=e[1]-t[1],l=(i?r:-r)/Math.sqrt(o*o+a*a),s=l*a,c=-l*o,u=e[0]+s,d=e[1]+c,f=t[0]+s,m=t[1]+c,p=(u+f)/2,g=(d+m)/2,v=f-u,h=m-d,b=v*v+h*h,y=n-r,E=u*m-f*d,S=(h<0?-1:1)*Math.sqrt(y*y*b-E*E),_=(E*h-v*S)/b,w=(-E*v-h*S)/b,A=(E*h+v*S)/b,T=(-E*v+h*S)/b,I=_-p,C=w-g,x=A-p,D=T-g;return I*I+C*C>x*x+D*D&&(_=A,w=T),[[_-s,w-c],[_*n/y,w*n/y]]}function yo(e){function t(t){function a(){c.push("M",o(e(u),l))}for(var s,c=[],u=[],d=-1,f=t.length,m=Oe(n),p=Oe(r);++d<f;)i.call(this,s=t[d],d)?u.push([+m.call(this,s,d),+p.call(this,s,d)]):u.length&&(a(),u=[]);return u.length&&a(),c.length?c.join(""):null}var n=Nn,r=Ln,i=Nt,o=Eo,a=o.key,l=.7;return t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t.defined=function(e){return arguments.length?(i=e,t):i},t.interpolate=function(e){return arguments.length?(a="function"==typeof e?o=e:(o=Ms.get(e)||Eo).key,t):a},t.tension=function(e){return arguments.length?(l=e,t):l},t}function Eo(e){return e.join("L")}function So(e){return Eo(e)+"Z"}function _o(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function wo(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function Ao(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function To(e,t){return e.length<4?Eo(e):e[1]+xo(e.slice(1,-1),Do(e,t))}function Io(e,t){return e.length<3?Eo(e):e[0]+xo((e.push(e[0]),e),Do([e[e.length-2]].concat(e,[e[1]]),t))}function Co(e,t){return e.length<3?Eo(e):e[0]+xo(e,Do(e,t))}function xo(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return Eo(e);var n=e.length!=t.length,r="",i=e[0],o=e[1],a=t[0],l=a,s=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=e[1],s=2),t.length>1){l=t[1],o=e[s],s++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-l[0])+","+(o[1]-l[1])+","+o[0]+","+o[1];for(var c=2;c<t.length;c++,s++)o=e[s],l=t[c],r+="S"+(o[0]-l[0])+","+(o[1]-l[1])+","+o[0]+","+o[1]}if(n){var u=e[s];r+="Q"+(o[0]+2*l[0]/3)+","+(o[1]+2*l[1]/3)+","+u[0]+","+u[1]}return r}function Do(e,t){for(var n,r=[],i=(1-t)/2,o=e[0],a=e[1],l=1,s=e.length;++l<s;)n=o,o=a,a=e[l],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function Mo(e){if(e.length<3)return Eo(e);var t=1,n=e.length,r=e[0],i=r[0],o=r[1],a=[i,i,i,(r=e[1])[0]],l=[o,o,o,r[1]],s=[i,",",o,"L",Lo(Ns,a),",",Lo(Ns,l)];for(e.push(e[n-1]);++t<=n;)r=e[t],a.shift(),a.push(r[0]),l.shift(),l.push(r[1]),Po(s,a,l);return e.pop(),s.push("L",r),s.join("")}function Oo(e){if(e.length<4)return Eo(e);for(var t,n=[],r=-1,i=e.length,o=[0],a=[0];++r<3;)t=e[r],o.push(t[0]),a.push(t[1]);for(n.push(Lo(Ns,o)+","+Lo(Ns,a)),--r;++r<i;)t=e[r],o.shift(),o.push(t[0]),a.shift(),a.push(t[1]),Po(n,o,a);return n.join("")}function Ro(e){for(var t,n,r=-1,i=e.length,o=i+4,a=[],l=[];++r<4;)n=e[r%i],a.push(n[0]),l.push(n[1]);for(t=[Lo(Ns,a),",",Lo(Ns,l)],--r;++r<o;)n=e[r%i],a.shift(),a.push(n[0]),l.shift(),l.push(n[1]),Po(t,a,l);return t.join("")}function No(e,t){var n=e.length-1;if(n)for(var r,i,o=e[0][0],a=e[0][1],l=e[n][0]-o,s=e[n][1]-a,c=-1;++c<=n;)r=e[c],i=c/n,r[0]=t*r[0]+(1-t)*(o+i*l),r[1]=t*r[1]+(1-t)*(a+i*s);return Mo(e)}function Lo(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function Po(e,t,n){e.push("C",Lo(Os,t),",",Lo(Os,n),",",Lo(Rs,t),",",Lo(Rs,n),",",Lo(Ns,t),",",Lo(Ns,n))}function ko(e,t){return(t[1]-e[1])/(t[0]-e[0])}function Go(e){for(var t=0,n=e.length-1,r=[],i=e[0],o=e[1],a=r[0]=ko(i,o);++t<n;)r[t]=(a+(a=ko(i=o,o=e[t+1])))/2;return r[t]=a,r}function Fo(e){for(var t,n,r,i,o=[],a=Go(e),l=-1,s=e.length-1;++l<s;)t=ko(e[l],e[l+1]),ha(t)<Na?a[l]=a[l+1]=0:(n=a[l]/t,r=a[l+1]/t,i=n*n+r*r,i>9&&(i=3*t/Math.sqrt(i),a[l]=i*n,a[l+1]=i*r));for(l=-1;++l<=s;)i=(e[Math.min(s,l+1)][0]-e[Math.max(0,l-1)][0])/(6*(1+a[l]*a[l])),o.push([i||0,a[l]*i||0]);return o}function Uo(e){return e.length<3?Eo(e):e[0]+xo(e,Fo(e))}function Vo(e){for(var t,n,r,i=-1,o=e.length;++i<o;)t=e[i],n=t[0],r=t[1]-Fa,t[0]=n*Math.cos(r),t[1]=n*Math.sin(r);return e}function Bo(e){function t(t){function s(){g.push("M",l(e(h),d),u,c(e(v.reverse()),d),"Z")}for(var f,m,p,g=[],v=[],h=[],b=-1,y=t.length,E=Oe(n),S=Oe(i),_=n===r?function(){return m}:Oe(r),w=i===o?function(){return p}:Oe(o);++b<y;)a.call(this,f=t[b],b)?(v.push([m=+E.call(this,f,b),p=+S.call(this,f,b)]),h.push([+_.call(this,f,b),+w.call(this,f,b)])):v.length&&(s(),v=[],h=[]);return v.length&&s(),g.length?g.join(""):null}var n=Nn,r=Nn,i=0,o=Ln,a=Nt,l=Eo,s=l.key,c=l,u="L",d=.7;return t.x=function(e){return arguments.length?(n=r=e,t):r},t.x0=function(e){return arguments.length?(n=e,t):n},t.x1=function(e){return arguments.length?(r=e,t):r},t.y=function(e){return arguments.length?(i=o=e,t):o},t.y0=function(e){return arguments.length?(i=e,t):i},t.y1=function(e){return arguments.length?(o=e,t):o},t.defined=function(e){return arguments.length?(a=e,t):a},t.interpolate=function(e){return arguments.length?(s="function"==typeof e?l=e:(l=Ms.get(e)||Eo).key,c=l.reverse||l,u=l.closed?"M":"L",t):s},t.tension=function(e){return arguments.length?(d=e,t):d},t}function zo(e){return e.radius}function $o(e){return[e.x,e.y]}function Wo(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]-Fa;return[n*Math.cos(r),n*Math.sin(r)]}}function Ho(){return 64}function jo(){return"circle"}function qo(e){var t=Math.sqrt(e/Pa);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Yo(e){return function(){var t,n;(t=this[e])&&(n=t[t.active])&&(--t.count?delete t[t.active]:delete this[e],t.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function Ko(e,t,n){return _a(e,Vs),e.namespace=t,e.id=n,e}function Qo(e,t,n,r){var i=e.id,o=e.namespace;return Y(e,"function"==typeof n?function(e,a,l){e[o][i].tween.set(t,r(n.call(e,e.__data__,a,l)))}:(n=r(n),function(e){e[o][i].tween.set(t,n)}))}function Zo(e){return null==e&&(e=""),function(){this.textContent=e}}function Xo(e){return null==e?"__transition__":"__transition_"+e+"__"}function Jo(e,t,n,r,i){var o=e[n]||(e[n]={active:0,count:0}),a=o[r];if(!a){var l=i.time;a=o[r]={tween:new p,time:l,delay:i.delay,duration:i.duration,ease:i.ease,index:t},i=null,++o.count,la.timer(function(i){function s(n){if(o.active>r)return u();var i=o[o.active];i&&(--o.count,delete o[o.active],i.event&&i.event.interrupt.call(e,e.__data__,i.index)),o.active=r,a.event&&a.event.start.call(e,e.__data__,t),a.tween.forEach(function(n,r){(r=r.call(e,e.__data__,t))&&g.push(r)}),f=a.ease,d=a.duration,la.timer(function(){return p.c=c(n||1)?Nt:c,1},0,l)}function c(n){if(o.active!==r)return 1;for(var i=n/d,l=f(i),s=g.length;s>0;)g[--s].call(e,l);return i>=1?(a.event&&a.event.end.call(e,e.__data__,t),u()):void 0}function u(){return--o.count?delete o[r]:delete e[n],1}var d,f,m=a.delay,p=al,g=[];return p.t=m+l,m<=i?s(i-m):void(p.c=s)},0,l)}}function ea(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate("+(isFinite(r)?r:n(e))+",0)"})}function ta(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate(0,"+(isFinite(r)?r:n(e))+")"})}function na(e){return e.toISOString()}function ra(e,t,n){function r(t){return e(t)}function i(e,n){var r=e[1]-e[0],i=r/n,o=la.bisect(Ks,i);return o==Ks.length?[t.year,Zi(e.map(function(e){return e/31536e6}),n)[2]]:o?t[i/Ks[o-1]<Ks[o]/i?o-1:o]:[Xs,Zi(e,n)[2]]}return r.invert=function(t){return ia(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain(t),r):e.domain().map(ia)},r.nice=function(e,t){function n(n){return!isNaN(n)&&!e.range(n,ia(+n+1),t).length}var o=r.domain(),a=zi(o),l=null==e?i(a,10):"number"==typeof e&&i(a,e);return l&&(e=l[0],t=l[1]),r.domain(Hi(o,t>1?{floor:function(t){for(;n(t=e.floor(t));)t=ia(t-1);return t},ceil:function(t){for(;n(t=e.ceil(t));)t=ia(+t+1);return t}}:e))},r.ticks=function(e,t){var n=zi(r.domain()),o=null==e?i(n,10):"number"==typeof e?i(n,e):!e.range&&[{range:e},t];return o&&(e=o[0],t=o[1]),e.range(n[0],ia(+n[1]+1),t<1?1:t)},r.tickFormat=function(){return n},r.copy=function(){return ra(e.copy(),t,n)},Ki(r,e)}function ia(e){return new Date(e)}function oa(e){return JSON.parse(e.responseText)}function aa(e){var t=ua.createRange();return t.selectNode(ua.body),t.createContextualFragment(e.responseText)}var la={version:"3.5.6"},sa=[].slice,ca=function(e){return sa.call(e)},ua=this.document;if(ua)try{ca(ua.documentElement.childNodes)[0].nodeType}catch(e){ca=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),ua)try{ua.createElement("DIV").style.setProperty("opacity",0,"")}catch(e){var da=this.Element.prototype,fa=da.setAttribute,ma=da.setAttributeNS,pa=this.CSSStyleDeclaration.prototype,ga=pa.setProperty;da.setAttribute=function(e,t){fa.call(this,e,t+"")},da.setAttributeNS=function(e,t,n){ma.call(this,e,t,n+"")},pa.setProperty=function(e,t,n){ga.call(this,e,t+"",n)}}la.ascending=l,la.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},la.min=function(e,t){var n,r,i=-1,o=e.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=e[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=t.call(e,e[i],i))&&n>r&&(n=r)}return n},la.max=function(e,t){var n,r,i=-1,o=e.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=e[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=t.call(e,e[i],i))&&r>n&&(n=r)}return n},la.extent=function(e,t){var n,r,i,o=-1,a=e.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=e[o])&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=e[o])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++o<a;)if(null!=(r=t.call(e,e[o],o))&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=t.call(e,e[o],o))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},la.sum=function(e,t){var n,r=0,i=e.length,o=-1;if(1===arguments.length)for(;++o<i;)c(n=+e[o])&&(r+=n);else for(;++o<i;)c(n=+t.call(e,e[o],o))&&(r+=n);return r},la.mean=function(e,t){var n,r=0,i=e.length,o=-1,a=i;if(1===arguments.length)for(;++o<i;)c(n=s(e[o]))?r+=n:--a;else for(;++o<i;)c(n=s(t.call(e,e[o],o)))?r+=n:--a;if(a)return r/a},la.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],o=n-r;return o?i+o*(e[r]-i):i},la.median=function(e,t){var n,r=[],i=e.length,o=-1;if(1===arguments.length)for(;++o<i;)c(n=s(e[o]))&&r.push(n);else for(;++o<i;)c(n=s(t.call(e,e[o],o)))&&r.push(n);if(r.length)return la.quantile(r.sort(l),.5)},la.variance=function(e,t){var n,r,i=e.length,o=0,a=0,l=-1,u=0;if(1===arguments.length)for(;++l<i;)c(n=s(e[l]))&&(r=n-o,o+=r/++u,a+=r*(n-o));else for(;++l<i;)c(n=s(t.call(e,e[l],l)))&&(r=n-o,o+=r/++u,a+=r*(n-o));if(u>1)return a/(u-1)},la.deviation=function(){var e=la.variance.apply(this,arguments);return e?Math.sqrt(e):e};var va=u(l);la.bisectLeft=va.left,la.bisect=la.bisectRight=va.right,la.bisector=function(e){return u(1===e.length?function(t,n){return l(e(t),n)}:e)},la.shuffle=function(e,t,n){(o=arguments.length)<3&&(n=e.length,o<2&&(t=0));for(var r,i,o=n-t;o;)i=Math.random()*o--|0,r=e[o+t],e[o+t]=e[i+t],e[i+t]=r;return e},la.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},la.pairs=function(e){for(var t,n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=[t=i,i=e[++n]];return o},la.zip=function(){if(!(r=arguments.length))return[];for(var e=-1,t=la.min(arguments,d),n=new Array(t);++e<t;)for(var r,i=-1,o=n[e]=new Array(r);++i<r;)o[i]=arguments[i][e];return n},la.transpose=function(e){return la.zip.apply(la,e)},la.keys=function(e){var t=[];for(var n in e)t.push(n);return t},la.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},la.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},la.merge=function(e){for(var t,n,r,i=e.length,o=-1,a=0;++o<i;)a+=e[o].length;for(n=new Array(a);--i>=0;)for(r=e[i],t=r.length;--t>=0;)n[--a]=r[t];return n};var ha=Math.abs;la.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n===1/0)throw new Error("infinite range");var r,i=[],o=f(ha(n)),a=-1;if(e*=o,t*=o,n*=o,n<0)for(;(r=e+n*++a)>t;)i.push(r/o);else for(;(r=e+n*++a)<t;)i.push(r/o);return i},la.map=function(e,t){var n=new p;if(e instanceof p)e.forEach(function(e,t){n.set(e,t)});else if(Array.isArray(e)){var r,i=-1,o=e.length;if(1===arguments.length)for(;++i<o;)n.set(i,e[i]);else for(;++i<o;)n.set(t.call(e,r=e[i],i),r)}else for(var a in e)n.set(a,e[a]);return n};var ba="__proto__",ya="\0";m(p,{has:h,get:function(e){return this._[g(e)]},set:function(e,t){return this._[g(e)]=t},remove:b,keys:y,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:v(t),value:this._[t]});return e},size:E,empty:S,forEach:function(e){for(var t in this._)e.call(this,v(t),this._[t])}}),la.nest=function(){function e(t,a,l){if(l>=o.length)return r?r.call(i,a):n?a.sort(n):a;for(var s,c,u,d,f=-1,m=a.length,g=o[l++],v=new p;++f<m;)(d=v.get(s=g(c=a[f])))?d.push(c):v.set(s,[c]);return t?(c=t(),u=function(n,r){c.set(n,e(t,r,l))}):(c={},u=function(n,r){c[n]=e(t,r,l)}),v.forEach(u),c}function t(e,n){if(n>=o.length)return e;var r=[],i=a[n++];return e.forEach(function(e,i){r.push({key:e,values:t(i,n)})}),i?r.sort(function(e,t){return i(e.key,t.key)}):r}var n,r,i={},o=[],a=[];return i.map=function(t,n){return e(n,t,0)},i.entries=function(n){return t(e(la.map,n,0),0)},i.key=function(e){return o.push(e),i},i.sortKeys=function(e){return a[o.length-1]=e,i},i.sortValues=function(e){return n=e,i},i.rollup=function(e){return r=e,i},i},la.set=function(e){var t=new _;if(e)for(var n=0,r=e.length;n<r;++n)t.add(e[n]);return t},m(_,{has:h,add:function(e){return this._[g(e+="")]=!0,e},remove:b,values:y,size:E,empty:S,forEach:function(e){for(var t in this._)e.call(this,v(t))}}),la.behavior={},la.rebind=function(e,t){for(var n,r=1,i=arguments.length;++r<i;)e[n=arguments[r]]=A(e,t,t[n]);return e};var Ea=["webkit","ms","moz","Moz","o","O"];la.dispatch=function(){for(var e=new C,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=x(e);return e},C.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},la.event=null,la.requote=function(e){return e.replace(Sa,"\\$&")};var Sa=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,_a={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]},wa=function(e,t){return t.querySelector(e)},Aa=function(e,t){return t.querySelectorAll(e)},Ta=function(e,t){var n=e.matches||e[T(e,"matchesSelector")];return(Ta=function(e,t){return n.call(e,t)})(e,t)};"function"==typeof Sizzle&&(wa=function(e,t){return Sizzle(e,t)[0]||null},Aa=Sizzle,Ta=Sizzle.matchesSelector),la.selection=function(){return la.select(ua.documentElement)};var Ia=la.selection.prototype=[];Ia.select=function(e){var t,n,r,i,o=[];e=N(e);for(var a=-1,l=this.length;++a<l;){o.push(t=[]),t.parentNode=(r=this[a]).parentNode;for(var s=-1,c=r.length;++s<c;)(i=r[s])?(t.push(n=e.call(i,i.__data__,s,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):t.push(null)}return R(o)},Ia.selectAll=function(e){var t,n,r=[];e=L(e);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],l=-1,s=a.length;++l<s;)(n=a[l])&&(r.push(t=ca(e.call(n,n.__data__,l,i))),t.parentNode=n);return R(r)};var Ca={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};la.ns={prefix:Ca,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&(n=e.slice(0,t),e=e.slice(t+1)),Ca.hasOwnProperty(n)?{space:Ca[n],local:e}:e}},Ia.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return e=la.ns.qualify(e),e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(P(t,e[t]));return this}return this.each(P(e,t))},Ia.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),r=(e=F(e)).length,i=-1;if(t=n.classList){for(;++i<r;)if(!t.contains(e[i]))return!1}else for(t=n.getAttribute("class");++i<r;)if(!G(e[i]).test(t))return!1;return!0}for(t in e)this.each(U(t,e[t]));return this}return this.each(U(e,t))},Ia.style=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){r<2&&(t="");for(n in e)this.each(B(n,e[n],t));return this}if(r<2){var i=this.node();return a(i).getComputedStyle(i,null).getPropertyValue(e)}n=""}return this.each(B(e,t,n))},Ia.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(z(t,e[t]));return this}return this.each(z(e,t))},Ia.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},Ia.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},Ia.append=function(e){return e=$(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},Ia.insert=function(e,t){return e=$(e),t=N(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},Ia.remove=function(){return this.each(W)},Ia.data=function(e,t){function n(e,n){var r,i,o,a=e.length,u=n.length,d=Math.min(a,u),f=new Array(u),m=new Array(u),g=new Array(a);
if(t){var v,h=new p,b=new Array(a);for(r=-1;++r<a;)h.has(v=t.call(i=e[r],i.__data__,r))?g[r]=i:h.set(v,i),b[r]=v;for(r=-1;++r<u;)(i=h.get(v=t.call(n,o=n[r],r)))?i!==!0&&(f[r]=i,i.__data__=o):m[r]=H(o),h.set(v,!0);for(r=-1;++r<a;)h.get(b[r])!==!0&&(g[r]=e[r])}else{for(r=-1;++r<d;)i=e[r],o=n[r],i?(i.__data__=o,f[r]=i):m[r]=H(o);for(;r<u;++r)m[r]=H(n[r]);for(;r<a;++r)g[r]=e[r]}m.update=f,m.parentNode=f.parentNode=g.parentNode=e.parentNode,l.push(m),s.push(f),c.push(g)}var r,i,o=-1,a=this.length;if(!arguments.length){for(e=new Array(a=(r=this[0]).length);++o<a;)(i=r[o])&&(e[o]=i.__data__);return e}var l=K([]),s=R([]),c=R([]);if("function"==typeof e)for(;++o<a;)n(r=this[o],e.call(r,r.parentNode.__data__,o));else for(;++o<a;)n(r=this[o],e);return s.enter=function(){return l},s.exit=function(){return c},s},Ia.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},Ia.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=j(e));for(var o=0,a=this.length;o<a;o++){i.push(t=[]),t.parentNode=(n=this[o]).parentNode;for(var l=0,s=n.length;l<s;l++)(r=n[l])&&e.call(r,r.__data__,l,o)&&t.push(r)}return R(i)},Ia.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,r=this[e],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},Ia.sort=function(e){e=q.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},Ia.each=function(e){return Y(this,function(t,n,r){e.call(t,t.__data__,n,r)})},Ia.call=function(e){var t=ca(arguments);return e.apply(t[0]=this,t),this},Ia.empty=function(){return!this.node()},Ia.node=function(){for(var e=0,t=this.length;e<t;e++)for(var n=this[e],r=0,i=n.length;r<i;r++){var o=n[r];if(o)return o}return null},Ia.size=function(){var e=0;return Y(this,function(){++e}),e};var xa=[];la.selection.enter=K,la.selection.enter.prototype=xa,xa.append=Ia.append,xa.empty=Ia.empty,xa.node=Ia.node,xa.call=Ia.call,xa.size=Ia.size,xa.select=function(e){for(var t,n,r,i,o,a=[],l=-1,s=this.length;++l<s;){r=(i=this[l]).update,a.push(t=[]),t.parentNode=i.parentNode;for(var c=-1,u=i.length;++c<u;)(o=i[c])?(t.push(r[c]=n=e.call(i.parentNode,o.__data__,c,l)),n.__data__=o.__data__):t.push(null)}return R(a)},xa.insert=function(e,t){return arguments.length<2&&(t=Q(this)),Ia.insert.call(this,e,t)},la.select=function(e){var t;return"string"==typeof e?(t=[wa(e,ua)],t.parentNode=ua.documentElement):(t=[e],t.parentNode=o(e)),R([t])},la.selectAll=function(e){var t;return"string"==typeof e?(t=ca(Aa(e,ua)),t.parentNode=ua.documentElement):(t=e,t.parentNode=null),R([t])},Ia.on=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){r<2&&(t=!1);for(n in e)this.each(Z(n,e[n],t));return this}if(r<2)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(Z(e,t,n))};var Da=la.map({mouseenter:"mouseover",mouseleave:"mouseout"});ua&&Da.forEach(function(e){"on"+e in ua&&Da.remove(e)});var Ma,Oa=0;la.mouse=function(e){return te(e,M())};var Ra=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;la.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=M().changedTouches),t)for(var r,i=0,o=t.length;i<o;++i)if((r=t[i]).identifier===n)return te(e,r)},la.behavior.drag=function(){function e(){this.on("mousedown.drag",i).on("touchstart.drag",o)}function t(e,t,i,o,a){return function(){function l(){var e,n,r=t(f,g);r&&(e=r[0]-y[0],n=r[1]-y[1],p|=e|n,y=r,m({type:"drag",x:r[0]+c[0],y:r[1]+c[1],dx:e,dy:n}))}function s(){t(f,g)&&(h.on(o+v,null).on(a+v,null),b(p&&la.event.target===d),m({type:"dragend"}))}var c,u=this,d=la.event.target,f=u.parentNode,m=n.of(u,arguments),p=0,g=e(),v=".drag"+(null==g?"":"-"+g),h=la.select(i(d)).on(o+v,l).on(a+v,s),b=ee(d),y=t(f,g);r?(c=r.apply(u,arguments),c=[c.x-y[0],c.y-y[1]]):c=[0,0],m({type:"dragstart"})}}var n=O(e,"drag","dragstart","dragend"),r=null,i=t(I,la.mouse,a,"mousemove","mouseup"),o=t(ne,la.touch,w,"touchmove","touchend");return e.origin=function(t){return arguments.length?(r=t,e):r},la.rebind(e,n,"on")},la.touches=function(e,t){return arguments.length<2&&(t=M().touches),t?ca(t).map(function(t){var n=te(e,t);return n.identifier=t.identifier,n}):[]};var Na=1e-6,La=Na*Na,Pa=Math.PI,ka=2*Pa,Ga=ka-Na,Fa=Pa/2,Ua=Pa/180,Va=180/Pa,Ba=Math.SQRT2,za=2,$a=4;la.interpolateZoom=function(e,t){function n(e){var t=e*b;if(h){var n=se(g),a=o/(za*f)*(n*ce(Ba*t+g)-le(g));return[r+a*c,i+a*u,o*n/se(Ba*t+g)]}return[r+e*c,i+e*u,o*Math.exp(Ba*t)]}var r=e[0],i=e[1],o=e[2],a=t[0],l=t[1],s=t[2],c=a-r,u=l-i,d=c*c+u*u,f=Math.sqrt(d),m=(s*s-o*o+$a*d)/(2*o*za*f),p=(s*s-o*o-$a*d)/(2*s*za*f),g=Math.log(Math.sqrt(m*m+1)-m),v=Math.log(Math.sqrt(p*p+1)-p),h=v-g,b=(h||Math.log(s/o))/Ba;return n.duration=1e3*b,n},la.behavior.zoom=function(){function e(e){e.on(M,d).on(Ha+".zoom",m).on("dblclick.zoom",p).on(L,f)}function t(e){return[(e[0]-A.x)/A.k,(e[1]-A.y)/A.k]}function n(e){return[e[0]*A.k+A.x,e[1]*A.k+A.y]}function r(e){A.k=Math.max(I[0],Math.min(I[1],e))}function i(e,t){t=n(t),A.x+=e[0]-t[0],A.y+=e[1]-t[1]}function o(t,n,o,a){t.__chart__={x:A.x,y:A.y,k:A.k},r(Math.pow(2,a)),i(v=n,o),t=la.select(t),C>0&&(t=t.transition().duration(C)),t.call(e.event)}function l(){S&&S.domain(E.range().map(function(e){return(e-A.x)/A.k}).map(E.invert)),w&&w.domain(_.range().map(function(e){return(e-A.y)/A.k}).map(_.invert))}function s(e){x++||e({type:"zoomstart"})}function c(e){l(),e({type:"zoom",scale:A.k,translate:[A.x,A.y]})}function u(e){--x||(e({type:"zoomend"}),v=null)}function d(){function e(){d=1,i(la.mouse(r),m),c(l)}function n(){f.on(R,null).on(N,null),p(d&&la.event.target===o),u(l)}var r=this,o=la.event.target,l=P.of(r,arguments),d=0,f=la.select(a(r)).on(R,e).on(N,n),m=t(la.mouse(r)),p=ee(r);Us.call(r),s(l)}function f(){function e(){var e=la.touches(p);return m=A.k,e.forEach(function(e){e.identifier in v&&(v[e.identifier]=t(e))}),e}function n(){var t=la.event.target;la.select(t).on(E,a).on(S,l),_.push(t);for(var n=la.event.changedTouches,r=0,i=n.length;r<i;++r)v[n[r].identifier]=null;var s=e(),c=Date.now();if(1===s.length){if(c-y<500){var u=s[0];o(p,u,v[u.identifier],Math.floor(Math.log(A.k)/Math.LN2)+1),D()}y=c}else if(s.length>1){var u=s[0],d=s[1],f=u[0]-d[0],m=u[1]-d[1];h=f*f+m*m}}function a(){var e,t,n,o,a=la.touches(p);Us.call(p);for(var l=0,s=a.length;l<s;++l,o=null)if(n=a[l],o=v[n.identifier]){if(t)break;e=n,t=o}if(o){var u=(u=n[0]-e[0])*u+(u=n[1]-e[1])*u,d=h&&Math.sqrt(u/h);e=[(e[0]+n[0])/2,(e[1]+n[1])/2],t=[(t[0]+o[0])/2,(t[1]+o[1])/2],r(d*m)}y=null,i(e,t),c(g)}function l(){if(la.event.touches.length){for(var t=la.event.changedTouches,n=0,r=t.length;n<r;++n)delete v[t[n].identifier];for(var i in v)return void e()}la.selectAll(_).on(b,null),w.on(M,d).on(L,f),T(),u(g)}var m,p=this,g=P.of(p,arguments),v={},h=0,b=".zoom-"+la.event.changedTouches[0].identifier,E="touchmove"+b,S="touchend"+b,_=[],w=la.select(p),T=ee(p);n(),s(g),w.on(M,null).on(L,n)}function m(){var e=P.of(this,arguments);b?clearTimeout(b):(Us.call(this),g=t(v=h||la.mouse(this)),s(e)),b=setTimeout(function(){b=null,u(e)},50),D(),r(Math.pow(2,.002*Wa())*A.k),i(v,g),c(e)}function p(){var e=la.mouse(this),n=Math.log(A.k)/Math.LN2;o(this,e,t(e),la.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}var g,v,h,b,y,E,S,_,w,A={x:0,y:0,k:1},T=[960,500],I=ja,C=250,x=0,M="mousedown.zoom",R="mousemove.zoom",N="mouseup.zoom",L="touchstart.zoom",P=O(e,"zoomstart","zoom","zoomend");return Ha||(Ha="onwheel"in ua?(Wa=function(){return-la.event.deltaY*(la.event.deltaMode?120:1)},"wheel"):"onmousewheel"in ua?(Wa=function(){return la.event.wheelDelta},"mousewheel"):(Wa=function(){return-la.event.detail},"MozMousePixelScroll")),e.event=function(e){e.each(function(){var e=P.of(this,arguments),t=A;Gs?la.select(this).transition().each("start.zoom",function(){A=this.__chart__||{x:0,y:0,k:1},s(e)}).tween("zoom:zoom",function(){var n=T[0],r=T[1],i=v?v[0]:n/2,o=v?v[1]:r/2,a=la.interpolateZoom([(i-A.x)/A.k,(o-A.y)/A.k,n/A.k],[(i-t.x)/t.k,(o-t.y)/t.k,n/t.k]);return function(t){var r=a(t),l=n/r[2];this.__chart__=A={x:i-r[0]*l,y:o-r[1]*l,k:l},c(e)}}).each("interrupt.zoom",function(){u(e)}).each("end.zoom",function(){u(e)}):(this.__chart__=A,s(e),c(e),u(e))})},e.translate=function(t){return arguments.length?(A={x:+t[0],y:+t[1],k:A.k},l(),e):[A.x,A.y]},e.scale=function(t){return arguments.length?(A={x:A.x,y:A.y,k:+t},l(),e):A.k},e.scaleExtent=function(t){return arguments.length?(I=null==t?ja:[+t[0],+t[1]],e):I},e.center=function(t){return arguments.length?(h=t&&[+t[0],+t[1]],e):h},e.size=function(t){return arguments.length?(T=t&&[+t[0],+t[1]],e):T},e.duration=function(t){return arguments.length?(C=+t,e):C},e.x=function(t){return arguments.length?(S=t,E=t.copy(),A={x:0,y:0,k:1},e):S},e.y=function(t){return arguments.length?(w=t,_=t.copy(),A={x:0,y:0,k:1},e):w},la.rebind(e,P,"on")};var Wa,Ha,ja=[0,1/0];la.color=de,de.prototype.toString=function(){return this.rgb()+""},la.hsl=fe;var qa=fe.prototype=new de;qa.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new fe(this.h,this.s,this.l/e)},qa.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new fe(this.h,this.s,e*this.l)},qa.rgb=function(){return me(this.h,this.s,this.l)},la.hcl=pe;var Ya=pe.prototype=new de;Ya.brighter=function(e){return new pe(this.h,this.c,Math.min(100,this.l+Ka*(arguments.length?e:1)))},Ya.darker=function(e){return new pe(this.h,this.c,Math.max(0,this.l-Ka*(arguments.length?e:1)))},Ya.rgb=function(){return ge(this.h,this.c,this.l).rgb()},la.lab=ve;var Ka=18,Qa=.95047,Za=1,Xa=1.08883,Ja=ve.prototype=new de;Ja.brighter=function(e){return new ve(Math.min(100,this.l+Ka*(arguments.length?e:1)),this.a,this.b)},Ja.darker=function(e){return new ve(Math.max(0,this.l-Ka*(arguments.length?e:1)),this.a,this.b)},Ja.rgb=function(){return he(this.l,this.a,this.b)},la.rgb=_e;var el=_e.prototype=new de;el.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;return t||n||r?(t&&t<i&&(t=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new _e(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,r/e))):new _e(i,i,i)},el.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new _e(e*this.r,e*this.g,e*this.b)},el.hsl=function(){return Ce(this.r,this.g,this.b)},el.toString=function(){return"#"+Te(this.r)+Te(this.g)+Te(this.b)};var tl=la.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});tl.forEach(function(e,t){tl.set(e,we(t))}),la.functor=Oe,la.xhr=Re(w),la.dsv=function(e,t){function n(e,n,o){arguments.length<3&&(o=n,n=null);var a=Ne(e,t,null==n?r:i(n),o);return a.row=function(e){return arguments.length?a.response(null==(n=e)?r:i(e)):n},a}function r(e){return n.parse(e.responseText)}function i(e){return function(t){return n.parse(t.responseText,e)}}function o(t){return t.map(a).join(e)}function a(e){return l.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var l=new RegExp('["'+e+"\n]"),s=e.charCodeAt(0);return n.parse=function(e,t){var r;return n.parseRows(e,function(e,n){if(r)return r(e,n-1);var i=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");r=t?function(e,n){return t(i(e),n)}:i})},n.parseRows=function(e,t){function n(){if(u>=c)return a;if(i)return i=!1,o;var t=u;if(34===e.charCodeAt(t)){for(var n=t;n++<c;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}u=n+2;var r=e.charCodeAt(n+1);return 13===r?(i=!0,10===e.charCodeAt(n+2)&&++u):10===r&&(i=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;u<c;){var r=e.charCodeAt(u++),l=1;if(10===r)i=!0;else if(13===r)i=!0,10===e.charCodeAt(u)&&(++u,++l);else if(r!==s)continue;return e.slice(t,u-l)}return e.slice(t)}for(var r,i,o={},a={},l=[],c=e.length,u=0,d=0;(r=n())!==a;){for(var f=[];r!==o&&r!==a;)f.push(r),r=n();t&&null==(f=t(f,d++))||l.push(f)}return l},n.format=function(t){if(Array.isArray(t[0]))return n.formatRows(t);var r=new _,i=[];return t.forEach(function(e){for(var t in e)r.has(t)||i.push(r.add(t))}),[i.map(a).join(e)].concat(t.map(function(t){return i.map(function(e){return a(t[e])}).join(e)})).join("\n")},n.formatRows=function(e){return e.map(o).join("\n")},n},la.csv=la.dsv(",","text/csv"),la.tsv=la.dsv("\t","text/tab-separated-values");var nl,rl,il,ol,al,ll=this[T(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};la.timer=function(e,t,n){var r=arguments.length;r<2&&(t=0),r<3&&(n=Date.now());var i=n+t,o={c:e,t:i,f:!1,n:null};rl?rl.n=o:nl=o,rl=o,il||(ol=clearTimeout(ol),il=1,ll(ke))},la.timer.flush=function(){Ge(),Fe()},la.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var sl=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Ve);la.formatPrefix=function(e,t){var n=0;return e&&(e<0&&(e*=-1),t&&(e=la.round(e,Ue(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),sl[8+n/3]};var cl=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ul=la.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=la.round(e,Ue(e,t))).toFixed(Math.max(0,Math.min(20,Ue(e*(1+1e-15),t))))}}),dl=la.time={},fl=Date;$e.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ml.setUTCDate.apply(this._,arguments)},setDay:function(){ml.setUTCDay.apply(this._,arguments)},setFullYear:function(){ml.setUTCFullYear.apply(this._,arguments)},setHours:function(){ml.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ml.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ml.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ml.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ml.setUTCSeconds.apply(this._,arguments)},setTime:function(){ml.setTime.apply(this._,arguments)}};var ml=Date.prototype;dl.year=We(function(e){return e=dl.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),dl.years=dl.year.range,dl.years.utc=dl.year.utc.range,dl.day=We(function(e){var t=new fl(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),dl.days=dl.day.range,dl.days.utc=dl.day.utc.range,dl.dayOfYear=function(e){var t=dl.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=dl[e]=We(function(e){return(e=dl.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=dl.year(e).getDay();return Math.floor((dl.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});dl[e+"s"]=n.range,dl[e+"s"].utc=n.utc.range,dl[e+"OfYear"]=function(e){var n=dl.year(e).getDay();return Math.floor((dl.dayOfYear(e)+(n+t)%7)/7)}}),dl.week=dl.sunday,dl.weeks=dl.sunday.range,dl.weeks.utc=dl.sunday.utc.range,dl.weekOfYear=dl.sundayOfYear;var pl={"-":"",_:" ",0:"0"},gl=/^\s*\d+/,vl=/^%/;la.locale=function(e){return{numberFormat:Be(e),timeFormat:je(e)}};var hl=la.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});la.format=hl.numberFormat,la.geo={},mt.prototype={s:0,t:0,add:function(e){pt(e,this.t,bl),pt(bl.s,this.s,this),this.s?this.t+=bl.t:this.s=bl.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var bl=new mt;la.geo.stream=function(e,t){e&&yl.hasOwnProperty(e.type)?yl[e.type](e,t):gt(e,t)};var yl={Feature:function(e,t){gt(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)gt(n[r].geometry,t)}},El={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){vt(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)vt(n[r],t,0)},Polygon:function(e,t){ht(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)ht(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)gt(n[r],t)}};la.geo.area=function(e){return Sl=0,la.geo.stream(e,wl),Sl};var Sl,_l=new mt,wl={sphere:function(){Sl+=4*Pa},point:I,lineStart:I,lineEnd:I,polygonStart:function(){_l.reset(),wl.lineStart=bt},polygonEnd:function(){var e=2*_l;Sl+=e<0?4*Pa+e:e,wl.lineStart=wl.lineEnd=wl.point=I}};la.geo.bounds=function(){function e(e,t){y.push(E=[u=e,f=e]),t<d&&(d=t),t>m&&(m=t)}function t(t,n){var r=yt([t*Ua,n*Ua]);if(h){var i=St(h,r),o=[i[1],-i[0],0],a=St(o,i);At(a),a=Tt(a);var s=t-p,c=s>0?1:-1,g=a[0]*Va*c,v=ha(s)>180;if(v^(c*p<g&&g<c*t)){var b=a[1]*Va;b>m&&(m=b)}else if(g=(g+360)%360-180,v^(c*p<g&&g<c*t)){var b=-a[1]*Va;b<d&&(d=b)}else n<d&&(d=n),n>m&&(m=n);v?t<p?l(u,t)>l(u,f)&&(f=t):l(t,f)>l(u,f)&&(u=t):f>=u?(t<u&&(u=t),t>f&&(f=t)):t>p?l(u,t)>l(u,f)&&(f=t):l(t,f)>l(u,f)&&(u=t)}else e(t,n);h=r,p=t}function n(){S.point=t}function r(){E[0]=u,E[1]=f,S.point=e,h=null}function i(e,n){if(h){var r=e-p;b+=ha(r)>180?r+(r>0?360:-360):r}else g=e,v=n;wl.point(e,n),t(e,n)}function o(){wl.lineStart()}function a(){i(g,v),wl.lineEnd(),ha(b)>Na&&(u=-(f=180)),E[0]=u,E[1]=f,h=null}function l(e,t){return(t-=e)<0?t+360:t}function s(e,t){return e[0]-t[0]}function c(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var u,d,f,m,p,g,v,h,b,y,E,S={point:e,lineStart:n,lineEnd:r,polygonStart:function(){S.point=i,S.lineStart=o,S.lineEnd=a,b=0,wl.polygonStart()},polygonEnd:function(){wl.polygonEnd(),S.point=e,S.lineStart=n,S.lineEnd=r,_l<0?(u=-(f=180),d=-(m=90)):b>Na?m=90:b<-Na&&(d=-90),E[0]=u,E[1]=f}};return function(e){m=f=-(u=d=1/0),y=[],la.geo.stream(e,S);var t=y.length;if(t){y.sort(s);for(var n,r=1,i=y[0],o=[i];r<t;++r)n=y[r],c(n[0],i)||c(n[1],i)?(l(i[0],n[1])>l(i[0],i[1])&&(i[1]=n[1]),l(n[0],i[1])>l(i[0],i[1])&&(i[0]=n[0])):o.push(i=n);for(var a,n,p=-(1/0),t=o.length-1,r=0,i=o[t];r<=t;i=n,++r)n=o[r],(a=l(i[1],n[0]))>p&&(p=a,u=n[0],f=i[1])}return y=E=null,u===1/0||d===1/0?[[NaN,NaN],[NaN,NaN]]:[[u,d],[f,m]]}}(),la.geo.centroid=function(e){Al=Tl=Il=Cl=xl=Dl=Ml=Ol=Rl=Nl=Ll=0,la.geo.stream(e,Pl);var t=Rl,n=Nl,r=Ll,i=t*t+n*n+r*r;return i<La&&(t=Dl,n=Ml,r=Ol,Tl<Na&&(t=Il,n=Cl,r=xl),i=t*t+n*n+r*r,i<La)?[NaN,NaN]:[Math.atan2(n,t)*Va,ae(r/Math.sqrt(i))*Va]};var Al,Tl,Il,Cl,xl,Dl,Ml,Ol,Rl,Nl,Ll,Pl={sphere:I,point:Ct,lineStart:Dt,lineEnd:Mt,polygonStart:function(){Pl.lineStart=Ot},polygonEnd:function(){Pl.lineStart=Dt}},kl=Gt(Nt,Bt,$t,[-Pa,-Pa/2]),Gl=1e9;la.geo.clipExtent=function(){var e,t,n,r,i,o,a={stream:function(e){return i&&(i.valid=!1),i=o(e),i.valid=!0,i},extent:function(l){return arguments.length?(o=qt(e=+l[0][0],t=+l[0][1],n=+l[1][0],r=+l[1][1]),i&&(i.valid=!1,i=null),a):[[e,t],[n,r]]}};return a.extent([[0,0],[960,500]])},(la.geo.conicEqualArea=function(){return Yt(Kt)}).raw=Kt,la.geo.albers=function(){return la.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},la.geo.albersUsa=function(){function e(e){var o=e[0],a=e[1];return t=null,n(o,a),t||(r(o,a),t)||i(o,a),t}var t,n,r,i,o=la.geo.albers(),a=la.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=la.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(e,n){t=[e,n]}};return e.invert=function(e){var t=o.scale(),n=o.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?a:i>=.166&&i<.234&&r>=-.214&&r<-.115?l:o).invert(e)},e.stream=function(e){var t=o.stream(e),n=a.stream(e),r=l.stream(e);return{point:function(e,i){t.point(e,i),n.point(e,i),r.point(e,i)},sphere:function(){t.sphere(),n.sphere(),r.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},e.precision=function(t){return arguments.length?(o.precision(t),a.precision(t),l.precision(t),e):o.precision()},e.scale=function(t){return arguments.length?(o.scale(t),a.scale(.35*t),l.scale(t),e.translate(o.translate())):o.scale()},e.translate=function(t){if(!arguments.length)return o.translate();var c=o.scale(),u=+t[0],d=+t[1];return n=o.translate(t).clipExtent([[u-.455*c,d-.238*c],[u+.455*c,d+.238*c]]).stream(s).point,r=a.translate([u-.307*c,d+.201*c]).clipExtent([[u-.425*c+Na,d+.12*c+Na],[u-.214*c-Na,d+.234*c-Na]]).stream(s).point,i=l.translate([u-.205*c,d+.212*c]).clipExtent([[u-.214*c+Na,d+.166*c+Na],[u-.115*c-Na,d+.234*c-Na]]).stream(s).point,e},e.scale(1070)};var Fl,Ul,Vl,Bl,zl,$l,Wl={point:I,lineStart:I,lineEnd:I,polygonStart:function(){Ul=0,Wl.lineStart=Qt},polygonEnd:function(){Wl.lineStart=Wl.lineEnd=Wl.point=I,Fl+=ha(Ul/2)}},Hl={point:Zt,lineStart:I,lineEnd:I,polygonStart:I,polygonEnd:I},jl={point:en,lineStart:tn,lineEnd:nn,polygonStart:function(){jl.lineStart=rn},polygonEnd:function(){jl.point=en,jl.lineStart=tn,jl.lineEnd=nn}};la.geo.path=function(){function e(e){return e&&("function"==typeof l&&o.pointRadius(+l.apply(this,arguments)),a&&a.valid||(a=i(o)),la.geo.stream(e,a)),o.result()}function t(){return a=null,e}var n,r,i,o,a,l=4.5;return e.area=function(e){return Fl=0,la.geo.stream(e,i(Wl)),Fl},e.centroid=function(e){return Il=Cl=xl=Dl=Ml=Ol=Rl=Nl=Ll=0,la.geo.stream(e,i(jl)),Ll?[Rl/Ll,Nl/Ll]:Ol?[Dl/Ol,Ml/Ol]:xl?[Il/xl,Cl/xl]:[NaN,NaN]},e.bounds=function(e){return zl=$l=-(Vl=Bl=1/0),la.geo.stream(e,i(Hl)),[[Vl,Bl],[zl,$l]]},e.projection=function(e){return arguments.length?(i=(n=e)?e.stream||ln(e):w,t()):n},e.context=function(e){return arguments.length?(o=null==(r=e)?new Xt:new on(e),"function"!=typeof l&&o.pointRadius(l),t()):r},e.pointRadius=function(t){return arguments.length?(l="function"==typeof t?t:(o.pointRadius(+t),+t),e):l},e.projection(la.geo.albersUsa()).context(null)},la.geo.transform=function(e){return{stream:function(t){var n=new sn(t);for(var r in e)n[r]=e[r];return n}}},sn.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},la.geo.projection=un,la.geo.projectionMutator=dn,(la.geo.equirectangular=function(){return un(mn)}).raw=mn.invert=mn,la.geo.rotation=function(e){function t(t){return t=e(t[0]*Ua,t[1]*Ua),t[0]*=Va,t[1]*=Va,t}return e=gn(e[0]%360*Ua,e[1]*Ua,e.length>2?e[2]*Ua:0),t.invert=function(t){return t=e.invert(t[0]*Ua,t[1]*Ua),t[0]*=Va,t[1]*=Va,t},t},pn.invert=mn,la.geo.circle=function(){function e(){var e="function"==typeof r?r.apply(this,arguments):r,t=gn(-e[0]*Ua,-e[1]*Ua,0).invert,i=[];return n(null,null,1,{point:function(e,n){i.push(e=t(e,n)),e[0]*=Va,e[1]*=Va}}),{type:"Polygon",coordinates:[i]}}var t,n,r=[0,0],i=6;return e.origin=function(t){return arguments.length?(r=t,e):r},e.angle=function(r){return arguments.length?(n=yn((t=+r)*Ua,i*Ua),e):t},e.precision=function(r){return arguments.length?(n=yn(t*Ua,(i=+r)*Ua),e):i},e.angle(90)},la.geo.distance=function(e,t){var n,r=(t[0]-e[0])*Ua,i=e[1]*Ua,o=t[1]*Ua,a=Math.sin(r),l=Math.cos(r),s=Math.sin(i),c=Math.cos(i),u=Math.sin(o),d=Math.cos(o);return Math.atan2(Math.sqrt((n=d*a)*n+(n=c*u-s*d*l)*n),s*u+c*d*l)},la.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return la.range(Math.ceil(o/v)*v,i,v).map(f).concat(la.range(Math.ceil(c/h)*h,s,h).map(m)).concat(la.range(Math.ceil(r/p)*p,n,p).filter(function(e){return ha(e%v)>Na}).map(u)).concat(la.range(Math.ceil(l/g)*g,a,g).filter(function(e){return ha(e%h)>Na}).map(d))}var n,r,i,o,a,l,s,c,u,d,f,m,p=10,g=p,v=90,h=360,b=2.5;return e.lines=function(){return t().map(function(e){return{type:"LineString",coordinates:e}})},e.outline=function(){return{type:"Polygon",coordinates:[f(o).concat(m(s).slice(1),f(i).reverse().slice(1),m(c).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(o=+t[0][0],i=+t[1][0],c=+t[0][1],s=+t[1][1],o>i&&(t=o,o=i,i=t),c>s&&(t=c,c=s,s=t),e.precision(b)):[[o,c],[i,s]]},e.minorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],l=+t[0][1],a=+t[1][1],r>n&&(t=r,r=n,n=t),l>a&&(t=l,l=a,a=t),e.precision(b)):[[r,l],[n,a]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(v=+t[0],h=+t[1],e):[v,h]},e.minorStep=function(t){return arguments.length?(p=+t[0],g=+t[1],e):[p,g]},e.precision=function(t){return arguments.length?(b=+t,u=Sn(l,a,90),d=_n(r,n,b),f=Sn(c,s,90),m=_n(o,i,b),e):b},e.majorExtent([[-180,-90+Na],[180,90-Na]]).minorExtent([[-180,-80-Na],[180,80+Na]])},la.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),n||i.apply(this,arguments)]}}var t,n,r=wn,i=An;return e.distance=function(){return la.geo.distance(t||r.apply(this,arguments),n||i.apply(this,arguments))},e.source=function(n){return arguments.length?(r=n,t="function"==typeof n?null:n,e):r},e.target=function(t){return arguments.length?(i=t,n="function"==typeof t?null:t,e):i},e.precision=function(){return arguments.length?e:0},e},la.geo.interpolate=function(e,t){return Tn(e[0]*Ua,e[1]*Ua,t[0]*Ua,t[1]*Ua)},la.geo.length=function(e){return ql=0,la.geo.stream(e,Yl),ql};var ql,Yl={sphere:I,point:I,lineStart:In,lineEnd:I,polygonStart:I,polygonEnd:I},Kl=Cn(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(la.geo.azimuthalEqualArea=function(){return un(Kl)}).raw=Kl;var Ql=Cn(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},w);(la.geo.azimuthalEquidistant=function(){return un(Ql)}).raw=Ql,(la.geo.conicConformal=function(){return Yt(xn)}).raw=xn,(la.geo.conicEquidistant=function(){return Yt(Dn)}).raw=Dn;var Zl=Cn(function(e){return 1/e},Math.atan);(la.geo.gnomonic=function(){return un(Zl)}).raw=Zl,Mn.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Fa]},(la.geo.mercator=function(){return On(Mn)}).raw=Mn;var Xl=Cn(function(){return 1},Math.asin);(la.geo.orthographic=function(){return un(Xl)}).raw=Xl;var Jl=Cn(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(la.geo.stereographic=function(){return un(Jl)}).raw=Jl,Rn.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-Fa]},(la.geo.transverseMercator=function(){var e=On(Rn),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},n([0,0,90])}).raw=Rn,la.geom={},la.geom.hull=function(e){function t(e){if(e.length<3)return[];var t,i=Oe(n),o=Oe(r),a=e.length,l=[],s=[];for(t=0;t<a;t++)l.push([+i.call(this,e[t],t),+o.call(this,e[t],t),t]);for(l.sort(kn),t=0;t<a;t++)s.push([l[t][0],-l[t][1]]);var c=Pn(l),u=Pn(s),d=u[0]===c[0],f=u[u.length-1]===c[c.length-1],m=[];for(t=c.length-1;t>=0;--t)m.push(e[l[c[t]][2]]);for(t=+d;t<u.length-f;++t)m.push(e[l[u[t]][2]]);return m}var n=Nn,r=Ln;return arguments.length?t(e):(t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t)},la.geom.polygon=function(e){return _a(e,es),e};var es=la.geom.polygon.prototype=[];es.area=function(){for(var e,t=-1,n=this.length,r=this[n-1],i=0;++t<n;)e=r,r=this[t],i+=e[1]*r[0]-e[0]*r[1];return.5*i},es.centroid=function(e){var t,n,r=-1,i=this.length,o=0,a=0,l=this[i-1];for(arguments.length||(e=-1/(6*this.area()));++r<i;)t=l,l=this[r],n=t[0]*l[1]-l[0]*t[1],o+=(t[0]+l[0])*n,a+=(t[1]+l[1])*n;return[o*e,a*e]},es.clip=function(e){for(var t,n,r,i,o,a,l=Un(e),s=-1,c=this.length-Un(this),u=this[c-1];++s<c;){for(t=e.slice(),e.length=0,i=this[s],o=t[(r=t.length-l)-1],n=-1;++n<r;)a=t[n],Gn(a,u,i)?(Gn(o,u,i)||e.push(Fn(o,a,u,i)),e.push(a)):Gn(o,u,i)&&e.push(Fn(o,a,u,i)),o=a;l&&e.push(e[0]),u=i}return e};var ts,ns,rs,is,os,as=[],ls=[];qn.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)e=t[n].edge,e.b&&e.a||t.splice(n,1);return t.sort(Kn),t.length},or.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ar.prototype={
insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=ur(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(sr(this,n),e=n,n=e.U),n.C=!1,r.C=!0,cr(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(cr(this,n),e=n,n=e.U),n.C=!1,r.C=!0,sr(this,r))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,o=e.L,a=e.R;if(n=o?a?ur(a):o:a,i?i.L===e?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=e.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=a,a.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===i.L){if(t=i.R,t.C&&(t.C=!1,i.C=!0,sr(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,cr(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,sr(this,i),e=this._;break}}else if(t=i.L,t.C&&(t.C=!1,i.C=!0,cr(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,sr(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,cr(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}},la.geom.voronoi=function(e){function t(e){var t=new Array(e.length),r=l[0][0],i=l[0][1],o=l[1][0],a=l[1][1];return dr(n(e),l).cells.forEach(function(n,l){var s=n.edges,c=n.site,u=t[l]=s.length?s.map(function(e){var t=e.start();return[t.x,t.y]}):c.x>=r&&c.x<=o&&c.y>=i&&c.y<=a?[[r,a],[o,a],[o,i],[r,i]]:[];u.point=e[l]}),t}function n(e){return e.map(function(e,t){return{x:Math.round(o(e,t)/Na)*Na,y:Math.round(a(e,t)/Na)*Na,i:t}})}var r=Nn,i=Ln,o=r,a=i,l=ss;return e?t(e):(t.links=function(e){return dr(n(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},t.triangles=function(e){var t=[];return dr(n(e)).cells.forEach(function(n,r){for(var i,o,a=n.site,l=n.edges.sort(Kn),s=-1,c=l.length,u=l[c-1].edge,d=u.l===a?u.r:u.l;++s<c;)i=u,o=d,u=l[s].edge,d=u.l===a?u.r:u.l,r<o.i&&r<d.i&&mr(a,o,d)<0&&t.push([e[r],e[o.i],e[d.i]])}),t},t.x=function(e){return arguments.length?(o=Oe(r=e),t):r},t.y=function(e){return arguments.length?(a=Oe(i=e),t):i},t.clipExtent=function(e){return arguments.length?(l=null==e?ss:e,t):l===ss?null:l},t.size=function(e){return arguments.length?t.clipExtent(e&&[[0,0],e]):l===ss?null:l&&l[1]},t)};var ss=[[-1e6,-1e6],[1e6,1e6]];la.geom.delaunay=function(e){return la.geom.voronoi().triangles(e)},la.geom.quadtree=function(e,t,n,r,i){function o(e){function o(e,t,n,r,i,o,a,l){if(!isNaN(n)&&!isNaN(r))if(e.leaf){var s=e.x,u=e.y;if(null!=s)if(ha(s-n)+ha(u-r)<.01)c(e,t,n,r,i,o,a,l);else{var d=e.point;e.x=e.y=e.point=null,c(e,d,s,u,i,o,a,l),c(e,t,n,r,i,o,a,l)}else e.x=n,e.y=r,e.point=t}else c(e,t,n,r,i,o,a,l)}function c(e,t,n,r,i,a,l,s){var c=.5*(i+l),u=.5*(a+s),d=n>=c,f=r>=u,m=f<<1|d;e.leaf=!1,e=e.nodes[m]||(e.nodes[m]=vr()),d?i=c:l=c,f?a=u:s=u,o(e,t,n,r,i,a,l,s)}var u,d,f,m,p,g,v,h,b,y=Oe(l),E=Oe(s);if(null!=t)g=t,v=n,h=r,b=i;else if(h=b=-(g=v=1/0),d=[],f=[],p=e.length,a)for(m=0;m<p;++m)u=e[m],u.x<g&&(g=u.x),u.y<v&&(v=u.y),u.x>h&&(h=u.x),u.y>b&&(b=u.y),d.push(u.x),f.push(u.y);else for(m=0;m<p;++m){var S=+y(u=e[m],m),_=+E(u,m);S<g&&(g=S),_<v&&(v=_),S>h&&(h=S),_>b&&(b=_),d.push(S),f.push(_)}var w=h-g,A=b-v;w>A?b=v+w:h=g+A;var T=vr();if(T.add=function(e){o(T,e,+y(e,++m),+E(e,m),g,v,h,b)},T.visit=function(e){hr(e,T,g,v,h,b)},T.find=function(e){return br(T,e[0],e[1],g,v,h,b)},m=-1,null==t){for(;++m<p;)o(T,e[m],d[m],f[m],g,v,h,b);--m}else e.forEach(T.add);return d=f=e=u=null,T}var a,l=Nn,s=Ln;return(a=arguments.length)?(l=pr,s=gr,3===a&&(i=n,r=t,n=t=0),o(e)):(o.x=function(e){return arguments.length?(l=e,o):l},o.y=function(e){return arguments.length?(s=e,o):s},o.extent=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),o):null==t?null:[[t,n],[r,i]]},o.size=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=n=0,r=+e[0],i=+e[1]),o):null==t?null:[r-t,i-n]},o)},la.interpolateRgb=yr,la.interpolateObject=Er,la.interpolateNumber=Sr,la.interpolateString=_r;var cs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,us=new RegExp(cs.source,"g");la.interpolate=wr,la.interpolators=[function(e,t){var n=typeof t;return("string"===n?tl.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?yr:_r:t instanceof de?yr:Array.isArray(t)?Ar:"object"===n&&isNaN(t)?Er:Sr)(e,t)}],la.interpolateArray=Ar;var ds=function(){return w},fs=la.map({linear:ds,poly:Or,quad:function(){return xr},cubic:function(){return Dr},sin:function(){return Rr},exp:function(){return Nr},circle:function(){return Lr},elastic:Pr,back:kr,bounce:function(){return Gr}}),ms=la.map({in:w,out:Ir,"in-out":Cr,"out-in":function(e){return Cr(Ir(e))}});la.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.slice(0,t):e,r=t>=0?e.slice(t+1):"in";return n=fs.get(n)||ds,r=ms.get(r)||w,Tr(r(n.apply(null,sa.call(arguments,1))))},la.interpolateHcl=Fr,la.interpolateHsl=Ur,la.interpolateLab=Vr,la.interpolateRound=Br,la.transform=function(e){var t=ua.createElementNS(la.ns.prefix.svg,"g");return(la.transform=function(e){if(null!=e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new zr(n?n.matrix:ps)})(e)},zr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ps={a:1,b:0,c:0,d:1,e:0,f:0};la.interpolateTransform=jr,la.layout={},la.layout.bundle=function(){return function(e){for(var t=[],n=-1,r=e.length;++n<r;)t.push(Kr(e[n]));return t}},la.layout.chord=function(){function e(){var e,c,d,f,m,p={},g=[],v=la.range(o),h=[];for(n=[],r=[],e=0,f=-1;++f<o;){for(c=0,m=-1;++m<o;)c+=i[f][m];g.push(c),h.push(la.range(o)),e+=c}for(a&&v.sort(function(e,t){return a(g[e],g[t])}),l&&h.forEach(function(e,t){e.sort(function(e,n){return l(i[t][e],i[t][n])})}),e=(ka-u*o)/e,c=0,f=-1;++f<o;){for(d=c,m=-1;++m<o;){var b=v[f],y=h[b][m],E=i[b][y],S=c,_=c+=E*e;p[b+"-"+y]={index:b,subindex:y,startAngle:S,endAngle:_,value:E}}r[b]={index:b,startAngle:d,endAngle:c,value:(c-d)/e},c+=u}for(f=-1;++f<o;)for(m=f-1;++m<o;){var w=p[f+"-"+m],A=p[m+"-"+f];(w.value||A.value)&&n.push(w.value<A.value?{source:A,target:w}:{source:w,target:A})}s&&t()}function t(){n.sort(function(e,t){return s((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var n,r,i,o,a,l,s,c={},u=0;return c.matrix=function(e){return arguments.length?(o=(i=e)&&i.length,n=r=null,c):i},c.padding=function(e){return arguments.length?(u=e,n=r=null,c):u},c.sortGroups=function(e){return arguments.length?(a=e,n=r=null,c):a},c.sortSubgroups=function(e){return arguments.length?(l=e,n=null,c):l},c.sortChords=function(e){return arguments.length?(s=e,n&&t(),c):s},c.chords=function(){return n||e(),n},c.groups=function(){return r||e(),r},c},la.layout.force=function(){function e(e){return function(t,n,r,i){if(t.point!==e){var o=t.cx-e.x,a=t.cy-e.y,l=i-n,s=o*o+a*a;if(l*l/v<s){if(s<p){var c=t.charge/s;e.px-=o*c,e.py-=a*c}return!0}if(t.point&&s&&s<p){var c=t.pointCharge/s;e.px-=o*c,e.py-=a*c}}return!t.charge}}function t(e){e.px=la.event.x,e.py=la.event.y,l.resume()}var n,r,i,o,a,l={},s=la.dispatch("start","tick","end"),c=[1,1],u=.9,d=gs,f=vs,m=-30,p=hs,g=.1,v=.64,h=[],b=[];return l.tick=function(){if((r*=.99)<.005)return s.end({type:"end",alpha:r=0}),!0;var t,n,l,d,f,p,v,y,E,S=h.length,_=b.length;for(n=0;n<_;++n)l=b[n],d=l.source,f=l.target,y=f.x-d.x,E=f.y-d.y,(p=y*y+E*E)&&(p=r*o[n]*((p=Math.sqrt(p))-i[n])/p,y*=p,E*=p,f.x-=y*(v=d.weight/(f.weight+d.weight)),f.y-=E*v,d.x+=y*(v=1-v),d.y+=E*v);if((v=r*g)&&(y=c[0]/2,E=c[1]/2,n=-1,v))for(;++n<S;)l=h[n],l.x+=(y-l.x)*v,l.y+=(E-l.y)*v;if(m)for(ni(t=la.geom.quadtree(h),r,a),n=-1;++n<S;)(l=h[n]).fixed||t.visit(e(l));for(n=-1;++n<S;)l=h[n],l.fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*u,l.y-=(l.py-(l.py=l.y))*u);s.tick({type:"tick",alpha:r})},l.nodes=function(e){return arguments.length?(h=e,l):h},l.links=function(e){return arguments.length?(b=e,l):b},l.size=function(e){return arguments.length?(c=e,l):c},l.linkDistance=function(e){return arguments.length?(d="function"==typeof e?e:+e,l):d},l.distance=l.linkDistance,l.linkStrength=function(e){return arguments.length?(f="function"==typeof e?e:+e,l):f},l.friction=function(e){return arguments.length?(u=+e,l):u},l.charge=function(e){return arguments.length?(m="function"==typeof e?e:+e,l):m},l.chargeDistance=function(e){return arguments.length?(p=e*e,l):Math.sqrt(p)},l.gravity=function(e){return arguments.length?(g=+e,l):g},l.theta=function(e){return arguments.length?(v=e*e,l):Math.sqrt(v)},l.alpha=function(e){return arguments.length?(e=+e,r?r=e>0?e:0:e>0&&(s.start({type:"start",alpha:r=e}),la.timer(l.tick)),l):r},l.start=function(){function e(e,r){if(!n){for(n=new Array(s),l=0;l<s;++l)n[l]=[];for(l=0;l<u;++l){var i=b[l];n[i.source.index].push(i.target),n[i.target.index].push(i.source)}}for(var o,a=n[t],l=-1,c=a.length;++l<c;)if(!isNaN(o=a[l][e]))return o;return Math.random()*r}var t,n,r,s=h.length,u=b.length,p=c[0],g=c[1];for(t=0;t<s;++t)(r=h[t]).index=t,r.weight=0;for(t=0;t<u;++t)r=b[t],"number"==typeof r.source&&(r.source=h[r.source]),"number"==typeof r.target&&(r.target=h[r.target]),++r.source.weight,++r.target.weight;for(t=0;t<s;++t)r=h[t],isNaN(r.x)&&(r.x=e("x",p)),isNaN(r.y)&&(r.y=e("y",g)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof d)for(t=0;t<u;++t)i[t]=+d.call(this,b[t],t);else for(t=0;t<u;++t)i[t]=d;if(o=[],"function"==typeof f)for(t=0;t<u;++t)o[t]=+f.call(this,b[t],t);else for(t=0;t<u;++t)o[t]=f;if(a=[],"function"==typeof m)for(t=0;t<s;++t)a[t]=+m.call(this,h[t],t);else for(t=0;t<s;++t)a[t]=m;return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){return n||(n=la.behavior.drag().origin(w).on("dragstart.force",Xr).on("drag.force",t).on("dragend.force",Jr)),arguments.length?void this.on("mouseover.force",ei).on("mouseout.force",ti).call(n):n},la.rebind(l,s,"on")};var gs=20,vs=1,hs=1/0;la.layout.hierarchy=function(){function e(i){var o,a=[i],l=[];for(i.depth=0;null!=(o=a.pop());)if(l.push(o),(c=n.call(e,o,o.depth))&&(s=c.length)){for(var s,c,u;--s>=0;)a.push(u=c[s]),u.parent=o,u.depth=o.depth+1;r&&(o.value=0),o.children=c}else r&&(o.value=+r.call(e,o,o.depth)||0),delete o.children;return oi(i,function(e){var n,i;t&&(n=e.children)&&n.sort(t),r&&(i=e.parent)&&(i.value+=e.value)}),l}var t=si,n=ai,r=li;return e.sort=function(n){return arguments.length?(t=n,e):t},e.children=function(t){return arguments.length?(n=t,e):n},e.value=function(t){return arguments.length?(r=t,e):r},e.revalue=function(t){return r&&(ii(t,function(e){e.children&&(e.value=0)}),oi(t,function(t){var n;t.children||(t.value=+r.call(e,t,t.depth)||0),(n=t.parent)&&(n.value+=t.value)})),t},e},la.layout.partition=function(){function e(t,n,r,i){var o=t.children;if(t.x=n,t.y=t.depth*i,t.dx=r,t.dy=i,o&&(a=o.length)){var a,l,s,c=-1;for(r=t.value?r/t.value:0;++c<a;)e(l=o[c],n,s=l.value*r,i),n+=s}}function t(e){var n=e.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,t(n[o]));return 1+r}function n(n,o){var a=r.call(this,n,o);return e(a[0],0,i[0],i[1]/t(a[0])),a}var r=la.layout.hierarchy(),i=[1,1];return n.size=function(e){return arguments.length?(i=e,n):i},ri(n,r)},la.layout.pie=function(){function e(a){var l,s=a.length,c=a.map(function(n,r){return+t.call(e,n,r)}),u=+("function"==typeof r?r.apply(this,arguments):r),d=("function"==typeof i?i.apply(this,arguments):i)-u,f=Math.min(Math.abs(d)/s,+("function"==typeof o?o.apply(this,arguments):o)),m=f*(d<0?-1:1),p=(d-s*m)/la.sum(c),g=la.range(s),v=[];return null!=n&&g.sort(n===bs?function(e,t){return c[t]-c[e]}:function(e,t){return n(a[e],a[t])}),g.forEach(function(e){v[e]={data:a[e],value:l=c[e],startAngle:u,endAngle:u+=l*p+m,padAngle:f}}),v}var t=Number,n=bs,r=0,i=ka,o=0;return e.value=function(n){return arguments.length?(t=n,e):t},e.sort=function(t){return arguments.length?(n=t,e):n},e.startAngle=function(t){return arguments.length?(r=t,e):r},e.endAngle=function(t){return arguments.length?(i=t,e):i},e.padAngle=function(t){return arguments.length?(o=t,e):o},e};var bs={};la.layout.stack=function(){function e(l,s){if(!(f=l.length))return l;var c=l.map(function(n,r){return t.call(e,n,r)}),u=c.map(function(t){return t.map(function(t,n){return[o.call(e,t,n),a.call(e,t,n)]})}),d=n.call(e,u,s);c=la.permute(c,d),u=la.permute(u,d);var f,m,p,g,v=r.call(e,u,s),h=c[0].length;for(p=0;p<h;++p)for(i.call(e,c[0][p],g=v[p],u[0][p][1]),m=1;m<f;++m)i.call(e,c[m][p],g+=u[m-1][p][1],u[m][p][1]);return l}var t=w,n=mi,r=pi,i=fi,o=ui,a=di;return e.values=function(n){return arguments.length?(t=n,e):t},e.order=function(t){return arguments.length?(n="function"==typeof t?t:ys.get(t)||mi,e):n},e.offset=function(t){return arguments.length?(r="function"==typeof t?t:Es.get(t)||pi,e):r},e.x=function(t){return arguments.length?(o=t,e):o},e.y=function(t){return arguments.length?(a=t,e):a},e.out=function(t){return arguments.length?(i=t,e):i},e};var ys=la.map({"inside-out":function(e){var t,n,r=e.length,i=e.map(gi),o=e.map(vi),a=la.range(r).sort(function(e,t){return i[e]-i[t]}),l=0,s=0,c=[],u=[];for(t=0;t<r;++t)n=a[t],l<s?(l+=o[n],c.push(n)):(s+=o[n],u.push(n));return u.reverse().concat(c)},reverse:function(e){return la.range(e.length).reverse()},default:mi}),Es=la.map({silhouette:function(e){var t,n,r,i=e.length,o=e[0].length,a=[],l=0,s=[];for(n=0;n<o;++n){for(t=0,r=0;t<i;t++)r+=e[t][n][1];r>l&&(l=r),a.push(r)}for(n=0;n<o;++n)s[n]=(l-a[n])/2;return s},wiggle:function(e){var t,n,r,i,o,a,l,s,c,u=e.length,d=e[0],f=d.length,m=[];for(m[0]=s=c=0,n=1;n<f;++n){for(t=0,i=0;t<u;++t)i+=e[t][n][1];for(t=0,o=0,l=d[n][0]-d[n-1][0];t<u;++t){for(r=0,a=(e[t][n][1]-e[t][n-1][1])/(2*l);r<t;++r)a+=(e[r][n][1]-e[r][n-1][1])/l;o+=a*e[t][n][1]}m[n]=s-=i?o/i*l:0,s<c&&(c=s)}for(n=0;n<f;++n)m[n]-=c;return m},expand:function(e){var t,n,r,i=e.length,o=e[0].length,a=1/i,l=[];for(n=0;n<o;++n){for(t=0,r=0;t<i;t++)r+=e[t][n][1];if(r)for(t=0;t<i;t++)e[t][n][1]/=r;else for(t=0;t<i;t++)e[t][n][1]=a}for(n=0;n<o;++n)l[n]=0;return l},zero:pi});la.layout.histogram=function(){function e(e,o){for(var a,l,s=[],c=e.map(n,this),u=r.call(this,c,o),d=i.call(this,u,c,o),o=-1,f=c.length,m=d.length-1,p=t?1:1/f;++o<m;)a=s[o]=[],a.dx=d[o+1]-(a.x=d[o]),a.y=0;if(m>0)for(o=-1;++o<f;)l=c[o],l>=u[0]&&l<=u[1]&&(a=s[la.bisect(d,l,1,m)-1],a.y+=p,a.push(e[o]));return s}var t=!0,n=Number,r=Ei,i=bi;return e.value=function(t){return arguments.length?(n=t,e):n},e.range=function(t){return arguments.length?(r=Oe(t),e):r},e.bins=function(t){return arguments.length?(i="number"==typeof t?function(e){return yi(e,t)}:Oe(t),e):i},e.frequency=function(n){return arguments.length?(t=!!n,e):t},e},la.layout.pack=function(){function e(e,o){var a=n.call(this,e,o),l=a[0],s=i[0],c=i[1],u=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(l.x=l.y=0,oi(l,function(e){e.r=+u(e.value)}),oi(l,Ti),r){var d=r*(t?1:Math.max(2*l.r/s,2*l.r/c))/2;oi(l,function(e){e.r+=d}),oi(l,Ti),oi(l,function(e){e.r-=d})}return xi(l,s/2,c/2,t?1:1/Math.max(2*l.r/s,2*l.r/c)),a}var t,n=la.layout.hierarchy().sort(Si),r=0,i=[1,1];return e.size=function(t){return arguments.length?(i=t,e):i},e.radius=function(n){return arguments.length?(t=null==n||"function"==typeof n?n:+n,e):t},e.padding=function(t){return arguments.length?(r=+t,e):r},ri(e,n)},la.layout.tree=function(){function e(e,i){var u=a.call(this,e,i),d=u[0],f=t(d);if(oi(f,n),f.parent.m=-f.z,ii(f,r),c)ii(d,o);else{var m=d,p=d,g=d;ii(d,function(e){e.x<m.x&&(m=e),e.x>p.x&&(p=e),e.depth>g.depth&&(g=e)});var v=l(m,p)/2-m.x,h=s[0]/(p.x+l(p,m)/2+v),b=s[1]/(g.depth||1);ii(d,function(e){e.x=(e.x+v)*h,e.y=e.depth*b})}return u}function t(e){for(var t,n={A:null,children:[e]},r=[n];null!=(t=r.pop());)for(var i,o=t.children,a=0,l=o.length;a<l;++a)r.push((o[a]=i={_:o[a],parent:t,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}function n(e){var t=e.children,n=e.parent.children,r=e.i?n[e.i-1]:null;if(t.length){Li(e);var o=(t[0].z+t[t.length-1].z)/2;r?(e.z=r.z+l(e._,r._),e.m=e.z-o):e.z=o}else r&&(e.z=r.z+l(e._,r._));e.parent.A=i(e,r,e.parent.A||n[0])}function r(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function i(e,t,n){if(t){for(var r,i=e,o=e,a=t,s=i.parent.children[0],c=i.m,u=o.m,d=a.m,f=s.m;a=Ri(a),i=Oi(i),a&&i;)s=Oi(s),o=Ri(o),o.a=e,r=a.z+d-i.z-c+l(a._,i._),r>0&&(Ni(Pi(a,e,n),e,r),c+=r,u+=r),d+=a.m,c+=i.m,f+=s.m,u+=o.m;a&&!Ri(o)&&(o.t=a,o.m+=d-u),i&&!Oi(s)&&(s.t=i,s.m+=c-f,n=e)}return n}function o(e){e.x*=s[0],e.y=e.depth*s[1]}var a=la.layout.hierarchy().sort(null).value(null),l=Mi,s=[1,1],c=null;return e.separation=function(t){return arguments.length?(l=t,e):l},e.size=function(t){return arguments.length?(c=null==(s=t)?o:null,e):c?null:s},e.nodeSize=function(t){return arguments.length?(c=null==(s=t)?null:o,e):c?s:null},ri(e,a)},la.layout.cluster=function(){function e(e,o){var a,l=t.call(this,e,o),s=l[0],c=0;oi(s,function(e){var t=e.children;t&&t.length?(e.x=Gi(t),e.y=ki(t)):(e.x=a?c+=n(e,a):0,e.y=0,a=e)});var u=Fi(s),d=Ui(s),f=u.x-n(u,d)/2,m=d.x+n(d,u)/2;return oi(s,i?function(e){e.x=(e.x-s.x)*r[0],e.y=(s.y-e.y)*r[1]}:function(e){e.x=(e.x-f)/(m-f)*r[0],e.y=(1-(s.y?e.y/s.y:1))*r[1]}),l}var t=la.layout.hierarchy().sort(null).value(null),n=Mi,r=[1,1],i=!1;return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(i=null==(r=t),e):i?null:r},e.nodeSize=function(t){return arguments.length?(i=null!=(r=t),e):i?r:null},ri(e,t)},la.layout.treemap=function(){function e(e,t){for(var n,r,i=-1,o=e.length;++i<o;)r=(n=e[i]).value*(t<0?0:t),n.area=isNaN(r)||r<=0?0:r}function t(n){var o=n.children;if(o&&o.length){var a,l,s,c=d(n),u=[],f=o.slice(),p=1/0,g="slice"===m?c.dx:"dice"===m?c.dy:"slice-dice"===m?1&n.depth?c.dy:c.dx:Math.min(c.dx,c.dy);for(e(f,c.dx*c.dy/n.value),u.area=0;(s=f.length)>0;)u.push(a=f[s-1]),u.area+=a.area,"squarify"!==m||(l=r(u,g))<=p?(f.pop(),p=l):(u.area-=u.pop().area,i(u,g,c,!1),g=Math.min(c.dx,c.dy),u.length=u.area=0,p=1/0);u.length&&(i(u,g,c,!0),u.length=u.area=0),o.forEach(t)}}function n(t){var r=t.children;if(r&&r.length){var o,a=d(t),l=r.slice(),s=[];for(e(l,a.dx*a.dy/t.value),s.area=0;o=l.pop();)s.push(o),s.area+=o.area,null!=o.z&&(i(s,o.z?a.dx:a.dy,a,!l.length),s.length=s.area=0);r.forEach(n)}}function r(e,t){for(var n,r=e.area,i=0,o=1/0,a=-1,l=e.length;++a<l;)(n=e[a].area)&&(n<o&&(o=n),n>i&&(i=n));return r*=r,t*=t,r?Math.max(t*i*p/r,r/(t*o*p)):1/0}function i(e,t,n,r){var i,o=-1,a=e.length,l=n.x,c=n.y,u=t?s(e.area/t):0;if(t==n.dx){for((r||u>n.dy)&&(u=n.dy);++o<a;)i=e[o],i.x=l,i.y=c,i.dy=u,l+=i.dx=Math.min(n.x+n.dx-l,u?s(i.area/u):0);i.z=!0,i.dx+=n.x+n.dx-l,n.y+=u,n.dy-=u}else{for((r||u>n.dx)&&(u=n.dx);++o<a;)i=e[o],i.x=l,i.y=c,i.dx=u,c+=i.dy=Math.min(n.y+n.dy-c,u?s(i.area/u):0);i.z=!1,i.dy+=n.y+n.dy-c,n.x+=u,n.dx-=u}}function o(r){var i=a||l(r),o=i[0];return o.x=0,o.y=0,o.dx=c[0],o.dy=c[1],a&&l.revalue(o),e([o],o.dx*o.dy/o.value),(a?n:t)(o),f&&(a=i),i}var a,l=la.layout.hierarchy(),s=Math.round,c=[1,1],u=null,d=Vi,f=!1,m="squarify",p=.5*(1+Math.sqrt(5));return o.size=function(e){return arguments.length?(c=e,o):c},o.padding=function(e){function t(t){var n=e.call(o,t,t.depth);return null==n?Vi(t):Bi(t,"number"==typeof n?[n,n,n,n]:n)}function n(t){return Bi(t,e)}if(!arguments.length)return u;var r;return d=null==(u=e)?Vi:"function"==(r=typeof e)?t:"number"===r?(e=[e,e,e,e],n):n,o},o.round=function(e){return arguments.length?(s=e?Math.round:Number,o):s!=Number},o.sticky=function(e){return arguments.length?(f=e,a=null,o):f},o.ratio=function(e){return arguments.length?(p=e,o):p},o.mode=function(e){return arguments.length?(m=e+"",o):m},ri(o,l)},la.random={normal:function(e,t){var n=arguments.length;return n<2&&(t=1),n<1&&(e=0),function(){var n,r,i;do n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r;while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var e=la.random.normal.apply(la,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=la.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t}}},la.scale={};var Ss={floor:w,ceil:w};la.scale.linear=function(){return Yi([0,1],[0,1],wr,!1)};var _s={s:1,g:1,p:1,r:1,e:1};la.scale.log=function(){return no(la.scale.linear().domain([0,1]),10,!0,[1,10])};var ws=la.format(".0e"),As={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};la.scale.pow=function(){return ro(la.scale.linear(),1,[0,1])},la.scale.sqrt=function(){return la.scale.pow().exponent(.5)},la.scale.ordinal=function(){return oo([],{t:"range",a:[[]]})},la.scale.category10=function(){return la.scale.ordinal().range(Ts)},la.scale.category20=function(){return la.scale.ordinal().range(Is)},la.scale.category20b=function(){return la.scale.ordinal().range(Cs)},la.scale.category20c=function(){return la.scale.ordinal().range(xs)};var Ts=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Ae),Is=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Ae),Cs=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Ae),xs=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Ae);la.scale.quantile=function(){return ao([],[])},la.scale.quantize=function(){return lo(0,1,[0,1])},la.scale.threshold=function(){return so([.5],[0,1])},la.scale.identity=function(){return co([0,1])},la.svg={},la.svg.arc=function(){function e(){var e=Math.max(0,+n.apply(this,arguments)),c=Math.max(0,+r.apply(this,arguments)),u=a.apply(this,arguments)-Fa,d=l.apply(this,arguments)-Fa,f=Math.abs(d-u),m=u>d?0:1;if(c<e&&(p=c,c=e,e=p),f>=Ga)return t(c,m)+(e?t(e,1-m):"")+"Z";var p,g,v,h,b,y,E,S,_,w,A,T,I=0,C=0,x=[];if((h=(+s.apply(this,arguments)||0)/2)&&(v=o===Ds?Math.sqrt(e*e+c*c):+o.apply(this,arguments),m||(C*=-1),c&&(C=ae(v/c*Math.sin(h))),e&&(I=ae(v/e*Math.sin(h)))),c){b=c*Math.cos(u+C),y=c*Math.sin(u+C),E=c*Math.cos(d-C),S=c*Math.sin(d-C);var D=Math.abs(d-u-2*C)<=Pa?0:1;if(C&&ho(b,y,E,S)===m^D){var M=(u+d)/2;b=c*Math.cos(M),y=c*Math.sin(M),E=S=null}}else b=y=0;if(e){_=e*Math.cos(d-I),w=e*Math.sin(d-I),A=e*Math.cos(u+I),T=e*Math.sin(u+I);var O=Math.abs(u-d+2*I)<=Pa?0:1;if(I&&ho(_,w,A,T)===1-m^O){var R=(u+d)/2;_=e*Math.cos(R),w=e*Math.sin(R),A=T=null}}else _=w=0;if((p=Math.min(Math.abs(c-e)/2,+i.apply(this,arguments)))>.001){g=e<c^m?0:1;var N=null==A?[_,w]:null==E?[b,y]:Fn([b,y],[A,T],[E,S],[_,w]),L=b-N[0],P=y-N[1],k=E-N[0],G=S-N[1],F=1/Math.sin(Math.acos((L*k+P*G)/(Math.sqrt(L*L+P*P)*Math.sqrt(k*k+G*G)))/2),U=Math.sqrt(N[0]*N[0]+N[1]*N[1]);if(null!=E){var V=Math.min(p,(c-U)/(F+1)),B=bo(null==A?[_,w]:[A,T],[b,y],c,V,m),z=bo([E,S],[_,w],c,V,m);p===V?x.push("M",B[0],"A",V,",",V," 0 0,",g," ",B[1],"A",c,",",c," 0 ",1-m^ho(B[1][0],B[1][1],z[1][0],z[1][1]),",",m," ",z[1],"A",V,",",V," 0 0,",g," ",z[0]):x.push("M",B[0],"A",V,",",V," 0 1,",g," ",z[0])}else x.push("M",b,",",y);if(null!=A){var $=Math.min(p,(e-U)/(F-1)),W=bo([b,y],[A,T],e,-$,m),H=bo([_,w],null==E?[b,y]:[E,S],e,-$,m);p===$?x.push("L",H[0],"A",$,",",$," 0 0,",g," ",H[1],"A",e,",",e," 0 ",m^ho(H[1][0],H[1][1],W[1][0],W[1][1]),",",1-m," ",W[1],"A",$,",",$," 0 0,",g," ",W[0]):x.push("L",H[0],"A",$,",",$," 0 0,",g," ",W[0])}else x.push("L",_,",",w)}else x.push("M",b,",",y),null!=E&&x.push("A",c,",",c," 0 ",D,",",m," ",E,",",S),x.push("L",_,",",w),null!=A&&x.push("A",e,",",e," 0 ",O,",",1-m," ",A,",",T);return x.push("Z"),x.join("")}function t(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}var n=fo,r=mo,i=uo,o=Ds,a=po,l=go,s=vo;return e.innerRadius=function(t){return arguments.length?(n=Oe(t),e):n},e.outerRadius=function(t){return arguments.length?(r=Oe(t),e):r},e.cornerRadius=function(t){return arguments.length?(i=Oe(t),e):i},e.padRadius=function(t){return arguments.length?(o=t==Ds?Ds:Oe(t),e):o},e.startAngle=function(t){return arguments.length?(a=Oe(t),e):a},e.endAngle=function(t){return arguments.length?(l=Oe(t),e):l},e.padAngle=function(t){return arguments.length?(s=Oe(t),e):s},e.centroid=function(){var e=(+n.apply(this,arguments)+ +r.apply(this,arguments))/2,t=(+a.apply(this,arguments)+ +l.apply(this,arguments))/2-Fa;return[Math.cos(t)*e,Math.sin(t)*e]},e};var Ds="auto";la.svg.line=function(){return yo(w)};var Ms=la.map({linear:Eo,"linear-closed":So,step:_o,"step-before":wo,"step-after":Ao,basis:Mo,"basis-open":Oo,"basis-closed":Ro,bundle:No,cardinal:Co,"cardinal-open":To,"cardinal-closed":Io,monotone:Uo});Ms.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var Os=[0,2/3,1/3,0],Rs=[0,1/3,2/3,0],Ns=[0,1/6,2/3,1/6];la.svg.line.radial=function(){var e=yo(Vo);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},wo.reverse=Ao,Ao.reverse=wo,la.svg.area=function(){return Bo(w)},la.svg.area.radial=function(){var e=Bo(Vo);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},la.svg.chord=function(){function e(e,l){var s=t(this,o,e,l),c=t(this,a,e,l);return"M"+s.p0+r(s.r,s.p1,s.a1-s.a0)+(n(s,c)?i(s.r,s.p1,s.r,s.p0):i(s.r,s.p1,c.r,c.p0)+r(c.r,c.p1,c.a1-c.a0)+i(c.r,c.p1,s.r,s.p0))+"Z"}function t(e,t,n,r){var i=t.call(e,n,r),o=l.call(e,i,r),a=s.call(e,i,r)-Fa,u=c.call(e,i,r)-Fa;return{r:o,a0:a,a1:u,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(u),o*Math.sin(u)]}}function n(e,t){return e.a0==t.a0&&e.a1==t.a1}function r(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Pa)+",1 "+t}function i(e,t,n,r){return"Q 0,0 "+r}var o=wn,a=An,l=zo,s=po,c=go;return e.radius=function(t){return arguments.length?(l=Oe(t),e):l},e.source=function(t){return arguments.length?(o=Oe(t),e):o},e.target=function(t){return arguments.length?(a=Oe(t),e):a},e.startAngle=function(t){return arguments.length?(s=Oe(t),e):s},e.endAngle=function(t){return arguments.length?(c=Oe(t),e):c},e},la.svg.diagonal=function(){function e(e,i){var o=t.call(this,e,i),a=n.call(this,e,i),l=(o.y+a.y)/2,s=[o,{x:o.x,y:l},{x:a.x,y:l},a];return s=s.map(r),"M"+s[0]+"C"+s[1]+" "+s[2]+" "+s[3]}var t=wn,n=An,r=$o;return e.source=function(n){return arguments.length?(t=Oe(n),e):t},e.target=function(t){return arguments.length?(n=Oe(t),e):n},e.projection=function(t){return arguments.length?(r=t,e):r},e},la.svg.diagonal.radial=function(){var e=la.svg.diagonal(),t=$o,n=e.projection;return e.projection=function(e){return arguments.length?n(Wo(t=e)):t},e},la.svg.symbol=function(){function e(e,r){return(Ls.get(t.call(this,e,r))||qo)(n.call(this,e,r))}var t=jo,n=Ho;return e.type=function(n){return arguments.length?(t=Oe(n),e):t},e.size=function(t){return arguments.length?(n=Oe(t),e):n},e};var Ls=la.map({circle:qo,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*ks)),n=t*ks;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Ps),n=t*Ps/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/Ps),n=t*Ps/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});la.svg.symbolTypes=Ls.keys();var Ps=Math.sqrt(3),ks=Math.tan(30*Ua);Ia.transition=function(e){for(var t,n,r=Gs||++Bs,i=Xo(e),o=[],a=Fs||{time:Date.now(),ease:Mr,delay:0,duration:250},l=-1,s=this.length;++l<s;){o.push(t=[]);for(var c=this[l],u=-1,d=c.length;++u<d;)(n=c[u])&&Jo(n,u,i,r,a),t.push(n)}return Ko(o,i,r)},Ia.interrupt=function(e){return this.each(null==e?Us:Yo(Xo(e)))};var Gs,Fs,Us=Yo(Xo()),Vs=[],Bs=0;Vs.call=Ia.call,Vs.empty=Ia.empty,Vs.node=Ia.node,Vs.size=Ia.size,la.transition=function(e,t){return e&&e.transition?Gs?e.transition(t):e:la.selection().transition(e)},la.transition.prototype=Vs,Vs.select=function(e){var t,n,r,i=this.id,o=this.namespace,a=[];e=N(e);for(var l=-1,s=this.length;++l<s;){a.push(t=[]);for(var c=this[l],u=-1,d=c.length;++u<d;)(r=c[u])&&(n=e.call(r,r.__data__,u,l))?("__data__"in r&&(n.__data__=r.__data__),Jo(n,u,o,i,r[o][i]),t.push(n)):t.push(null)}return Ko(a,o,i)},Vs.selectAll=function(e){var t,n,r,i,o,a=this.id,l=this.namespace,s=[];e=L(e);for(var c=-1,u=this.length;++c<u;)for(var d=this[c],f=-1,m=d.length;++f<m;)if(r=d[f]){o=r[l][a],n=e.call(r,r.__data__,f,c),s.push(t=[]);for(var p=-1,g=n.length;++p<g;)(i=n[p])&&Jo(i,p,l,a,o),t.push(i)}return Ko(s,l,a)},Vs.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=j(e));for(var o=0,a=this.length;o<a;o++){i.push(t=[]);for(var n=this[o],l=0,s=n.length;l<s;l++)(r=n[l])&&e.call(r,r.__data__,l,o)&&t.push(r)}return Ko(i,this.namespace,this.id)},Vs.tween=function(e,t){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(e):Y(this,null==t?function(t){t[r][n].tween.remove(e)}:function(i){i[r][n].tween.set(e,t)})},Vs.attr=function(e,t){function n(){this.removeAttribute(l)}function r(){this.removeAttributeNS(l.space,l.local)}function i(e){return null==e?n:(e+="",function(){var t,n=this.getAttribute(l);return n!==e&&(t=a(n,e),function(e){this.setAttribute(l,t(e))})})}function o(e){return null==e?r:(e+="",function(){var t,n=this.getAttributeNS(l.space,l.local);return n!==e&&(t=a(n,e),function(e){this.setAttributeNS(l.space,l.local,t(e))})})}if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var a="transform"==e?jr:wr,l=la.ns.qualify(e);return Qo(this,"attr."+e,t,l.local?o:i)},Vs.attrTween=function(e,t){function n(e,n){var r=t.call(this,e,n,this.getAttribute(i));return r&&function(e){this.setAttribute(i,r(e))}}function r(e,n){var r=t.call(this,e,n,this.getAttributeNS(i.space,i.local));return r&&function(e){this.setAttributeNS(i.space,i.local,r(e))}}var i=la.ns.qualify(e);return this.tween("attr."+e,i.local?r:n)},Vs.style=function(e,t,n){function r(){this.style.removeProperty(e)}function i(t){return null==t?r:(t+="",function(){var r,i=a(this).getComputedStyle(this,null).getPropertyValue(e);return i!==t&&(r=wr(i,t),function(t){this.style.setProperty(e,r(t),n)})})}var o=arguments.length;if(o<3){if("string"!=typeof e){o<2&&(t="");for(n in e)this.style(n,e[n],t);return this}n=""}return Qo(this,"style."+e,t,i)},Vs.styleTween=function(e,t,n){function r(r,i){var o=t.call(this,r,i,a(this).getComputedStyle(this,null).getPropertyValue(e));return o&&function(t){this.style.setProperty(e,o(t),n)}}return arguments.length<3&&(n=""),this.tween("style."+e,r)},Vs.text=function(e){return Qo(this,"text",e,Zo)},Vs.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Vs.ease=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].ease:("function"!=typeof e&&(e=la.ease.apply(la,arguments)),Y(this,function(r){r[n][t].ease=e}))},Vs.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:Y(this,"function"==typeof e?function(r,i,o){r[n][t].delay=+e.call(r,r.__data__,i,o)}:(e=+e,function(r){r[n][t].delay=e}))},Vs.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:Y(this,"function"==typeof e?function(r,i,o){r[n][t].duration=Math.max(1,e.call(r,r.__data__,i,o))}:(e=Math.max(1,e),function(r){r[n][t].duration=e}))},Vs.each=function(e,t){var n=this.id,r=this.namespace;if(arguments.length<2){var i=Fs,o=Gs;try{Gs=n,Y(this,function(t,i,o){Fs=t[r][n],e.call(t,t.__data__,i,o)})}finally{Fs=i,Gs=o}}else Y(this,function(i){var o=i[r][n];(o.event||(o.event=la.dispatch("start","end","interrupt"))).on(e,t)});return this},Vs.transition=function(){
for(var e,t,n,r,i=this.id,o=++Bs,a=this.namespace,l=[],s=0,c=this.length;s<c;s++){l.push(e=[]);for(var t=this[s],u=0,d=t.length;u<d;u++)(n=t[u])&&(r=n[a][i],Jo(n,u,a,o,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),e.push(n)}return Ko(l,a,o)},la.svg.axis=function(){function e(e){e.each(function(){var e,c=la.select(this),u=this.__chart__||n,d=this.__chart__=n.copy(),f=null==s?d.ticks?d.ticks.apply(d,l):d.domain():s,m=null==t?d.tickFormat?d.tickFormat.apply(d,l):w:t,p=c.selectAll(".tick").data(f,d),g=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Na),v=la.transition(p.exit()).style("opacity",Na).remove(),h=la.transition(p.order()).style("opacity",1),b=Math.max(i,0)+a,y=$i(d),E=c.selectAll(".domain").data([0]),S=(E.enter().append("path").attr("class","domain"),la.transition(E));g.append("line"),g.append("text");var _,A,T,I,C=g.select("line"),x=h.select("line"),D=p.select("text").text(m),M=g.select("text"),O=h.select("text"),R="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(e=ea,_="x",T="y",A="x2",I="y2",D.attr("dy",R<0?"0em":".71em").style("text-anchor","middle"),S.attr("d","M"+y[0]+","+R*o+"V0H"+y[1]+"V"+R*o)):(e=ta,_="y",T="x",A="y2",I="x2",D.attr("dy",".32em").style("text-anchor",R<0?"end":"start"),S.attr("d","M"+R*o+","+y[0]+"H0V"+y[1]+"H"+R*o)),C.attr(I,R*i),M.attr(T,R*b),x.attr(A,0).attr(I,R*i),O.attr(_,0).attr(T,R*b),d.rangeBand){var N=d,L=N.rangeBand()/2;u=d=function(e){return N(e)+L}}else u.rangeBand?u=d:v.call(e,d,u);g.call(e,u,d),h.call(e,d,d)})}var t,n=la.scale.linear(),r=zs,i=6,o=6,a=3,l=[10],s=null;return e.scale=function(t){return arguments.length?(n=t,e):n},e.orient=function(t){return arguments.length?(r=t in $s?t+"":zs,e):r},e.ticks=function(){return arguments.length?(l=arguments,e):l},e.tickValues=function(t){return arguments.length?(s=t,e):s},e.tickFormat=function(n){return arguments.length?(t=n,e):t},e.tickSize=function(t){var n=arguments.length;return n?(i=+t,o=+arguments[n-1],e):i},e.innerTickSize=function(t){return arguments.length?(i=+t,e):i},e.outerTickSize=function(t){return arguments.length?(o=+t,e):o},e.tickPadding=function(t){return arguments.length?(a=+t,e):a},e.tickSubdivide=function(){return arguments.length&&e},e};var zs="bottom",$s={top:1,right:1,bottom:1,left:1};la.svg.brush=function(){function e(o){o.each(function(){var o=la.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),a=o.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),o.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var l=o.selectAll(".resize").data(g,w);l.exit().remove(),l.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Ws[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),l.style("display",e.empty()?"none":null);var s,d=la.transition(o),f=la.transition(a);c&&(s=$i(c),f.attr("x",s[0]).attr("width",s[1]-s[0]),n(d)),u&&(s=$i(u),f.attr("y",s[0]).attr("height",s[1]-s[0]),r(d)),t(d)})}function t(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+d[+/e$/.test(e)]+","+f[+/^s/.test(e)]+")"})}function n(e){e.select(".extent").attr("x",d[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",d[1]-d[0])}function r(e){e.select(".extent").attr("y",f[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",f[1]-f[0])}function i(){function i(){32==la.event.keyCode&&(x||(y=null,O[0]-=d[1],O[1]-=f[1],x=2),D())}function g(){32==la.event.keyCode&&2==x&&(O[0]+=d[1],O[1]+=f[1],x=0,D())}function v(){var e=la.mouse(S),i=!1;E&&(e[0]+=E[0],e[1]+=E[1]),x||(la.event.altKey?(y||(y=[(d[0]+d[1])/2,(f[0]+f[1])/2]),O[0]=d[+(e[0]<y[0])],O[1]=f[+(e[1]<y[1])]):y=null),I&&h(e,c,0)&&(n(A),i=!0),C&&h(e,u,1)&&(r(A),i=!0),i&&(t(A),w({type:"brush",mode:x?"move":"resize"}))}function h(e,t,n){var r,i,a=$i(t),s=a[0],c=a[1],u=O[n],g=n?f:d,v=g[1]-g[0];if(x&&(s-=u,c-=v+u),r=(n?p:m)?Math.max(s,Math.min(c,e[n])):e[n],x?i=(r+=u)+v:(y&&(u=Math.max(s,Math.min(c,2*y[n]-r))),u<r?(i=r,r=u):i=u),g[0]!=r||g[1]!=i)return n?l=null:o=null,g[0]=r,g[1]=i,!0}function b(){v(),A.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null),la.select("body").style("cursor",null),R.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),M(),w({type:"brushend"})}var y,E,S=this,_=la.select(la.event.target),w=s.of(S,arguments),A=la.select(S),T=_.datum(),I=!/^(n|s)$/.test(T)&&c,C=!/^(e|w)$/.test(T)&&u,x=_.classed("extent"),M=ee(S),O=la.mouse(S),R=la.select(a(S)).on("keydown.brush",i).on("keyup.brush",g);if(la.event.changedTouches?R.on("touchmove.brush",v).on("touchend.brush",b):R.on("mousemove.brush",v).on("mouseup.brush",b),A.interrupt().selectAll("*").interrupt(),x)O[0]=d[0]-O[0],O[1]=f[0]-O[1];else if(T){var N=+/w$/.test(T),L=+/^n/.test(T);E=[d[1-N]-O[0],f[1-L]-O[1]],O[0]=d[N],O[1]=f[L]}else la.event.altKey&&(y=O.slice());A.style("pointer-events","none").selectAll(".resize").style("display",null),la.select("body").style("cursor",_.style("cursor")),w({type:"brushstart"}),v()}var o,l,s=O(e,"brushstart","brush","brushend"),c=null,u=null,d=[0,0],f=[0,0],m=!0,p=!0,g=Hs[0];return e.event=function(e){e.each(function(){var e=s.of(this,arguments),t={x:d,y:f,i:o,j:l},n=this.__chart__||t;this.__chart__=t,Gs?la.select(this).transition().each("start.brush",function(){o=n.i,l=n.j,d=n.x,f=n.y,e({type:"brushstart"})}).tween("brush:brush",function(){var n=Ar(d,t.x),r=Ar(f,t.y);return o=l=null,function(i){d=t.x=n(i),f=t.y=r(i),e({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=t.i,l=t.j,e({type:"brush",mode:"resize"}),e({type:"brushend"})}):(e({type:"brushstart"}),e({type:"brush",mode:"resize"}),e({type:"brushend"}))})},e.x=function(t){return arguments.length?(c=t,g=Hs[!c<<1|!u],e):c},e.y=function(t){return arguments.length?(u=t,g=Hs[!c<<1|!u],e):u},e.clamp=function(t){return arguments.length?(c&&u?(m=!!t[0],p=!!t[1]):c?m=!!t:u&&(p=!!t),e):c&&u?[m,p]:c?m:u?p:null},e.extent=function(t){var n,r,i,a,s;return arguments.length?(c&&(n=t[0],r=t[1],u&&(n=n[0],r=r[0]),o=[n,r],c.invert&&(n=c(n),r=c(r)),r<n&&(s=n,n=r,r=s),n==d[0]&&r==d[1]||(d=[n,r])),u&&(i=t[0],a=t[1],c&&(i=i[1],a=a[1]),l=[i,a],u.invert&&(i=u(i),a=u(a)),a<i&&(s=i,i=a,a=s),i==f[0]&&a==f[1]||(f=[i,a])),e):(c&&(o?(n=o[0],r=o[1]):(n=d[0],r=d[1],c.invert&&(n=c.invert(n),r=c.invert(r)),r<n&&(s=n,n=r,r=s))),u&&(l?(i=l[0],a=l[1]):(i=f[0],a=f[1],u.invert&&(i=u.invert(i),a=u.invert(a)),a<i&&(s=i,i=a,a=s))),c&&u?[[n,i],[r,a]]:c?[n,r]:u&&[i,a])},e.clear=function(){return e.empty()||(d=[0,0],f=[0,0],o=l=null),e},e.empty=function(){return!!c&&d[0]==d[1]||!!u&&f[0]==f[1]},la.rebind(e,s,"on")};var Ws={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Hs=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],js=dl.format=hl.timeFormat,qs=js.utc,Ys=qs("%Y-%m-%dT%H:%M:%S.%LZ");js.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?na:Ys,na.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},na.toString=Ys.toString,dl.second=We(function(e){return new fl(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),dl.seconds=dl.second.range,dl.seconds.utc=dl.second.utc.range,dl.minute=We(function(e){return new fl(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),dl.minutes=dl.minute.range,dl.minutes.utc=dl.minute.utc.range,dl.hour=We(function(e){var t=e.getTimezoneOffset()/60;return new fl(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),dl.hours=dl.hour.range,dl.hours.utc=dl.hour.utc.range,dl.month=We(function(e){return e=dl.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),dl.months=dl.month.range,dl.months.utc=dl.month.utc.range;var Ks=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Qs=[[dl.second,1],[dl.second,5],[dl.second,15],[dl.second,30],[dl.minute,1],[dl.minute,5],[dl.minute,15],[dl.minute,30],[dl.hour,1],[dl.hour,3],[dl.hour,6],[dl.hour,12],[dl.day,1],[dl.day,2],[dl.week,1],[dl.month,1],[dl.month,3],[dl.year,1]],Zs=js.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",Nt]]),Xs={range:function(e,t,n){return la.range(Math.ceil(e/n)*n,+t,n).map(ia)},floor:w,ceil:w};Qs.year=dl.year,dl.scale=function(){return ra(la.scale.linear(),Qs,Zs)};var Js=Qs.map(function(e){return[e[0].utc,e[1]]}),ec=qs.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",Nt]]);Js.year=dl.year.utc,dl.scale.utc=function(){return ra(la.scale.linear(),Js,ec)},la.text=Re(function(e){return e.responseText}),la.json=function(e,t){return Ne(e,"application/json",oa,t)},la.html=function(e,t){return Ne(e,"text/html",aa,t)},la.xml=Re(function(e){return e.responseXML}),r=la,i="function"==typeof r?r.call(t,n,t,e):r,!(void 0!==i&&(e.exports=i)),this.d3=la}()},function(e,t,n){!function(){var t={};t.dev=!1,t.tooltip=t.tooltip||{},t.utils=t.utils||{},t.models=t.models||{},t.charts={},t.logs={},t.dom={},t.dispatch=d3.dispatch("render_start","render_end"),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),t.dev&&(t.dispatch.on("render_start",function(e){t.logs.startTime=+new Date}),t.dispatch.on("render_end",function(e){t.logs.endTime=+new Date,t.logs.totalTime=t.logs.endTime-t.logs.startTime,t.log("total",t.logs.totalTime)})),t.log=function(){if(t.dev&&window.console&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(t.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind){var e=Function.prototype.bind.call(console.log,console);e.apply(console,arguments)}return arguments[arguments.length-1]},t.deprecated=function(e,t){console&&console.warn&&console.warn("nvd3 warning: `"+e+"` has been deprecated. ",t||"")},t.render=function(e){e=e||1,t.render.active=!0,t.dispatch.render_start();var n=function(){for(var r,i,o=0;o<e&&(i=t.render.queue[o]);o++)r=i.generate(),typeof i.callback==typeof Function&&i.callback(r);t.render.queue.splice(0,o),t.render.queue.length?setTimeout(n):(t.dispatch.render_end(),t.render.active=!1)};setTimeout(n)},t.render.active=!1,t.render.queue=[],t.addGraph=function(e){typeof arguments[0]==typeof Function&&(e={generate:arguments[0],callback:arguments[1]}),t.render.queue.push(e),t.render.active||t.render()},e.exports=t,"undefined"!=typeof window&&(window.nv=t),t.dom.write=function(e){return void 0!==window.fastdom?fastdom.write(e):e()},t.dom.read=function(e){return void 0!==window.fastdom?fastdom.read(e):e()},t.interactiveGuideline=function(){"use strict";function e(d){d.each(function(d){function f(){var t=d3.mouse(this),r=t[0],i=t[1],s=!0,c=!1;if(u&&(r=d3.event.offsetX,i=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(s=!1),d3.event.target.className.baseVal.match("nv-legend")&&(c=!0)),s&&(r-=o.left,i-=o.top),r<0||i<0||r>p||i>g||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||c){if(u&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&(void 0===d3.event.relatedTarget.className||d3.event.relatedTarget.className.match(n.nvPointerEventsClass)))return;return l.elementMouseout({mouseX:r,mouseY:i}),e.renderGuideLine(null),void n.hidden(!0)}n.hidden(!1);var d=a.invert(r);l.elementMousemove({mouseX:r,mouseY:i,pointXValue:d}),"dblclick"===d3.event.type&&l.elementDblclick({mouseX:r,mouseY:i,pointXValue:d}),"click"===d3.event.type&&l.elementClick({mouseX:r,mouseY:i,pointXValue:d})}var m=d3.select(this),p=r||960,g=i||400,v=m.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([d]),h=v.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer");h.append("g").attr("class","nv-interactiveGuideLine"),c&&(c.on("touchmove",f).on("mousemove",f,!0).on("mouseout",f,!0).on("dblclick",f).on("click",f),e.guideLine=null,e.renderGuideLine=function(n){s&&(e.guideLine&&e.guideLine.attr("x1")===n||t.dom.write(function(){var e=v.select(".nv-interactiveGuideLine").selectAll("line").data(null!=n?[t.utils.NaNtoZero(n)]:[],String);e.enter().append("line").attr("class","nv-guideline").attr("x1",function(e){return e}).attr("x2",function(e){return e}).attr("y1",g).attr("y2",0),e.exit().remove()}))})})}var n=t.models.tooltip();n.duration(0).hideDelay(0)._isInteractiveLayer(!0).hidden(!1);var r=null,i=null,o={left:0,top:0},a=d3.scale.linear(),l=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick"),s=!0,c=null,u="ActiveXObject"in window;return e.dispatch=l,e.tooltip=n,e.margin=function(t){return arguments.length?(o.top="undefined"!=typeof t.top?t.top:o.top,o.left="undefined"!=typeof t.left?t.left:o.left,e):o},e.width=function(t){return arguments.length?(r=t,e):r},e.height=function(t){return arguments.length?(i=t,e):i},e.xScale=function(t){return arguments.length?(a=t,e):a},e.showGuideLine=function(t){return arguments.length?(s=t,e):s},e.svgContainer=function(t){return arguments.length?(c=t,e):c},e},t.interactiveBisect=function(e,t,n){"use strict";if(!(e instanceof Array))return null;var r;r="function"!=typeof n?function(e){return e.x}:n;var i=function(e,t){return r(e)-t},o=d3.bisector(i).left,a=d3.max([0,o(e,t)-1]),l=r(e[a]);if("undefined"==typeof l&&(l=a),l===t)return a;var s=d3.min([a+1,e.length-1]),c=r(e[s]);return"undefined"==typeof c&&(c=s),Math.abs(c-t)>=Math.abs(l-t)?a:s},t.nearestValueIndex=function(e,t,n){"use strict";var r=1/0,i=null;return e.forEach(function(e,o){var a=Math.abs(t-e);null!=e&&a<=r&&a<n&&(r=a,i=o)}),i},function(){"use strict";t.models.tooltip=function(){function e(){if(u){var e=d3.select(u);"svg"!==e.node().tagName&&(e=e.select("svg"));var t=e.node()?e.attr("viewBox"):null;if(t){t=t.split(" ");var n=parseInt(e.style("width"),10)/t[2];g.left=g.left*n,g.top=g.top*n}}}function n(){if(!m){var e;e=u?u:document.body,m=d3.select(e).append("div").attr("class","nvtooltip "+(c?c:"xy-tooltip")).attr("id",S),m.style("top",0).style("left",0),m.style("opacity",0),m.selectAll("div, table, td, tr").classed(_,!0),m.classed(_,!0),p=m.node()}}function r(){if(h&&C(i)){e();var o=g.left,a=null!==s?s:g.top;return t.dom.write(function(){n();var e=I(i);e&&(p.innerHTML=e),u&&E?t.dom.read(function(){var e=u.getElementsByTagName("svg")[0],t={left:0,top:0};if(e){var n=e.getBoundingClientRect(),r=u.getBoundingClientRect(),i=n.top;if(i<0){var s=u.getBoundingClientRect();i=Math.abs(i)>s.height?0:i}t.top=Math.abs(i-r.top),t.left=Math.abs(n.left-r.left)}o+=u.offsetLeft+t.left-2*u.scrollLeft,a+=u.offsetTop+t.top-2*u.scrollTop,l&&l>0&&(a=Math.floor(a/l)*l),x([o,a])}):x([o,a])}),r}}var i=null,o="w",a=25,l=0,s=null,c=null,u=null,d=!0,f=400,m=null,p=null,g={left:null,top:null},v={left:0,top:0},h=!0,b=100,y=!0,E=!1,S="nvtooltip-"+Math.floor(1e5*Math.random()),_="nv-pointer-events-none",w=function(e,t){return e},A=function(e){return e},T=function(e,t){return e},I=function(e){if(null===e)return"";var t=d3.select(document.createElement("table"));if(y){var n=t.selectAll("thead").data([e]).enter().append("thead");n.append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(A(e.value))}var r=t.selectAll("tbody").data([e]).enter().append("tbody"),i=r.selectAll("tr").data(function(e){return e.series}).enter().append("tr").classed("highlight",function(e){return e.highlight});i.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(e){return e.color}),i.append("td").classed("key",!0).html(function(e,t){return T(e.key,t)}),i.append("td").classed("value",!0).html(function(e,t){return w(e.value,t)}),i.selectAll("td").each(function(e){if(e.highlight){var t=d3.scale.linear().domain([0,1]).range(["#fff",e.color]),n=.6;d3.select(this).style("border-bottom-color",t(n)).style("border-top-color",t(n))}});var o=t.node().outerHTML;return void 0!==e.footer&&(o+="<div class='footer'>"+e.footer+"</div>"),o},C=function(e){if(e&&e.series){if(e.series instanceof Array)return!!e.series.length;if(e.series instanceof Object)return e.series=[e.series],!0}return!1},x=function(e){p&&t.dom.read(function(){var n,r,i=parseInt(p.offsetHeight,10),l=parseInt(p.offsetWidth,10),s=t.utils.windowSize().width,c=t.utils.windowSize().height,u=window.pageYOffset,g=window.pageXOffset;c=window.innerWidth>=document.body.scrollWidth?c:c-16,s=window.innerHeight>=document.body.scrollHeight?s:s-16;var h,y,E=function(e){var t=r;do isNaN(e.offsetTop)||(t+=e.offsetTop),e=e.offsetParent;while(e);return t},S=function(e){var t=n;do isNaN(e.offsetLeft)||(t+=e.offsetLeft),e=e.offsetParent;while(e);return t};switch(o){case"e":n=e[0]-l-a,r=e[1]-i/2,h=S(p),y=E(p),h<g&&(n=e[0]+a>g?e[0]+a:g-h+n),y<u&&(r=u-y+r),y+i>u+c&&(r=u+c-y+r-i);break;case"w":n=e[0]+a,r=e[1]-i/2,h=S(p),y=E(p),h+l>s&&(n=e[0]-l-a),y<u&&(r=u+5),y+i>u+c&&(r=u+c-y+r-i);break;case"n":n=e[0]-l/2-5,r=e[1]+a,h=S(p),y=E(p),h<g&&(n=g+5),h+l>s&&(n=n-l/2+5),y+i>u+c&&(r=u+c-y+r-i);break;case"s":n=e[0]-l/2,r=e[1]-i-a,h=S(p),y=E(p),h<g&&(n=g+5),h+l>s&&(n=n-l/2+5),u>y&&(r=u);break;case"none":n=e[0],r=e[1]-a,h=S(p),y=E(p)}n-=v.left,r-=v.top;var _=p.getBoundingClientRect(),u=window.pageYOffset||document.documentElement.scrollTop,g=window.pageXOffset||document.documentElement.scrollLeft,w="translate("+(_.left+g)+"px, "+(_.top+u)+"px)",A="translate("+n+"px, "+r+"px)",T=d3.interpolateString(w,A),I=m.style("opacity")<.1;d?m.transition().delay(f).duration(0).style("opacity",0):m.interrupt().transition().duration(I?0:b).styleTween("transform",function(e){return T},"important").style("-webkit-transform",A).style("opacity",1)})};return r.nvPointerEventsClass=_,r.options=t.utils.optionsFunc.bind(r),r._options=Object.create({},{duration:{get:function(){return b},set:function(e){b=e}},gravity:{get:function(){return o},set:function(e){o=e}},distance:{get:function(){return a},set:function(e){a=e}},snapDistance:{get:function(){return l},set:function(e){l=e}},classes:{get:function(){return c},set:function(e){c=e}},chartContainer:{get:function(){return u},set:function(e){u=e}},fixedTop:{get:function(){return s},set:function(e){s=e}},enabled:{get:function(){return h},set:function(e){h=e}},hideDelay:{get:function(){return f},set:function(e){f=e}},contentGenerator:{get:function(){return I},set:function(e){I=e}},valueFormatter:{get:function(){return w},set:function(e){w=e}},headerFormatter:{get:function(){return A},set:function(e){A=e}},keyFormatter:{get:function(){return T},set:function(e){T=e}},headerEnabled:{get:function(){return y},set:function(e){y=e}},_isInteractiveLayer:{get:function(){return E},set:function(e){E=!!e}},position:{get:function(){return g},set:function(e){g.left=void 0!==e.left?e.left:g.left,g.top=void 0!==e.top?e.top:g.top}},offset:{get:function(){return v},set:function(e){v.left=void 0!==e.left?e.left:v.left,v.top=void 0!==e.top?e.top:v.top}},hidden:{get:function(){return d},set:function(e){d!=e&&(d=!!e,r())}},data:{get:function(){return i},set:function(e){e.point&&(e.value=e.point.x,e.series=e.series||{},e.series.value=e.point.y,e.series.color=e.point.color||e.series.color),i=e}},tooltipElem:{get:function(){return p},set:function(e){}},id:{get:function(){return S},set:function(e){}}}),t.utils.initOptions(r),r}}(),t.utils.windowSize=function(){var e={width:640,height:480};return window.innerWidth&&window.innerHeight?(e.width=window.innerWidth,e.height=window.innerHeight,e):"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?(e.width=document.documentElement.offsetWidth,e.height=document.documentElement.offsetHeight,e):document.body&&document.body.offsetWidth?(e.width=document.body.offsetWidth,e.height=document.body.offsetHeight,e):e},t.utils.windowResize=function(e){return window.addEventListener?window.addEventListener("resize",e):t.log("ERROR: Failed to bind to window.resize with: ",e),{callback:e,clear:function(){window.removeEventListener("resize",e)}}},t.utils.getColor=function(e){if(void 0===e)return t.utils.defaultColor();if(Array.isArray(e)){var n=d3.scale.ordinal().range(e);return function(e,t){var r=void 0===t?e:t;return e.color||n(r)}}return e},t.utils.defaultColor=function(){return t.utils.getColor(d3.scale.category20().range())},t.utils.customTheme=function(e,t,n){t=t||function(e){return e.key},n=n||d3.scale.category20().range();var r=n.length;return function(i,o){var a=t(i);return"function"==typeof e[a]?e[a]():void 0!==e[a]?e[a]:(r||(r=n.length),r-=1,n[r])}},t.utils.pjax=function(e,n){var r=function(r){d3.html(r,function(r){var i=d3.select(n).node();i.parentNode.replaceChild(d3.select(r).select(n).node(),i),t.utils.pjax(e,n)})};d3.selectAll(e).on("click",function(){history.pushState(this.href,this.textContent,this.href),r(this.href),d3.event.preventDefault()}),d3.select(window).on("popstate",function(){d3.event.state&&r(d3.event.state)})},t.utils.calcApproxTextWidth=function(e){if("function"==typeof e.style&&"function"==typeof e.text){var t=parseInt(e.style("font-size").replace("px",""),10),n=e.text().length;return n*t*.5}return 0},t.utils.NaNtoZero=function(e){return"number"!=typeof e||isNaN(e)||null===e||e===1/0||e===-(1/0)?0:e},d3.selection.prototype.watchTransition=function(e){var t=[this].concat([].slice.call(arguments,1));return e.transition.apply(e,t)},t.utils.renderWatch=function(e,n){if(!(this instanceof t.utils.renderWatch))return new t.utils.renderWatch(e,n);var r=void 0!==n?n:250,i=[],o=this;this.models=function(e){return e=[].slice.call(arguments,0),e.forEach(function(e){e.__rendered=!1,function(e){e.dispatch.on("renderEnd",function(t){e.__rendered=!0,o.renderEnd("model")})}(e),i.indexOf(e)<0&&i.push(e)}),this},this.reset=function(e){void 0!==e&&(r=e),i=[]},this.transition=function(e,t,n){if(t=arguments.length>1?[].slice.call(arguments,1):[],n=t.length>1?t.pop():void 0!==r?r:250,e.__rendered=!1,i.indexOf(e)<0&&i.push(e),0===n)return e.__rendered=!0,e.delay=function(){return this},e.duration=function(){return this},e;0===e.length?e.__rendered=!0:e.every(function(e){return!e.length})?e.__rendered=!0:e.__rendered=!1;var a=0;return e.transition().duration(n).each(function(){++a}).each("end",function(n,r){0===--a&&(e.__rendered=!0,o.renderEnd.apply(this,t))})},this.renderEnd=function(){i.every(function(e){return e.__rendered})&&(i.forEach(function(e){e.__rendered=!1}),e.renderEnd.apply(this,arguments))}},t.utils.deepExtend=function(e){var n=arguments.length>1?[].slice.call(arguments,1):[];n.forEach(function(n){for(var r in n){var i=e[r]instanceof Array,o="object"==typeof e[r],a="object"==typeof n[r];o&&!i&&a?t.utils.deepExtend(e[r],n[r]):e[r]=n[r]}})},t.utils.state=function(){if(!(this instanceof t.utils.state))return new t.utils.state;var e={},n=function(){},r=function(){return{}},i=null,o=null;this.dispatch=d3.dispatch("change","set"),this.dispatch.on("set",function(e){n(e,!0)}),this.getter=function(e){return r=e,this},this.setter=function(e,t){return t||(t=function(){}),n=function(n,r){e(n),r&&t()},this},this.init=function(e){i=i||{},t.utils.deepExtend(i,e)};var a=function(){var t=r();if(JSON.stringify(t)===JSON.stringify(e))return!1;for(var n in t)void 0===e[n]&&(e[n]={}),e[n]=t[n],o=!0;return!0};this.update=function(){i&&(n(i,!1),i=null),a.call(this)&&this.dispatch.change(e)}},t.utils.optionsFunc=function(e){return e&&d3.map(e).forEach(function(e,t){"function"==typeof this[e]&&this[e](t)}.bind(this)),this},t.utils.calcTicksX=function(e,n){var r=1,i=0;for(i;i<n.length;i+=1){var o=n[i]&&n[i].values?n[i].values.length:0;r=o>r?o:r}return t.log("Requested number of ticks: ",e),t.log("Calculated max values to be: ",r),e=e>r?e=r-1:e,e=e<1?1:e,e=Math.floor(e),t.log("Calculating tick count as: ",e),e},t.utils.calcTicksY=function(e,n){return t.utils.calcTicksX(e,n)},t.utils.initOption=function(e,t){e._calls&&e._calls[t]?e[t]=e._calls[t]:(e[t]=function(n){return arguments.length?(e._overrides[t]=!0,e._options[t]=n,e):e._options[t]},e["_"+t]=function(n){return arguments.length?(e._overrides[t]||(e._options[t]=n),e):e._options[t]})},t.utils.initOptions=function(e){e._overrides=e._overrides||{};var n=Object.getOwnPropertyNames(e._options||{}),r=Object.getOwnPropertyNames(e._calls||{});n=n.concat(r);for(var i in n)t.utils.initOption(e,n[i])},t.utils.inheritOptionsD3=function(e,t,n){e._d3options=n.concat(e._d3options||[]),n.unshift(t),n.unshift(e),d3.rebind.apply(this,n)},t.utils.arrayUnique=function(e){return e.sort().filter(function(t,n){return!n||t!=e[n-1]})},t.utils.symbolMap=d3.map(),t.utils.symbol=function(){function e(e,i){var o=n.call(this,e,i),a=r.call(this,e,i);return d3.svg.symbolTypes.indexOf(o)!==-1?d3.svg.symbol().type(o).size(a)():t.utils.symbolMap.get(o)(a)}var n,r=64;return e.type=function(t){return arguments.length?(n=d3.functor(t),e):n},e.size=function(t){return arguments.length?(r=d3.functor(t),e):r},e},t.utils.inheritOptions=function(e,n){var r=Object.getOwnPropertyNames(n._options||{}),i=Object.getOwnPropertyNames(n._calls||{}),o=n._inherited||[],a=n._d3options||[],l=r.concat(i).concat(o).concat(a);l.unshift(n),l.unshift(e),d3.rebind.apply(this,l),e._inherited=t.utils.arrayUnique(r.concat(i).concat(o).concat(r).concat(e._inherited||[])),e._d3options=t.utils.arrayUnique(a.concat(e._d3options||[]))},t.utils.initSVG=function(e){e.classed({"nvd3-svg":!0})},t.utils.sanitizeHeight=function(e,t){return e||parseInt(t.style("height"),10)||400},t.utils.sanitizeWidth=function(e,t){return e||parseInt(t.style("width"),10)||960},t.utils.availableHeight=function(e,n,r){return t.utils.sanitizeHeight(e,n)-r.top-r.bottom},t.utils.availableWidth=function(e,n,r){return t.utils.sanitizeWidth(e,n)-r.left-r.right},t.utils.noData=function(e,n){var r=e.options(),i=r.margin(),o=r.noData(),a=null==o?["No Data Available."]:[o],l=t.utils.availableHeight(r.height(),n,i),s=t.utils.availableWidth(r.width(),n,i),c=i.left+s/2,u=i.top+l/2;n.selectAll("g").remove();var d=n.selectAll(".nv-noData").data(a);d.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),d.attr("x",c).attr("y",u).text(function(e){return e})},t.models.axis=function(){"use strict";function e(a){return b.reset(),a.each(function(e){var a=d3.select(this);t.utils.initSVG(a);var g=a.selectAll("g.nv-wrap.nv-axis").data([e]),v=g.enter().append("g").attr("class","nvd3 nv-wrap nv-axis"),y=(v.append("g"),g.select("g"));null!==m?n.ticks(m):"top"!=n.orient()&&"bottom"!=n.orient()||n.ticks(Math.abs(r.range()[1]-r.range()[0])/100),y.watchTransition(b,"axis").call(n),h=h||n.scale();var E=n.tickFormat();null==E&&(E=h.tickFormat());var S=y.selectAll("text.nv-axislabel").data([l||null]);S.exit().remove();var _,w,A;switch(n.orient()){case"top":S.enter().append("text").attr("class","nv-axislabel"),A=r.range().length<2?0:2===r.range().length?r.range()[1]:r.range()[r.range().length-1]+(r.range()[1]-r.range()[0]),S.attr("text-anchor","middle").attr("y",0).attr("x",A/2),s&&(w=g.selectAll("g.nv-axisMaxMin").data(r.domain()),w.enter().append("g").attr("class",function(e,t){return["nv-axisMaxMin","nv-axisMaxMin-x",0==t?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),w.exit().remove(),w.attr("transform",function(e,n){return"translate("+t.utils.NaNtoZero(r(e))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-n.tickPadding()).attr("text-anchor","middle").text(function(e,t){var n=E(e);return(""+n).match("NaN")?"":n}),w.watchTransition(b,"min-max top").attr("transform",function(e,n){return"translate("+t.utils.NaNtoZero(r.range()[n])+",0)"}));break;case"bottom":_=p+36;var T=30,I=0,C=y.selectAll("g").select("text"),x="";if(c%360){C.each(function(e,t){var n=this.getBoundingClientRect(),r=n.width;I=n.height,r>T&&(T=r)}),x="rotate("+c+" 0,"+(I/2+n.tickPadding())+")";var D=Math.abs(Math.sin(c*Math.PI/180));_=(D?D*T:T)+30,C.attr("transform",x).style("text-anchor",c%360>0?"start":"end")}S.enter().append("text").attr("class","nv-axislabel"),A=r.range().length<2?0:2===r.range().length?r.range()[1]:r.range()[r.range().length-1]+(r.range()[1]-r.range()[0]),S.attr("text-anchor","middle").attr("y",_).attr("x",A/2),s&&(w=g.selectAll("g.nv-axisMaxMin").data([r.domain()[0],r.domain()[r.domain().length-1]]),w.enter().append("g").attr("class",function(e,t){return["nv-axisMaxMin","nv-axisMaxMin-x",0==t?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),w.exit().remove(),w.attr("transform",function(e,n){return"translate("+t.utils.NaNtoZero(r(e)+(f?r.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",n.tickPadding()).attr("transform",x).style("text-anchor",c?c%360>0?"start":"end":"middle").text(function(e,t){var n=E(e);return(""+n).match("NaN")?"":n}),w.watchTransition(b,"min-max bottom").attr("transform",function(e,n){return"translate("+t.utils.NaNtoZero(r(e)+(f?r.rangeBand()/2:0))+",0)"})),d&&C.attr("transform",function(e,t){return"translate(0,"+(t%2==0?"0":"12")+")"});break;case"right":S.enter().append("text").attr("class","nv-axislabel"),S.style("text-anchor",u?"middle":"begin").attr("transform",u?"rotate(90)":"").attr("y",u?-Math.max(i.right,o)+12:-10).attr("x",u?d3.max(r.range())/2:n.tickPadding()),s&&(w=g.selectAll("g.nv-axisMaxMin").data(r.domain()),w.enter().append("g").attr("class",function(e,t){return["nv-axisMaxMin","nv-axisMaxMin-y",0==t?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),w.exit().remove(),w.attr("transform",function(e,n){return"translate(0,"+t.utils.NaNtoZero(r(e))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",n.tickPadding()).style("text-anchor","start").text(function(e,t){var n=E(e);return(""+n).match("NaN")?"":n}),w.watchTransition(b,"min-max right").attr("transform",function(e,n){return"translate(0,"+t.utils.NaNtoZero(r.range()[n])+")"}).select("text").style("opacity",1));break;case"left":S.enter().append("text").attr("class","nv-axislabel"),S.style("text-anchor",u?"middle":"end").attr("transform",u?"rotate(-90)":"").attr("y",u?-Math.max(i.left,o)+25-(p||0):-10).attr("x",u?-d3.max(r.range())/2:-n.tickPadding()),s&&(w=g.selectAll("g.nv-axisMaxMin").data(r.domain()),w.enter().append("g").attr("class",function(e,t){return["nv-axisMaxMin","nv-axisMaxMin-y",0==t?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),w.exit().remove(),w.attr("transform",function(e,n){return"translate(0,"+t.utils.NaNtoZero(h(e))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-n.tickPadding()).attr("text-anchor","end").text(function(e,t){var n=E(e);return(""+n).match("NaN")?"":n}),w.watchTransition(b,"min-max right").attr("transform",function(e,n){return"translate(0,"+t.utils.NaNtoZero(r.range()[n])+")"}).select("text").style("opacity",1))}if(S.text(function(e){return e}),!s||"left"!==n.orient()&&"right"!==n.orient()||(y.selectAll("g").each(function(e,t){
d3.select(this).select("text").attr("opacity",1),(r(e)<r.range()[1]+10||r(e)>r.range()[0]-10)&&((e>1e-10||e<-1e-10)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),r.domain()[0]==r.domain()[1]&&0==r.domain()[0]&&g.selectAll("g.nv-axisMaxMin").style("opacity",function(e,t){return t?0:1})),s&&("top"===n.orient()||"bottom"===n.orient())){var M=[];g.selectAll("g.nv-axisMaxMin").each(function(e,t){try{t?M.push(r(e)-this.getBoundingClientRect().width-4):M.push(r(e)+this.getBoundingClientRect().width+4)}catch(n){t?M.push(r(e)-4):M.push(r(e)+4)}}),y.selectAll("g").each(function(e,t){(r(e)<M[0]||r(e)>M[1])&&(e>1e-10||e<-1e-10?d3.select(this).remove():d3.select(this).select("text").remove())})}y.selectAll(".tick").filter(function(e){return!parseFloat(Math.round(1e5*e)/1e6)&&void 0!==e}).classed("zero",!0),h=r.copy()}),b.renderEnd("axis immediate"),e}var n=d3.svg.axis(),r=d3.scale.linear(),i={top:0,right:0,bottom:0,left:0},o=75,a=60,l=null,s=!0,c=0,u=!0,d=!1,f=!1,m=null,p=0,g=250,v=d3.dispatch("renderEnd");n.scale(r).orient("bottom").tickFormat(function(e){return e});var h,b=t.utils.renderWatch(v,g);return e.axis=n,e.dispatch=v,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{axisLabelDistance:{get:function(){return p},set:function(e){p=e}},staggerLabels:{get:function(){return d},set:function(e){d=e}},rotateLabels:{get:function(){return c},set:function(e){c=e}},rotateYLabel:{get:function(){return u},set:function(e){u=e}},showMaxMin:{get:function(){return s},set:function(e){s=e}},axisLabel:{get:function(){return l},set:function(e){l=e}},height:{get:function(){return a},set:function(e){a=e}},ticks:{get:function(){return m},set:function(e){m=e}},width:{get:function(){return o},set:function(e){o=e}},margin:{get:function(){return i},set:function(e){i.top=void 0!==e.top?e.top:i.top,i.right=void 0!==e.right?e.right:i.right,i.bottom=void 0!==e.bottom?e.bottom:i.bottom,i.left=void 0!==e.left?e.left:i.left}},duration:{get:function(){return g},set:function(e){g=e,b.reset(g)}},scale:{get:function(){return r},set:function(i){r=i,n.scale(r),f="function"==typeof r.rangeBands,t.utils.inheritOptionsD3(e,r,["domain","range","rangeBand","rangeBands"])}}}),t.utils.initOptions(e),t.utils.inheritOptionsD3(e,n,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]),t.utils.inheritOptionsD3(e,r,["domain","range","rangeBand","rangeBands"]),e},t.models.boxPlot=function(){"use strict";function e(d){return S.reset(),d.each(function(e){var d=c-s.left-s.right,g=u-s.top-s.bottom;h=d3.select(this),t.utils.initSVG(h),f.domain(n||e.map(function(e,t){return p(e,t)})).rangeBands(i||[0,d],.1);var _=[];if(!r){var w=d3.min(e.map(function(e){var t=[];return t.push(e.values.Q1),e.values.hasOwnProperty("whisker_low")&&null!==e.values.whisker_low&&t.push(e.values.whisker_low),e.values.hasOwnProperty("outliers")&&null!==e.values.outliers&&(t=t.concat(e.values.outliers)),d3.min(t)})),A=d3.max(e.map(function(e){var t=[];return t.push(e.values.Q3),e.values.hasOwnProperty("whisker_high")&&null!==e.values.whisker_high&&t.push(e.values.whisker_high),e.values.hasOwnProperty("outliers")&&null!==e.values.outliers&&(t=t.concat(e.values.outliers)),d3.max(t)}));_=[w,A]}m.domain(r||_),m.range(o||[g,0]),a=a||f,l=l||m.copy().range([m(0),m(0)]);var T=h.selectAll("g.nv-wrap").data([e]);T.enter().append("g").attr("class","nvd3 nv-wrap");T.attr("transform","translate("+s.left+","+s.top+")");var I=T.selectAll(".nv-boxplot").data(function(e){return e}),C=I.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);I.attr("class","nv-boxplot").attr("transform",function(e,t,n){return"translate("+(f(p(e,t))+.05*f.rangeBand())+", 0)"}).classed("hover",function(e){return e.hover}),I.watchTransition(S,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",.75).delay(function(t,n){return n*y/e.length}).attr("transform",function(e,t){return"translate("+(f(p(e,t))+.05*f.rangeBand())+", 0)"}),I.exit().remove(),C.each(function(e,t){var n=d3.select(this);["low","high"].forEach(function(r){e.values.hasOwnProperty("whisker_"+r)&&null!==e.values["whisker_"+r]&&(n.append("line").style("stroke",e.color?e.color:v(e,t)).attr("class","nv-boxplot-whisker nv-boxplot-"+r),n.append("line").style("stroke",e.color?e.color:v(e,t)).attr("class","nv-boxplot-tick nv-boxplot-"+r))})});var x=I.selectAll(".nv-boxplot-outlier").data(function(e){return e.values.hasOwnProperty("outliers")&&null!==e.values.outliers?e.values.outliers:[]});x.enter().append("circle").style("fill",function(e,t,n){return v(e,n)}).style("stroke",function(e,t,n){return v(e,n)}).on("mouseover",function(e,t,n){d3.select(this).classed("hover",!0),b.elementMouseover({series:{key:e,color:v(e,n)},e:d3.event})}).on("mouseout",function(e,t,n){d3.select(this).classed("hover",!1),b.elementMouseout({series:{key:e,color:v(e,n)},e:d3.event})}).on("mousemove",function(e,t){b.elementMousemove({e:d3.event})}),x.attr("class","nv-boxplot-outlier"),x.watchTransition(S,"nv-boxplot: nv-boxplot-outlier").attr("cx",.45*f.rangeBand()).attr("cy",function(e,t,n){return m(e)}).attr("r","3"),x.exit().remove();var D=function(){return null===E?.9*f.rangeBand():Math.min(75,.9*f.rangeBand())},M=function(){return.45*f.rangeBand()-D()/2},O=function(){return.45*f.rangeBand()+D()/2};["low","high"].forEach(function(e){var t="low"===e?"Q1":"Q3";I.select("line.nv-boxplot-whisker.nv-boxplot-"+e).watchTransition(S,"nv-boxplot: boxplots").attr("x1",.45*f.rangeBand()).attr("y1",function(t,n){return m(t.values["whisker_"+e])}).attr("x2",.45*f.rangeBand()).attr("y2",function(e,n){return m(e.values[t])}),I.select("line.nv-boxplot-tick.nv-boxplot-"+e).watchTransition(S,"nv-boxplot: boxplots").attr("x1",M).attr("y1",function(t,n){return m(t.values["whisker_"+e])}).attr("x2",O).attr("y2",function(t,n){return m(t.values["whisker_"+e])})}),["low","high"].forEach(function(e){C.selectAll(".nv-boxplot-"+e).on("mouseover",function(t,n,r){d3.select(this).classed("hover",!0),b.elementMouseover({series:{key:t.values["whisker_"+e],color:v(t,r)},e:d3.event})}).on("mouseout",function(t,n,r){d3.select(this).classed("hover",!1),b.elementMouseout({series:{key:t.values["whisker_"+e],color:v(t,r)},e:d3.event})}).on("mousemove",function(e,t){b.elementMousemove({e:d3.event})})}),C.append("rect").attr("class","nv-boxplot-box").on("mouseover",function(e,t){d3.select(this).classed("hover",!0),b.elementMouseover({key:e.label,value:e.label,series:[{key:"Q3",value:e.values.Q3,color:e.color||v(e,t)},{key:"Q2",value:e.values.Q2,color:e.color||v(e,t)},{key:"Q1",value:e.values.Q1,color:e.color||v(e,t)}],data:e,index:t,e:d3.event})}).on("mouseout",function(e,t){d3.select(this).classed("hover",!1),b.elementMouseout({key:e.label,value:e.label,series:[{key:"Q3",value:e.values.Q3,color:e.color||v(e,t)},{key:"Q2",value:e.values.Q2,color:e.color||v(e,t)},{key:"Q1",value:e.values.Q1,color:e.color||v(e,t)}],data:e,index:t,e:d3.event})}).on("mousemove",function(e,t){b.elementMousemove({e:d3.event})}),I.select("rect.nv-boxplot-box").watchTransition(S,"nv-boxplot: boxes").attr("y",function(e,t){return m(e.values.Q3)}).attr("width",D).attr("x",M).attr("height",function(e,t){return Math.abs(m(e.values.Q3)-m(e.values.Q1))||1}).style("fill",function(e,t){return e.color||v(e,t)}).style("stroke",function(e,t){return e.color||v(e,t)}),C.append("line").attr("class","nv-boxplot-median"),I.select("line.nv-boxplot-median").watchTransition(S,"nv-boxplot: boxplots line").attr("x1",M).attr("y1",function(e,t){return m(e.values.Q2)}).attr("x2",O).attr("y2",function(e,t){return m(e.values.Q2)}),a=f.copy(),l=m.copy()}),S.renderEnd("nv-boxplot immediate"),e}var n,r,i,o,a,l,s={top:0,right:0,bottom:0,left:0},c=960,u=500,d=Math.floor(1e4*Math.random()),f=d3.scale.ordinal(),m=d3.scale.linear(),p=function(e){return e.x},g=function(e){return e.y},v=t.utils.defaultColor(),h=null,b=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),y=250,E=null,S=t.utils.renderWatch(b,y);return e.dispatch=b,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return c},set:function(e){c=e}},height:{get:function(){return u},set:function(e){u=e}},maxBoxWidth:{get:function(){return E},set:function(e){E=e}},x:{get:function(){return p},set:function(e){p=e}},y:{get:function(){return g},set:function(e){g=e}},xScale:{get:function(){return f},set:function(e){f=e}},yScale:{get:function(){return m},set:function(e){m=e}},xDomain:{get:function(){return n},set:function(e){n=e}},yDomain:{get:function(){return r},set:function(e){r=e}},xRange:{get:function(){return i},set:function(e){i=e}},yRange:{get:function(){return o},set:function(e){o=e}},id:{get:function(){return d},set:function(e){d=e}},margin:{get:function(){return s},set:function(e){s.top=void 0!==e.top?e.top:s.top,s.right=void 0!==e.right?e.right:s.right,s.bottom=void 0!==e.bottom?e.bottom:s.bottom,s.left=void 0!==e.left?e.left:s.left}},color:{get:function(){return v},set:function(e){v=t.utils.getColor(e)}},duration:{get:function(){return y},set:function(e){y=e,S.reset(y)}}}),t.utils.initOptions(e),e},t.models.boxPlotChart=function(){"use strict";function e(u){return y.reset(),y.models(i),d&&y.models(o),f&&y.models(a),u.each(function(u){var g=d3.select(this);t.utils.initSVG(g);var y=(s||parseInt(g.style("width"))||960)-l.left-l.right,E=(c||parseInt(g.style("height"))||400)-l.top-l.bottom;if(e.update=function(){h.beforeUpdate(),g.transition().duration(b).call(e)},e.container=this,!(u&&u.length&&u.filter(function(e){return e.values.hasOwnProperty("Q1")&&e.values.hasOwnProperty("Q2")&&e.values.hasOwnProperty("Q3")}).length)){var S=g.selectAll(".nv-noData").data([v]);return S.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),S.attr("x",l.left+y/2).attr("y",l.top+E/2).text(function(e){return e}),e}g.selectAll(".nv-noData").remove(),n=i.xScale(),r=i.yScale().clamp(!0);var _=g.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([u]),w=_.enter().append("g").attr("class","nvd3 nv-wrap nv-boxPlotWithAxes").append("g"),A=w.append("defs"),T=_.select("g");w.append("g").attr("class","nv-x nv-axis"),w.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),w.append("g").attr("class","nv-barsWrap"),T.attr("transform","translate("+l.left+","+l.top+")"),m&&T.select(".nv-y.nv-axis").attr("transform","translate("+y+",0)"),i.width(y).height(E);var I=T.select(".nv-barsWrap").datum(u.filter(function(e){return!e.disabled}));if(I.transition().call(i),A.append("clipPath").attr("id","nv-x-label-clip-"+i.id()).append("rect"),T.select("#nv-x-label-clip-"+i.id()+" rect").attr("width",n.rangeBand()*(p?2:1)).attr("height",16).attr("x",-n.rangeBand()/(p?1:2)),d){o.scale(n).ticks(t.utils.calcTicksX(y/100,u)).tickSize(-E,0),T.select(".nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),T.select(".nv-x.nv-axis").call(o);var C=T.select(".nv-x.nv-axis").selectAll("g");p&&C.selectAll("text").attr("transform",function(e,t,n){return"translate(0,"+(n%2==0?"5":"17")+")"})}f&&(a.scale(r).ticks(Math.floor(E/36)).tickSize(-y,0),T.select(".nv-y.nv-axis").call(a)),T.select(".nv-zeroLine line").attr("x1",0).attr("x2",y).attr("y1",r(0)).attr("y2",r(0))}),y.renderEnd("nv-boxplot chart immediate"),e}var n,r,i=t.models.boxPlot(),o=t.models.axis(),a=t.models.axis(),l={top:15,right:10,bottom:50,left:60},s=null,c=null,u=t.utils.getColor(),d=!0,f=!0,m=!1,p=!1,g=t.models.tooltip(),v="No Data Available.",h=d3.dispatch("tooltipShow","tooltipHide","beforeUpdate","renderEnd"),b=250;o.orient("bottom").showMaxMin(!1).tickFormat(function(e){return e}),a.orient(m?"right":"left").tickFormat(d3.format(",.1f")),g.duration(0);var y=t.utils.renderWatch(h,b);return i.dispatch.on("elementMouseover.tooltip",function(e){g.data(e).hidden(!1)}),i.dispatch.on("elementMouseout.tooltip",function(e){g.data(e).hidden(!0)}),i.dispatch.on("elementMousemove.tooltip",function(e){g.position({top:d3.event.pageY,left:d3.event.pageX})()}),e.dispatch=h,e.boxplot=i,e.xAxis=o,e.yAxis=a,e.tooltip=g,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return s},set:function(e){s=e}},height:{get:function(){return c},set:function(e){c=e}},staggerLabels:{get:function(){return p},set:function(e){p=e}},showXAxis:{get:function(){return d},set:function(e){d=e}},showYAxis:{get:function(){return f},set:function(e){f=e}},tooltips:{get:function(){return tooltips},set:function(e){tooltips=e}},tooltipContent:{get:function(){return g},set:function(e){g=e}},noData:{get:function(){return v},set:function(e){v=e}},margin:{get:function(){return l},set:function(e){l.top=void 0!==e.top?e.top:l.top,l.right=void 0!==e.right?e.right:l.right,l.bottom=void 0!==e.bottom?e.bottom:l.bottom,l.left=void 0!==e.left?e.left:l.left}},duration:{get:function(){return b},set:function(e){b=e,y.reset(b),i.duration(b),o.duration(b),a.duration(b)}},color:{get:function(){return u},set:function(e){u=t.utils.getColor(e),i.color(u)}},rightAlignYAxis:{get:function(){return m},set:function(e){m=e,a.orient(e?"right":"left")}}}),t.utils.inheritOptions(e,i),t.utils.initOptions(e),e},t.models.bullet=function(){"use strict";function e(r){return r.each(function(e,r){var g=f-n.left-n.right,b=m-n.top-n.bottom;p=d3.select(this),t.utils.initSVG(p);var y=o.call(this,e,r).slice().sort(d3.descending),E=a.call(this,e,r).slice().sort(d3.descending),S=l.call(this,e,r).slice().sort(d3.descending),_=s.call(this,e,r).slice(),w=c.call(this,e,r).slice(),A=u.call(this,e,r).slice(),T=d3.scale.linear().domain(d3.extent(d3.merge([d,y]))).range(i?[g,0]:[0,g]);this.__chart__||d3.scale.linear().domain([0,1/0]).range(T.range());this.__chart__=T;var I=d3.min(y),C=d3.max(y),x=y[1],D=p.selectAll("g.nv-wrap.nv-bullet").data([e]),M=D.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet"),O=M.append("g"),R=D.select("g");O.append("rect").attr("class","nv-range nv-rangeMax"),O.append("rect").attr("class","nv-range nv-rangeAvg"),O.append("rect").attr("class","nv-range nv-rangeMin"),O.append("rect").attr("class","nv-measure"),D.attr("transform","translate("+n.left+","+n.top+")");var N=function(e){return Math.abs(T(e)-T(0))},L=function(e){return T(e<0?e:0)};R.select("rect.nv-rangeMax").attr("height",b).attr("width",N(C>0?C:I)).attr("x",L(C>0?C:I)).datum(C>0?C:I),R.select("rect.nv-rangeAvg").attr("height",b).attr("width",N(x)).attr("x",L(x)).datum(x),R.select("rect.nv-rangeMin").attr("height",b).attr("width",N(C)).attr("x",L(C)).attr("width",N(C>0?I:C)).attr("x",L(C>0?I:C)).datum(C>0?I:C),R.select("rect.nv-measure").style("fill",v).attr("height",b/3).attr("y",b/3).attr("width",S<0?T(0)-T(S[0]):T(S[0])-T(0)).attr("x",L(S)).on("mouseover",function(){h.elementMouseover({value:S[0],label:A[0]||"Current",color:d3.select(this).style("fill")})}).on("mousemove",function(){h.elementMousemove({value:S[0],label:A[0]||"Current",color:d3.select(this).style("fill")})}).on("mouseout",function(){h.elementMouseout({value:S[0],label:A[0]||"Current",color:d3.select(this).style("fill")})});var P=b/6,k=E.map(function(e,t){return{value:e,label:w[t]}});O.selectAll("path.nv-markerTriangle").data(k).enter().append("path").attr("class","nv-markerTriangle").attr("transform",function(e){return"translate("+T(e.value)+","+b/2+")"}).attr("d","M0,"+P+"L"+P+","+-P+" "+-P+","+-P+"Z").on("mouseover",function(e){h.elementMouseover({value:e.value,label:e.label||"Previous",color:d3.select(this).style("fill"),pos:[T(e.value),b/2]})}).on("mousemove",function(e){h.elementMousemove({value:e.value,label:e.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(e,t){h.elementMouseout({value:e.value,label:e.label||"Previous",color:d3.select(this).style("fill")})}),D.selectAll(".nv-range").on("mouseover",function(e,t){var n=_[t]||(t?1==t?"Mean":"Minimum":"Maximum");h.elementMouseover({value:e,label:n,color:d3.select(this).style("fill")})}).on("mousemove",function(){h.elementMousemove({value:S[0],label:A[0]||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(e,t){var n=_[t]||(t?1==t?"Mean":"Minimum":"Maximum");h.elementMouseout({value:e,label:n,color:d3.select(this).style("fill")})})}),e}var n={top:0,right:0,bottom:0,left:0},r="left",i=!1,o=function(e){return e.ranges},a=function(e){return e.markers?e.markers:[0]},l=function(e){return e.measures},s=function(e){return e.rangeLabels?e.rangeLabels:[]},c=function(e){return e.markerLabels?e.markerLabels:[]},u=function(e){return e.measureLabels?e.measureLabels:[]},d=[0],f=380,m=30,p=null,g=null,v=t.utils.getColor(["#1f77b4"]),h=d3.dispatch("elementMouseover","elementMouseout","elementMousemove");return e.dispatch=h,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{ranges:{get:function(){return o},set:function(e){o=e}},markers:{get:function(){return a},set:function(e){a=e}},measures:{get:function(){return l},set:function(e){l=e}},forceX:{get:function(){return d},set:function(e){d=e}},width:{get:function(){return f},set:function(e){f=e}},height:{get:function(){return m},set:function(e){m=e}},tickFormat:{get:function(){return g},set:function(e){g=e}},margin:{get:function(){return n},set:function(e){n.top=void 0!==e.top?e.top:n.top,n.right=void 0!==e.right?e.right:n.right,n.bottom=void 0!==e.bottom?e.bottom:n.bottom,n.left=void 0!==e.left?e.left:n.left}},orient:{get:function(){return r},set:function(e){r=e,i="right"==r||"bottom"==r}},color:{get:function(){return v},set:function(e){v=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.bulletChart=function(){"use strict";function e(r){return r.each(function(i,p){var g=d3.select(this);t.utils.initSVG(g);var v=t.utils.availableWidth(u,g,a),h=d-a.top-a.bottom;if(e.update=function(){e(r)},e.container=this,!i||!l.call(this,i,p))return t.utils.noData(e,g),e;g.selectAll(".nv-noData").remove();var b=l.call(this,i,p).slice().sort(d3.descending),y=s.call(this,i,p).slice().sort(d3.descending),E=c.call(this,i,p).slice().sort(d3.descending),S=g.selectAll("g.nv-wrap.nv-bulletChart").data([i]),_=S.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart"),w=_.append("g"),A=S.select("g");w.append("g").attr("class","nv-bulletWrap"),w.append("g").attr("class","nv-titles"),S.attr("transform","translate("+a.left+","+a.top+")");var T=d3.scale.linear().domain([0,Math.max(b[0],y[0],E[0])]).range(o?[v,0]:[0,v]),I=this.__chart__||d3.scale.linear().domain([0,1/0]).range(T.range());this.__chart__=T;var C=w.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(d-a.top-a.bottom)/2+")");C.append("text").attr("class","nv-title").text(function(e){return e.title}),C.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(e){return e.subtitle}),n.width(v).height(h);var x=A.select(".nv-bulletWrap");d3.transition(x).call(n);var D=f||T.tickFormat(v/100),M=A.selectAll("g.nv-tick").data(T.ticks(m?m:v/50),function(e){return this.textContent||D(e)}),O=M.enter().append("g").attr("class","nv-tick").attr("transform",function(e){return"translate("+I(e)+",0)"}).style("opacity",1e-6);O.append("line").attr("y1",h).attr("y2",7*h/6),O.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*h/6).text(D);var R=d3.transition(M).attr("transform",function(e){return"translate("+T(e)+",0)"}).style("opacity",1);R.select("line").attr("y1",h).attr("y2",7*h/6),R.select("text").attr("y",7*h/6),d3.transition(M.exit()).attr("transform",function(e){return"translate("+T(e)+",0)"}).style("opacity",1e-6).remove()}),d3.timer.flush(),e}var n=t.models.bullet(),r=t.models.tooltip(),i="left",o=!1,a={top:5,right:40,bottom:20,left:120},l=function(e){return e.ranges},s=function(e){return e.markers?e.markers:[0]},c=function(e){return e.measures},u=null,d=55,f=null,m=null,p=null,g=d3.dispatch("tooltipShow","tooltipHide");return r.duration(0).headerEnabled(!1),n.dispatch.on("elementMouseover.tooltip",function(e){e.series={key:e.label,value:e.value,color:e.color},r.data(e).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(e){r.hidden(!0)}),n.dispatch.on("elementMousemove.tooltip",function(e){r.position({top:d3.event.pageY,left:d3.event.pageX})()}),e.bullet=n,e.dispatch=g,e.tooltip=r,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{ranges:{get:function(){return l},set:function(e){l=e}},markers:{get:function(){return s},set:function(e){s=e}},measures:{get:function(){return c},set:function(e){c=e}},width:{get:function(){return u},set:function(e){u=e}},height:{get:function(){return d},set:function(e){d=e}},tickFormat:{get:function(){return f},set:function(e){f=e}},ticks:{get:function(){return m},set:function(e){m=e}},noData:{get:function(){return p},set:function(e){p=e}},tooltips:{get:function(){return r.enabled()},set:function(e){t.deprecated("tooltips","use chart.tooltip.enabled() instead"),r.enabled(!!e)}},tooltipContent:{get:function(){return r.contentGenerator()},set:function(e){t.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),r.contentGenerator(e)}},margin:{get:function(){return a},set:function(e){a.top=void 0!==e.top?e.top:a.top,a.right=void 0!==e.right?e.right:a.right,a.bottom=void 0!==e.bottom?e.bottom:a.bottom,a.left=void 0!==e.left?e.left:a.left}},orient:{get:function(){return i},set:function(e){i=e,o="right"==i||"bottom"==i}}}),t.utils.inheritOptions(e,n),t.utils.initOptions(e),e},t.models.candlestickBar=function(){"use strict";function e(w){return w.each(function(e){n=d3.select(this);var w=t.utils.availableWidth(s,n,l),A=t.utils.availableHeight(c,n,l);t.utils.initSVG(n);var I=w/e[0].values.length*.45;d.domain(r||d3.extent(e[0].values.map(m).concat(y))),S?d.range(o||[.5*w/e[0].values.length,w*(e[0].values.length-.5)/e[0].values.length]):d.range(o||[5+I/2,w-I/2-5]),f.domain(i||[d3.min(e[0].values.map(b).concat(E)),d3.max(e[0].values.map(h).concat(E))]).range(a||[A,0]),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]):d.domain([-1,1])),f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]+.01*f.domain()[0],f.domain()[1]-.01*f.domain()[1]]):f.domain([-1,1]));var C=d3.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([e[0].values]),x=C.enter().append("g").attr("class","nvd3 nv-wrap nv-candlestickBar"),D=x.append("defs"),M=x.append("g"),O=C.select("g");M.append("g").attr("class","nv-ticks"),C.attr("transform","translate("+l.left+","+l.top+")"),n.on("click",function(e,t){T.chartClick({data:e,index:t,pos:d3.event,id:u})}),D.append("clipPath").attr("id","nv-chart-clip-path-"+u).append("rect"),C.select("#nv-chart-clip-path-"+u+" rect").attr("width",w).attr("height",A),O.attr("clip-path",_?"url(#nv-chart-clip-path-"+u+")":"");var R=C.select(".nv-ticks").selectAll(".nv-tick").data(function(e){return e});R.exit().remove();var N=R.enter().append("g").attr("class",function(e,t,n){return(g(e,t)>v(e,t)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+t});N.append("line").attr("class","nv-candlestick-lines").attr("transform",function(e,t){return"translate("+d(m(e,t))+",0)"}).attr("x1",0).attr("y1",function(e,t){return f(h(e,t))}).attr("x2",0).attr("y2",function(e,t){return f(b(e,t))}),N.append("rect").attr("class","nv-candlestick-rects nv-bars").attr("transform",function(e,t){return"translate("+(d(m(e,t))-I/2)+","+(f(p(e,t))-(g(e,t)>v(e,t)?f(v(e,t))-f(g(e,t)):0))+")"}).attr("x",0).attr("y",0).attr("width",I).attr("height",function(e,t){var n=g(e,t),r=v(e,t);return n>r?f(r)-f(n):f(n)-f(r)});n.selectAll(".nv-candlestick-lines").transition().attr("transform",function(e,t){return"translate("+d(m(e,t))+",0)"}).attr("x1",0).attr("y1",function(e,t){return f(h(e,t))}).attr("x2",0).attr("y2",function(e,t){return f(b(e,t))}),n.selectAll(".nv-candlestick-rects").transition().attr("transform",function(e,t){return"translate("+(d(m(e,t))-I/2)+","+(f(p(e,t))-(g(e,t)>v(e,t)?f(v(e,t))-f(g(e,t)):0))+")"}).attr("x",0).attr("y",0).attr("width",I).attr("height",function(e,t){var n=g(e,t),r=v(e,t);return n>r?f(r)-f(n):f(n)-f(r)})}),e}var n,r,i,o,a,l={top:0,right:0,bottom:0,left:0},s=null,c=null,u=Math.floor(1e4*Math.random()),d=d3.scale.linear(),f=d3.scale.linear(),m=function(e){return e.x},p=function(e){return e.y},g=function(e){return e.open},v=function(e){return e.close},h=function(e){return e.high},b=function(e){return e.low},y=[],E=[],S=!1,_=!0,w=t.utils.defaultColor(),A=!1,T=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return e.highlightPoint=function(t,r){e.clearHighlights(),n.select(".nv-candlestickBar .nv-tick-0-"+t).classed("hover",r)},e.clearHighlights=function(){n.select(".nv-candlestickBar .nv-tick.hover").classed("hover",!1)},e.dispatch=T,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return s},set:function(e){s=e}},height:{get:function(){return c},set:function(e){c=e}},xScale:{get:function(){return d},set:function(e){d=e}},yScale:{get:function(){return f},set:function(e){f=e}},xDomain:{get:function(){return r},set:function(e){r=e}},yDomain:{get:function(){return i},set:function(e){i=e}},xRange:{get:function(){return o},set:function(e){o=e}},yRange:{get:function(){return a},set:function(e){a=e}},forceX:{get:function(){return y},set:function(e){y=e}},forceY:{get:function(){return E},set:function(e){E=e}},padData:{get:function(){return S},set:function(e){S=e}},clipEdge:{get:function(){return _},set:function(e){_=e}},id:{get:function(){return u},set:function(e){u=e}},interactive:{get:function(){return A},set:function(e){A=e}},x:{get:function(){return m},set:function(e){m=e}},y:{get:function(){return p},set:function(e){p=e}},open:{get:function(){return g()},set:function(e){g=e}},close:{get:function(){return v()},set:function(e){v=e}},high:{get:function(){return h},set:function(e){h=e}},low:{get:function(){return b},set:function(e){b=e}},margin:{get:function(){return l},set:function(e){l.top=void 0!=e.top?e.top:l.top,l.right=void 0!=e.right?e.right:l.right,l.bottom=void 0!=e.bottom?e.bottom:l.bottom,l.left=void 0!=e.left?e.left:l.left}},color:{get:function(){return w},set:function(e){w=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.cumulativeLineChart=function(){"use strict";function e(d){return N.reset(),N.models(o),h&&N.models(a),b&&N.models(l),d.each(function(d){function I(t,n){d3.select(e.container).style("cursor","ew-resize")}function M(e,t){R.x=d3.event.x,R.i=Math.round(O.invert(R.x)),k()}function N(t,n){d3.select(e.container).style("cursor","auto"),A.index=R.i,x.stateChange(A)}function k(){te.data([R]);var t=e.duration();e.duration(0),e.update(),e.duration(t)}var G=d3.select(this);t.utils.initSVG(G),G.classed("nv-chart-"+w,!0);var F=this,U=t.utils.availableWidth(p,G,f),V=t.utils.availableHeight(g,G,f);if(e.update=function(){0===D?G.call(e):G.transition().duration(D).call(e)},e.container=this,A.setter(P(d),e.update).getter(L(d)).update(),A.disabled=d.map(function(e){return!!e.disabled}),!T){var B;T={};for(B in A)A[B]instanceof Array?T[B]=A[B].slice(0):T[B]=A[B]}var z=d3.behavior.drag().on("dragstart",I).on("drag",M).on("dragend",N);if(!(d&&d.length&&d.filter(function(e){return e.values.length}).length))return t.utils.noData(e,G),e;if(G.selectAll(".nv-noData").remove(),r=o.xScale(),i=o.yScale(),_)o.yDomain(null);else{var $=d.filter(function(e){return!e.disabled}).map(function(e,t){var n=d3.extent(e.values,o.y());return n[0]<-.95&&(n[0]=-.95),[(n[0]-n[1])/(1+n[1]),(n[1]-n[0])/(1+n[0])]}),W=[d3.min($,function(e){return e[0]}),d3.max($,function(e){return e[1]})];o.yDomain(W)}O.domain([0,d[0].values.length-1]).range([0,U]).clamp(!0);var d=n(R.i,d),H=S?"none":"all",j=G.selectAll("g.nv-wrap.nv-cumulativeLine").data([d]),q=j.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),Y=j.select("g");if(q.append("g").attr("class","nv-interactive"),q.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),q.append("g").attr("class","nv-y nv-axis"),q.append("g").attr("class","nv-background"),q.append("g").attr("class","nv-linesWrap").style("pointer-events",H),q.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),q.append("g").attr("class","nv-legendWrap"),q.append("g").attr("class","nv-controlsWrap"),v&&(s.width(U),Y.select(".nv-legendWrap").datum(d).call(s),f.top!=s.height()&&(f.top=s.height(),V=t.utils.availableHeight(g,G,f)),Y.select(".nv-legendWrap").attr("transform","translate(0,"+-f.top+")")),E){var K=[{key:"Re-scale y-axis",disabled:!_}];c.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),Y.select(".nv-controlsWrap").datum(K).attr("transform","translate(0,"+-f.top+")").call(c)}j.attr("transform","translate("+f.left+","+f.top+")"),y&&Y.select(".nv-y.nv-axis").attr("transform","translate("+U+",0)");var Q=d.filter(function(e){return e.tempDisabled});j.select(".tempDisabled").remove(),Q.length&&j.append("text").attr("class","tempDisabled").attr("x",U/2).attr("y","-.71em").style("text-anchor","end").text(Q.map(function(e){return e.key}).join(", ")+" values cannot be calculated for this time period."),S&&(u.width(U).height(V).margin({left:f.left,top:f.top}).svgContainer(G).xScale(r),j.select(".nv-interactive").call(u)),q.select(".nv-background").append("rect"),Y.select(".nv-background rect").attr("width",U).attr("height",V),o.y(function(e){return e.display.y}).width(U).height(V).color(d.map(function(e,t){return e.color||m(e,t)}).filter(function(e,t){return!d[t].disabled&&!d[t].tempDisabled}));var Z=Y.select(".nv-linesWrap").datum(d.filter(function(e){return!e.disabled&&!e.tempDisabled}));Z.call(o),d.forEach(function(e,t){e.seriesIndex=t});var X=d.filter(function(e){return!e.disabled&&!!C(e)}),J=Y.select(".nv-avgLinesWrap").selectAll("line").data(X,function(e){return e.key}),ee=function(e){var t=i(C(e));return t<0?0:t>V?V:t};J.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(e,t){return o.color()(e,e.seriesIndex)}).attr("x1",0).attr("x2",U).attr("y1",ee).attr("y2",ee),J.style("stroke-opacity",function(e){var t=i(C(e));return t<0||t>V?0:1}).attr("x1",0).attr("x2",U).attr("y1",ee).attr("y2",ee),J.exit().remove();var te=Z.selectAll(".nv-indexLine").data([R]);te.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(z),te.attr("transform",function(e){return"translate("+O(e.i)+",0)"}).attr("height",V),h&&(a.scale(r)._ticks(t.utils.calcTicksX(U/70,d)).tickSize(-V,0),Y.select(".nv-x.nv-axis").attr("transform","translate(0,"+i.range()[0]+")"),Y.select(".nv-x.nv-axis").call(a)),b&&(l.scale(i)._ticks(t.utils.calcTicksY(V/36,d)).tickSize(-U,0),Y.select(".nv-y.nv-axis").call(l)),Y.select(".nv-background rect").on("click",function(){R.x=d3.mouse(this)[0],R.i=Math.round(O.invert(R.x)),A.index=R.i,x.stateChange(A),k()}),o.dispatch.on("elementClick",function(e){R.i=e.pointIndex,R.x=O(R.i),A.index=R.i,x.stateChange(A),k()}),c.dispatch.on("legendClick",function(t,n){t.disabled=!t.disabled,_=!t.disabled,A.rescaleY=_,x.stateChange(A),e.update()}),s.dispatch.on("stateChange",function(t){for(var n in t)A[n]=t[n];x.stateChange(A),e.update()}),u.dispatch.on("elementMousemove",function(n){o.clearHighlights();var r,i,s,c=[];if(d.filter(function(e,t){return e.seriesIndex=t,!e.disabled}).forEach(function(a,l){i=t.interactiveBisect(a.values,n.pointXValue,e.x()),o.highlightPoint(l,i,!0);var u=a.values[i];"undefined"!=typeof u&&("undefined"==typeof r&&(r=u),"undefined"==typeof s&&(s=e.xScale()(e.x()(u,i))),c.push({key:a.key,value:e.y()(u,i),color:m(a,a.seriesIndex)}))}),c.length>2){var p=e.yScale().invert(n.mouseY),g=Math.abs(e.yScale().domain()[0]-e.yScale().domain()[1]),v=.03*g,h=t.nearestValueIndex(c.map(function(e){return e.value}),p,v);null!==h&&(c[h].highlight=!0)}var b=a.tickFormat()(e.x()(r,i),i);u.tooltip.position({
left:s+f.left,top:n.mouseY+f.top}).chartContainer(F.parentNode).valueFormatter(function(e,t){return l.tickFormat()(e)}).data({value:b,series:c})(),u.renderGuideLine(s)}),u.dispatch.on("elementMouseout",function(e){o.clearHighlights()}),x.on("changeState",function(t){"undefined"!=typeof t.disabled&&(d.forEach(function(e,n){e.disabled=t.disabled[n]}),A.disabled=t.disabled),"undefined"!=typeof t.index&&(R.i=t.index,R.x=O(R.i),A.index=t.index,te.data([R])),"undefined"!=typeof t.rescaleY&&(_=t.rescaleY),e.update()})}),N.renderEnd("cumulativeLineChart immediate"),e}function n(e,t){return k||(k=o.y()),t.map(function(t,n){if(!t.values)return t;var r=t.values[e];if(null==r)return t;var i=k(r,e);return i<-.95&&!M?(t.tempDisabled=!0,t):(t.tempDisabled=!1,t.values=t.values.map(function(e,t){return e.display={y:(k(e,t)-i)/(1+i)},e}),t)})}var r,i,o=t.models.line(),a=t.models.axis(),l=t.models.axis(),s=t.models.legend(),c=t.models.legend(),u=t.interactiveGuideline(),d=t.models.tooltip(),f={top:30,right:30,bottom:50,left:60},m=t.utils.defaultColor(),p=null,g=null,v=!0,h=!0,b=!0,y=!1,E=!0,S=!1,_=!0,w=o.id(),A=t.utils.state(),T=null,I=null,C=function(e){return e.average},x=d3.dispatch("stateChange","changeState","renderEnd"),D=250,M=!1;A.index=0,A.rescaleY=_,a.orient("bottom").tickPadding(7),l.orient(y?"right":"left"),d.valueFormatter(function(e,t){return l.tickFormat()(e,t)}).headerFormatter(function(e,t){return a.tickFormat()(e,t)}),c.updateState(!1);var O=d3.scale.linear(),R={i:0,x:0},N=t.utils.renderWatch(x,D),L=function(e){return function(){return{active:e.map(function(e){return!e.disabled}),index:R.i,rescaleY:_}}},P=function(e){return function(t){void 0!==t.index&&(R.i=t.index),void 0!==t.rescaleY&&(_=t.rescaleY),void 0!==t.active&&e.forEach(function(e,n){e.disabled=!t.active[n]})}};o.dispatch.on("elementMouseover.tooltip",function(t){var n={x:e.x()(t.point),y:e.y()(t.point),color:t.point.color};t.point=n,d.data(t).position(t.pos).hidden(!1)}),o.dispatch.on("elementMouseout.tooltip",function(e){d.hidden(!0)});var k=null;return e.dispatch=x,e.lines=o,e.legend=s,e.controls=c,e.xAxis=a,e.yAxis=l,e.interactiveLayer=u,e.state=A,e.tooltip=d,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return p},set:function(e){p=e}},height:{get:function(){return g},set:function(e){g=e}},rescaleY:{get:function(){return _},set:function(e){_=e}},showControls:{get:function(){return E},set:function(e){E=e}},showLegend:{get:function(){return v},set:function(e){v=e}},average:{get:function(){return C},set:function(e){C=e}},defaultState:{get:function(){return T},set:function(e){T=e}},noData:{get:function(){return I},set:function(e){I=e}},showXAxis:{get:function(){return h},set:function(e){h=e}},showYAxis:{get:function(){return b},set:function(e){b=e}},noErrorCheck:{get:function(){return M},set:function(e){M=e}},tooltips:{get:function(){return d.enabled()},set:function(e){t.deprecated("tooltips","use chart.tooltip.enabled() instead"),d.enabled(!!e)}},tooltipContent:{get:function(){return d.contentGenerator()},set:function(e){t.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),d.contentGenerator(e)}},margin:{get:function(){return f},set:function(e){f.top=void 0!==e.top?e.top:f.top,f.right=void 0!==e.right?e.right:f.right,f.bottom=void 0!==e.bottom?e.bottom:f.bottom,f.left=void 0!==e.left?e.left:f.left}},color:{get:function(){return m},set:function(e){m=t.utils.getColor(e),s.color(m)}},useInteractiveGuideline:{get:function(){return S},set:function(t){S=t,t===!0&&(e.interactive(!1),e.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return y},set:function(e){y=e,l.orient(e?"right":"left")}},duration:{get:function(){return D},set:function(e){D=e,o.duration(D),a.duration(D),l.duration(D),N.reset(D)}}}),t.utils.inheritOptions(e,o),t.utils.initOptions(e),e},t.models.discreteBar=function(){"use strict";function e(f){return A.reset(),f.each(function(e){var f=u-c.left-c.right,w=d-c.top-c.bottom;n=d3.select(this),t.utils.initSVG(n),e.forEach(function(e,t){e.values.forEach(function(e){e.series=t})});var T=r&&i?[]:e.map(function(e){return e.values.map(function(e,t){return{x:g(e,t),y:v(e,t),y0:e.y0}})});m.domain(r||d3.merge(T).map(function(e){return e.x})).rangeBands(o||[0,f],.1),p.domain(i||d3.extent(d3.merge(T).map(function(e){return e.y}).concat(h))),y?p.range(a||[w-(p.domain()[0]<0?12:0),p.domain()[1]>0?12:0]):p.range(a||[w,0]),l=l||m,s=s||p.copy().range([p(0),p(0)]);var I=n.selectAll("g.nv-wrap.nv-discretebar").data([e]),C=I.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar"),x=C.append("g");I.select("g");x.append("g").attr("class","nv-groups"),I.attr("transform","translate("+c.left+","+c.top+")");var D=I.select(".nv-groups").selectAll(".nv-group").data(function(e){return e},function(e){return e.key});D.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),D.exit().watchTransition(A,"discreteBar: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),D.attr("class",function(e,t){return"nv-group nv-series-"+t}).classed("hover",function(e){return e.hover}),D.watchTransition(A,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",.75);var M=D.selectAll("g.nv-bar").data(function(e){return e.values});M.exit().remove();var O=M.enter().append("g").attr("transform",function(e,t,n){return"translate("+(m(g(e,t))+.05*m.rangeBand())+", "+p(0)+")"}).on("mouseover",function(e,t){d3.select(this).classed("hover",!0),S.elementMouseover({data:e,index:t,color:d3.select(this).style("fill")})}).on("mouseout",function(e,t){d3.select(this).classed("hover",!1),S.elementMouseout({data:e,index:t,color:d3.select(this).style("fill")})}).on("mousemove",function(e,t){S.elementMousemove({data:e,index:t,color:d3.select(this).style("fill")})}).on("click",function(e,t){S.elementClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}).on("dblclick",function(e,t){S.elementDblClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation()});O.append("rect").attr("height",0).attr("width",.9*m.rangeBand()/e.length),y?(O.append("text").attr("text-anchor","middle"),M.select("text").text(function(e,t){return E(v(e,t))}).watchTransition(A,"discreteBar: bars text").attr("x",.9*m.rangeBand()/2).attr("y",function(e,t){return v(e,t)<0?p(v(e,t))-p(0)+12:-4})):M.selectAll("text").remove(),M.attr("class",function(e,t){return v(e,t)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(e,t){return e.color||b(e,t)}).style("stroke",function(e,t){return e.color||b(e,t)}).select("rect").attr("class",_).watchTransition(A,"discreteBar: bars rect").attr("width",.9*m.rangeBand()/e.length),M.watchTransition(A,"discreteBar: bars").attr("transform",function(e,t){var n=m(g(e,t))+.05*m.rangeBand(),r=v(e,t)<0?p(0):p(0)-p(v(e,t))<1?p(0)-1:p(v(e,t));return"translate("+n+", "+r+")"}).select("rect").attr("height",function(e,t){return Math.max(Math.abs(p(v(e,t))-p(i&&i[0]||0))||1)}),l=m.copy(),s=p.copy()}),A.renderEnd("discreteBar immediate"),e}var n,r,i,o,a,l,s,c={top:0,right:0,bottom:0,left:0},u=960,d=500,f=Math.floor(1e4*Math.random()),m=d3.scale.ordinal(),p=d3.scale.linear(),g=function(e){return e.x},v=function(e){return e.y},h=[0],b=t.utils.defaultColor(),y=!1,E=d3.format(",.2f"),S=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),_="discreteBar",w=250,A=t.utils.renderWatch(S,w);return e.dispatch=S,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return u},set:function(e){u=e}},height:{get:function(){return d},set:function(e){d=e}},forceY:{get:function(){return h},set:function(e){h=e}},showValues:{get:function(){return y},set:function(e){y=e}},x:{get:function(){return g},set:function(e){g=e}},y:{get:function(){return v},set:function(e){v=e}},xScale:{get:function(){return m},set:function(e){m=e}},yScale:{get:function(){return p},set:function(e){p=e}},xDomain:{get:function(){return r},set:function(e){r=e}},yDomain:{get:function(){return i},set:function(e){i=e}},xRange:{get:function(){return o},set:function(e){o=e}},yRange:{get:function(){return a},set:function(e){a=e}},valueFormat:{get:function(){return E},set:function(e){E=e}},id:{get:function(){return f},set:function(e){f=e}},rectClass:{get:function(){return _},set:function(e){_=e}},margin:{get:function(){return c},set:function(e){c.top=void 0!==e.top?e.top:c.top,c.right=void 0!==e.right?e.right:c.right,c.bottom=void 0!==e.bottom?e.bottom:c.bottom,c.left=void 0!==e.left?e.left:c.left}},color:{get:function(){return b},set:function(e){b=t.utils.getColor(e)}},duration:{get:function(){return w},set:function(e){w=e,A.reset(w)}}}),t.utils.initOptions(e),e},t.models.discreteBarChart=function(){"use strict";function e(l){return y.reset(),y.models(i),f&&y.models(o),m&&y.models(a),l.each(function(l){var d=d3.select(this);t.utils.initSVG(d);var v=t.utils.availableWidth(c,d,s),y=t.utils.availableHeight(u,d,s);if(e.update=function(){h.beforeUpdate(),d.transition().duration(b).call(e)},e.container=this,!(l&&l.length&&l.filter(function(e){return e.values.length}).length))return t.utils.noData(e,d),e;d.selectAll(".nv-noData").remove(),n=i.xScale(),r=i.yScale().clamp(!0);var E=d.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([l]),S=E.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),_=S.append("defs"),w=E.select("g");S.append("g").attr("class","nv-x nv-axis"),S.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),S.append("g").attr("class","nv-barsWrap"),w.attr("transform","translate("+s.left+","+s.top+")"),p&&w.select(".nv-y.nv-axis").attr("transform","translate("+v+",0)"),i.width(v).height(y);var A=w.select(".nv-barsWrap").datum(l.filter(function(e){return!e.disabled}));if(A.transition().call(i),_.append("clipPath").attr("id","nv-x-label-clip-"+i.id()).append("rect"),w.select("#nv-x-label-clip-"+i.id()+" rect").attr("width",n.rangeBand()*(g?2:1)).attr("height",16).attr("x",-n.rangeBand()/(g?1:2)),f){o.scale(n)._ticks(t.utils.calcTicksX(v/100,l)).tickSize(-y,0),w.select(".nv-x.nv-axis").attr("transform","translate(0,"+(r.range()[0]+(i.showValues()&&r.domain()[0]<0?16:0))+")"),w.select(".nv-x.nv-axis").call(o);var T=w.select(".nv-x.nv-axis").selectAll("g");g&&T.selectAll("text").attr("transform",function(e,t,n){return"translate(0,"+(n%2==0?"5":"17")+")"})}m&&(a.scale(r)._ticks(t.utils.calcTicksY(y/36,l)).tickSize(-v,0),w.select(".nv-y.nv-axis").call(a)),w.select(".nv-zeroLine line").attr("x1",0).attr("x2",v).attr("y1",r(0)).attr("y2",r(0))}),y.renderEnd("discreteBar chart immediate"),e}var n,r,i=t.models.discreteBar(),o=t.models.axis(),a=t.models.axis(),l=t.models.tooltip(),s={top:15,right:10,bottom:50,left:60},c=null,u=null,d=t.utils.getColor(),f=!0,m=!0,p=!1,g=!1,v=null,h=d3.dispatch("beforeUpdate","renderEnd"),b=250;o.orient("bottom").showMaxMin(!1).tickFormat(function(e){return e}),a.orient(p?"right":"left").tickFormat(d3.format(",.1f")),l.duration(0).headerEnabled(!1).valueFormatter(function(e,t){return a.tickFormat()(e,t)}).keyFormatter(function(e,t){return o.tickFormat()(e,t)});var y=t.utils.renderWatch(h,b);return i.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:e.x()(t.data),value:e.y()(t.data),color:t.color},l.data(t).hidden(!1)}),i.dispatch.on("elementMouseout.tooltip",function(e){l.hidden(!0)}),i.dispatch.on("elementMousemove.tooltip",function(e){l.position({top:d3.event.pageY,left:d3.event.pageX})()}),e.dispatch=h,e.discretebar=i,e.xAxis=o,e.yAxis=a,e.tooltip=l,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return c},set:function(e){c=e}},height:{get:function(){return u},set:function(e){u=e}},staggerLabels:{get:function(){return g},set:function(e){g=e}},showXAxis:{get:function(){return f},set:function(e){f=e}},showYAxis:{get:function(){return m},set:function(e){m=e}},noData:{get:function(){return v},set:function(e){v=e}},tooltips:{get:function(){return l.enabled()},set:function(e){t.deprecated("tooltips","use chart.tooltip.enabled() instead"),l.enabled(!!e)}},tooltipContent:{get:function(){return l.contentGenerator()},set:function(e){t.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),l.contentGenerator(e)}},margin:{get:function(){return s},set:function(e){s.top=void 0!==e.top?e.top:s.top,s.right=void 0!==e.right?e.right:s.right,s.bottom=void 0!==e.bottom?e.bottom:s.bottom,s.left=void 0!==e.left?e.left:s.left}},duration:{get:function(){return b},set:function(e){b=e,y.reset(b),i.duration(b),o.duration(b),a.duration(b)}},color:{get:function(){return d},set:function(e){d=t.utils.getColor(e),i.color(d)}},rightAlignYAxis:{get:function(){return p},set:function(e){p=e,a.orient(e?"right":"left")}}}),t.utils.inheritOptions(e,i),t.utils.initOptions(e),e},t.models.distribution=function(){"use strict";function e(u){return f.reset(),u.each(function(e){var u=(i-("x"===a?r.left+r.right:r.top+r.bottom),"x"==a?"y":"x"),d=d3.select(this);t.utils.initSVG(d),n=n||c;var m=d.selectAll("g.nv-distribution").data([e]),p=m.enter().append("g").attr("class","nvd3 nv-distribution"),g=(p.append("g"),m.select("g"));m.attr("transform","translate("+r.left+","+r.top+")");var v=g.selectAll("g.nv-dist").data(function(e){return e},function(e){return e.key});v.enter().append("g"),v.attr("class",function(e,t){return"nv-dist nv-series-"+t}).style("stroke",function(e,t){return s(e,t)});var h=v.selectAll("line.nv-dist"+a).data(function(e){return e.values});h.enter().append("line").attr(a+"1",function(e,t){return n(l(e,t))}).attr(a+"2",function(e,t){return n(l(e,t))}),f.transition(v.exit().selectAll("line.nv-dist"+a),"dist exit").attr(a+"1",function(e,t){return c(l(e,t))}).attr(a+"2",function(e,t){return c(l(e,t))}).style("stroke-opacity",0).remove(),h.attr("class",function(e,t){return"nv-dist"+a+" nv-dist"+a+"-"+t}).attr(u+"1",0).attr(u+"2",o),f.transition(h,"dist").attr(a+"1",function(e,t){return c(l(e,t))}).attr(a+"2",function(e,t){return c(l(e,t))}),n=c.copy()}),f.renderEnd("distribution immediate"),e}var n,r={top:0,right:0,bottom:0,left:0},i=400,o=8,a="x",l=function(e){return e[a]},s=t.utils.defaultColor(),c=d3.scale.linear(),u=250,d=d3.dispatch("renderEnd"),f=t.utils.renderWatch(d,u);return e.options=t.utils.optionsFunc.bind(e),e.dispatch=d,e.margin=function(t){return arguments.length?(r.top="undefined"!=typeof t.top?t.top:r.top,r.right="undefined"!=typeof t.right?t.right:r.right,r.bottom="undefined"!=typeof t.bottom?t.bottom:r.bottom,r.left="undefined"!=typeof t.left?t.left:r.left,e):r},e.width=function(t){return arguments.length?(i=t,e):i},e.axis=function(t){return arguments.length?(a=t,e):a},e.size=function(t){return arguments.length?(o=t,e):o},e.getData=function(t){return arguments.length?(l=d3.functor(t),e):l},e.scale=function(t){return arguments.length?(c=t,e):c},e.color=function(n){return arguments.length?(s=t.utils.getColor(n),e):s},e.duration=function(t){return arguments.length?(u=t,f.reset(u),e):u},e},t.models.furiousLegend=function(){"use strict";function e(g){function v(e,t){return"furious"!=p?"#000":f?e.disengaged?a(e,t):"#fff":f?void 0:e.disabled?a(e,t):"#fff"}function h(e,t){return f&&"furious"==p?e.disengaged?"#fff":a(e,t):e.disabled?"#fff":a(e,t)}return g.each(function(e){var g=r-n.left-n.right,b=d3.select(this);t.utils.initSVG(b);var y=b.selectAll("g.nv-legend").data([e]),E=(y.enter().append("g").attr("class","nvd3 nv-legend").append("g"),y.select("g"));y.attr("transform","translate("+n.left+","+n.top+")");var S,_=E.selectAll(".nv-series").data(function(e){return"furious"!=p?e:e.filter(function(e){return!!f||!e.disengaged})}),w=_.enter().append("g").attr("class","nv-series");if("classic"==p)w.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),S=_.select("circle");else if("furious"==p){w.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),S=_.select("rect"),w.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)");var A=_.select(".nv-check-box");A.each(function(e,t){d3.select(this).selectAll("path").attr("stroke",v(e,t))})}w.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var T=_.select("text.nv-legend-text");_.on("mouseover",function(e,t){m.legendMouseover(e,t)}).on("mouseout",function(e,t){m.legendMouseout(e,t)}).on("click",function(e,t){m.legendClick(e,t);var n=_.data();if(u){if("classic"==p)d?(n.forEach(function(e){e.disabled=!0}),e.disabled=!1):(e.disabled=!e.disabled,n.every(function(e){return e.disabled})&&n.forEach(function(e){e.disabled=!1}));else if("furious"==p)if(f)e.disengaged=!e.disengaged,e.userDisabled=void 0==e.userDisabled?!!e.disabled:e.userDisabled,e.disabled=e.disengaged||e.userDisabled;else if(!f){e.disabled=!e.disabled,e.userDisabled=e.disabled;var r=n.filter(function(e){return!e.disengaged});r.every(function(e){return e.userDisabled})&&n.forEach(function(e){e.disabled=e.userDisabled=!1})}m.stateChange({disabled:n.map(function(e){return!!e.disabled}),disengaged:n.map(function(e){return!!e.disengaged})})}}).on("dblclick",function(e,t){if(("furious"!=p||!f)&&(m.legendDblclick(e,t),u)){var n=_.data();n.forEach(function(e){e.disabled=!0,"furious"==p&&(e.userDisabled=e.disabled)}),e.disabled=!1,"furious"==p&&(e.userDisabled=e.disabled),m.stateChange({disabled:n.map(function(e){return!!e.disabled})})}}),_.classed("nv-disabled",function(e){return e.userDisabled}),_.exit().remove(),T.attr("fill",v).text(o);var I;switch(p){case"furious":I=23;break;case"classic":I=20}if(l){var C=[];_.each(function(e,n){var r,i=d3.select(this).select("text");try{if(r=i.node().getComputedTextLength(),r<=0)throw Error()}catch(e){r=t.utils.calcApproxTextWidth(i)}C.push(r+s)});for(var x=0,D=0,M=[];D<g&&x<C.length;)M[x]=C[x],D+=C[x++];for(0===x&&(x=1);D>g&&x>1;){M=[],x--;for(var O=0;O<C.length;O++)C[O]>(M[O%x]||0)&&(M[O%x]=C[O]);D=M.reduce(function(e,t,n,r){return e+t})}for(var R=[],N=0,L=0;N<x;N++)R[N]=L,L+=M[N];_.attr("transform",function(e,t){return"translate("+R[t%x]+","+(5+Math.floor(t/x)*I)+")"}),c?E.attr("transform","translate("+(r-n.right-D)+","+n.top+")"):E.attr("transform","translate(0,"+n.top+")"),i=n.top+n.bottom+Math.ceil(C.length/x)*I}else{var P,k=5,G=5,F=0;_.attr("transform",function(e,t){var i=d3.select(this).select("text").node().getComputedTextLength()+s;return P=G,r<n.left+n.right+P+i&&(G=P=5,k+=I),G+=i,G>F&&(F=G),"translate("+P+","+k+")"}),E.attr("transform","translate("+(r-n.right-F)+","+n.top+")"),i=n.top+n.bottom+k+15}"furious"==p&&S.attr("width",function(e,t){return T[0][t].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),S.style("fill",h).style("stroke",function(e,t){return e.color||a(e,t)})}),e}var n={top:5,right:0,bottom:5,left:0},r=400,i=20,o=function(e){return e.key},a=t.utils.getColor(),l=!0,s=28,c=!0,u=!0,d=!1,f=!1,m=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),p="classic";return e.dispatch=m,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return r},set:function(e){r=e}},height:{get:function(){return i},set:function(e){i=e}},key:{get:function(){return o},set:function(e){o=e}},align:{get:function(){return l},set:function(e){l=e}},rightAlign:{get:function(){return c},set:function(e){c=e}},padding:{get:function(){return s},set:function(e){s=e}},updateState:{get:function(){return u},set:function(e){u=e}},radioButtonMode:{get:function(){return d},set:function(e){d=e}},expanded:{get:function(){return f},set:function(e){f=e}},vers:{get:function(){return p},set:function(e){p=e}},margin:{get:function(){return n},set:function(e){n.top=void 0!==e.top?e.top:n.top,n.right=void 0!==e.right?e.right:n.right,n.bottom=void 0!==e.bottom?e.bottom:n.bottom,n.left=void 0!==e.left?e.left:n.left}},color:{get:function(){return a},set:function(e){a=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.historicalBar=function(){"use strict";function e(w){return w.each(function(e){_.reset(),u=d3.select(this);var w=t.utils.availableWidth(l,u,a),A=t.utils.availableHeight(s,u,a);t.utils.initSVG(u),d.domain(n||d3.extent(e[0].values.map(m).concat(g))),h?d.range(i||[.5*w/e[0].values.length,w*(e[0].values.length-.5)/e[0].values.length]):d.range(i||[0,w]),f.domain(r||d3.extent(e[0].values.map(p).concat(v))).range(o||[A,0]),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]):d.domain([-1,1])),f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]+.01*f.domain()[0],f.domain()[1]-.01*f.domain()[1]]):f.domain([-1,1]));var T=u.selectAll("g.nv-wrap.nv-historicalBar-"+c).data([e[0].values]),I=T.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+c),C=I.append("defs"),x=I.append("g"),D=T.select("g");x.append("g").attr("class","nv-bars"),T.attr("transform","translate("+a.left+","+a.top+")"),u.on("click",function(e,t){E.chartClick({data:e,index:t,pos:d3.event,id:c})}),C.append("clipPath").attr("id","nv-chart-clip-path-"+c).append("rect"),T.select("#nv-chart-clip-path-"+c+" rect").attr("width",w).attr("height",A),D.attr("clip-path",b?"url(#nv-chart-clip-path-"+c+")":"");var M=T.select(".nv-bars").selectAll(".nv-bar").data(function(e){return e},function(e,t){return m(e,t)});M.exit().remove(),M.enter().append("rect").attr("x",0).attr("y",function(e,n){return t.utils.NaNtoZero(f(Math.max(0,p(e,n))))}).attr("height",function(e,n){return t.utils.NaNtoZero(Math.abs(f(p(e,n))-f(0)))}).attr("transform",function(t,n){return"translate("+(d(m(t,n))-w/e[0].values.length*.45)+",0)"}).on("mouseover",function(e,t){S&&(d3.select(this).classed("hover",!0),E.elementMouseover({data:e,index:t,color:d3.select(this).style("fill")}))}).on("mouseout",function(e,t){S&&(d3.select(this).classed("hover",!1),E.elementMouseout({data:e,index:t,color:d3.select(this).style("fill")}))}).on("mousemove",function(e,t){S&&E.elementMousemove({data:e,index:t,color:d3.select(this).style("fill")})}).on("click",function(e,t){S&&(E.elementClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation())}).on("dblclick",function(e,t){S&&(E.elementDblClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation())}),M.attr("fill",function(e,t){return y(e,t)}).attr("class",function(e,t,n){return(p(e,t)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+n+"-"+t}).watchTransition(_,"bars").attr("transform",function(t,n){return"translate("+(d(m(t,n))-w/e[0].values.length*.45)+",0)"}).attr("width",w/e[0].values.length*.9),M.watchTransition(_,"bars").attr("y",function(e,n){var r=p(e,n)<0?f(0):f(0)-f(p(e,n))<1?f(0)-1:f(p(e,n));return t.utils.NaNtoZero(r)}).attr("height",function(e,n){return t.utils.NaNtoZero(Math.max(Math.abs(f(p(e,n))-f(0)),1))})}),_.renderEnd("historicalBar immediate"),e}var n,r,i,o,a={top:0,right:0,bottom:0,left:0},l=null,s=null,c=Math.floor(1e4*Math.random()),u=null,d=d3.scale.linear(),f=d3.scale.linear(),m=function(e){return e.x},p=function(e){return e.y},g=[],v=[0],h=!1,b=!0,y=t.utils.defaultColor(),E=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),S=!0,_=t.utils.renderWatch(E,0);return e.highlightPoint=function(e,t){u.select(".nv-bars .nv-bar-0-"+e).classed("hover",t)},e.clearHighlights=function(){u.select(".nv-bars .nv-bar.hover").classed("hover",!1)},e.dispatch=E,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return l},set:function(e){l=e}},height:{get:function(){return s},set:function(e){s=e}},forceX:{get:function(){return g},set:function(e){g=e}},forceY:{get:function(){return v},set:function(e){v=e}},padData:{get:function(){return h},set:function(e){h=e}},x:{get:function(){return m},set:function(e){m=e}},y:{get:function(){return p},set:function(e){p=e}},xScale:{get:function(){return d},set:function(e){d=e}},yScale:{get:function(){return f},set:function(e){f=e}},xDomain:{get:function(){return n},set:function(e){n=e}},yDomain:{get:function(){return r},set:function(e){r=e}},xRange:{get:function(){return i},set:function(e){i=e}},yRange:{get:function(){return o},set:function(e){o=e}},clipEdge:{get:function(){return b},set:function(e){b=e}},id:{get:function(){return c},set:function(e){c=e}},interactive:{get:function(){return S},set:function(e){S=e}},margin:{get:function(){return a},set:function(e){a.top=void 0!==e.top?e.top:a.top,a.right=void 0!==e.right?e.right:a.right,a.bottom=void 0!==e.bottom?e.bottom:a.bottom,a.left=void 0!==e.left?e.left:a.left}},color:{get:function(){return y},set:function(e){y=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.historicalBarChart=function(e){"use strict";function n(e){return e.each(function(u){T.reset(),T.models(o),v&&T.models(a),h&&T.models(l);var _=d3.select(this),I=this;t.utils.initSVG(_);var C=t.utils.availableWidth(m,_,d),x=t.utils.availableHeight(p,_,d);if(n.update=function(){_.transition().duration(A).call(n)},n.container=this,E.disabled=u.map(function(e){return!!e.disabled}),!S){var D;S={};for(D in E)E[D]instanceof Array?S[D]=E[D].slice(0):S[D]=E[D]}if(!(u&&u.length&&u.filter(function(e){return e.values.length}).length))return t.utils.noData(n,_),n;_.selectAll(".nv-noData").remove(),r=o.xScale(),i=o.yScale();var M=_.selectAll("g.nv-wrap.nv-historicalBarChart").data([u]),O=M.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),R=M.select("g");O.append("g").attr("class","nv-x nv-axis"),O.append("g").attr("class","nv-y nv-axis"),O.append("g").attr("class","nv-barsWrap"),O.append("g").attr("class","nv-legendWrap"),O.append("g").attr("class","nv-interactive"),g&&(s.width(C),R.select(".nv-legendWrap").datum(u).call(s),d.top!=s.height()&&(d.top=s.height(),x=t.utils.availableHeight(p,_,d)),M.select(".nv-legendWrap").attr("transform","translate(0,"+-d.top+")")),M.attr("transform","translate("+d.left+","+d.top+")"),b&&R.select(".nv-y.nv-axis").attr("transform","translate("+C+",0)"),y&&(c.width(C).height(x).margin({left:d.left,top:d.top}).svgContainer(_).xScale(r),M.select(".nv-interactive").call(c)),o.width(C).height(x).color(u.map(function(e,t){return e.color||f(e,t)}).filter(function(e,t){return!u[t].disabled}));var N=R.select(".nv-barsWrap").datum(u.filter(function(e){return!e.disabled}));N.transition().call(o),v&&(a.scale(r)._ticks(t.utils.calcTicksX(C/100,u)).tickSize(-x,0),R.select(".nv-x.nv-axis").attr("transform","translate(0,"+i.range()[0]+")"),R.select(".nv-x.nv-axis").transition().call(a)),h&&(l.scale(i)._ticks(t.utils.calcTicksY(x/36,u)).tickSize(-C,0),R.select(".nv-y.nv-axis").transition().call(l)),c.dispatch.on("elementMousemove",function(e){o.clearHighlights();var r,i,s,m=[];u.filter(function(e,t){return e.seriesIndex=t,!e.disabled}).forEach(function(a,l){i=t.interactiveBisect(a.values,e.pointXValue,n.x()),o.highlightPoint(i,!0);var c=a.values[i];void 0!==c&&(void 0===r&&(r=c),void 0===s&&(s=n.xScale()(n.x()(c,i))),m.push({key:a.key,value:n.y()(c,i),color:f(a,a.seriesIndex),data:a.values[i]}))});var p=a.tickFormat()(n.x()(r,i));c.tooltip.position({left:s+d.left,top:e.mouseY+d.top}).chartContainer(I.parentNode).valueFormatter(function(e,t){return l.tickFormat()(e)}).data({value:p,index:i,series:m})(),c.renderGuideLine(s)}),c.dispatch.on("elementMouseout",function(e){w.tooltipHide(),o.clearHighlights()}),s.dispatch.on("legendClick",function(t,r){t.disabled=!t.disabled,u.filter(function(e){return!e.disabled}).length||u.map(function(e){return e.disabled=!1,M.selectAll(".nv-series").classed("disabled",!1),e}),E.disabled=u.map(function(e){return!!e.disabled}),w.stateChange(E),e.transition().call(n)}),s.dispatch.on("legendDblclick",function(e){u.forEach(function(e){e.disabled=!0}),e.disabled=!1,E.disabled=u.map(function(e){return!!e.disabled}),w.stateChange(E),n.update()}),w.on("changeState",function(e){"undefined"!=typeof e.disabled&&(u.forEach(function(t,n){t.disabled=e.disabled[n]}),E.disabled=e.disabled),n.update()})}),T.renderEnd("historicalBarChart immediate"),n}var r,i,o=e||t.models.historicalBar(),a=t.models.axis(),l=t.models.axis(),s=t.models.legend(),c=t.interactiveGuideline(),u=t.models.tooltip(),d={top:30,right:90,bottom:50,left:90},f=t.utils.defaultColor(),m=null,p=null,g=!1,v=!0,h=!0,b=!1,y=!1,E={},S=null,_=null,w=d3.dispatch("tooltipHide","stateChange","changeState","renderEnd"),A=250;a.orient("bottom").tickPadding(7),l.orient(b?"right":"left"),u.duration(0).headerEnabled(!1).valueFormatter(function(e,t){return l.tickFormat()(e,t)}).headerFormatter(function(e,t){return a.tickFormat()(e,t)});var T=t.utils.renderWatch(w,0);return o.dispatch.on("elementMouseover.tooltip",function(e){e.series={key:n.x()(e.data),value:n.y()(e.data),color:e.color},u.data(e).hidden(!1)}),o.dispatch.on("elementMouseout.tooltip",function(e){u.hidden(!0)}),o.dispatch.on("elementMousemove.tooltip",function(e){u.position({top:d3.event.pageY,left:d3.event.pageX})()}),n.dispatch=w,n.bars=o,n.legend=s,n.xAxis=a,n.yAxis=l,n.interactiveLayer=c,n.tooltip=u,n.options=t.utils.optionsFunc.bind(n),n._options=Object.create({},{width:{get:function(){return m},set:function(e){m=e}},height:{get:function(){return p},set:function(e){p=e}},showLegend:{get:function(){return g},set:function(e){g=e}},showXAxis:{get:function(){return v},set:function(e){v=e}},showYAxis:{get:function(){return h},set:function(e){h=e}},defaultState:{get:function(){return S},set:function(e){S=e}},noData:{get:function(){return _},set:function(e){_=e}},tooltips:{get:function(){return u.enabled()},set:function(e){t.deprecated("tooltips","use chart.tooltip.enabled() instead"),u.enabled(!!e)}},tooltipContent:{get:function(){return u.contentGenerator()},set:function(e){t.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),u.contentGenerator(e)}},margin:{get:function(){return d},set:function(e){d.top=void 0!==e.top?e.top:d.top,d.right=void 0!==e.right?e.right:d.right,d.bottom=void 0!==e.bottom?e.bottom:d.bottom,d.left=void 0!==e.left?e.left:d.left}},color:{get:function(){return f},set:function(e){f=t.utils.getColor(e),s.color(f),o.color(f)}},duration:{get:function(){return A},set:function(e){A=e,T.reset(A),l.duration(A),a.duration(A)}},rightAlignYAxis:{get:function(){return b},set:function(e){b=e,l.orient(e?"right":"left")}},useInteractiveGuideline:{get:function(){return y},set:function(e){y=e,e===!0&&n.interactive(!1)}}}),t.utils.inheritOptions(n,o),t.utils.initOptions(n),n},t.models.ohlcBarChart=function(){var e=t.models.historicalBarChart(t.models.ohlcBar());return e.useInteractiveGuideline(!0),e.interactiveLayer.tooltip.contentGenerator(function(t){var n=t.series[0].data,r=n.open<n.close?"2ca02c":"d62728";return'<h3 style="color: #'+r+'">'+t.value+"</h3><table><tr><td>open:</td><td>"+e.yAxis.tickFormat()(n.open)+"</td></tr><tr><td>close:</td><td>"+e.yAxis.tickFormat()(n.close)+"</td></tr><tr><td>high</td><td>"+e.yAxis.tickFormat()(n.high)+"</td></tr><tr><td>low:</td><td>"+e.yAxis.tickFormat()(n.low)+"</td></tr></table>"}),e},t.models.candlestickBarChart=function(){var e=t.models.historicalBarChart(t.models.candlestickBar());return e.useInteractiveGuideline(!0),e.interactiveLayer.tooltip.contentGenerator(function(t){var n=t.series[0].data,r=n.open<n.close?"2ca02c":"d62728";return'<h3 style="color: #'+r+'">'+t.value+"</h3><table><tr><td>open:</td><td>"+e.yAxis.tickFormat()(n.open)+"</td></tr><tr><td>close:</td><td>"+e.yAxis.tickFormat()(n.close)+"</td></tr><tr><td>high</td><td>"+e.yAxis.tickFormat()(n.high)+"</td></tr><tr><td>low:</td><td>"+e.yAxis.tickFormat()(n.low)+"</td></tr></table>"}),e},t.models.legend=function(){"use strict";function e(g){function v(e,t){return"furious"!=p?"#000":f?e.disengaged?"#000":"#fff":f?void 0:(e.color||(e.color=a(e,t)),
e.disabled?e.color:"#fff")}function h(e,t){return f&&"furious"==p&&e.disengaged?"#eee":e.color||a(e,t)}function b(e,t){return f&&"furious"==p?1:e.disabled?0:1}return g.each(function(e){var a=r-n.left-n.right,g=d3.select(this);t.utils.initSVG(g);var y=g.selectAll("g.nv-legend").data([e]),E=y.enter().append("g").attr("class","nvd3 nv-legend").append("g"),S=y.select("g");y.attr("transform","translate("+n.left+","+n.top+")");var _,w,A=S.selectAll(".nv-series").data(function(e){return"furious"!=p?e:e.filter(function(e){return!!f||!e.disengaged})}),T=A.enter().append("g").attr("class","nv-series");switch(p){case"furious":w=23;break;case"classic":w=20}if("classic"==p)T.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),_=A.select("circle");else if("furious"==p){T.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),_=A.select(".nv-legend-symbol"),T.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)");var I=A.select(".nv-check-box");I.each(function(e,t){d3.select(this).selectAll("path").attr("stroke",v(e,t))})}T.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var C=A.select("text.nv-legend-text");A.on("mouseover",function(e,t){m.legendMouseover(e,t)}).on("mouseout",function(e,t){m.legendMouseout(e,t)}).on("click",function(e,t){m.legendClick(e,t);var n=A.data();if(u){if("classic"==p)d?(n.forEach(function(e){e.disabled=!0}),e.disabled=!1):(e.disabled=!e.disabled,n.every(function(e){return e.disabled})&&n.forEach(function(e){e.disabled=!1}));else if("furious"==p)if(f)e.disengaged=!e.disengaged,e.userDisabled=void 0==e.userDisabled?!!e.disabled:e.userDisabled,e.disabled=e.disengaged||e.userDisabled;else if(!f){e.disabled=!e.disabled,e.userDisabled=e.disabled;var r=n.filter(function(e){return!e.disengaged});r.every(function(e){return e.userDisabled})&&n.forEach(function(e){e.disabled=e.userDisabled=!1})}m.stateChange({disabled:n.map(function(e){return!!e.disabled}),disengaged:n.map(function(e){return!!e.disengaged})})}}).on("dblclick",function(e,t){if(("furious"!=p||!f)&&(m.legendDblclick(e,t),u)){var n=A.data();n.forEach(function(e){e.disabled=!0,"furious"==p&&(e.userDisabled=e.disabled)}),e.disabled=!1,"furious"==p&&(e.userDisabled=e.disabled),m.stateChange({disabled:n.map(function(e){return!!e.disabled})})}}),A.classed("nv-disabled",function(e){return e.userDisabled}),A.exit().remove(),C.attr("fill",v).text(o);var x=0;if(l){var D=[];A.each(function(e,n){var r,i=d3.select(this).select("text");try{if(r=i.node().getComputedTextLength(),r<=0)throw Error()}catch(e){r=t.utils.calcApproxTextWidth(i)}D.push(r+s)});var M=0,O=[];for(x=0;x<a&&M<D.length;)O[M]=D[M],x+=D[M++];for(0===M&&(M=1);x>a&&M>1;){O=[],M--;for(var R=0;R<D.length;R++)D[R]>(O[R%M]||0)&&(O[R%M]=D[R]);x=O.reduce(function(e,t,n,r){return e+t})}for(var N=[],L=0,P=0;L<M;L++)N[L]=P,P+=O[L];A.attr("transform",function(e,t){return"translate("+N[t%M]+","+(5+Math.floor(t/M)*w)+")"}),c?S.attr("transform","translate("+(r-n.right-x)+","+n.top+")"):S.attr("transform","translate(0,"+n.top+")"),i=n.top+n.bottom+Math.ceil(D.length/M)*w}else{var k,G=5,F=5,U=0;A.attr("transform",function(e,t){var i=d3.select(this).select("text").node().getComputedTextLength()+s;return k=F,r<n.left+n.right+k+i&&(F=k=5,G+=w),F+=i,F>U&&(U=F),x<k+U&&(x=k+U),"translate("+k+","+G+")"}),S.attr("transform","translate("+(r-n.right-U)+","+n.top+")"),i=n.top+n.bottom+G+15}if("furious"==p){_.attr("width",function(e,t){return C[0][t].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),E.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0);var V=S.select(".nv-legend-bg");V.transition().duration(300).attr("x",-w).attr("width",x+w-12).attr("height",i+10).attr("y",-n.top-10).attr("opacity",f?1:0)}_.style("fill",h).style("fill-opacity",b).style("stroke",h)}),e}var n={top:5,right:0,bottom:5,left:0},r=400,i=20,o=function(e){return e.key},a=t.utils.getColor(),l=!0,s=32,c=!0,u=!0,d=!1,f=!1,m=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),p="classic";return e.dispatch=m,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return r},set:function(e){r=e}},height:{get:function(){return i},set:function(e){i=e}},key:{get:function(){return o},set:function(e){o=e}},align:{get:function(){return l},set:function(e){l=e}},rightAlign:{get:function(){return c},set:function(e){c=e}},padding:{get:function(){return s},set:function(e){s=e}},updateState:{get:function(){return u},set:function(e){u=e}},radioButtonMode:{get:function(){return d},set:function(e){d=e}},expanded:{get:function(){return f},set:function(e){f=e}},vers:{get:function(){return p},set:function(e){p=e}},margin:{get:function(){return n},set:function(e){n.top=void 0!==e.top?e.top:n.top,n.right=void 0!==e.right?e.right:n.right,n.bottom=void 0!==e.bottom?e.bottom:n.bottom,n.left=void 0!==e.left?e.left:n.left}},color:{get:function(){return a},set:function(e){a=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.line=function(){"use strict";function e(h){return S.reset(),S.models(i),h.each(function(e){s=d3.select(this);var h=t.utils.availableWidth(a,s,o),b=t.utils.availableHeight(l,s,o);t.utils.initSVG(s),n=i.xScale(),r=i.yScale(),y=y||n,E=E||r;var _=s.selectAll("g.nv-wrap.nv-line").data([e]),w=_.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),A=w.append("defs"),T=w.append("g"),I=_.select("g");T.append("g").attr("class","nv-groups"),T.append("g").attr("class","nv-scatterWrap"),_.attr("transform","translate("+o.left+","+o.top+")"),i.width(h).height(b);var C=_.select(".nv-scatterWrap");C.call(i),A.append("clipPath").attr("id","nv-edge-clip-"+i.id()).append("rect"),_.select("#nv-edge-clip-"+i.id()+" rect").attr("width",h).attr("height",b>0?b:0),I.attr("clip-path",g?"url(#nv-edge-clip-"+i.id()+")":""),C.attr("clip-path",g?"url(#nv-edge-clip-"+i.id()+")":"");var x=_.select(".nv-groups").selectAll(".nv-group").data(function(e){return e},function(e){return e.key});x.enter().append("g").style("stroke-opacity",1e-6).style("stroke-width",function(e){return e.strokeWidth||c}).style("fill-opacity",1e-6),x.exit().remove(),x.attr("class",function(e,t){return(e.classed||"")+" nv-group nv-series-"+t}).classed("hover",function(e){return e.hover}).style("fill",function(e,t){return u(e,t)}).style("stroke",function(e,t){return u(e,t)}),x.watchTransition(S,"line: groups").style("stroke-opacity",1).style("fill-opacity",function(e){return e.fillOpacity||.5});var D=x.selectAll("path.nv-area").data(function(e){return p(e)?[e]:[]});D.enter().append("path").attr("class","nv-area").attr("d",function(e){return d3.svg.area().interpolate(v).defined(m).x(function(e,n){return t.utils.NaNtoZero(y(d(e,n)))}).y0(function(e,n){return t.utils.NaNtoZero(E(f(e,n)))}).y1(function(e,t){return E(r.domain()[0]<=0?r.domain()[1]>=0?0:r.domain()[1]:r.domain()[0])}).apply(this,[e.values])}),x.exit().selectAll("path.nv-area").remove(),D.watchTransition(S,"line: areaPaths").attr("d",function(e){return d3.svg.area().interpolate(v).defined(m).x(function(e,r){return t.utils.NaNtoZero(n(d(e,r)))}).y0(function(e,n){return t.utils.NaNtoZero(r(f(e,n)))}).y1(function(e,t){return r(r.domain()[0]<=0?r.domain()[1]>=0?0:r.domain()[1]:r.domain()[0])}).apply(this,[e.values])});var M=x.selectAll("path.nv-line").data(function(e){return[e.values]});M.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(v).defined(m).x(function(e,n){return t.utils.NaNtoZero(y(d(e,n)))}).y(function(e,n){return t.utils.NaNtoZero(E(f(e,n)))})),M.watchTransition(S,"line: linePaths").attr("d",d3.svg.line().interpolate(v).defined(m).x(function(e,r){return t.utils.NaNtoZero(n(d(e,r)))}).y(function(e,n){return t.utils.NaNtoZero(r(f(e,n)))})),y=n.copy(),E=r.copy()}),S.renderEnd("line immediate"),e}var n,r,i=t.models.scatter(),o={top:0,right:0,bottom:0,left:0},a=960,l=500,s=null,c=1.5,u=t.utils.defaultColor(),d=function(e){return e.x},f=function(e){return e.y},m=function(e,t){return!isNaN(f(e,t))&&null!==f(e,t)},p=function(e){return e.area},g=!1,v="linear",h=250,b=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");i.pointSize(16).pointDomain([16,256]);var y,E,S=t.utils.renderWatch(b,h);return e.dispatch=b,e.scatter=i,i.dispatch.on("elementClick",function(){b.elementClick.apply(this,arguments)}),i.dispatch.on("elementMouseover",function(){b.elementMouseover.apply(this,arguments)}),i.dispatch.on("elementMouseout",function(){b.elementMouseout.apply(this,arguments)}),e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return a},set:function(e){a=e}},height:{get:function(){return l},set:function(e){l=e}},defined:{get:function(){return m},set:function(e){m=e}},interpolate:{get:function(){return v},set:function(e){v=e}},clipEdge:{get:function(){return g},set:function(e){g=e}},margin:{get:function(){return o},set:function(e){o.top=void 0!==e.top?e.top:o.top,o.right=void 0!==e.right?e.right:o.right,o.bottom=void 0!==e.bottom?e.bottom:o.bottom,o.left=void 0!==e.left?e.left:o.left}},duration:{get:function(){return h},set:function(e){h=e,S.reset(h),i.duration(h)}},isArea:{get:function(){return p},set:function(e){p=d3.functor(e)}},x:{get:function(){return d},set:function(e){d=e,i.x(e)}},y:{get:function(){return f},set:function(e){f=e,i.y(e)}},color:{get:function(){return u},set:function(e){u=t.utils.getColor(e),i.color(u)}}}),t.utils.inheritOptions(e,i),t.utils.initOptions(e),e},t.models.lineChart=function(){"use strict";function e(c){return A.reset(),A.models(i),g&&A.models(o),v&&A.models(a),c.each(function(c){var S=d3.select(this),A=this;t.utils.initSVG(S);var C=t.utils.availableWidth(f,S,u),x=t.utils.availableHeight(m,S,u);if(e.update=function(){0===w?S.call(e):S.transition().duration(w).call(e)},e.container=this,y.setter(I(c),e.update).getter(T(c)).update(),y.disabled=c.map(function(e){return!!e.disabled}),!E){var D;E={};for(D in y)y[D]instanceof Array?E[D]=y[D].slice(0):E[D]=y[D]}if(!(c&&c.length&&c.filter(function(e){return e.values.length}).length))return t.utils.noData(e,S),e;S.selectAll(".nv-noData").remove(),n=i.xScale(),r=i.yScale();var M=S.selectAll("g.nv-wrap.nv-lineChart").data([c]),O=M.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),R=M.select("g");O.append("rect").style("opacity",0),O.append("g").attr("class","nv-x nv-axis"),O.append("g").attr("class","nv-y nv-axis"),O.append("g").attr("class","nv-linesWrap"),O.append("g").attr("class","nv-legendWrap"),O.append("g").attr("class","nv-interactive"),R.select("rect").attr("width",C).attr("height",x>0?x:0),p&&(l.width(C),R.select(".nv-legendWrap").datum(c).call(l),u.top!=l.height()&&(u.top=l.height(),x=t.utils.availableHeight(m,S,u)),M.select(".nv-legendWrap").attr("transform","translate(0,"+-u.top+")")),M.attr("transform","translate("+u.left+","+u.top+")"),h&&R.select(".nv-y.nv-axis").attr("transform","translate("+C+",0)"),b&&(s.width(C).height(x).margin({left:u.left,top:u.top}).svgContainer(S).xScale(n),M.select(".nv-interactive").call(s)),i.width(C).height(x).color(c.map(function(e,t){return e.color||d(e,t)}).filter(function(e,t){return!c[t].disabled}));var N=R.select(".nv-linesWrap").datum(c.filter(function(e){return!e.disabled}));N.call(i),g&&(o.scale(n)._ticks(t.utils.calcTicksX(C/100,c)).tickSize(-x,0),R.select(".nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),R.select(".nv-x.nv-axis").call(o)),v&&(a.scale(r)._ticks(t.utils.calcTicksY(x/36,c)).tickSize(-C,0),R.select(".nv-y.nv-axis").call(a)),l.dispatch.on("stateChange",function(t){for(var n in t)y[n]=t[n];_.stateChange(y),e.update()}),s.dispatch.on("elementMousemove",function(n){i.clearHighlights();var r,l,f,m=[];if(c.filter(function(e,t){return e.seriesIndex=t,!e.disabled}).forEach(function(o,a){l=t.interactiveBisect(o.values,n.pointXValue,e.x());var s=o.values[l],c=e.y()(s,l);null!=c&&i.highlightPoint(a,l,!0),void 0!==s&&(void 0===r&&(r=s),void 0===f&&(f=e.xScale()(e.x()(s,l))),m.push({key:o.key,value:c,color:d(o,o.seriesIndex)}))}),m.length>2){var p=e.yScale().invert(n.mouseY),g=Math.abs(e.yScale().domain()[0]-e.yScale().domain()[1]),v=.03*g,h=t.nearestValueIndex(m.map(function(e){return e.value}),p,v);null!==h&&(m[h].highlight=!0)}var b=o.tickFormat()(e.x()(r,l));s.tooltip.position({left:n.mouseX+u.left,top:n.mouseY+u.top}).chartContainer(A.parentNode).valueFormatter(function(e,t){return null==e?"N/A":a.tickFormat()(e)}).data({value:b,index:l,series:m})(),s.renderGuideLine(f)}),s.dispatch.on("elementClick",function(n){var r,o=[];c.filter(function(e,t){return e.seriesIndex=t,!e.disabled}).forEach(function(i){var a=t.interactiveBisect(i.values,n.pointXValue,e.x()),l=i.values[a];if("undefined"!=typeof l){"undefined"==typeof r&&(r=e.xScale()(e.x()(l,a)));var s=e.yScale()(e.y()(l,a));o.push({point:l,pointIndex:a,pos:[r,s],seriesIndex:i.seriesIndex,series:i})}}),i.dispatch.elementClick(o)}),s.dispatch.on("elementMouseout",function(e){i.clearHighlights()}),_.on("changeState",function(t){"undefined"!=typeof t.disabled&&c.length===t.disabled.length&&(c.forEach(function(e,n){e.disabled=t.disabled[n]}),y.disabled=t.disabled),e.update()})}),A.renderEnd("lineChart immediate"),e}var n,r,i=t.models.line(),o=t.models.axis(),a=t.models.axis(),l=t.models.legend(),s=t.interactiveGuideline(),c=t.models.tooltip(),u={top:30,right:20,bottom:50,left:60},d=t.utils.defaultColor(),f=null,m=null,p=!0,g=!0,v=!0,h=!1,b=!1,y=t.utils.state(),E=null,S=null,_=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),w=250;o.orient("bottom").tickPadding(7),a.orient(h?"right":"left"),c.valueFormatter(function(e,t){return a.tickFormat()(e,t)}).headerFormatter(function(e,t){return o.tickFormat()(e,t)});var A=t.utils.renderWatch(_,w),T=function(e){return function(){return{active:e.map(function(e){return!e.disabled})}}},I=function(e){return function(t){void 0!==t.active&&e.forEach(function(e,n){e.disabled=!t.active[n]})}};return i.dispatch.on("elementMouseover.tooltip",function(e){c.data(e).position(e.pos).hidden(!1)}),i.dispatch.on("elementMouseout.tooltip",function(e){c.hidden(!0)}),e.dispatch=_,e.lines=i,e.legend=l,e.xAxis=o,e.yAxis=a,e.interactiveLayer=s,e.tooltip=c,e.dispatch=_,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return f},set:function(e){f=e}},height:{get:function(){return m},set:function(e){m=e}},showLegend:{get:function(){return p},set:function(e){p=e}},showXAxis:{get:function(){return g},set:function(e){g=e}},showYAxis:{get:function(){return v},set:function(e){v=e}},defaultState:{get:function(){return E},set:function(e){E=e}},noData:{get:function(){return S},set:function(e){S=e}},tooltips:{get:function(){return c.enabled()},set:function(e){t.deprecated("tooltips","use chart.tooltip.enabled() instead"),c.enabled(!!e)}},tooltipContent:{get:function(){return c.contentGenerator()},set:function(e){t.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),c.contentGenerator(e)}},margin:{get:function(){return u},set:function(e){u.top=void 0!==e.top?e.top:u.top,u.right=void 0!==e.right?e.right:u.right,u.bottom=void 0!==e.bottom?e.bottom:u.bottom,u.left=void 0!==e.left?e.left:u.left}},duration:{get:function(){return w},set:function(e){w=e,A.reset(w),i.duration(w),o.duration(w),a.duration(w)}},color:{get:function(){return d},set:function(e){d=t.utils.getColor(e),l.color(d),i.color(d)}},rightAlignYAxis:{get:function(){return h},set:function(e){h=e,a.orient(h?"right":"left")}},useInteractiveGuideline:{get:function(){return b},set:function(e){b=e,b&&(i.interactive(!1),i.useVoronoi(!1))}}}),t.utils.inheritOptions(e,i),t.utils.initOptions(e),e},t.models.linePlusBarChart=function(){"use strict";function e(S){return S.each(function(S){function P(e){var t=+("e"==e),n=t?1:-1,r=K/3;return"M"+.5*n+","+r+"A6,6 0 0 "+t+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+t+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)}function W(){E.empty()||E.extent(L),ue.data([E.empty()?i.domain():L]).each(function(e,t){var n=i(e[0])-i.range()[0],r=i.range()[1]-i(e[1]);d3.select(this).select(".left").attr("width",n<0?0:n),d3.select(this).select(".right").attr("x",i(e[1])).attr("width",r<0?0:r)})}function H(){L=E.empty()?null:E.extent(),n=E.empty()?i.domain():E.extent(),k.brush({extent:n,brush:E}),W(),d.width(q).height(Y).color(S.map(function(e,t){return e.color||x(e,t)}).filter(function(e,t){return!S[t].disabled&&S[t].bar})),c.width(q).height(Y).color(S.map(function(e,t){return e.color||x(e,t)}).filter(function(e,t){return!S[t].disabled&&!S[t].bar}));var e=re.select(".nv-focus .nv-barsWrap").datum(Z.length?Z.map(function(e,t){return{key:e.key,values:e.values.filter(function(e,t){return d.x()(e,t)>=n[0]&&d.x()(e,t)<=n[1]})}}):[{values:[]}]),l=re.select(".nv-focus .nv-linesWrap").datum(X[0].disabled?[{values:[]}]:X.map(function(e,t){return{area:e.area,fillOpacity:e.fillOpacity,key:e.key,values:e.values.filter(function(e,t){return c.x()(e,t)>=n[0]&&c.x()(e,t)<=n[1]})}}));r=Z.length?d.xScale():c.xScale(),m.scale(r)._ticks(t.utils.calcTicksX(q/100,S)).tickSize(-Y,0),m.domain([Math.ceil(n[0]),Math.floor(n[1])]),re.select(".nv-x.nv-axis").transition().duration(G).call(m),e.transition().duration(G).call(d),l.transition().duration(G).call(c),re.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")"),g.scale(o)._ticks(t.utils.calcTicksY(Y/36,S)).tickSize(-q,0),v.scale(a)._ticks(t.utils.calcTicksY(Y/36,S)).tickSize(Z.length?0:-q,0),re.select(".nv-focus .nv-y1.nv-axis").style("opacity",Z.length?1:0),re.select(".nv-focus .nv-y2.nv-axis").style("opacity",X.length&&!X[0].disabled?1:0).attr("transform","translate("+r.range()[1]+",0)"),re.select(".nv-focus .nv-y1.nv-axis").transition().duration(G).call(g),re.select(".nv-focus .nv-y2.nv-axis").transition().duration(G).call(v)}var j=d3.select(this);t.utils.initSVG(j);var q=t.utils.availableWidth(A,j,_),Y=t.utils.availableHeight(T,j,_)-(M?N:0),K=N-w.top-w.bottom;if(e.update=function(){j.transition().duration(G).call(e)},e.container=this,F.setter($(S),e.update).getter(z(S)).update(),F.disabled=S.map(function(e){return!!e.disabled}),!U){var Q;U={};for(Q in F)F[Q]instanceof Array?U[Q]=F[Q].slice(0):U[Q]=F[Q]}if(!(S&&S.length&&S.filter(function(e){return e.values.length}).length))return t.utils.noData(e,j),e;j.selectAll(".nv-noData").remove();var Z=S.filter(function(e){return!e.disabled&&e.bar}),X=S.filter(function(e){return!e.bar});r=d.xScale(),i=p.scale(),o=d.yScale(),a=c.yScale(),l=f.yScale(),s=u.yScale();var J=S.filter(function(e){return!e.disabled&&e.bar}).map(function(e){return e.values.map(function(e,t){return{x:I(e,t),y:C(e,t)}})}),ee=S.filter(function(e){return!e.disabled&&!e.bar}).map(function(e){return e.values.map(function(e,t){return{x:I(e,t),y:C(e,t)}})});r.range([0,q]),i.domain(d3.extent(d3.merge(J.concat(ee)),function(e){return e.x})).range([0,q]);var te=j.selectAll("g.nv-wrap.nv-linePlusBar").data([S]),ne=te.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),re=te.select("g");ne.append("g").attr("class","nv-legendWrap");var ie=ne.append("g").attr("class","nv-focus");ie.append("g").attr("class","nv-x nv-axis"),ie.append("g").attr("class","nv-y1 nv-axis"),ie.append("g").attr("class","nv-y2 nv-axis"),ie.append("g").attr("class","nv-barsWrap"),ie.append("g").attr("class","nv-linesWrap");var oe=ne.append("g").attr("class","nv-context");if(oe.append("g").attr("class","nv-x nv-axis"),oe.append("g").attr("class","nv-y1 nv-axis"),oe.append("g").attr("class","nv-y2 nv-axis"),oe.append("g").attr("class","nv-barsWrap"),oe.append("g").attr("class","nv-linesWrap"),oe.append("g").attr("class","nv-brushBackground"),oe.append("g").attr("class","nv-x nv-brush"),D){var ae=y.align()?q/2:q,le=y.align()?ae:0;y.width(ae),re.select(".nv-legendWrap").datum(S.map(function(e){return e.originalKey=void 0===e.originalKey?e.key:e.originalKey,e.key=e.originalKey+(e.bar?V:B),e})).call(y),_.top!=y.height()&&(_.top=y.height(),Y=t.utils.availableHeight(T,j,_)-N),re.select(".nv-legendWrap").attr("transform","translate("+le+","+-_.top+")")}te.attr("transform","translate("+_.left+","+_.top+")"),re.select(".nv-context").style("display",M?"initial":"none"),f.width(q).height(K).color(S.map(function(e,t){return e.color||x(e,t)}).filter(function(e,t){return!S[t].disabled&&S[t].bar})),u.width(q).height(K).color(S.map(function(e,t){return e.color||x(e,t)}).filter(function(e,t){return!S[t].disabled&&!S[t].bar}));var se=re.select(".nv-context .nv-barsWrap").datum(Z.length?Z:[{values:[]}]),ce=re.select(".nv-context .nv-linesWrap").datum(X[0].disabled?[{values:[]}]:X);re.select(".nv-context").attr("transform","translate(0,"+(Y+_.bottom+w.top)+")"),se.transition().call(f),ce.transition().call(u),R&&(p._ticks(t.utils.calcTicksX(q/100,S)).tickSize(-K,0),re.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+l.range()[0]+")"),re.select(".nv-context .nv-x.nv-axis").transition().call(p)),O&&(h.scale(l)._ticks(K/36).tickSize(-q,0),b.scale(s)._ticks(K/36).tickSize(Z.length?0:-q,0),re.select(".nv-context .nv-y3.nv-axis").style("opacity",Z.length?1:0).attr("transform","translate(0,"+i.range()[0]+")"),re.select(".nv-context .nv-y2.nv-axis").style("opacity",X.length?1:0).attr("transform","translate("+i.range()[1]+",0)"),re.select(".nv-context .nv-y1.nv-axis").transition().call(h),re.select(".nv-context .nv-y2.nv-axis").transition().call(b)),E.x(i).on("brush",H),L&&E.extent(L);var ue=re.select(".nv-brushBackground").selectAll("g").data([L||E.extent()]),de=ue.enter().append("g");de.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",K),de.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",K);var fe=re.select(".nv-x.nv-brush").call(E);fe.selectAll("rect").attr("height",K),fe.selectAll(".resize").append("path").attr("d",P),y.dispatch.on("stateChange",function(t){for(var n in t)F[n]=t[n];k.stateChange(F),e.update()}),k.on("changeState",function(t){"undefined"!=typeof t.disabled&&(S.forEach(function(e,n){e.disabled=t.disabled[n]}),F.disabled=t.disabled),e.update()}),H()}),e}var n,r,i,o,a,l,s,c=t.models.line(),u=t.models.line(),d=t.models.historicalBar(),f=t.models.historicalBar(),m=t.models.axis(),p=t.models.axis(),g=t.models.axis(),v=t.models.axis(),h=t.models.axis(),b=t.models.axis(),y=t.models.legend(),E=d3.svg.brush(),S=t.models.tooltip(),_={top:30,right:30,bottom:30,left:60},w={top:0,right:30,bottom:20,left:60},A=null,T=null,I=function(e){return e.x},C=function(e){return e.y},x=t.utils.defaultColor(),D=!0,M=!0,O=!1,R=!0,N=50,L=null,P=null,k=d3.dispatch("brush","stateChange","changeState"),G=0,F=t.utils.state(),U=null,V=" (left axis)",B=" (right axis)";c.clipEdge(!0),u.interactive(!1),m.orient("bottom").tickPadding(5),g.orient("left"),v.orient("right"),p.orient("bottom").tickPadding(5),h.orient("left"),b.orient("right"),S.headerEnabled(!0).headerFormatter(function(e,t){return m.tickFormat()(e,t)});var z=function(e){return function(){return{active:e.map(function(e){return!e.disabled})}}},$=function(e){return function(t){void 0!==t.active&&e.forEach(function(e,n){e.disabled=!t.active[n]})}};return c.dispatch.on("elementMouseover.tooltip",function(e){S.duration(100).valueFormatter(function(e,t){return v.tickFormat()(e,t)}).data(e).position(e.pos).hidden(!1)}),c.dispatch.on("elementMouseout.tooltip",function(e){S.hidden(!0)}),d.dispatch.on("elementMouseover.tooltip",function(t){t.value=e.x()(t.data),t.series={value:e.y()(t.data),color:t.color},S.duration(0).valueFormatter(function(e,t){return g.tickFormat()(e,t)}).data(t).hidden(!1)}),d.dispatch.on("elementMouseout.tooltip",function(e){S.hidden(!0)}),d.dispatch.on("elementMousemove.tooltip",function(e){S.position({top:d3.event.pageY,left:d3.event.pageX})()}),e.dispatch=k,e.legend=y,e.lines=c,e.lines2=u,e.bars=d,e.bars2=f,e.xAxis=m,e.x2Axis=p,e.y1Axis=g,e.y2Axis=v,e.y3Axis=h,e.y4Axis=b,e.tooltip=S,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return A},set:function(e){A=e}},height:{get:function(){return T},set:function(e){T=e}},showLegend:{get:function(){return D},set:function(e){D=e}},brushExtent:{get:function(){return L},set:function(e){L=e}},noData:{get:function(){return P},set:function(e){P=e}},focusEnable:{get:function(){return M},set:function(e){M=e}},focusHeight:{get:function(){return N},set:function(e){N=e}},focusShowAxisX:{get:function(){return R},set:function(e){R=e}},focusShowAxisY:{get:function(){return O},set:function(e){O=e}},legendLeftAxisHint:{get:function(){return V},set:function(e){V=e}},legendRightAxisHint:{get:function(){return B},set:function(e){B=e}},tooltips:{get:function(){return S.enabled()},set:function(e){t.deprecated("tooltips","use chart.tooltip.enabled() instead"),S.enabled(!!e)}},tooltipContent:{get:function(){return S.contentGenerator()},set:function(e){t.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),S.contentGenerator(e)}},margin:{get:function(){return _},set:function(e){_.top=void 0!==e.top?e.top:_.top,_.right=void 0!==e.right?e.right:_.right,_.bottom=void 0!==e.bottom?e.bottom:_.bottom,_.left=void 0!==e.left?e.left:_.left}},duration:{get:function(){return G},set:function(e){G=e}},color:{get:function(){return x},set:function(e){x=t.utils.getColor(e),y.color(x)}},x:{get:function(){return I},set:function(e){I=e,c.x(e),u.x(e),d.x(e),f.x(e)}},y:{get:function(){return C},set:function(e){C=e,c.y(e),u.y(e),d.y(e),f.y(e)}}}),t.utils.inheritOptions(e,c),t.utils.initOptions(e),e},t.models.lineWithFocusChart=function(){"use strict";function e(p){return p.each(function(p){function T(e){var t=+("e"==e),n=t?1:-1,r=F/3;return"M"+.5*n+","+r+"A6,6 0 0 "+t+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+t+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)}function R(){m.empty()||m.extent(A),j.data([m.empty()?i.domain():A]).each(function(e,t){var r=i(e[0])-n.range()[0],o=k-i(e[1]);d3.select(this).select(".left").attr("width",r<0?0:r),d3.select(this).select(".right").attr("x",i(e[1])).attr("width",o<0?0:o)})}function N(){A=m.empty()?null:m.extent();var e=m.empty()?i.domain():m.extent();if(!(Math.abs(e[0]-e[1])<=1)){I.brush({extent:e,brush:m}),R();var t=z.select(".nv-focus .nv-linesWrap").datum(p.filter(function(e){return!e.disabled}).map(function(t,n){return{key:t.key,area:t.area,values:t.values.filter(function(t,n){return a.x()(t,n)>=e[0]&&a.x()(t,n)<=e[1]})}}));t.transition().duration(C).call(a),z.select(".nv-focus .nv-x.nv-axis").transition().duration(C).call(s),z.select(".nv-focus .nv-y.nv-axis").transition().duration(C).call(c)}}var L=d3.select(this),P=this;t.utils.initSVG(L);var k=t.utils.availableWidth(y,L,v),G=t.utils.availableHeight(E,L,v)-S,F=S-h.top-h.bottom;if(e.update=function(){L.transition().duration(C).call(e)},e.container=this,x.setter(O(p),e.update).getter(M(p)).update(),x.disabled=p.map(function(e){return!!e.disabled}),!D){var U;D={};for(U in x)x[U]instanceof Array?D[U]=x[U].slice(0):D[U]=x[U]}if(!(p&&p.length&&p.filter(function(e){return e.values.length}).length))return t.utils.noData(e,L),e;L.selectAll(".nv-noData").remove(),n=a.xScale(),r=a.yScale(),i=l.xScale(),o=l.yScale();var V=L.selectAll("g.nv-wrap.nv-lineWithFocusChart").data([p]),B=V.enter().append("g").attr("class","nvd3 nv-wrap nv-lineWithFocusChart").append("g"),z=V.select("g");B.append("g").attr("class","nv-legendWrap");var $=B.append("g").attr("class","nv-focus");$.append("g").attr("class","nv-x nv-axis"),$.append("g").attr("class","nv-y nv-axis"),$.append("g").attr("class","nv-linesWrap"),$.append("g").attr("class","nv-interactive");var W=B.append("g").attr("class","nv-context");W.append("g").attr("class","nv-x nv-axis"),W.append("g").attr("class","nv-y nv-axis"),W.append("g").attr("class","nv-linesWrap"),W.append("g").attr("class","nv-brushBackground"),W.append("g").attr("class","nv-x nv-brush"),w&&(f.width(k),z.select(".nv-legendWrap").datum(p).call(f),v.top!=f.height()&&(v.top=f.height(),G=t.utils.availableHeight(E,L,v)-S),z.select(".nv-legendWrap").attr("transform","translate(0,"+-v.top+")")),V.attr("transform","translate("+v.left+","+v.top+")"),_&&(g.width(k).height(G).margin({left:v.left,top:v.top}).svgContainer(L).xScale(n),V.select(".nv-interactive").call(g)),a.width(k).height(G).color(p.map(function(e,t){return e.color||b(e,t)}).filter(function(e,t){return!p[t].disabled})),l.defined(a.defined()).width(k).height(F).color(p.map(function(e,t){return e.color||b(e,t)}).filter(function(e,t){return!p[t].disabled})),z.select(".nv-context").attr("transform","translate(0,"+(G+v.bottom+h.top)+")");var H=z.select(".nv-context .nv-linesWrap").datum(p.filter(function(e){return!e.disabled}));d3.transition(H).call(l),s.scale(n)._ticks(t.utils.calcTicksX(k/100,p)).tickSize(-G,0),c.scale(r)._ticks(t.utils.calcTicksY(G/36,p)).tickSize(-k,0),z.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+G+")"),m.x(i).on("brush",function(){N()}),A&&m.extent(A);var j=z.select(".nv-brushBackground").selectAll("g").data([A||m.extent()]),q=j.enter().append("g");q.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",F),q.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",F);var Y=z.select(".nv-x.nv-brush").call(m);Y.selectAll("rect").attr("height",F),Y.selectAll(".resize").append("path").attr("d",T),N(),u.scale(i)._ticks(t.utils.calcTicksX(k/100,p)).tickSize(-F,0),z.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")"),d3.transition(z.select(".nv-context .nv-x.nv-axis")).call(u),d.scale(o)._ticks(t.utils.calcTicksY(F/36,p)).tickSize(-k,0),d3.transition(z.select(".nv-context .nv-y.nv-axis")).call(d),z.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")"),f.dispatch.on("stateChange",function(t){for(var n in t)x[n]=t[n];I.stateChange(x),e.update()}),g.dispatch.on("elementMousemove",function(n){a.clearHighlights();var r,o,l,u=[];if(p.filter(function(e,t){return e.seriesIndex=t,!e.disabled}).forEach(function(s,c){var d=m.empty()?i.domain():m.extent(),f=s.values.filter(function(e,t){return a.x()(e,t)>=d[0]&&a.x()(e,t)<=d[1]});o=t.interactiveBisect(f,n.pointXValue,a.x());var p=f[o],g=e.y()(p,o);null!=g&&a.highlightPoint(c,o,!0),void 0!==p&&(void 0===r&&(r=p),void 0===l&&(l=e.xScale()(e.x()(p,o))),u.push({key:s.key,value:e.y()(p,o),color:b(s,s.seriesIndex)}))}),u.length>2){var d=e.yScale().invert(n.mouseY),f=Math.abs(e.yScale().domain()[0]-e.yScale().domain()[1]),h=.03*f,y=t.nearestValueIndex(u.map(function(e){return e.value}),d,h);null!==y&&(u[y].highlight=!0)}var E=s.tickFormat()(e.x()(r,o));g.tooltip.position({left:n.mouseX+v.left,top:n.mouseY+v.top}).chartContainer(P.parentNode).valueFormatter(function(e,t){return null==e?"N/A":c.tickFormat()(e)}).data({value:E,index:o,series:u})(),g.renderGuideLine(l)}),g.dispatch.on("elementMouseout",function(e){a.clearHighlights()}),I.on("changeState",function(t){"undefined"!=typeof t.disabled&&p.forEach(function(e,n){e.disabled=t.disabled[n]}),e.update()})}),e}var n,r,i,o,a=t.models.line(),l=t.models.line(),s=t.models.axis(),c=t.models.axis(),u=t.models.axis(),d=t.models.axis(),f=t.models.legend(),m=d3.svg.brush(),p=t.models.tooltip(),g=t.interactiveGuideline(),v={top:30,right:30,bottom:30,left:60},h={top:0,right:30,bottom:20,left:60},b=t.utils.defaultColor(),y=null,E=null,S=50,_=!1,w=!0,A=null,T=null,I=d3.dispatch("brush","stateChange","changeState"),C=250,x=t.utils.state(),D=null;a.clipEdge(!0).duration(0),l.interactive(!1),s.orient("bottom").tickPadding(5),c.orient("left"),u.orient("bottom").tickPadding(5),d.orient("left"),p.valueFormatter(function(e,t){return c.tickFormat()(e,t);
}).headerFormatter(function(e,t){return s.tickFormat()(e,t)});var M=function(e){return function(){return{active:e.map(function(e){return!e.disabled})}}},O=function(e){return function(t){void 0!==t.active&&e.forEach(function(e,n){e.disabled=!t.active[n]})}};return a.dispatch.on("elementMouseover.tooltip",function(e){p.data(e).position(e.pos).hidden(!1)}),a.dispatch.on("elementMouseout.tooltip",function(e){p.hidden(!0)}),e.dispatch=I,e.legend=f,e.lines=a,e.lines2=l,e.xAxis=s,e.yAxis=c,e.x2Axis=u,e.y2Axis=d,e.interactiveLayer=g,e.tooltip=p,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return y},set:function(e){y=e}},height:{get:function(){return E},set:function(e){E=e}},focusHeight:{get:function(){return S},set:function(e){S=e}},showLegend:{get:function(){return w},set:function(e){w=e}},brushExtent:{get:function(){return A},set:function(e){A=e}},defaultState:{get:function(){return D},set:function(e){D=e}},noData:{get:function(){return T},set:function(e){T=e}},tooltips:{get:function(){return p.enabled()},set:function(e){t.deprecated("tooltips","use chart.tooltip.enabled() instead"),p.enabled(!!e)}},tooltipContent:{get:function(){return p.contentGenerator()},set:function(e){t.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),p.contentGenerator(e)}},margin:{get:function(){return v},set:function(e){v.top=void 0!==e.top?e.top:v.top,v.right=void 0!==e.right?e.right:v.right,v.bottom=void 0!==e.bottom?e.bottom:v.bottom,v.left=void 0!==e.left?e.left:v.left}},color:{get:function(){return b},set:function(e){b=t.utils.getColor(e),f.color(b)}},interpolate:{get:function(){return a.interpolate()},set:function(e){a.interpolate(e),l.interpolate(e)}},xTickFormat:{get:function(){return s.tickFormat()},set:function(e){s.tickFormat(e),u.tickFormat(e)}},yTickFormat:{get:function(){return c.tickFormat()},set:function(e){c.tickFormat(e),d.tickFormat(e)}},duration:{get:function(){return C},set:function(e){C=e,c.duration(C),d.duration(C),s.duration(C),u.duration(C)}},x:{get:function(){return a.x()},set:function(e){a.x(e),l.x(e)}},y:{get:function(){return a.y()},set:function(e){a.y(e),l.y(e)}},useInteractiveGuideline:{get:function(){return _},set:function(e){_=e,_&&(a.interactive(!1),a.useVoronoi(!1))}}}),t.utils.inheritOptions(e,a),t.utils.initOptions(e),e},t.models.multiBar=function(){"use strict";function e(M){return x.reset(),M.each(function(e){var M=u-c.left-c.right,O=d-c.top-c.bottom;g=d3.select(this),t.utils.initSVG(g);var R=0;if(w&&e.length&&(w=[{values:e[0].values.map(function(e){return{x:e.x,y:0,series:e.series,size:.01}})}]),E){var N=d3.layout.stack().offset(S).values(function(e){return e.values}).y(h)(!e.length&&w?w:e);N.forEach(function(t,n){t.nonStackable?(e[n].nonStackableSeries=R++,N[n]=e[n]):n>0&&N[n-1].nonStackable&&N[n].values.map(function(e,t){e.y0-=N[n-1].values[t].y,e.y1=e.y0+e.y})}),e=N}e.forEach(function(e,t){e.values.forEach(function(n){n.series=t,n.key=e.key})}),E&&e[0].values.map(function(t,n){var r=0,i=0;e.map(function(t,o){if(!e[o].nonStackable){var a=t.values[n];a.size=Math.abs(a.y),a.y<0?(a.y1=i,i-=a.size):(a.y1=a.size+r,r+=a.size)}})});var L=r&&i?[]:e.map(function(e,t){return e.values.map(function(e,n){return{x:v(e,n),y:h(e,n),y0:e.y0,y1:e.y1,idx:t}})});f.domain(r||d3.merge(L).map(function(e){return e.x})).rangeBands(o||[0,M],I),m.domain(i||d3.extent(d3.merge(L).map(function(t){var n=t.y;return E&&!e[t.idx].nonStackable&&(n=t.y>0?t.y1:t.y1+t.y),n}).concat(b))).range(a||[O,0]),f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]-.01*f.domain()[0],f.domain()[1]+.01*f.domain()[1]]):f.domain([-1,1])),m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]+.01*m.domain()[0],m.domain()[1]-.01*m.domain()[1]]):m.domain([-1,1])),l=l||f,s=s||m;var P=g.selectAll("g.nv-wrap.nv-multibar").data([e]),k=P.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),G=k.append("defs"),F=k.append("g"),U=P.select("g");F.append("g").attr("class","nv-groups"),P.attr("transform","translate("+c.left+","+c.top+")"),G.append("clipPath").attr("id","nv-edge-clip-"+p).append("rect"),P.select("#nv-edge-clip-"+p+" rect").attr("width",M).attr("height",O),U.attr("clip-path",y?"url(#nv-edge-clip-"+p+")":"");var V=P.select(".nv-groups").selectAll(".nv-group").data(function(e){return e},function(e,t){return t});V.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);var B=x.transition(V.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,T)).attr("y",function(t,n,r){var i=s(0)||0;return E&&e[t.series]&&!e[t.series].nonStackable&&(i=s(t.y0)),i}).attr("height",0).remove();B.delay&&B.delay(function(e,t){var n=t*(T/(D+1))-t;return n}),V.attr("class",function(e,t){return"nv-group nv-series-"+t}).classed("hover",function(e){return e.hover}).style("fill",function(e,t){return _(e,t)}).style("stroke",function(e,t){return _(e,t)}),V.style("stroke-opacity",1).style("fill-opacity",.75);var z=V.selectAll("rect.nv-bar").data(function(t){return w&&!e.length?w.values:t.values});z.exit().remove();z.enter().append("rect").attr("class",function(e,t){return h(e,t)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(t,n,r){return E&&!e[r].nonStackable?0:r*f.rangeBand()/e.length}).attr("y",function(t,n,r){return s(E&&!e[r].nonStackable?t.y0:0)||0}).attr("height",0).attr("width",function(t,n,r){return f.rangeBand()/(E&&!e[r].nonStackable?1:e.length)}).attr("transform",function(e,t){return"translate("+f(v(e,t))+",0)"});z.style("fill",function(e,t,n){return _(e,n,t)}).style("stroke",function(e,t,n){return _(e,n,t)}).on("mouseover",function(e,t){d3.select(this).classed("hover",!0),C.elementMouseover({data:e,index:t,color:d3.select(this).style("fill")})}).on("mouseout",function(e,t){d3.select(this).classed("hover",!1),C.elementMouseout({data:e,index:t,color:d3.select(this).style("fill")})}).on("mousemove",function(e,t){C.elementMousemove({data:e,index:t,color:d3.select(this).style("fill")})}).on("click",function(e,t){C.elementClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}).on("dblclick",function(e,t){C.elementDblClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),z.attr("class",function(e,t){return h(e,t)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(e,t){return"translate("+f(v(e,t))+",0)"}),A&&(n||(n=e.map(function(){return!0})),z.style("fill",function(e,t,r){return d3.rgb(A(e,t)).darker(n.map(function(e,t){return t}).filter(function(e,t){return!n[t]})[r]).toString()}).style("stroke",function(e,t,r){return d3.rgb(A(e,t)).darker(n.map(function(e,t){return t}).filter(function(e,t){return!n[t]})[r]).toString()}));var $=z.watchTransition(x,"multibar",Math.min(250,T)).delay(function(t,n){return n*T/e[0].values.length});E?$.attr("y",function(t,n,r){var i=0;return i=e[r].nonStackable?h(t,n)<0?m(0):m(0)-m(h(t,n))<-1?m(0)-1:m(h(t,n))||0:m(t.y1)}).attr("height",function(t,n,r){return e[r].nonStackable?Math.max(Math.abs(m(h(t,n))-m(0)),1)||0:Math.max(Math.abs(m(t.y+t.y0)-m(t.y0)),1)}).attr("x",function(t,n,r){var i=0;return e[r].nonStackable&&(i=t.series*f.rangeBand()/e.length,e.length!==R&&(i=e[r].nonStackableSeries*f.rangeBand()/(2*R))),i}).attr("width",function(t,n,r){if(e[r].nonStackable){var i=f.rangeBand()/R;return e.length!==R&&(i=f.rangeBand()/(2*R)),i}return f.rangeBand()}):$.attr("x",function(t,n){return t.series*f.rangeBand()/e.length}).attr("width",f.rangeBand()/e.length).attr("y",function(e,t){return h(e,t)<0?m(0):m(0)-m(h(e,t))<1?m(0)-1:m(h(e,t))||0}).attr("height",function(e,t){return Math.max(Math.abs(m(h(e,t))-m(0)),1)||0}),l=f.copy(),s=m.copy(),e[0]&&e[0].values&&(D=e[0].values.length)}),x.renderEnd("multibar immediate"),e}var n,r,i,o,a,l,s,c={top:0,right:0,bottom:0,left:0},u=960,d=500,f=d3.scale.ordinal(),m=d3.scale.linear(),p=Math.floor(1e4*Math.random()),g=null,v=function(e){return e.x},h=function(e){return e.y},b=[0],y=!0,E=!1,S="zero",_=t.utils.defaultColor(),w=!1,A=null,T=500,I=.1,C=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),x=t.utils.renderWatch(C,T),D=0;return e.dispatch=C,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return u},set:function(e){u=e}},height:{get:function(){return d},set:function(e){d=e}},x:{get:function(){return v},set:function(e){v=e}},y:{get:function(){return h},set:function(e){h=e}},xScale:{get:function(){return f},set:function(e){f=e}},yScale:{get:function(){return m},set:function(e){m=e}},xDomain:{get:function(){return r},set:function(e){r=e}},yDomain:{get:function(){return i},set:function(e){i=e}},xRange:{get:function(){return o},set:function(e){o=e}},yRange:{get:function(){return a},set:function(e){a=e}},forceY:{get:function(){return b},set:function(e){b=e}},stacked:{get:function(){return E},set:function(e){E=e}},stackOffset:{get:function(){return S},set:function(e){S=e}},clipEdge:{get:function(){return y},set:function(e){y=e}},disabled:{get:function(){return n},set:function(e){n=e}},id:{get:function(){return p},set:function(e){p=e}},hideable:{get:function(){return w},set:function(e){w=e}},groupSpacing:{get:function(){return I},set:function(e){I=e}},margin:{get:function(){return c},set:function(e){c.top=void 0!==e.top?e.top:c.top,c.right=void 0!==e.right?e.right:c.right,c.bottom=void 0!==e.bottom?e.bottom:c.bottom,c.left=void 0!==e.left?e.left:c.left}},duration:{get:function(){return T},set:function(e){T=e,x.reset(T)}},color:{get:function(){return _},set:function(e){_=t.utils.getColor(e)}},barColor:{get:function(){return A},set:function(e){A=e?t.utils.getColor(e):null}}}),t.utils.initOptions(e),e},t.models.multiBarChart=function(){"use strict";function e(c){return D.reset(),D.models(i),h&&D.models(o),b&&D.models(a),c.each(function(c){var T=d3.select(this);t.utils.initSVG(T);var D=t.utils.availableWidth(d,T,u),N=t.utils.availableHeight(f,T,u);if(e.update=function(){0===x?T.call(e):T.transition().duration(x).call(e)},e.container=this,w.setter(R(c),e.update).getter(O(c)).update(),w.disabled=c.map(function(e){return!!e.disabled}),!A){var L;A={};for(L in w)w[L]instanceof Array?A[L]=w[L].slice(0):A[L]=w[L]}if(!(c&&c.length&&c.filter(function(e){return e.values.length}).length))return t.utils.noData(e,T),e;T.selectAll(".nv-noData").remove(),n=i.xScale(),r=i.yScale();var P=T.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([c]),k=P.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),G=P.select("g");if(k.append("g").attr("class","nv-x nv-axis"),k.append("g").attr("class","nv-y nv-axis"),k.append("g").attr("class","nv-barsWrap"),k.append("g").attr("class","nv-legendWrap"),k.append("g").attr("class","nv-controlsWrap"),v&&(l.width(D-C()),G.select(".nv-legendWrap").datum(c).call(l),u.top!=l.height()&&(u.top=l.height(),N=t.utils.availableHeight(f,T,u)),G.select(".nv-legendWrap").attr("transform","translate("+C()+","+-u.top+")")),p){var F=[{key:g.grouped||"Grouped",disabled:i.stacked()},{key:g.stacked||"Stacked",disabled:!i.stacked()}];s.width(C()).color(["#444","#444","#444"]),G.select(".nv-controlsWrap").datum(F).attr("transform","translate(0,"+-u.top+")").call(s)}P.attr("transform","translate("+u.left+","+u.top+")"),y&&G.select(".nv-y.nv-axis").attr("transform","translate("+D+",0)"),i.disabled(c.map(function(e){return e.disabled})).width(D).height(N).color(c.map(function(e,t){return e.color||m(e,t)}).filter(function(e,t){return!c[t].disabled}));var U=G.select(".nv-barsWrap").datum(c.filter(function(e){return!e.disabled}));if(U.call(i),h){o.scale(n)._ticks(t.utils.calcTicksX(D/100,c)).tickSize(-N,0),G.select(".nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),G.select(".nv-x.nv-axis").call(o);var V=G.select(".nv-x.nv-axis > g").selectAll("g");if(V.selectAll("line, text").style("opacity",1),S){var B=function(e,t){return"translate("+e+","+t+")"},z=5,$=17;V.selectAll("text").attr("transform",function(e,t,n){return B(0,n%2==0?z:$)});var W=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;G.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(e,t){return B(0,0===t||W%2!==0?$:z)})}E&&V.filter(function(e,t){return t%Math.ceil(c[0].values.length/(D/100))!==0}).selectAll("text, line").style("opacity",0),_&&V.selectAll(".tick text").attr("transform","rotate("+_+" 0,0)").style("text-anchor",_>0?"start":"end"),G.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}b&&(a.scale(r)._ticks(t.utils.calcTicksY(N/36,c)).tickSize(-D,0),G.select(".nv-y.nv-axis").call(a)),l.dispatch.on("stateChange",function(t){for(var n in t)w[n]=t[n];I.stateChange(w),e.update()}),s.dispatch.on("legendClick",function(t,n){if(t.disabled){switch(F=F.map(function(e){return e.disabled=!0,e}),t.disabled=!1,t.key){case"Grouped":case g.grouped:i.stacked(!1);break;case"Stacked":case g.stacked:i.stacked(!0)}w.stacked=i.stacked(),I.stateChange(w),e.update()}}),I.on("changeState",function(t){"undefined"!=typeof t.disabled&&(c.forEach(function(e,n){e.disabled=t.disabled[n]}),w.disabled=t.disabled),"undefined"!=typeof t.stacked&&(i.stacked(t.stacked),w.stacked=t.stacked,M=t.stacked),e.update()})}),D.renderEnd("multibarchart immediate"),e}var n,r,i=t.models.multiBar(),o=t.models.axis(),a=t.models.axis(),l=t.models.legend(),s=t.models.legend(),c=t.models.tooltip(),u={top:30,right:20,bottom:50,left:60},d=null,f=null,m=t.utils.defaultColor(),p=!0,g={},v=!0,h=!0,b=!0,y=!1,E=!0,S=!1,_=0,w=t.utils.state(),A=null,T=null,I=d3.dispatch("stateChange","changeState","renderEnd"),C=function(){return p?180:0},x=250;w.stacked=!1,i.stacked(!1),o.orient("bottom").tickPadding(7).showMaxMin(!1).tickFormat(function(e){return e}),a.orient(y?"right":"left").tickFormat(d3.format(",.1f")),c.duration(0).valueFormatter(function(e,t){return a.tickFormat()(e,t)}).headerFormatter(function(e,t){return o.tickFormat()(e,t)}),s.updateState(!1);var D=t.utils.renderWatch(I),M=!1,O=function(e){return function(){return{active:e.map(function(e){return!e.disabled}),stacked:M}}},R=function(e){return function(t){void 0!==t.stacked&&(M=t.stacked),void 0!==t.active&&e.forEach(function(e,n){e.disabled=!t.active[n]})}};return i.dispatch.on("elementMouseover.tooltip",function(t){t.value=e.x()(t.data),t.series={key:t.data.key,value:e.y()(t.data),color:t.color},c.data(t).hidden(!1)}),i.dispatch.on("elementMouseout.tooltip",function(e){c.hidden(!0)}),i.dispatch.on("elementMousemove.tooltip",function(e){c.position({top:d3.event.pageY,left:d3.event.pageX})()}),e.dispatch=I,e.multibar=i,e.legend=l,e.controls=s,e.xAxis=o,e.yAxis=a,e.state=w,e.tooltip=c,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return d},set:function(e){d=e}},height:{get:function(){return f},set:function(e){f=e}},showLegend:{get:function(){return v},set:function(e){v=e}},showControls:{get:function(){return p},set:function(e){p=e}},controlLabels:{get:function(){return g},set:function(e){g=e}},showXAxis:{get:function(){return h},set:function(e){h=e}},showYAxis:{get:function(){return b},set:function(e){b=e}},defaultState:{get:function(){return A},set:function(e){A=e}},noData:{get:function(){return T},set:function(e){T=e}},reduceXTicks:{get:function(){return E},set:function(e){E=e}},rotateLabels:{get:function(){return _},set:function(e){_=e}},staggerLabels:{get:function(){return S},set:function(e){S=e}},tooltips:{get:function(){return c.enabled()},set:function(e){t.deprecated("tooltips","use chart.tooltip.enabled() instead"),c.enabled(!!e)}},tooltipContent:{get:function(){return c.contentGenerator()},set:function(e){t.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),c.contentGenerator(e)}},margin:{get:function(){return u},set:function(e){u.top=void 0!==e.top?e.top:u.top,u.right=void 0!==e.right?e.right:u.right,u.bottom=void 0!==e.bottom?e.bottom:u.bottom,u.left=void 0!==e.left?e.left:u.left}},duration:{get:function(){return x},set:function(e){x=e,i.duration(x),o.duration(x),a.duration(x),D.reset(x)}},color:{get:function(){return m},set:function(e){m=t.utils.getColor(e),l.color(m)}},rightAlignYAxis:{get:function(){return y},set:function(e){y=e,a.orient(y?"right":"left")}},barColor:{get:function(){return i.barColor},set:function(e){i.barColor(e),l.color(function(e,t){return d3.rgb("#ccc").darker(1.5*t).toString()})}}}),t.utils.inheritOptions(e,i),t.utils.initOptions(e),e},t.models.multiBarHorizontal=function(){"use strict";function e(f){return M.reset(),f.each(function(e){var f=u-c.left-c.right,x=d-c.top-c.bottom;m=d3.select(this),t.utils.initSVG(m),_&&(e=d3.layout.stack().offset("zero").values(function(e){return e.values}).y(h)(e)),e.forEach(function(e,t){e.values.forEach(function(n){n.series=t,n.key=e.key})}),_&&e[0].values.map(function(t,n){var r=0,i=0;e.map(function(e){var t=e.values[n];t.size=Math.abs(t.y),t.y<0?(t.y1=i-t.size,i-=t.size):(t.y1=r,r+=t.size)})});var O=r&&i?[]:e.map(function(e){return e.values.map(function(e,t){return{x:v(e,t),y:h(e,t),y0:e.y0,y1:e.y1}})});p.domain(r||d3.merge(O).map(function(e){return e.x})).rangeBands(o||[0,x],I),g.domain(i||d3.extent(d3.merge(O).map(function(e){return _?e.y>0?e.y1+e.y:e.y1:e.y}).concat(y))),w&&!_?g.range(a||[g.domain()[0]<0?T:0,f-(g.domain()[1]>0?T:0)]):g.range(a||[0,f]),l=l||p,s=s||d3.scale.linear().domain(g.domain()).range([g(0),g(0)]);var R=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([e]),N=R.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),L=(N.append("defs"),N.append("g"));R.select("g");L.append("g").attr("class","nv-groups"),R.attr("transform","translate("+c.left+","+c.top+")");var P=R.select(".nv-groups").selectAll(".nv-group").data(function(e){return e},function(e,t){return t});P.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),P.exit().watchTransition(M,"multibarhorizontal: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),P.attr("class",function(e,t){return"nv-group nv-series-"+t}).classed("hover",function(e){return e.hover}).style("fill",function(e,t){return E(e,t)}).style("stroke",function(e,t){return E(e,t)}),P.watchTransition(M,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",.75);var k=P.selectAll("g.nv-bar").data(function(e){return e.values});k.exit().remove();var G=k.enter().append("g").attr("transform",function(t,n,r){return"translate("+s(_?t.y0:0)+","+(_?0:r*p.rangeBand()/e.length+p(v(t,n)))+")"});G.append("rect").attr("width",0).attr("height",p.rangeBand()/(_?1:e.length)),k.on("mouseover",function(e,t){d3.select(this).classed("hover",!0),D.elementMouseover({data:e,index:t,color:d3.select(this).style("fill")})}).on("mouseout",function(e,t){d3.select(this).classed("hover",!1),D.elementMouseout({data:e,index:t,color:d3.select(this).style("fill")})}).on("mouseout",function(e,t){D.elementMouseout({data:e,index:t,color:d3.select(this).style("fill")})}).on("mousemove",function(e,t){D.elementMousemove({data:e,index:t,color:d3.select(this).style("fill")})}).on("click",function(e,t){D.elementClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}).on("dblclick",function(e,t){D.elementDblClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),b(e[0],0)&&(G.append("polyline"),k.select("polyline").attr("fill","none").attr("points",function(t,n){var r=b(t,n),i=.8*p.rangeBand()/(2*(_?1:e.length));r=r.length?r:[-Math.abs(r),Math.abs(r)],r=r.map(function(e){return g(e)-g(0)});var o=[[r[0],-i],[r[0],i],[r[0],0],[r[1],0],[r[1],-i],[r[1],i]];return o.map(function(e){return e.join(",")}).join(" ")}).attr("transform",function(t,n){var r=p.rangeBand()/(2*(_?1:e.length));return"translate("+(h(t,n)<0?0:g(h(t,n))-g(0))+", "+r+")"})),G.append("text"),w&&!_?(k.select("text").attr("text-anchor",function(e,t){return h(e,t)<0?"end":"start"}).attr("y",p.rangeBand()/(2*e.length)).attr("dy",".32em").text(function(e,t){var n=C(h(e,t)),r=b(e,t);return void 0===r?n:r.length?n+"+"+C(Math.abs(r[1]))+"-"+C(Math.abs(r[0])):n+"±"+C(Math.abs(r))}),k.watchTransition(M,"multibarhorizontal: bars").select("text").attr("x",function(e,t){return h(e,t)<0?-4:g(h(e,t))-g(0)+4})):k.selectAll("text").text(""),A&&!_?(G.append("text").classed("nv-bar-label",!0),k.select("text.nv-bar-label").attr("text-anchor",function(e,t){return h(e,t)<0?"start":"end"}).attr("y",p.rangeBand()/(2*e.length)).attr("dy",".32em").text(function(e,t){return v(e,t)}),k.watchTransition(M,"multibarhorizontal: bars").select("text.nv-bar-label").attr("x",function(e,t){return h(e,t)<0?g(0)-g(h(e,t))+4:-4})):k.selectAll("text.nv-bar-label").text(""),k.attr("class",function(e,t){return h(e,t)<0?"nv-bar negative":"nv-bar positive"}),S&&(n||(n=e.map(function(){return!0})),k.style("fill",function(e,t,r){return d3.rgb(S(e,t)).darker(n.map(function(e,t){return t}).filter(function(e,t){return!n[t]})[r]).toString()}).style("stroke",function(e,t,r){return d3.rgb(S(e,t)).darker(n.map(function(e,t){return t}).filter(function(e,t){return!n[t]})[r]).toString()})),_?k.watchTransition(M,"multibarhorizontal: bars").attr("transform",function(e,t){return"translate("+g(e.y1)+","+p(v(e,t))+")"}).select("rect").attr("width",function(e,t){return Math.abs(g(h(e,t)+e.y0)-g(e.y0))}).attr("height",p.rangeBand()):k.watchTransition(M,"multibarhorizontal: bars").attr("transform",function(t,n){return"translate("+g(h(t,n)<0?h(t,n):0)+","+(t.series*p.rangeBand()/e.length+p(v(t,n)))+")"}).select("rect").attr("height",p.rangeBand()/e.length).attr("width",function(e,t){return Math.max(Math.abs(g(h(e,t))-g(0)),1)}),l=p.copy(),s=g.copy()}),M.renderEnd("multibarHorizontal immediate"),e}var n,r,i,o,a,l,s,c={top:0,right:0,bottom:0,left:0},u=960,d=500,f=Math.floor(1e4*Math.random()),m=null,p=d3.scale.ordinal(),g=d3.scale.linear(),v=function(e){return e.x},h=function(e){return e.y},b=function(e){return e.yErr},y=[0],E=t.utils.defaultColor(),S=null,_=!1,w=!1,A=!1,T=60,I=.1,C=d3.format(",.2f"),x=250,D=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),M=t.utils.renderWatch(D,x);return e.dispatch=D,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return u},set:function(e){u=e}},height:{get:function(){return d},set:function(e){d=e}},x:{get:function(){return v},set:function(e){v=e}},y:{get:function(){return h},set:function(e){h=e}},yErr:{get:function(){return b},set:function(e){b=e}},xScale:{get:function(){return p},set:function(e){p=e}},yScale:{get:function(){return g},set:function(e){g=e}},xDomain:{get:function(){return r},set:function(e){r=e}},yDomain:{get:function(){return i},set:function(e){i=e}},xRange:{get:function(){return o},set:function(e){o=e}},yRange:{get:function(){return a},set:function(e){a=e}},forceY:{get:function(){return y},set:function(e){y=e}},stacked:{get:function(){return _},set:function(e){_=e}},showValues:{get:function(){return w},set:function(e){w=e}},disabled:{get:function(){return n},set:function(e){n=e}},id:{get:function(){return f},set:function(e){f=e}},valueFormat:{get:function(){return C},set:function(e){C=e}},valuePadding:{get:function(){return T},set:function(e){T=e}},groupSpacing:{get:function(){return I},set:function(e){I=e}},margin:{get:function(){return c},set:function(e){c.top=void 0!==e.top?e.top:c.top,c.right=void 0!==e.right?e.right:c.right,c.bottom=void 0!==e.bottom?e.bottom:c.bottom,c.left=void 0!==e.left?e.left:c.left}},duration:{get:function(){return x},set:function(e){x=e,M.reset(x)}},color:{get:function(){return E},set:function(e){E=t.utils.getColor(e)}},barColor:{get:function(){return S},set:function(e){S=e?t.utils.getColor(e):null}}}),t.utils.initOptions(e),e},t.models.multiBarHorizontalChart=function(){"use strict";function e(c){return x.reset(),x.models(i),h&&x.models(o),b&&x.models(a),c.each(function(c){var _=d3.select(this);t.utils.initSVG(_);var x=t.utils.availableWidth(d,_,u),D=t.utils.availableHeight(f,_,u);if(e.update=function(){_.transition().duration(T).call(e)},e.container=this,y=i.stacked(),E.setter(C(c),e.update).getter(I(c)).update(),E.disabled=c.map(function(e){return!!e.disabled}),!S){var M;S={};for(M in E)E[M]instanceof Array?S[M]=E[M].slice(0):S[M]=E[M]}if(!(c&&c.length&&c.filter(function(e){return e.values.length}).length))return t.utils.noData(e,_),e;_.selectAll(".nv-noData").remove(),n=i.xScale(),r=i.yScale();var O=_.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([c]),R=O.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),N=O.select("g");if(R.append("g").attr("class","nv-x nv-axis"),R.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),R.append("g").attr("class","nv-barsWrap"),R.append("g").attr("class","nv-legendWrap"),R.append("g").attr("class","nv-controlsWrap"),v&&(l.width(x-A()),N.select(".nv-legendWrap").datum(c).call(l),u.top!=l.height()&&(u.top=l.height(),D=t.utils.availableHeight(f,_,u)),N.select(".nv-legendWrap").attr("transform","translate("+A()+","+-u.top+")")),p){var L=[{key:g.grouped||"Grouped",disabled:i.stacked()},{key:g.stacked||"Stacked",disabled:!i.stacked()}];s.width(A()).color(["#444","#444","#444"]),N.select(".nv-controlsWrap").datum(L).attr("transform","translate(0,"+-u.top+")").call(s)}O.attr("transform","translate("+u.left+","+u.top+")"),i.disabled(c.map(function(e){return e.disabled})).width(x).height(D).color(c.map(function(e,t){return e.color||m(e,t)}).filter(function(e,t){return!c[t].disabled}));var P=N.select(".nv-barsWrap").datum(c.filter(function(e){return!e.disabled}));if(P.transition().call(i),h){o.scale(n)._ticks(t.utils.calcTicksY(D/24,c)).tickSize(-x,0),N.select(".nv-x.nv-axis").call(o);var k=N.select(".nv-x.nv-axis").selectAll("g");k.selectAll("line, text")}b&&(a.scale(r)._ticks(t.utils.calcTicksX(x/100,c)).tickSize(-D,0),N.select(".nv-y.nv-axis").attr("transform","translate(0,"+D+")"),N.select(".nv-y.nv-axis").call(a)),N.select(".nv-zeroLine line").attr("x1",r(0)).attr("x2",r(0)).attr("y1",0).attr("y2",-D),l.dispatch.on("stateChange",function(t){for(var n in t)E[n]=t[n];w.stateChange(E),e.update()}),s.dispatch.on("legendClick",function(t,n){if(t.disabled){switch(L=L.map(function(e){return e.disabled=!0,e}),t.disabled=!1,t.key){case"Grouped":i.stacked(!1);break;case"Stacked":i.stacked(!0)}E.stacked=i.stacked(),w.stateChange(E),y=i.stacked(),e.update()}}),w.on("changeState",function(t){"undefined"!=typeof t.disabled&&(c.forEach(function(e,n){e.disabled=t.disabled[n]}),E.disabled=t.disabled),"undefined"!=typeof t.stacked&&(i.stacked(t.stacked),E.stacked=t.stacked,y=t.stacked),e.update()})}),x.renderEnd("multibar horizontal chart immediate"),e}var n,r,i=t.models.multiBarHorizontal(),o=t.models.axis(),a=t.models.axis(),l=t.models.legend().height(30),s=t.models.legend().height(30),c=t.models.tooltip(),u={top:30,right:20,bottom:50,left:60},d=null,f=null,m=t.utils.defaultColor(),p=!0,g={},v=!0,h=!0,b=!0,y=!1,E=t.utils.state(),S=null,_=null,w=d3.dispatch("stateChange","changeState","renderEnd"),A=function(){return p?180:0},T=250;E.stacked=!1,i.stacked(y),o.orient("left").tickPadding(5).showMaxMin(!1).tickFormat(function(e){return e}),a.orient("bottom").tickFormat(d3.format(",.1f")),c.duration(0).valueFormatter(function(e,t){return a.tickFormat()(e,t)}).headerFormatter(function(e,t){return o.tickFormat()(e,t)}),s.updateState(!1);var I=function(e){return function(){return{active:e.map(function(e){return!e.disabled}),stacked:y}}},C=function(e){return function(t){void 0!==t.stacked&&(y=t.stacked),void 0!==t.active&&e.forEach(function(e,n){e.disabled=!t.active[n]})}},x=t.utils.renderWatch(w,T);return i.dispatch.on("elementMouseover.tooltip",function(t){t.value=e.x()(t.data),t.series={key:t.data.key,value:e.y()(t.data),color:t.color},c.data(t).hidden(!1)}),i.dispatch.on("elementMouseout.tooltip",function(e){c.hidden(!0)}),i.dispatch.on("elementMousemove.tooltip",function(e){c.position({top:d3.event.pageY,left:d3.event.pageX})()}),e.dispatch=w,e.multibar=i,e.legend=l,e.controls=s,e.xAxis=o,e.yAxis=a,e.state=E,e.tooltip=c,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return d},set:function(e){d=e}},height:{get:function(){return f},set:function(e){f=e}},showLegend:{get:function(){return v},set:function(e){v=e}},showControls:{get:function(){return p},set:function(e){p=e}},controlLabels:{get:function(){return g},set:function(e){g=e}},showXAxis:{get:function(){return h},set:function(e){h=e}},showYAxis:{get:function(){return b},set:function(e){b=e}},defaultState:{get:function(){return S},set:function(e){S=e}},noData:{get:function(){return _},set:function(e){_=e}},tooltips:{get:function(){return c.enabled()},set:function(e){t.deprecated("tooltips","use chart.tooltip.enabled() instead"),c.enabled(!!e)}},tooltipContent:{get:function(){return c.contentGenerator()},set:function(e){t.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),c.contentGenerator(e)}},margin:{get:function(){return u},set:function(e){u.top=void 0!==e.top?e.top:u.top,u.right=void 0!==e.right?e.right:u.right,u.bottom=void 0!==e.bottom?e.bottom:u.bottom,u.left=void 0!==e.left?e.left:u.left}},duration:{get:function(){return T},set:function(e){T=e,x.reset(T),i.duration(T),o.duration(T),a.duration(T)}},color:{get:function(){return m},set:function(e){m=t.utils.getColor(e),l.color(m)}},barColor:{get:function(){return i.barColor},set:function(e){i.barColor(e),l.color(function(e,t){return d3.rgb("#ccc").darker(1.5*t).toString()})}}}),t.utils.inheritOptions(e,i),t.utils.initOptions(e),e},t.models.multiChart=function(){"use strict";function e(c){return c.each(function(c){function u(e){var t=2===c[e.seriesIndex].yAxis?T:A;e.value=e.point.x,e.series={value:e.point.y,color:e.point.color},C.duration(100).valueFormatter(function(e,n){return t.tickFormat()(e,n)}).data(e).position(e.pos).hidden(!1)}function d(e){var t=2===c[e.seriesIndex].yAxis?T:A;e.point.x=S.x()(e.point),e.point.y=S.y()(e.point),C.duration(100).valueFormatter(function(e,n){return t.tickFormat()(e,n)}).data(e).position(e.pos).hidden(!1)}function m(e){var t=2===c[e.data.series].yAxis?T:A;e.value=y.x()(e.data),e.series={value:y.y()(e.data),color:e.color},C.duration(0).valueFormatter(function(e,n){return t.tickFormat()(e,n)}).data(e).hidden(!1)}var x=d3.select(this);t.utils.initSVG(x),e.update=function(){x.transition().call(e)},e.container=this;var D=t.utils.availableWidth(a,x,i),M=t.utils.availableHeight(l,x,i),O=c.filter(function(e){return"line"==e.type&&1==e.yAxis}),R=c.filter(function(e){return"line"==e.type&&2==e.yAxis}),N=c.filter(function(e){return"bar"==e.type&&1==e.yAxis}),L=c.filter(function(e){return"bar"==e.type&&2==e.yAxis}),P=c.filter(function(e){return"area"==e.type&&1==e.yAxis}),k=c.filter(function(e){return"area"==e.type&&2==e.yAxis});if(!(c&&c.length&&c.filter(function(e){return e.values.length}).length))return t.utils.noData(e,x),e;x.selectAll(".nv-noData").remove();var G=c.filter(function(e){return!e.disabled&&1==e.yAxis}).map(function(e){return e.values.map(function(e,t){return{x:e.x,y:e.y}})}),F=c.filter(function(e){return!e.disabled&&2==e.yAxis}).map(function(e){return e.values.map(function(e,t){return{x:e.x,y:e.y}})});p.domain(d3.extent(d3.merge(G.concat(F)),function(e){return e.x})).range([0,D]);var U=x.selectAll("g.wrap.multiChart").data([c]),V=U.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");V.append("g").attr("class","nv-x nv-axis"),V.append("g").attr("class","nv-y1 nv-axis"),V.append("g").attr("class","nv-y2 nv-axis"),V.append("g").attr("class","lines1Wrap"),V.append("g").attr("class","lines2Wrap"),V.append("g").attr("class","bars1Wrap"),V.append("g").attr("class","bars2Wrap"),V.append("g").attr("class","stack1Wrap"),V.append("g").attr("class","stack2Wrap"),V.append("g").attr("class","legendWrap");var B=U.select("g"),z=c.map(function(e,t){return c[t].color||o(e,t)});if(s){var $=I.align()?D/2:D,W=I.align()?$:0;
I.width($),I.color(z),B.select(".legendWrap").datum(c.map(function(e){return e.originalKey=void 0===e.originalKey?e.key:e.originalKey,e.key=e.originalKey+(1==e.yAxis?"":" (right axis)"),e})).call(I),i.top!=I.height()&&(i.top=I.height(),M=t.utils.availableHeight(l,x,i)),B.select(".legendWrap").attr("transform","translate("+W+","+-i.top+")")}h.width(D).height(M).interpolate(f).color(z.filter(function(e,t){return!c[t].disabled&&1==c[t].yAxis&&"line"==c[t].type})),b.width(D).height(M).interpolate(f).color(z.filter(function(e,t){return!c[t].disabled&&2==c[t].yAxis&&"line"==c[t].type})),y.width(D).height(M).color(z.filter(function(e,t){return!c[t].disabled&&1==c[t].yAxis&&"bar"==c[t].type})),E.width(D).height(M).color(z.filter(function(e,t){return!c[t].disabled&&2==c[t].yAxis&&"bar"==c[t].type})),S.width(D).height(M).color(z.filter(function(e,t){return!c[t].disabled&&1==c[t].yAxis&&"area"==c[t].type})),_.width(D).height(M).color(z.filter(function(e,t){return!c[t].disabled&&2==c[t].yAxis&&"area"==c[t].type})),B.attr("transform","translate("+i.left+","+i.top+")");var H=B.select(".lines1Wrap").datum(O.filter(function(e){return!e.disabled})),j=B.select(".bars1Wrap").datum(N.filter(function(e){return!e.disabled})),q=B.select(".stack1Wrap").datum(P.filter(function(e){return!e.disabled})),Y=B.select(".lines2Wrap").datum(R.filter(function(e){return!e.disabled})),K=B.select(".bars2Wrap").datum(L.filter(function(e){return!e.disabled})),Q=B.select(".stack2Wrap").datum(k.filter(function(e){return!e.disabled})),Z=P.length?P.map(function(e){return e.values}).reduce(function(e,t){return e.map(function(e,n){return{x:e.x,y:e.y+t[n].y}})}).concat([{x:0,y:0}]):[],X=k.length?k.map(function(e){return e.values}).reduce(function(e,t){return e.map(function(e,n){return{x:e.x,y:e.y+t[n].y}})}).concat([{x:0,y:0}]):[];g.domain(n||d3.extent(d3.merge(G).concat(Z),function(e){return e.y})).range([0,M]),v.domain(r||d3.extent(d3.merge(F).concat(X),function(e){return e.y})).range([0,M]),h.yDomain(g.domain()),y.yDomain(g.domain()),S.yDomain(g.domain()),b.yDomain(v.domain()),E.yDomain(v.domain()),_.yDomain(v.domain()),P.length&&d3.transition(q).call(S),k.length&&d3.transition(Q).call(_),N.length&&d3.transition(j).call(y),L.length&&d3.transition(K).call(E),O.length&&d3.transition(H).call(h),R.length&&d3.transition(Y).call(b),w._ticks(t.utils.calcTicksX(D/100,c)).tickSize(-M,0),B.select(".nv-x.nv-axis").attr("transform","translate(0,"+M+")"),d3.transition(B.select(".nv-x.nv-axis")).call(w),A._ticks(t.utils.calcTicksY(M/36,c)).tickSize(-D,0),d3.transition(B.select(".nv-y1.nv-axis")).call(A),T._ticks(t.utils.calcTicksY(M/36,c)).tickSize(-D,0),d3.transition(B.select(".nv-y2.nv-axis")).call(T),B.select(".nv-y1.nv-axis").classed("nv-disabled",!G.length).attr("transform","translate("+p.range()[0]+",0)"),B.select(".nv-y2.nv-axis").classed("nv-disabled",!F.length).attr("transform","translate("+p.range()[1]+",0)"),I.dispatch.on("stateChange",function(t){e.update()}),h.dispatch.on("elementMouseover.tooltip",u),b.dispatch.on("elementMouseover.tooltip",u),h.dispatch.on("elementMouseout.tooltip",function(e){C.hidden(!0)}),b.dispatch.on("elementMouseout.tooltip",function(e){C.hidden(!0)}),S.dispatch.on("elementMouseover.tooltip",d),_.dispatch.on("elementMouseover.tooltip",d),S.dispatch.on("elementMouseout.tooltip",function(e){C.hidden(!0)}),_.dispatch.on("elementMouseout.tooltip",function(e){C.hidden(!0)}),y.dispatch.on("elementMouseover.tooltip",m),E.dispatch.on("elementMouseover.tooltip",m),y.dispatch.on("elementMouseout.tooltip",function(e){C.hidden(!0)}),E.dispatch.on("elementMouseout.tooltip",function(e){C.hidden(!0)}),y.dispatch.on("elementMousemove.tooltip",function(e){C.position({top:d3.event.pageY,left:d3.event.pageX})()}),E.dispatch.on("elementMousemove.tooltip",function(e){C.position({top:d3.event.pageY,left:d3.event.pageX})()})}),e}var n,r,i={top:30,right:20,bottom:50,left:60},o=t.utils.defaultColor(),a=null,l=null,s=!0,c=null,u=function(e){return e.x},d=function(e){return e.y},f="monotone",m=!0,p=d3.scale.linear(),g=d3.scale.linear(),v=d3.scale.linear(),h=t.models.line().yScale(g),b=t.models.line().yScale(v),y=t.models.multiBar().stacked(!1).yScale(g),E=t.models.multiBar().stacked(!1).yScale(v),S=t.models.stackedArea().yScale(g),_=t.models.stackedArea().yScale(v),w=t.models.axis().scale(p).orient("bottom").tickPadding(5),A=t.models.axis().scale(g).orient("left"),T=t.models.axis().scale(v).orient("right"),I=t.models.legend().height(30),C=t.models.tooltip(),x=d3.dispatch();return e.dispatch=x,e.lines1=h,e.lines2=b,e.bars1=y,e.bars2=E,e.stack1=S,e.stack2=_,e.xAxis=w,e.yAxis1=A,e.yAxis2=T,e.tooltip=C,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return a},set:function(e){a=e}},height:{get:function(){return l},set:function(e){l=e}},showLegend:{get:function(){return s},set:function(e){s=e}},yDomain1:{get:function(){return n},set:function(e){n=e}},yDomain2:{get:function(){return r},set:function(e){r=e}},noData:{get:function(){return c},set:function(e){c=e}},interpolate:{get:function(){return f},set:function(e){f=e}},tooltips:{get:function(){return C.enabled()},set:function(e){t.deprecated("tooltips","use chart.tooltip.enabled() instead"),C.enabled(!!e)}},tooltipContent:{get:function(){return C.contentGenerator()},set:function(e){t.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),C.contentGenerator(e)}},margin:{get:function(){return i},set:function(e){i.top=void 0!==e.top?e.top:i.top,i.right=void 0!==e.right?e.right:i.right,i.bottom=void 0!==e.bottom?e.bottom:i.bottom,i.left=void 0!==e.left?e.left:i.left}},color:{get:function(){return o},set:function(e){o=t.utils.getColor(e)}},x:{get:function(){return u},set:function(e){u=e,h.x(e),b.x(e),y.x(e),E.x(e),S.x(e),_.x(e)}},y:{get:function(){return d},set:function(e){d=e,h.y(e),b.y(e),S.y(e),_.y(e),y.y(e),E.y(e)}},useVoronoi:{get:function(){return m},set:function(e){m=e,h.useVoronoi(e),b.useVoronoi(e),S.useVoronoi(e),_.useVoronoi(e)}}}),t.utils.initOptions(e),e},t.models.ohlcBar=function(){"use strict";function e(A){return A.each(function(e){u=d3.select(this);var A=t.utils.availableWidth(l,u,a),I=t.utils.availableHeight(s,u,a);t.utils.initSVG(u);var C=A/e[0].values.length*.9;d.domain(n||d3.extent(e[0].values.map(m).concat(y))),S?d.range(i||[.5*A/e[0].values.length,A*(e[0].values.length-.5)/e[0].values.length]):d.range(i||[5+C/2,A-C/2-5]),f.domain(r||[d3.min(e[0].values.map(b).concat(E)),d3.max(e[0].values.map(h).concat(E))]).range(o||[I,0]),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]):d.domain([-1,1])),f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]+.01*f.domain()[0],f.domain()[1]-.01*f.domain()[1]]):f.domain([-1,1]));var x=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([e[0].values]),D=x.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),M=D.append("defs"),O=D.append("g"),R=x.select("g");O.append("g").attr("class","nv-ticks"),x.attr("transform","translate("+a.left+","+a.top+")"),u.on("click",function(e,t){T.chartClick({data:e,index:t,pos:d3.event,id:c})}),M.append("clipPath").attr("id","nv-chart-clip-path-"+c).append("rect"),x.select("#nv-chart-clip-path-"+c+" rect").attr("width",A).attr("height",I),R.attr("clip-path",_?"url(#nv-chart-clip-path-"+c+")":"");var N=x.select(".nv-ticks").selectAll(".nv-tick").data(function(e){return e});N.exit().remove(),N.enter().append("path").attr("class",function(e,t,n){return(g(e,t)>v(e,t)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+t}).attr("d",function(e,t){return"m0,0l0,"+(f(g(e,t))-f(h(e,t)))+"l"+-C/2+",0l"+C/2+",0l0,"+(f(b(e,t))-f(g(e,t)))+"l0,"+(f(v(e,t))-f(b(e,t)))+"l"+C/2+",0l"+-C/2+",0z"}).attr("transform",function(e,t){return"translate("+d(m(e,t))+","+f(h(e,t))+")"}).attr("fill",function(e,t){return w[0]}).attr("stroke",function(e,t){return w[0]}).attr("x",0).attr("y",function(e,t){return f(Math.max(0,p(e,t)))}).attr("height",function(e,t){return Math.abs(f(p(e,t))-f(0))}),N.attr("class",function(e,t,n){return(g(e,t)>v(e,t)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+t}),d3.transition(N).attr("transform",function(e,t){return"translate("+d(m(e,t))+","+f(h(e,t))+")"}).attr("d",function(t,n){var r=A/e[0].values.length*.9;return"m0,0l0,"+(f(g(t,n))-f(h(t,n)))+"l"+-r/2+",0l"+r/2+",0l0,"+(f(b(t,n))-f(g(t,n)))+"l0,"+(f(v(t,n))-f(b(t,n)))+"l"+r/2+",0l"+-r/2+",0z"})}),e}var n,r,i,o,a={top:0,right:0,bottom:0,left:0},l=null,s=null,c=Math.floor(1e4*Math.random()),u=null,d=d3.scale.linear(),f=d3.scale.linear(),m=function(e){return e.x},p=function(e){return e.y},g=function(e){return e.open},v=function(e){return e.close},h=function(e){return e.high},b=function(e){return e.low},y=[],E=[],S=!1,_=!0,w=t.utils.defaultColor(),A=!1,T=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return e.highlightPoint=function(t,n){e.clearHighlights(),u.select(".nv-ohlcBar .nv-tick-0-"+t).classed("hover",n)},e.clearHighlights=function(){u.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)},e.dispatch=T,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return l},set:function(e){l=e}},height:{get:function(){return s},set:function(e){s=e}},xScale:{get:function(){return d},set:function(e){d=e}},yScale:{get:function(){return f},set:function(e){f=e}},xDomain:{get:function(){return n},set:function(e){n=e}},yDomain:{get:function(){return r},set:function(e){r=e}},xRange:{get:function(){return i},set:function(e){i=e}},yRange:{get:function(){return o},set:function(e){o=e}},forceX:{get:function(){return y},set:function(e){y=e}},forceY:{get:function(){return E},set:function(e){E=e}},padData:{get:function(){return S},set:function(e){S=e}},clipEdge:{get:function(){return _},set:function(e){_=e}},id:{get:function(){return c},set:function(e){c=e}},interactive:{get:function(){return A},set:function(e){A=e}},x:{get:function(){return m},set:function(e){m=e}},y:{get:function(){return p},set:function(e){p=e}},open:{get:function(){return g()},set:function(e){g=e}},close:{get:function(){return v()},set:function(e){v=e}},high:{get:function(){return h},set:function(e){h=e}},low:{get:function(){return b},set:function(e){b=e}},margin:{get:function(){return a},set:function(e){a.top=void 0!=e.top?e.top:a.top,a.right=void 0!=e.right?e.right:a.right,a.bottom=void 0!=e.bottom?e.bottom:a.bottom,a.left=void 0!=e.left?e.left:a.left}},color:{get:function(){return w},set:function(e){w=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.parallelCoordinates=function(){"use strict";function e(g){return g.each(function(e){function g(e){return O(l.map(function(t){if(isNaN(e[t])||isNaN(parseFloat(e[t]))){var n=a[t].domain(),r=a[t].range(),i=n[0]-(n[1]-n[0])/9;if(P.indexOf(t)<0){var l=d3.scale.linear().domain([i,n[1]]).range([w-12,r[1]]);a[t].brush.y(l),P.push(t)}return[o(t),a[t](i)]}return P.length>0?(D.style("display","inline"),M.style("display","inline")):(D.style("display","none"),M.style("display","none")),[o(t),a[t](e[t])]}))}function v(){var e=l.filter(function(e){return!a[e].brush.empty()}),t=e.map(function(e){return a[e].brush.extent()});u=[],e.forEach(function(e,n){u[n]={dimension:e,extent:t[n]}}),d=[],F.style("display",function(n){var r=e.every(function(e,r){return!(!isNaN(n[e])||t[r][0]!=a[e].brush.y().domain()[0])||t[r][0]<=n[e]&&n[e]<=t[r][1]});return r&&d.push(n),r?null:"none"}),p.brush({filters:u,active:d})}function h(e,t){f[e]=this.parentNode.__origin__=o(e),G.attr("visibility","hidden")}function b(e,t){f[e]=Math.min(_,Math.max(0,this.parentNode.__origin__+=d3.event.x)),F.attr("d",g),l.sort(function(e,t){return E(e)-E(t)}),o.domain(l),U.attr("transform",function(e){return"translate("+E(e)+")"})}function y(e,t){delete this.parentNode.__origin__,delete f[e],d3.select(this.parentNode).attr("transform","translate("+o(e)+")"),F.attr("d",g),G.attr("d",g).attr("visibility",null)}function E(e){var t=f[e];return null==t?o(e):t}var S=d3.select(this),_=t.utils.availableWidth(r,S,n),w=t.utils.availableHeight(i,S,n);t.utils.initSVG(S),d=e,o.rangePoints([0,_],1).domain(l);var A={};l.forEach(function(t){var n=d3.extent(e,function(e){return+e[t]});return A[t]=!1,void 0===n[0]&&(A[t]=!0,n[0]=0,n[1]=0),n[0]===n[1]&&(n[0]=n[0]-1,n[1]=n[1]+1),a[t]=d3.scale.linear().domain(n).range([.9*(w-12),0]),a[t].brush=d3.svg.brush().y(a[t]).on("brush",v),"name"!=t});var T=S.selectAll("g.nv-wrap.nv-parallelCoordinates").data([e]),I=T.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates"),C=I.append("g"),x=T.select("g");C.append("g").attr("class","nv-parallelCoordinates background"),C.append("g").attr("class","nv-parallelCoordinates foreground"),C.append("g").attr("class","nv-parallelCoordinates missingValuesline"),T.attr("transform","translate("+n.left+","+n.top+")");var D,M,O=d3.svg.line().interpolate("cardinal").tension(m),R=d3.svg.axis().orient("left"),N=d3.behavior.drag().on("dragstart",h).on("drag",b).on("dragend",y),L=o.range()[1]-o.range()[0],P=[],k=[0+L/2,w-12,_-L/2,w-12];D=T.select(".missingValuesline").selectAll("line").data([k]),D.enter().append("line"),D.exit().remove(),D.attr("x1",function(e){return e[0]}).attr("y1",function(e){return e[1]}).attr("x2",function(e){return e[2]}).attr("y2",function(e){return e[3]}),M=T.select(".missingValuesline").selectAll("text").data(["undefined values"]),M.append("text").data(["undefined values"]),M.enter().append("text"),M.exit().remove(),M.attr("y",w).attr("x",_-92-L/2).text(function(e){return e});var G=T.select(".background").selectAll("path").data(e);G.enter().append("path"),G.exit().remove(),G.attr("d",g);var F=T.select(".foreground").selectAll("path").data(e);F.enter().append("path"),F.exit().remove(),F.attr("d",g).attr("stroke",c),F.on("mouseover",function(e,t){d3.select(this).classed("hover",!0),p.elementMouseover({label:e.name,data:e.data,index:t,pos:[d3.mouse(this.parentNode)[0],d3.mouse(this.parentNode)[1]]})}),F.on("mouseout",function(e,t){d3.select(this).classed("hover",!1),p.elementMouseout({label:e.name,data:e.data,index:t})});var U=x.selectAll(".dimension").data(l),V=U.enter().append("g").attr("class","nv-parallelCoordinates dimension");V.append("g").attr("class","nv-parallelCoordinates nv-axis"),V.append("g").attr("class","nv-parallelCoordinates-brush"),V.append("text").attr("class","nv-parallelCoordinates nv-label"),U.attr("transform",function(e){return"translate("+o(e)+",0)"}),U.exit().remove(),U.select(".nv-label").style("cursor","move").attr("dy","-1em").attr("text-anchor","middle").text(String).on("mouseover",function(e,t){p.elementMouseover({dim:e,pos:[d3.mouse(this.parentNode.parentNode)[0],d3.mouse(this.parentNode.parentNode)[1]]})}).on("mouseout",function(e,t){p.elementMouseout({dim:e})}).call(N),U.select(".nv-axis").each(function(e,t){d3.select(this).call(R.scale(a[e]).tickFormat(d3.format(s[t])))}),U.select(".nv-parallelCoordinates-brush").each(function(e){d3.select(this).call(a[e].brush)}).selectAll("rect").attr("x",-8).attr("width",16)}),e}var n={top:30,right:0,bottom:10,left:0},r=null,i=null,o=d3.scale.ordinal(),a={},l=[],s=[],c=t.utils.defaultColor(),u=[],d=[],f=[],m=1,p=d3.dispatch("brush","elementMouseover","elementMouseout");return e.dispatch=p,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return r},set:function(e){r=e}},height:{get:function(){return i},set:function(e){i=e}},dimensionNames:{get:function(){return l},set:function(e){l=e}},dimensionFormats:{get:function(){return s},set:function(e){s=e}},lineTension:{get:function(){return m},set:function(e){m=e}},dimensions:{get:function(){return l},set:function(e){t.deprecated("dimensions","use dimensionNames instead"),l=e}},margin:{get:function(){return n},set:function(e){n.top=void 0!==e.top?e.top:n.top,n.right=void 0!==e.right?e.right:n.right,n.bottom=void 0!==e.bottom?e.bottom:n.bottom,n.left=void 0!==e.left?e.left:n.left}},color:{get:function(){return c},set:function(e){c=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.pie=function(){"use strict";function e(M){return D.reset(),M.each(function(e){function M(e,t){e.endAngle=isNaN(e.endAngle)?0:e.endAngle,e.startAngle=isNaN(e.startAngle)?0:e.startAngle,g||(e.innerRadius=0);var n=d3.interpolate(this._current,e);return this._current=n(0),function(e){return C[t](n(e))}}var O=r-n.left-n.right,R=i-n.top-n.bottom,N=Math.min(O,R)/2,L=[],P=[];if(s=d3.select(this),0===T.length)for(var k=N-N/5,G=A*N,F=0;F<e[0].length;F++)L.push(k),P.push(G);else L=T.map(function(e){return(e.outer-e.outer/5)*N}),P=T.map(function(e){return(e.inner-e.inner/5)*N}),A=d3.min(T.map(function(e){return e.inner-e.inner/5}));t.utils.initSVG(s);var U=s.selectAll(".nv-wrap.nv-pie").data(e),V=U.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+l),B=V.append("g"),z=U.select("g"),$=B.append("g").attr("class","nv-pie");B.append("g").attr("class","nv-pieLabels"),U.attr("transform","translate("+n.left+","+n.top+")"),z.select(".nv-pie").attr("transform","translate("+O/2+","+R/2+")"),z.select(".nv-pieLabels").attr("transform","translate("+O/2+","+R/2+")"),s.on("click",function(e,t){I.chartClick({data:e,index:t,pos:d3.event,id:l})}),C=[],x=[];for(var F=0;F<e[0].length;F++){var W=d3.svg.arc().outerRadius(L[F]),H=d3.svg.arc().outerRadius(L[F]+5);E!==!1&&(W.startAngle(E),H.startAngle(E)),_!==!1&&(W.endAngle(_),H.endAngle(_)),g&&(W.innerRadius(P[F]),H.innerRadius(P[F])),W.cornerRadius&&w&&(W.cornerRadius(w),H.cornerRadius(w)),C.push(W),x.push(H)}var j=d3.layout.pie().sort(null).value(function(e){return e.disabled?0:a(e)});j.padAngle&&S&&j.padAngle(S),g&&v&&($.append("text").attr("class","nv-pie-title"),U.select(".nv-pie-title").style("text-anchor","middle").text(function(e){return v}).style("font-size",Math.min(O,R)*A*2/(v.length+2)+"px").attr("dy","0.35em").attr("transform",function(e,t){return"translate(0, "+b+")"}));var q=U.select(".nv-pie").selectAll(".nv-slice").data(j),Y=U.select(".nv-pieLabels").selectAll(".nv-label").data(j);q.exit().remove(),Y.exit().remove();var K=q.enter().append("g");K.attr("class","nv-slice"),K.on("mouseover",function(e,t){d3.select(this).classed("hover",!0),h&&d3.select(this).select("path").transition().duration(70).attr("d",x[t]),I.elementMouseover({data:e.data,index:t,color:d3.select(this).style("fill")})}),K.on("mouseout",function(e,t){d3.select(this).classed("hover",!1),h&&d3.select(this).select("path").transition().duration(50).attr("d",C[t]),I.elementMouseout({data:e.data,index:t})}),K.on("mousemove",function(e,t){I.elementMousemove({data:e.data,index:t})}),K.on("click",function(e,t){I.elementClick({data:e.data,index:t,color:d3.select(this).style("fill")})}),K.on("dblclick",function(e,t){I.elementDblClick({data:e.data,index:t,color:d3.select(this).style("fill")})}),q.attr("fill",function(e,t){return c(e.data,t)}),q.attr("stroke",function(e,t){return c(e.data,t)});K.append("path").each(function(e){this._current=e});if(q.select("path").transition().attr("d",function(e,t){return C[t](e)}).attrTween("d",M),d){for(var Q=[],F=0;F<e[0].length;F++)Q.push(C[F]),f?g&&(Q[F]=d3.svg.arc().outerRadius(C[F].outerRadius()),E!==!1&&Q[F].startAngle(E),_!==!1&&Q[F].endAngle(_)):g||Q[F].innerRadius(0);Y.enter().append("g").classed("nv-label",!0).each(function(e,t){var n=d3.select(this);n.attr("transform",function(e,t){if(y){e.outerRadius=L[t]+10,e.innerRadius=L[t]+15;var n=(e.startAngle+e.endAngle)/2*(180/Math.PI);return(e.startAngle+e.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+Q[t].centroid(e)+") rotate("+n+")"}return e.outerRadius=N+10,e.innerRadius=N+15,"translate("+Q[t].centroid(e)+")"}),n.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),n.append("text").style("text-anchor",y?(e.startAngle+e.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var Z={},X=14,J=140,ee=function(e){return Math.floor(e[0]/J)*J+","+Math.floor(e[1]/X)*X};Y.watchTransition(D,"pie labels").attr("transform",function(e,t){if(y){e.outerRadius=L[t]+10,e.innerRadius=L[t]+15;var n=(e.startAngle+e.endAngle)/2*(180/Math.PI);return(e.startAngle+e.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+Q[t].centroid(e)+") rotate("+n+")"}e.outerRadius=N+10,e.innerRadius=N+15;var r=Q[t].centroid(e);if(e.value){var i=ee(r);Z[i]&&(r[1]-=X),Z[ee(r)]=!0}return"translate("+r+")"}),Y.select(".nv-label text").style("text-anchor",function(e,t){return y?(e.startAngle+e.endAngle)/2<Math.PI?"start":"end":"middle"}).text(function(e,t){var n=(e.endAngle-e.startAngle)/(2*Math.PI),r="";if(!e.value||n<p)return"";if("function"==typeof m)r=m(e,t,{key:o(e.data),value:a(e.data),percent:u(n)});else switch(m){case"key":r=o(e.data);break;case"value":r=u(a(e.data));break;case"percent":r=d3.format("%")(n)}return r})}}),D.renderEnd("pie immediate"),e}var n={top:0,right:0,bottom:0,left:0},r=500,i=500,o=function(e){return e.x},a=function(e){return e.y},l=Math.floor(1e4*Math.random()),s=null,c=t.utils.defaultColor(),u=d3.format(",.2f"),d=!0,f=!1,m="key",p=.02,g=!1,v=!1,h=!0,b=0,y=!1,E=!1,S=!1,_=!1,w=0,A=.5,T=[],I=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),C=[],x=[],D=t.utils.renderWatch(I);return e.dispatch=I,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{arcsRadius:{get:function(){return T},set:function(e){T=e}},width:{get:function(){return r},set:function(e){r=e}},height:{get:function(){return i},set:function(e){i=e}},showLabels:{get:function(){return d},set:function(e){d=e}},title:{get:function(){return v},set:function(e){v=e}},titleOffset:{get:function(){return b},set:function(e){b=e}},labelThreshold:{get:function(){return p},set:function(e){p=e}},valueFormat:{get:function(){return u},set:function(e){u=e}},x:{get:function(){return o},set:function(e){o=e}},id:{get:function(){return l},set:function(e){l=e}},endAngle:{get:function(){return _},set:function(e){_=e}},startAngle:{get:function(){return E},set:function(e){E=e}},padAngle:{get:function(){return S},set:function(e){S=e}},cornerRadius:{get:function(){return w},set:function(e){w=e}},donutRatio:{get:function(){return A},set:function(e){A=e}},labelsOutside:{get:function(){return f},set:function(e){f=e}},labelSunbeamLayout:{get:function(){return y},set:function(e){y=e}},donut:{get:function(){return g},set:function(e){g=e}},growOnHover:{get:function(){return h},set:function(e){h=e}},pieLabelsOutside:{get:function(){return f},set:function(e){f=e,t.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return f},set:function(e){f=e,t.deprecated("donutLabelsOutside","use labelsOutside instead")}},labelFormat:{get:function(){return u},set:function(e){u=e,t.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return n},set:function(e){n.top="undefined"!=typeof e.top?e.top:n.top,n.right="undefined"!=typeof e.right?e.right:n.right,n.bottom="undefined"!=typeof e.bottom?e.bottom:n.bottom,n.left="undefined"!=typeof e.left?e.left:n.left}},y:{get:function(){return a},set:function(e){a=d3.functor(e)}},color:{get:function(){return c},set:function(e){c=t.utils.getColor(e)}},labelType:{get:function(){return m},set:function(e){m=e||"key"}}}),t.utils.initOptions(e),e},t.models.pieChart=function(){"use strict";function e(i){return v.reset(),v.models(n),i.each(function(i){var u=d3.select(this);t.utils.initSVG(u);var m=t.utils.availableWidth(a,u,o),p=t.utils.availableHeight(l,u,o);if(e.update=function(){u.transition().call(e)},e.container=this,d.setter(b(i),e.update).getter(h(i)).update(),d.disabled=i.map(function(e){return!!e.disabled}),!f){var v;f={};for(v in d)d[v]instanceof Array?f[v]=d[v].slice(0):f[v]=d[v]}if(!i||!i.length)return t.utils.noData(e,u),e;u.selectAll(".nv-noData").remove();var y=u.selectAll("g.nv-wrap.nv-pieChart").data([i]),E=y.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),S=y.select("g");if(E.append("g").attr("class","nv-pieWrap"),E.append("g").attr("class","nv-legendWrap"),s)if("top"===c)r.width(m).key(n.x()),y.select(".nv-legendWrap").datum(i).call(r),o.top!=r.height()&&(o.top=r.height(),p=t.utils.availableHeight(l,u,o)),y.select(".nv-legendWrap").attr("transform","translate(0,"+-o.top+")");else if("right"===c){var _=t.models.legend().width();m/2<_&&(_=m/2),r.height(p).key(n.x()),r.width(_),m-=r.width(),y.select(".nv-legendWrap").datum(i).call(r).attr("transform","translate("+m+",0)")}y.attr("transform","translate("+o.left+","+o.top+")"),n.width(m).height(p);var w=S.select(".nv-pieWrap").datum([i]);d3.transition(w).call(n),r.dispatch.on("stateChange",function(t){for(var n in t)d[n]=t[n];g.stateChange(d),e.update()}),g.on("changeState",function(t){"undefined"!=typeof t.disabled&&(i.forEach(function(e,n){e.disabled=t.disabled[n]}),d.disabled=t.disabled),e.update()})}),v.renderEnd("pieChart immediate"),e}var n=t.models.pie(),r=t.models.legend(),i=t.models.tooltip(),o={top:30,right:20,bottom:20,left:20},a=null,l=null,s=!0,c="top",u=t.utils.defaultColor(),d=t.utils.state(),f=null,m=null,p=250,g=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd");i.headerEnabled(!1).duration(0).valueFormatter(function(e,t){return n.valueFormat()(e,t)});var v=t.utils.renderWatch(g),h=function(e){return function(){return{active:e.map(function(e){return!e.disabled})}}},b=function(e){return function(t){void 0!==t.active&&e.forEach(function(e,n){e.disabled=!t.active[n]})}};return n.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:e.x()(t.data),value:e.y()(t.data),color:t.color},i.data(t).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(e){i.hidden(!0)}),n.dispatch.on("elementMousemove.tooltip",function(e){i.position({top:d3.event.pageY,left:d3.event.pageX})()}),e.legend=r,e.dispatch=g,e.pie=n,e.tooltip=i,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{noData:{get:function(){return m},set:function(e){m=e}},showLegend:{get:function(){return s},set:function(e){s=e}},legendPosition:{get:function(){return c},set:function(e){c=e}},defaultState:{get:function(){return f},set:function(e){f=e}},tooltips:{get:function(){return i.enabled()},set:function(e){t.deprecated("tooltips","use chart.tooltip.enabled() instead"),i.enabled(!!e)}},tooltipContent:{get:function(){return i.contentGenerator()},set:function(e){t.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),i.contentGenerator(e)}},color:{get:function(){return u},set:function(e){u=e,r.color(u),n.color(u)}},duration:{get:function(){return p},set:function(e){p=e,v.reset(p)}},margin:{get:function(){return o},set:function(e){o.top=void 0!==e.top?e.top:o.top,o.right=void 0!==e.right?e.right:o.right,o.bottom=void 0!==e.bottom?e.bottom:o.bottom,o.left=void 0!==e.left?e.left:o.left}}}),t.utils.inheritOptions(e,n),t.utils.initOptions(e),e},t.models.scatter=function(){"use strict";function e(U){return B.reset(),U.each(function(e){function U(){if(V=!1,!_)return!1;if(F===!0){var t=d3.merge(e.map(function(e,t){return e.values.map(function(e,n){var r=g(e,n),i=v(e,n);return[f(r)+1e-4*Math.random(),m(i)+1e-4*Math.random(),t,n,e]}).filter(function(e,t){return w(e[4],t)})}));if(0==t.length)return!1;t.length<3&&(t.push([f.range()[0]-20,m.range()[0]-20,null,null]),t.push([f.range()[1]+20,m.range()[1]+20,null,null]),t.push([f.range()[0]-20,m.range()[0]+20,null,null]),t.push([f.range()[1]+20,m.range()[1]-20,null,null]));var n=d3.geom.polygon([[-10,-10],[-10,s+10],[l+10,s+10],[l+10,-10]]),r=d3.geom.voronoi(t).map(function(e,r){return{data:n.clip(e),series:t[r][2],point:t[r][3]}});j.select(".nv-point-paths").selectAll("path").remove();var i=j.select(".nv-point-paths").selectAll("path").data(r),o=i.enter().append("svg:path").attr("d",function(e){return e&&e.data&&0!==e.data.length?"M"+e.data.join(",")+"Z":"M 0 0"}).attr("id",function(e,t){return"nv-path-"+t}).attr("clip-path",function(e,t){return"url(#nv-clip-"+t+")"});x&&o.style("fill",d3.rgb(230,230,230)).style("fill-opacity",.4).style("stroke-opacity",1).style("stroke",d3.rgb(200,200,200)),C&&(j.select(".nv-point-clips").selectAll("clipPath").remove(),j.select(".nv-point-clips").selectAll("clipPath").data(t).enter().append("svg:clipPath").attr("id",function(e,t){return"nv-clip-"+t}).append("svg:circle").attr("cx",function(e){return e[0]}).attr("cy",function(e){return e[1]}).attr("r",D));var u=function(t,n){if(V)return 0;var r=e[t.series];if(void 0!==r){var i=r.values[t.point];i.color=c(r,t.series),i.x=g(i),i.y=v(i);var o=d.node().getBoundingClientRect(),l=window.pageYOffset||document.documentElement.scrollTop,s=window.pageXOffset||document.documentElement.scrollLeft,u={left:f(g(i,t.point))+o.left+s+a.left+10,top:m(v(i,t.point))+o.top+l+a.top+10};n({point:i,series:r,pos:u,seriesIndex:t.series,pointIndex:t.point})}};i.on("click",function(e){u(e,G.elementClick)}).on("dblclick",function(e){u(e,G.elementDblClick)}).on("mouseover",function(e){u(e,G.elementMouseover)}).on("mouseout",function(e,t){u(e,G.elementMouseout)})}else j.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(t,n){if(V||!e[t.series])return 0;var r=e[t.series],i=r.values[n];G.elementClick({point:i,series:r,pos:[f(g(i,n))+a.left,m(v(i,n))+a.top],seriesIndex:t.series,pointIndex:n})}).on("dblclick",function(t,n){if(V||!e[t.series])return 0;var r=e[t.series],i=r.values[n];G.elementDblClick({point:i,series:r,pos:[f(g(i,n))+a.left,m(v(i,n))+a.top],seriesIndex:t.series,pointIndex:n})}).on("mouseover",function(t,n){if(V||!e[t.series])return 0;var r=e[t.series],i=r.values[n];G.elementMouseover({point:i,series:r,pos:[f(g(i,n))+a.left,m(v(i,n))+a.top],seriesIndex:t.series,pointIndex:n,color:c(t,n)})}).on("mouseout",function(t,n){if(V||!e[t.series])return 0;var r=e[t.series],i=r.values[n];G.elementMouseout({point:i,series:r,seriesIndex:t.series,pointIndex:n,color:c(t,n)})})}d=d3.select(this);var $=t.utils.availableWidth(l,d,a),W=t.utils.availableHeight(s,d,a);t.utils.initSVG(d),e.forEach(function(e,t){e.values.forEach(function(e){e.series=t})});var H=M&&O&&L?[]:d3.merge(e.map(function(e){return e.values.map(function(e,t){return{x:g(e,t),y:v(e,t),size:h(e,t)}})}));f.domain(M||d3.extent(H.map(function(e){return e.x}).concat(y))),A&&e[0]?f.range(R||[($*T+$)/(2*e[0].values.length),$-$*(1+T)/(2*e[0].values.length)]):f.range(R||[0,$]),m.domain(O||d3.extent(H.map(function(e){return e.y}).concat(E))).range(N||[W,0]),p.domain(L||d3.extent(H.map(function(e){return e.size}).concat(S))).range(P||z),k=f.domain()[0]===f.domain()[1]||m.domain()[0]===m.domain()[1],f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]-.01*f.domain()[0],f.domain()[1]+.01*f.domain()[1]]):f.domain([-1,1])),m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]-.01*m.domain()[0],m.domain()[1]+.01*m.domain()[1]]):m.domain([-1,1])),isNaN(f.domain()[0])&&f.domain([-1,1]),isNaN(m.domain()[0])&&m.domain([-1,1]),n=n||f,r=r||m,i=i||p;var j=d.selectAll("g.nv-wrap.nv-scatter").data([e]),q=j.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+u),Y=q.append("defs"),K=q.append("g"),Q=j.select("g");j.classed("nv-single-point",k),K.append("g").attr("class","nv-groups"),K.append("g").attr("class","nv-point-paths"),q.append("g").attr("class","nv-point-clips"),j.attr("transform","translate("+a.left+","+a.top+")"),Y.append("clipPath").attr("id","nv-edge-clip-"+u).append("rect"),j.select("#nv-edge-clip-"+u+" rect").attr("width",$).attr("height",W>0?W:0),Q.attr("clip-path",I?"url(#nv-edge-clip-"+u+")":""),V=!0;var Z=j.select(".nv-groups").selectAll(".nv-group").data(function(e){return e},function(e){return e.key});Z.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),Z.exit().remove(),Z.attr("class",function(e,t){return"nv-group nv-series-"+t}).classed("hover",function(e){return e.hover}),Z.watchTransition(B,"scatter: groups").style("fill",function(e,t){
return c(e,t)}).style("stroke",function(e,t){return c(e,t)}).style("stroke-opacity",1).style("fill-opacity",.5);var X=Z.selectAll("path.nv-point").data(function(e){return e.values.map(function(e,t){return[e,t]}).filter(function(e,t){return w(e[0],t)})});X.enter().append("path").style("fill",function(e){return e.color}).style("stroke",function(e){return e.color}).attr("transform",function(e){return"translate("+n(g(e[0],e[1]))+","+r(v(e[0],e[1]))+")"}).attr("d",t.utils.symbol().type(function(e){return b(e[0])}).size(function(e){return p(h(e[0],e[1]))})),X.exit().remove(),Z.exit().selectAll("path.nv-point").watchTransition(B,"scatter exit").attr("transform",function(e){return"translate("+f(g(e[0],e[1]))+","+m(v(e[0],e[1]))+")"}).remove(),X.each(function(e){d3.select(this).classed("nv-point",!0).classed("nv-point-"+e[1],!0).classed("nv-noninteractive",!_).classed("hover",!1)}),X.watchTransition(B,"scatter points").attr("transform",function(e){return"translate("+f(g(e[0],e[1]))+","+m(v(e[0],e[1]))+")"}).attr("d",t.utils.symbol().type(function(e){return b(e[0])}).size(function(e){return p(h(e[0],e[1]))})),clearTimeout(o),o=setTimeout(U,300),n=f.copy(),r=m.copy(),i=p.copy()}),B.renderEnd("scatter immediate"),e}var n,r,i,o,a={top:0,right:0,bottom:0,left:0},l=null,s=null,c=t.utils.defaultColor(),u=Math.floor(1e5*Math.random()),d=null,f=d3.scale.linear(),m=d3.scale.linear(),p=d3.scale.linear(),g=function(e){return e.x},v=function(e){return e.y},h=function(e){return e.size||1},b=function(e){return e.shape||"circle"},y=[],E=[],S=[],_=!0,w=function(e){return!e.notActive},A=!1,T=.1,I=!1,C=!0,x=!1,D=function(){return 25},M=null,O=null,R=null,N=null,L=null,P=null,k=!1,G=d3.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),F=!0,U=250,V=!1,B=t.utils.renderWatch(G,U),z=[16,256];return e.dispatch=G,e.options=t.utils.optionsFunc.bind(e),e._calls=new function(){this.clearHighlights=function(){return t.dom.write(function(){d.selectAll(".nv-point.hover").classed("hover",!1)}),null},this.highlightPoint=function(e,n,r){t.dom.write(function(){d.select(" .nv-series-"+e+" .nv-point-"+n).classed("hover",r)})}},G.on("elementMouseover.point",function(t){_&&e._calls.highlightPoint(t.seriesIndex,t.pointIndex,!0)}),G.on("elementMouseout.point",function(t){_&&e._calls.highlightPoint(t.seriesIndex,t.pointIndex,!1)}),e._options=Object.create({},{width:{get:function(){return l},set:function(e){l=e}},height:{get:function(){return s},set:function(e){s=e}},xScale:{get:function(){return f},set:function(e){f=e}},yScale:{get:function(){return m},set:function(e){m=e}},pointScale:{get:function(){return p},set:function(e){p=e}},xDomain:{get:function(){return M},set:function(e){M=e}},yDomain:{get:function(){return O},set:function(e){O=e}},pointDomain:{get:function(){return L},set:function(e){L=e}},xRange:{get:function(){return R},set:function(e){R=e}},yRange:{get:function(){return N},set:function(e){N=e}},pointRange:{get:function(){return P},set:function(e){P=e}},forceX:{get:function(){return y},set:function(e){y=e}},forceY:{get:function(){return E},set:function(e){E=e}},forcePoint:{get:function(){return S},set:function(e){S=e}},interactive:{get:function(){return _},set:function(e){_=e}},pointActive:{get:function(){return w},set:function(e){w=e}},padDataOuter:{get:function(){return T},set:function(e){T=e}},padData:{get:function(){return A},set:function(e){A=e}},clipEdge:{get:function(){return I},set:function(e){I=e}},clipVoronoi:{get:function(){return C},set:function(e){C=e}},clipRadius:{get:function(){return D},set:function(e){D=e}},showVoronoi:{get:function(){return x},set:function(e){x=e}},id:{get:function(){return u},set:function(e){u=e}},x:{get:function(){return g},set:function(e){g=d3.functor(e)}},y:{get:function(){return v},set:function(e){v=d3.functor(e)}},pointSize:{get:function(){return h},set:function(e){h=d3.functor(e)}},pointShape:{get:function(){return b},set:function(e){b=d3.functor(e)}},margin:{get:function(){return a},set:function(e){a.top=void 0!==e.top?e.top:a.top,a.right=void 0!==e.right?e.right:a.right,a.bottom=void 0!==e.bottom?e.bottom:a.bottom,a.left=void 0!==e.left?e.left:a.left}},duration:{get:function(){return U},set:function(e){U=e,B.reset(U)}},color:{get:function(){return c},set:function(e){c=t.utils.getColor(e)}},useVoronoi:{get:function(){return F},set:function(e){F=e,F===!1&&(C=!1)}}}),t.utils.initOptions(e),e},t.models.scatterChart=function(){"use strict";function e(T){return D.reset(),D.models(n),y&&D.models(r),E&&D.models(i),v&&D.models(a),h&&D.models(l),T.each(function(T){f=d3.select(this),t.utils.initSVG(f);var R=t.utils.availableWidth(u,f,c),N=t.utils.availableHeight(d,f,c);if(e.update=function(){0===I?f.call(e):f.transition().duration(I).call(e)},e.container=this,_.setter(O(T),e.update).getter(M(T)).update(),_.disabled=T.map(function(e){return!!e.disabled}),!w){var L;w={};for(L in _)_[L]instanceof Array?w[L]=_[L].slice(0):w[L]=_[L]}if(!(T&&T.length&&T.filter(function(e){return e.values.length}).length))return t.utils.noData(e,f),D.renderEnd("scatter immediate"),e;f.selectAll(".nv-noData").remove(),p=n.xScale(),g=n.yScale();var P=f.selectAll("g.nv-wrap.nv-scatterChart").data([T]),k=P.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+n.id()),G=k.append("g"),F=P.select("g");if(G.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),G.append("g").attr("class","nv-x nv-axis"),G.append("g").attr("class","nv-y nv-axis"),G.append("g").attr("class","nv-scatterWrap"),G.append("g").attr("class","nv-regressionLinesWrap"),G.append("g").attr("class","nv-distWrap"),G.append("g").attr("class","nv-legendWrap"),S&&F.select(".nv-y.nv-axis").attr("transform","translate("+R+",0)"),b){var U=R;o.width(U),P.select(".nv-legendWrap").datum(T).call(o),c.top!=o.height()&&(c.top=o.height(),N=t.utils.availableHeight(d,f,c)),P.select(".nv-legendWrap").attr("transform","translate(0,"+-c.top+")")}P.attr("transform","translate("+c.left+","+c.top+")"),n.width(R).height(N).color(T.map(function(e,t){return e.color=e.color||m(e,t),e.color}).filter(function(e,t){return!T[t].disabled})),P.select(".nv-scatterWrap").datum(T.filter(function(e){return!e.disabled})).call(n),P.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+n.id()+")");var V=P.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(e){return e});V.enter().append("g").attr("class","nv-regLines");var B=V.selectAll(".nv-regLine").data(function(e){return[e]});B.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0),B.filter(function(e){return e.intercept&&e.slope}).watchTransition(D,"scatterPlusLineChart: regline").attr("x1",p.range()[0]).attr("x2",p.range()[1]).attr("y1",function(e,t){return g(p.domain()[0]*e.slope+e.intercept)}).attr("y2",function(e,t){return g(p.domain()[1]*e.slope+e.intercept)}).style("stroke",function(e,t,n){return m(e,n)}).style("stroke-opacity",function(e,t){return e.disabled||"undefined"==typeof e.slope||"undefined"==typeof e.intercept?0:1}),y&&(r.scale(p)._ticks(t.utils.calcTicksX(R/100,T)).tickSize(-N,0),F.select(".nv-x.nv-axis").attr("transform","translate(0,"+g.range()[0]+")").call(r)),E&&(i.scale(g)._ticks(t.utils.calcTicksY(N/36,T)).tickSize(-R,0),F.select(".nv-y.nv-axis").call(i)),v&&(a.getData(n.x()).scale(p).width(R).color(T.map(function(e,t){return e.color||m(e,t)}).filter(function(e,t){return!T[t].disabled})),G.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),F.select(".nv-distributionX").attr("transform","translate(0,"+g.range()[0]+")").datum(T.filter(function(e){return!e.disabled})).call(a)),h&&(l.getData(n.y()).scale(g).width(N).color(T.map(function(e,t){return e.color||m(e,t)}).filter(function(e,t){return!T[t].disabled})),G.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),F.select(".nv-distributionY").attr("transform","translate("+(S?R:-l.size())+",0)").datum(T.filter(function(e){return!e.disabled})).call(l)),o.dispatch.on("stateChange",function(t){for(var n in t)_[n]=t[n];A.stateChange(_),e.update()}),A.on("changeState",function(t){"undefined"!=typeof t.disabled&&(T.forEach(function(e,n){e.disabled=t.disabled[n]}),_.disabled=t.disabled),e.update()}),n.dispatch.on("elementMouseout.tooltip",function(e){s.hidden(!0),f.select(".nv-chart-"+n.id()+" .nv-series-"+e.seriesIndex+" .nv-distx-"+e.pointIndex).attr("y1",0),f.select(".nv-chart-"+n.id()+" .nv-series-"+e.seriesIndex+" .nv-disty-"+e.pointIndex).attr("x2",l.size())}),n.dispatch.on("elementMouseover.tooltip",function(e){f.select(".nv-series-"+e.seriesIndex+" .nv-distx-"+e.pointIndex).attr("y1",e.pos.top-N-c.top),f.select(".nv-series-"+e.seriesIndex+" .nv-disty-"+e.pointIndex).attr("x2",e.pos.left+a.size()-c.left),s.position(e.pos).data(e).hidden(!1)}),C=p.copy(),x=g.copy()}),D.renderEnd("scatter with line immediate"),e}var n=t.models.scatter(),r=t.models.axis(),i=t.models.axis(),o=t.models.legend(),a=t.models.distribution(),l=t.models.distribution(),s=t.models.tooltip(),c={top:30,right:20,bottom:50,left:75},u=null,d=null,f=null,m=t.utils.defaultColor(),p=n.xScale(),g=n.yScale(),v=!1,h=!1,b=!0,y=!0,E=!0,S=!1,_=t.utils.state(),w=null,A=d3.dispatch("stateChange","changeState","renderEnd"),T=null,I=250;n.xScale(p).yScale(g),r.orient("bottom").tickPadding(10),i.orient(S?"right":"left").tickPadding(10),a.axis("x"),l.axis("y"),s.headerFormatter(function(e,t){return r.tickFormat()(e,t)}).valueFormatter(function(e,t){return i.tickFormat()(e,t)});var C,x,D=t.utils.renderWatch(A,I),M=function(e){return function(){return{active:e.map(function(e){return!e.disabled})}}},O=function(e){return function(t){void 0!==t.active&&e.forEach(function(e,n){e.disabled=!t.active[n]})}};return e.dispatch=A,e.scatter=n,e.legend=o,e.xAxis=r,e.yAxis=i,e.distX=a,e.distY=l,e.tooltip=s,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return u},set:function(e){u=e}},height:{get:function(){return d},set:function(e){d=e}},container:{get:function(){return f},set:function(e){f=e}},showDistX:{get:function(){return v},set:function(e){v=e}},showDistY:{get:function(){return h},set:function(e){h=e}},showLegend:{get:function(){return b},set:function(e){b=e}},showXAxis:{get:function(){return y},set:function(e){y=e}},showYAxis:{get:function(){return E},set:function(e){E=e}},defaultState:{get:function(){return w},set:function(e){w=e}},noData:{get:function(){return T},set:function(e){T=e}},duration:{get:function(){return I},set:function(e){I=e}},tooltips:{get:function(){return s.enabled()},set:function(e){t.deprecated("tooltips","use chart.tooltip.enabled() instead"),s.enabled(!!e)}},tooltipContent:{get:function(){return s.contentGenerator()},set:function(e){t.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),s.contentGenerator(e)}},tooltipXContent:{get:function(){return s.contentGenerator()},set:function(e){t.deprecated("tooltipContent","This option is removed, put values into main tooltip.")}},tooltipYContent:{get:function(){return s.contentGenerator()},set:function(e){t.deprecated("tooltipContent","This option is removed, put values into main tooltip.")}},margin:{get:function(){return c},set:function(e){c.top=void 0!==e.top?e.top:c.top,c.right=void 0!==e.right?e.right:c.right,c.bottom=void 0!==e.bottom?e.bottom:c.bottom,c.left=void 0!==e.left?e.left:c.left}},rightAlignYAxis:{get:function(){return S},set:function(e){S=e,i.orient(e?"right":"left")}},color:{get:function(){return m},set:function(e){m=t.utils.getColor(e),o.color(m),a.color(m),l.color(m)}}}),t.utils.inheritOptions(e,n),t.utils.initOptions(e),e},t.models.sparkline=function(){"use strict";function e(u){return u.each(function(e){var u=l-a.left-a.right,v=s-a.top-a.bottom;c=d3.select(this),t.utils.initSVG(c),d.domain(n||d3.extent(e,m)).range(i||[0,u]),f.domain(r||d3.extent(e,p)).range(o||[v,0]);var h=c.selectAll("g.nv-wrap.nv-sparkline").data([e]),b=h.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline");b.append("g"),h.select("g");h.attr("transform","translate("+a.left+","+a.top+")");var y=h.selectAll("path").data(function(e){return[e]});y.enter().append("path"),y.exit().remove(),y.style("stroke",function(e,t){return e.color||g(e,t)}).attr("d",d3.svg.line().x(function(e,t){return d(m(e,t))}).y(function(e,t){return f(p(e,t))}));var E=h.selectAll("circle.nv-point").data(function(e){function t(t){if(t!=-1){var n=e[t];return n.pointIndex=t,n}return null}var n=e.map(function(e,t){return p(e,t)}),r=t(n.lastIndexOf(f.domain()[1])),i=t(n.indexOf(f.domain()[0])),o=t(n.length-1);return[i,r,o].filter(function(e){return null!=e})});E.enter().append("circle"),E.exit().remove(),E.attr("cx",function(e,t){return d(m(e,e.pointIndex))}).attr("cy",function(e,t){return f(p(e,e.pointIndex))}).attr("r",2).attr("class",function(e,t){return m(e,e.pointIndex)==d.domain()[1]?"nv-point nv-currentValue":p(e,e.pointIndex)==f.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),e}var n,r,i,o,a={top:2,right:0,bottom:2,left:0},l=400,s=32,c=null,u=!0,d=d3.scale.linear(),f=d3.scale.linear(),m=function(e){return e.x},p=function(e){return e.y},g=t.utils.getColor(["#000"]);return e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return l},set:function(e){l=e}},height:{get:function(){return s},set:function(e){s=e}},xDomain:{get:function(){return n},set:function(e){n=e}},yDomain:{get:function(){return r},set:function(e){r=e}},xRange:{get:function(){return i},set:function(e){i=e}},yRange:{get:function(){return o},set:function(e){o=e}},xScale:{get:function(){return d},set:function(e){d=e}},yScale:{get:function(){return f},set:function(e){f=e}},animate:{get:function(){return u},set:function(e){u=e}},x:{get:function(){return m},set:function(e){m=d3.functor(e)}},y:{get:function(){return p},set:function(e){p=d3.functor(e)}},margin:{get:function(){return a},set:function(e){a.top=void 0!==e.top?e.top:a.top,a.right=void 0!==e.right?e.right:a.right,a.bottom=void 0!==e.bottom?e.bottom:a.bottom,a.left=void 0!==e.left?e.left:a.left}},color:{get:function(){return g},set:function(e){g=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.sparklinePlus=function(){"use strict";function e(g){return g.each(function(g){function v(){if(!c){var e=T.selectAll(".nv-hoverValue").data(s),t=e.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);e.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),e.attr("transform",function(e){return"translate("+n(i.x()(g[e],e))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),s.length&&(t.append("line").attr("x1",0).attr("y1",-o.top).attr("x2",0).attr("y2",E),t.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-o.top).attr("text-anchor","end").attr("dy",".9em"),T.select(".nv-hoverValue .nv-xValue").text(u(i.x()(g[s[0]],s[0]))),t.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-o.top).attr("text-anchor","start").attr("dy",".9em"),T.select(".nv-hoverValue .nv-yValue").text(d(i.y()(g[s[0]],s[0]))))}}function h(){function e(e,t){for(var n=Math.abs(i.x()(e[0],0)-t),r=0,o=0;o<e.length;o++)Math.abs(i.x()(e[o],o)-t)<n&&(n=Math.abs(i.x()(e[o],o)-t),r=o);return r}if(!c){var t=d3.mouse(this)[0]-o.left;s=[e(g,Math.round(n.invert(t)))],v()}}var b=d3.select(this);t.utils.initSVG(b);var y=t.utils.availableWidth(a,b,o),E=t.utils.availableHeight(l,b,o);if(e.update=function(){b.call(e)},e.container=this,!g||!g.length)return t.utils.noData(e,b),e;b.selectAll(".nv-noData").remove();var S=i.y()(g[g.length-1],g.length-1);n=i.xScale(),r=i.yScale();var _=b.selectAll("g.nv-wrap.nv-sparklineplus").data([g]),w=_.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus"),A=w.append("g"),T=_.select("g");A.append("g").attr("class","nv-sparklineWrap"),A.append("g").attr("class","nv-valueWrap"),A.append("g").attr("class","nv-hoverArea"),_.attr("transform","translate("+o.left+","+o.top+")");var I=T.select(".nv-sparklineWrap");if(i.width(y).height(E),I.call(i),f){var C=T.select(".nv-valueWrap"),x=C.selectAll(".nv-currentValue").data([S]);x.enter().append("text").attr("class","nv-currentValue").attr("dx",p?-8:8).attr("dy",".9em").style("text-anchor",p?"end":"start"),x.attr("x",y+(p?o.right:0)).attr("y",m?function(e){return r(e)}:0).style("fill",i.color()(g[g.length-1],g.length-1)).text(d(S))}A.select(".nv-hoverArea").append("rect").on("mousemove",h).on("click",function(){c=!c}).on("mouseout",function(){s=[],v()}),T.select(".nv-hoverArea rect").attr("transform",function(e){return"translate("+-o.left+","+-o.top+")"}).attr("width",y+o.left+o.right).attr("height",E+o.top)}),e}var n,r,i=t.models.sparkline(),o={top:15,right:100,bottom:10,left:50},a=null,l=null,s=[],c=!1,u=d3.format(",r"),d=d3.format(",.2f"),f=!0,m=!0,p=!1,g=null;return e.sparkline=i,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return a},set:function(e){a=e}},height:{get:function(){return l},set:function(e){l=e}},xTickFormat:{get:function(){return u},set:function(e){u=e}},yTickFormat:{get:function(){return d},set:function(e){d=e}},showLastValue:{get:function(){return f},set:function(e){f=e}},alignValue:{get:function(){return m},set:function(e){m=e}},rightAlignValue:{get:function(){return p},set:function(e){p=e}},noData:{get:function(){return g},set:function(e){g=e}},margin:{get:function(){return o},set:function(e){o.top=void 0!==e.top?e.top:o.top,o.right=void 0!==e.right?e.right:o.right,o.bottom=void 0!==e.bottom?e.bottom:o.bottom,o.left=void 0!==e.left?e.left:o.left}}}),t.utils.inheritOptions(e,i),t.utils.initOptions(e),e},t.models.stackedArea=function(){"use strict";function e(f){return E.reset(),E.models(h),f.each(function(f){var b=o-i.left-i.right,S=a-i.top-i.bottom;c=d3.select(this),t.utils.initSVG(c),n=h.xScale(),r=h.yScale();var _=f;f.forEach(function(e,t){e.seriesIndex=t,e.values=e.values.map(function(e,n){return e.index=n,e.seriesIndex=t,e})});var w=f.filter(function(e){return!e.disabled});f=d3.layout.stack().order(p).offset(m).values(function(e){return e.values}).x(u).y(d).out(function(e,t,n){e.display={y:n,y0:t}})(w);var A=c.selectAll("g.nv-wrap.nv-stackedarea").data([f]),T=A.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),I=T.append("defs"),C=T.append("g"),x=A.select("g");C.append("g").attr("class","nv-areaWrap"),C.append("g").attr("class","nv-scatterWrap"),A.attr("transform","translate("+i.left+","+i.top+")"),0==h.forceY().length&&h.forceY().push(0),h.width(b).height(S).x(u).y(function(e){return e.display.y+e.display.y0}).forceY([0]).color(f.map(function(e,t){return e.color||l(e,e.seriesIndex)}));var D=x.select(".nv-scatterWrap").datum(f);D.call(h),I.append("clipPath").attr("id","nv-edge-clip-"+s).append("rect"),A.select("#nv-edge-clip-"+s+" rect").attr("width",b).attr("height",S),x.attr("clip-path",v?"url(#nv-edge-clip-"+s+")":"");var M=d3.svg.area().x(function(e,t){return n(u(e,t))}).y0(function(e){return r(e.display.y0)}).y1(function(e){return r(e.display.y+e.display.y0)}).interpolate(g),O=d3.svg.area().x(function(e,t){return n(u(e,t))}).y0(function(e){return r(e.display.y0)}).y1(function(e){return r(e.display.y0)}),R=x.select(".nv-areaWrap").selectAll("path.nv-area").data(function(e){return e});R.enter().append("path").attr("class",function(e,t){return"nv-area nv-area-"+t}).attr("d",function(e,t){return O(e.values,e.seriesIndex)}).on("mouseover",function(e,t){d3.select(this).classed("hover",!0),y.areaMouseover({point:e,series:e.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:e.seriesIndex})}).on("mouseout",function(e,t){d3.select(this).classed("hover",!1),y.areaMouseout({point:e,series:e.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:e.seriesIndex})}).on("click",function(e,t){d3.select(this).classed("hover",!1),y.areaClick({point:e,series:e.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:e.seriesIndex})}),R.exit().remove(),R.style("fill",function(e,t){return e.color||l(e,e.seriesIndex)}).style("stroke",function(e,t){return e.color||l(e,e.seriesIndex)}),R.watchTransition(E,"stackedArea path").attr("d",function(e,t){return M(e.values,t)}),h.dispatch.on("elementMouseover.area",function(e){x.select(".nv-chart-"+s+" .nv-area-"+e.seriesIndex).classed("hover",!0)}),h.dispatch.on("elementMouseout.area",function(e){x.select(".nv-chart-"+s+" .nv-area-"+e.seriesIndex).classed("hover",!1)}),e.d3_stackedOffset_stackPercent=function(e){var t,n,r,i=e.length,o=e[0].length,a=[];for(n=0;n<o;++n){for(t=0,r=0;t<_.length;t++)r+=d(_[t].values[n]);if(r)for(t=0;t<i;t++)e[t][n][1]/=r;else for(t=0;t<i;t++)e[t][n][1]=0}for(n=0;n<o;++n)a[n]=0;return a}}),E.renderEnd("stackedArea immediate"),e}var n,r,i={top:0,right:0,bottom:0,left:0},o=960,a=500,l=t.utils.defaultColor(),s=Math.floor(1e5*Math.random()),c=null,u=function(e){return e.x},d=function(e){return e.y},f="stack",m="zero",p="default",g="linear",v=!1,h=t.models.scatter(),b=250,y=d3.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout");h.pointSize(2.2).pointDomain([2.2,2.2]);var E=t.utils.renderWatch(y,b);return e.dispatch=y,e.scatter=h,h.dispatch.on("elementClick",function(){y.elementClick.apply(this,arguments)}),h.dispatch.on("elementMouseover",function(){y.elementMouseover.apply(this,arguments)}),h.dispatch.on("elementMouseout",function(){y.elementMouseout.apply(this,arguments)}),e.interpolate=function(t){return arguments.length?(g=t,e):g},e.duration=function(t){return arguments.length?(b=t,E.reset(b),h.duration(b),e):b},e.dispatch=y,e.scatter=h,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return o},set:function(e){o=e}},height:{get:function(){return a},set:function(e){a=e}},clipEdge:{get:function(){return v},set:function(e){v=e}},offset:{get:function(){return m},set:function(e){m=e}},order:{get:function(){return p},set:function(e){p=e}},interpolate:{get:function(){return g},set:function(e){g=e}},x:{get:function(){return u},set:function(e){u=d3.functor(e)}},y:{get:function(){return d},set:function(e){d=d3.functor(e)}},margin:{get:function(){return i},set:function(e){i.top=void 0!==e.top?e.top:i.top,i.right=void 0!==e.right?e.right:i.right,i.bottom=void 0!==e.bottom?e.bottom:i.bottom,i.left=void 0!==e.left?e.left:i.left}},color:{get:function(){return l},set:function(e){l=t.utils.getColor(e)}},style:{get:function(){return f},set:function(t){switch(f=t){case"stack":e.offset("zero"),e.order("default");break;case"stream":e.offset("wiggle"),e.order("inside-out");break;case"stream-center":e.offset("silhouette"),e.order("inside-out");break;case"expand":e.offset("expand"),e.order("default");break;case"stack_percent":e.offset(e.d3_stackedOffset_stackPercent),e.order("default")}}},duration:{get:function(){return b},set:function(e){b=e,E.reset(b),h.duration(b)}}}),t.utils.inheritOptions(e,h),t.utils.initOptions(e),e},t.models.stackedAreaChart=function(){"use strict";function e(u){return O.reset(),O.models(i),h&&O.models(o),b&&O.models(a),u.each(function(u){var w=d3.select(this),O=this;t.utils.initSVG(w);var k=t.utils.availableWidth(f,w,d),G=t.utils.availableHeight(m,w,d);if(e.update=function(){w.transition().duration(x).call(e)},e.container=this,S.setter(L(u),e.update).getter(N(u)).update(),S.disabled=u.map(function(e){return!!e.disabled}),!_){var F;_={};for(F in S)S[F]instanceof Array?_[F]=S[F].slice(0):_[F]=S[F]}if(!(u&&u.length&&u.filter(function(e){return e.values.length}).length))return t.utils.noData(e,w),e;w.selectAll(".nv-noData").remove(),n=i.xScale(),r=i.yScale();var U=w.selectAll("g.nv-wrap.nv-stackedAreaChart").data([u]),V=U.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),B=U.select("g");if(V.append("rect").style("opacity",0),V.append("g").attr("class","nv-x nv-axis"),V.append("g").attr("class","nv-y nv-axis"),V.append("g").attr("class","nv-stackedWrap"),V.append("g").attr("class","nv-legendWrap"),V.append("g").attr("class","nv-controlsWrap"),V.append("g").attr("class","nv-interactive"),B.select("rect").attr("width",k).attr("height",G),v){var z=g?k-T:k;l.width(z),B.select(".nv-legendWrap").datum(u).call(l),d.top!=l.height()&&(d.top=l.height(),G=t.utils.availableHeight(m,w,d)),B.select(".nv-legendWrap").attr("transform","translate("+(k-z)+","+-d.top+")")}if(g){var $=[{key:C.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=i.style(),style:"stack"},{key:C.stream||"Stream",metaKey:"Stream",disabled:"stream"!=i.style(),style:"stream"},{key:C.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=i.style(),style:"expand"},{key:C.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=i.style(),style:"stack_percent"}];T=I.length/3*260,$=$.filter(function(e){return I.indexOf(e.metaKey)!==-1}),s.width(T).color(["#444","#444","#444"]),B.select(".nv-controlsWrap").datum($).call(s),d.top!=Math.max(s.height(),l.height())&&(d.top=Math.max(s.height(),l.height()),G=t.utils.availableHeight(m,w,d)),B.select(".nv-controlsWrap").attr("transform","translate(0,"+-d.top+")")}U.attr("transform","translate("+d.left+","+d.top+")"),y&&B.select(".nv-y.nv-axis").attr("transform","translate("+k+",0)"),E&&(c.width(k).height(G).margin({left:d.left,top:d.top}).svgContainer(w).xScale(n),U.select(".nv-interactive").call(c)),i.width(k).height(G);var W=B.select(".nv-stackedWrap").datum(u);if(W.transition().call(i),h&&(o.scale(n)._ticks(t.utils.calcTicksX(k/100,u)).tickSize(-G,0),B.select(".nv-x.nv-axis").attr("transform","translate(0,"+G+")"),B.select(".nv-x.nv-axis").transition().duration(0).call(o)),b){var H;if(H="wiggle"===i.offset()?0:t.utils.calcTicksY(G/36,u),a.scale(r)._ticks(H).tickSize(-k,0),"expand"===i.style()||"stack_percent"===i.style()){var j=a.tickFormat();D&&j===P||(D=j),a.tickFormat(P)}else D&&(a.tickFormat(D),D=null);B.select(".nv-y.nv-axis").transition().duration(0).call(a)}i.dispatch.on("areaClick.toggle",function(t){1===u.filter(function(e){return!e.disabled}).length?u.forEach(function(e){e.disabled=!1}):u.forEach(function(e,n){e.disabled=n!=t.seriesIndex}),S.disabled=u.map(function(e){return!!e.disabled}),A.stateChange(S),e.update()}),l.dispatch.on("stateChange",function(t){for(var n in t)S[n]=t[n];A.stateChange(S),e.update()}),s.dispatch.on("legendClick",function(t,n){t.disabled&&($=$.map(function(e){return e.disabled=!0,e}),t.disabled=!1,i.style(t.style),S.style=i.style(),A.stateChange(S),e.update())}),c.dispatch.on("elementMousemove",function(n){i.clearHighlights();var r,a,l,s=[];if(u.filter(function(e,t){return e.seriesIndex=t,!e.disabled}).forEach(function(o,c){a=t.interactiveBisect(o.values,n.pointXValue,e.x());var u=o.values[a],d=e.y()(u,a);if(null!=d&&i.highlightPoint(c,a,!0),"undefined"!=typeof u){"undefined"==typeof r&&(r=u),"undefined"==typeof l&&(l=e.xScale()(e.x()(u,a)));var f="expand"==i.style()?u.display.y:e.y()(u,a);s.push({key:o.key,value:f,color:p(o,o.seriesIndex),stackedValue:u.display})}}),s.reverse(),s.length>2){var f=e.yScale().invert(n.mouseY),m=null;s.forEach(function(e,t){f=Math.abs(f);var n=Math.abs(e.stackedValue.y0),r=Math.abs(e.stackedValue.y);if(f>=n&&f<=r+n)return void(m=t)}),null!=m&&(s[m].highlight=!0)}var g=o.tickFormat()(e.x()(r,a)),v=c.tooltip.valueFormatter();"expand"===i.style()||"stack_percent"===i.style()?(M||(M=v),v=d3.format(".1%")):M&&(v=M,M=null),c.tooltip.position({left:l+d.left,top:n.mouseY+d.top}).chartContainer(O.parentNode).valueFormatter(v).data({value:g,series:s})(),c.renderGuideLine(l)}),c.dispatch.on("elementMouseout",function(e){i.clearHighlights()}),A.on("changeState",function(t){"undefined"!=typeof t.disabled&&u.length===t.disabled.length&&(u.forEach(function(e,n){e.disabled=t.disabled[n]}),S.disabled=t.disabled),"undefined"!=typeof t.style&&(i.style(t.style),R=t.style),e.update()})}),O.renderEnd("stacked Area chart immediate"),e}var n,r,i=t.models.stackedArea(),o=t.models.axis(),a=t.models.axis(),l=t.models.legend(),s=t.models.legend(),c=t.interactiveGuideline(),u=t.models.tooltip(),d={top:30,right:25,bottom:50,left:60},f=null,m=null,p=t.utils.defaultColor(),g=!0,v=!0,h=!0,b=!0,y=!1,E=!1,S=t.utils.state(),_=null,w=null,A=d3.dispatch("stateChange","changeState","renderEnd"),T=250,I=["Stacked","Stream","Expanded"],C={},x=250;S.style=i.style(),o.orient("bottom").tickPadding(7),a.orient(y?"right":"left"),u.headerFormatter(function(e,t){return o.tickFormat()(e,t)}).valueFormatter(function(e,t){return a.tickFormat()(e,t)}),c.tooltip.headerFormatter(function(e,t){return o.tickFormat()(e,t)}).valueFormatter(function(e,t){return a.tickFormat()(e,t)});var D=null,M=null;s.updateState(!1);var O=t.utils.renderWatch(A),R=i.style(),N=function(e){return function(){return{active:e.map(function(e){return!e.disabled}),style:i.style()}}},L=function(e){return function(t){void 0!==t.style&&(R=t.style),void 0!==t.active&&e.forEach(function(e,n){e.disabled=!t.active[n]})}},P=d3.format("%");return i.dispatch.on("elementMouseover.tooltip",function(e){e.point.x=i.x()(e.point),e.point.y=i.y()(e.point),u.data(e).position(e.pos).hidden(!1)}),i.dispatch.on("elementMouseout.tooltip",function(e){u.hidden(!0)}),e.dispatch=A,e.stacked=i,e.legend=l,e.controls=s,e.xAxis=o,e.yAxis=a,e.interactiveLayer=c,e.tooltip=u,e.dispatch=A,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return f},set:function(e){f=e}},height:{get:function(){return m},set:function(e){m=e}},showLegend:{get:function(){return v},set:function(e){v=e}},showXAxis:{get:function(){return h},set:function(e){h=e}},showYAxis:{get:function(){return b},set:function(e){b=e}},defaultState:{get:function(){return _},set:function(e){_=e}},noData:{get:function(){return w},set:function(e){w=e}},showControls:{get:function(){return g},set:function(e){g=e}},controlLabels:{get:function(){return C},set:function(e){C=e}},controlOptions:{get:function(){return I},set:function(e){I=e}},tooltips:{get:function(){return u.enabled()},set:function(e){t.deprecated("tooltips","use chart.tooltip.enabled() instead"),u.enabled(!!e)}},tooltipContent:{get:function(){return u.contentGenerator()},set:function(e){t.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),u.contentGenerator(e)}},margin:{get:function(){return d},set:function(e){d.top=void 0!==e.top?e.top:d.top,d.right=void 0!==e.right?e.right:d.right,d.bottom=void 0!==e.bottom?e.bottom:d.bottom,d.left=void 0!==e.left?e.left:d.left}},duration:{get:function(){return x},set:function(e){x=e,O.reset(x),i.duration(x),o.duration(x),a.duration(x)}},color:{get:function(){return p},set:function(e){p=t.utils.getColor(e),l.color(p),i.color(p)}},rightAlignYAxis:{get:function(){return y},set:function(e){y=e,a.orient(y?"right":"left")}},useInteractiveGuideline:{get:function(){return E},set:function(t){E=!!t,e.interactive(!t),e.useVoronoi(!t),i.scatter.interactive(!t)}}}),t.utils.inheritOptions(e,i),t.utils.initOptions(e),e},t.models.sunburst=function(){"use strict";function e(E){return y.reset(),E.each(function(e){function y(e){e.x0=e.x,e.dx0=e.dx}function E(e){var t=d3.interpolate(g.domain(),[e.x,e.x+e.dx]),n=d3.interpolate(v.domain(),[e.y,1]),r=d3.interpolate(v.range(),[e.y?20:0,A]);return function(e,i){return i?function(t){return b(e)}:function(i){return g.domain(t(i)),v.domain(n(i)).range(r(i)),b(e)}}}d=d3.select(this);var S,_=t.utils.availableWidth(a,d,o),w=t.utils.availableHeight(l,d,o),A=Math.min(_,w)/2;t.utils.initSVG(d);var T=d.selectAll(".nv-wrap.nv-sunburst").data(e),I=T.enter().append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+u),C=I.selectAll("nv-sunburst");T.attr("transform","translate("+_/2+","+w/2+")"),d.on("click",function(e,t){p.chartClick({data:e,index:t,pos:d3.event,id:u})}),v.range([0,A]),n=n||e,i=e[0],h.value(c[s]||c.count),S=C.data(h.nodes).enter().append("path").attr("d",b).style("fill",function(e){return f((e.children?e:e.parent).name)}).style("stroke","#FFF").on("click",function(e){r!==n&&n!==e&&(r=n),n=e,S.transition().duration(m).attrTween("d",E(e));
}).each(y).on("dblclick",function(e){r.parent==e&&S.transition().duration(m).attrTween("d",E(i))}).each(y).on("mouseover",function(e,t){d3.select(this).classed("hover",!0).style("opacity",.8),p.elementMouseover({data:e,color:d3.select(this).style("fill")})}).on("mouseout",function(e,t){d3.select(this).classed("hover",!1).style("opacity",1),p.elementMouseout({data:e})}).on("mousemove",function(e,t){p.elementMousemove({data:e})})}),y.renderEnd("sunburst immediate"),e}var n,r,i,o={top:0,right:0,bottom:0,left:0},a=null,l=null,s="count",c={count:function(e){return 1},size:function(e){return e.size}},u=Math.floor(1e4*Math.random()),d=null,f=t.utils.defaultColor(),m=500,p=d3.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),g=d3.scale.linear().range([0,2*Math.PI]),v=d3.scale.sqrt(),h=d3.layout.partition().sort(null).value(function(e){return 1}),b=d3.svg.arc().startAngle(function(e){return Math.max(0,Math.min(2*Math.PI,g(e.x)))}).endAngle(function(e){return Math.max(0,Math.min(2*Math.PI,g(e.x+e.dx)))}).innerRadius(function(e){return Math.max(0,v(e.y))}).outerRadius(function(e){return Math.max(0,v(e.y+e.dy))}),y=t.utils.renderWatch(p);return e.dispatch=p,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return a},set:function(e){a=e}},height:{get:function(){return l},set:function(e){l=e}},mode:{get:function(){return s},set:function(e){s=e}},id:{get:function(){return u},set:function(e){u=e}},duration:{get:function(){return m},set:function(e){m=e}},margin:{get:function(){return o},set:function(e){o.top=void 0!=e.top?e.top:o.top,o.right=void 0!=e.right?e.right:o.right,o.bottom=void 0!=e.bottom?e.bottom:o.bottom,o.left=void 0!=e.left?e.left:o.left}},color:{get:function(){return f},set:function(e){f=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.sunburstChart=function(){"use strict";function e(r){return f.reset(),f.models(n),r.each(function(r){var l=d3.select(this);t.utils.initSVG(l);var s=t.utils.availableWidth(o,l,i),c=t.utils.availableHeight(a,l,i);if(e.update=function(){0===u?l.call(e):l.transition().duration(u).call(e)},e.container=this,!r||!r.length)return t.utils.noData(e,l),e;l.selectAll(".nv-noData").remove();var d=l.selectAll("g.nv-wrap.nv-sunburstChart").data(r),f=d.enter().append("g").attr("class","nvd3 nv-wrap nv-sunburstChart").append("g"),m=d.select("g");f.append("g").attr("class","nv-sunburstWrap"),d.attr("transform","translate("+i.left+","+i.top+")"),n.width(s).height(c);var p=m.select(".nv-sunburstWrap").datum(r);d3.transition(p).call(n)}),f.renderEnd("sunburstChart immediate"),e}var n=t.models.sunburst(),r=t.models.tooltip(),i={top:30,right:20,bottom:20,left:20},o=null,a=null,l=t.utils.defaultColor(),s=(Math.round(1e5*Math.random()),null),c=null,u=250,d=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),f=t.utils.renderWatch(d);return r.headerEnabled(!1).duration(0).valueFormatter(function(e,t){return e}),n.dispatch.on("elementMouseover.tooltip",function(e){e.series={key:e.data.name,value:e.data.size,color:e.color},r.data(e).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(e){r.hidden(!0)}),n.dispatch.on("elementMousemove.tooltip",function(e){r.position({top:d3.event.pageY,left:d3.event.pageX})()}),e.dispatch=d,e.sunburst=n,e.tooltip=r,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{noData:{get:function(){return c},set:function(e){c=e}},defaultState:{get:function(){return s},set:function(e){s=e}},color:{get:function(){return l},set:function(e){l=e,n.color(l)}},duration:{get:function(){return u},set:function(e){u=e,f.reset(u),n.duration(u)}},margin:{get:function(){return i},set:function(e){i.top=void 0!==e.top?e.top:i.top,i.right=void 0!==e.right?e.right:i.right,i.bottom=void 0!==e.bottom?e.bottom:i.bottom,i.left=void 0!==e.left?e.left:i.left}}}),t.utils.inheritOptions(e,n),t.utils.initOptions(e),e},t.version="1.8.1"}()},function(e,t,n){var r=n(685);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(686);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(687);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(688);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(689);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(690);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(691);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(692);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},,,,function(e,t,n){var r=n(697);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(698);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(699);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(700);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(701);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(702);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(703);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},function(module,exports,__webpack_require__){var _=__webpack_require__(322);module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<!-- Copyright (c) 2015-2016, NVIDIA CORPORATION.  All rights reserved.\r\n\r\n * NVIDIA CORPORATION and its licensors retain all intellectual property\r\n * and proprietary rights in and to this software, related documentation\r\n * and any modifications thereto.  Any use, reproduction, disclosure or\r\n * distribution of this software and related documentation without an express\r\n * license agreement from NVIDIA CORPORATION is strictly prohibited.\r\n-->\r\n\r\n<h3 class="nv-annotation-title font-size-sm md-accent foreground"><span>'+(null==(__t=title)?"":__t)+'</span></h3>\r\n<p class="nv-annotation-description font-size-xxs">'+(null==(__t=description)?"":__t)+"</p>";return __p}},function(e,t,n){e.exports=n(2)(210)},function(e,t,n){e.exports=n(2)(224)},function(e,t,n){e.exports=n(2)(229)},function(e,t,n){e.exports=n(2)(234)},function(e,t,n){e.exports=n(2)(267)},function(e,t,n){e.exports=n(2)(292)},function(e,t,n){e.exports=n(2)(336)},function(e,t,n){e.exports=n(2)(371)},function(e,t,n){e.exports=n(2)(376)},function(e,t,n){e.exports=n(2)(388)},function(e,t,n){e.exports=n(2)(391)},function(e,t,n){e.exports=n(2)(394)},function(e,t,n){e.exports=n(2)(397)},function(e,t,n){e.exports=n(2)(399)},function(e,t,n){e.exports=n(2)(419)}]);
//# sourceMappingURL=app.js.map